(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-vendors"],{"0209":function(t,e){t.exports=function(t){var e={className:"keyword",begin:"\\b[a-z\\d_]*_t\\b"},i="\\\\(x[0-9A-Fa-f]{2}|u[0-9A-Fa-f]{4,8}|[0-7]{3}|\\S)",n={className:"string",variants:[{begin:'(u8?|U|L)?"',end:'"',illegal:"\\n",contains:[t.BACKSLASH_ESCAPE]},{begin:"(u8?|U|L)?'("+i+"|.)",end:"'",illegal:"."},{begin:/(?:u8?|U|L)?R"([^()\\ ]{0,16})\((?:.|\n)*?\)\1"/}]},o={className:"number",variants:[{begin:"\\b(0b[01']+)"},{begin:"(-?)\\b([\\d']+(\\.[\\d']*)?|\\.[\\d']+)(u|U|l|L|ul|UL|f|F|b|B)"},{begin:"(-?)(\\b0[xX][a-fA-F0-9']+|(\\b[\\d']+(\\.[\\d']*)?|\\.[\\d']+)([eE][-+]?[\\d']+)?)"}],relevance:0},s={className:"meta",begin:/#\s*[a-z]+\b/,end:/$/,keywords:{"meta-keyword":"if else elif endif define undef warning error line pragma ifdef ifndef include"},contains:[{begin:/\\\n/,relevance:0},t.inherit(n,{className:"meta-string"}),{className:"meta-string",begin:/<[^\n>]*>/,end:/$/,illegal:"\\n"},t.C_LINE_COMMENT_MODE,t.C_BLOCK_COMMENT_MODE]},r=t.IDENT_RE+"\\s*\\(",a={keyword:"int float while private char catch import module export virtual operator sizeof dynamic_cast|10 typedef const_cast|10 const for static_cast|10 union namespace unsigned long volatile static protected bool template mutable if public friend do goto auto void enum else break extern using asm case typeid short reinterpret_cast|10 default double register explicit signed typename try this switch continue inline delete alignof constexpr consteval constinit decltype concept co_await co_return co_yield requires noexcept static_assert thread_local restrict _Bool complex _Complex _Imaginary atomic_bool atomic_char atomic_schar atomic_uchar atomic_short atomic_ushort atomic_int atomic_uint atomic_long atomic_ulong atomic_llong atomic_ullong new throw return and or not",built_in:"std string wstring cin cout cerr clog stdin stdout stderr stringstream istringstream ostringstream auto_ptr deque list queue stack vector map set bitset multiset multimap unordered_set unordered_map unordered_multiset unordered_multimap array shared_ptr abort abs acos asin atan2 atan calloc ceil cosh cos exit exp fabs floor fmod fprintf fputs free frexp fscanf future isalnum isalpha iscntrl isdigit isgraph islower isprint ispunct isspace isupper isxdigit tolower toupper labs ldexp log10 log malloc realloc memchr memcmp memcpy memset modf pow printf putchar puts scanf sinh sin snprintf sprintf sqrt sscanf strcat strchr strcmp strcpy strcspn strlen strncat strncmp strncpy strpbrk strrchr strspn strstr tanh tan vfprintf vprintf vsprintf endl initializer_list unique_ptr",literal:"true false nullptr NULL"},l=[e,t.C_LINE_COMMENT_MODE,t.C_BLOCK_COMMENT_MODE,o,n];return{aliases:["c","cc","h","c++","h++","hpp","hh","hxx","cxx"],keywords:a,illegal:"</",contains:l.concat([s,{begin:"\\b(deque|list|queue|stack|vector|map|set|bitset|multiset|multimap|unordered_map|unordered_set|unordered_multiset|unordered_multimap|array)\\s*<",end:">",keywords:a,contains:["self",e]},{begin:t.IDENT_RE+"::",keywords:a},{variants:[{begin:/=/,end:/;/},{begin:/\(/,end:/\)/},{beginKeywords:"new throw return else",end:/;/}],keywords:a,contains:l.concat([{begin:/\(/,end:/\)/,keywords:a,contains:l.concat(["self"]),relevance:0}]),relevance:0},{className:"function",begin:"("+t.IDENT_RE+"[\\*&\\s]+)+"+r,returnBegin:!0,end:/[{;=]/,excludeEnd:!0,keywords:a,illegal:/[^\w\s\*&]/,contains:[{begin:r,returnBegin:!0,contains:[t.TITLE_MODE],relevance:0},{className:"params",begin:/\(/,end:/\)/,keywords:a,relevance:0,contains:[t.C_LINE_COMMENT_MODE,t.C_BLOCK_COMMENT_MODE,n,o,e,{begin:/\(/,end:/\)/,keywords:a,relevance:0,contains:["self",t.C_LINE_COMMENT_MODE,t.C_BLOCK_COMMENT_MODE,n,o,e]}]},t.C_LINE_COMMENT_MODE,t.C_BLOCK_COMMENT_MODE,s]},{className:"class",beginKeywords:"class struct",end:/[{;:]/,contains:[{begin:/</,end:/>/,contains:["self"]},t.TITLE_MODE]}]),exports:{preprocessor:s,strings:n,keywords:a}}}},"0680":function(t,e,i){
/*!
 * Quasar Framework v1.5.4
 * (c) 2015-present Razvan Stoenescu
 * Released under the MIT License.
 */
!function(e,i){t.exports=i()}(0,(function(){"use strict";return{isoName:"en-gb",nativeName:"English (UK)",label:{clear:"Clear",ok:"OK",cancel:"Cancel",close:"Close",set:"Set",select:"Select",reset:"Reset",remove:"Remove",update:"Update",create:"Create",search:"Search",filter:"Filter",refresh:"Refresh"},date:{days:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),daysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),firstDayOfWeek:1,format24h:!0},table:{noData:"No data available",noResults:"No matching records found",loading:"Loading...",selectedRecords:function(t){return 1===t?"1 record selected.":(0===t?"No":t)+" records selected."},recordsPerPage:"Records per page:",allRows:"All",pagination:function(t,e,i){return t+"-"+e+" of "+i},columns:"Columns"},editor:{url:"URL",bold:"Bold",italic:"Italic",strikethrough:"Strikethrough",underline:"Underline",unorderedList:"Unordered List",orderedList:"Ordered List",subscript:"Subscript",superscript:"Superscript",hyperlink:"Hyperlink",toggleFullscreen:"Toggle Fullscreen",quote:"Quote",left:"Left align",center:"Center align",right:"Right align",justify:"Justify align",print:"Print",outdent:"Decrease indentation",indent:"Increase indentation",removeFormat:"Remove formatting",formatting:"Formatting",fontSize:"Font Size",align:"Align",hr:"Insert Horizontal Rule",undo:"Undo",redo:"Redo",heading1:"Heading 1",heading2:"Heading 2",heading3:"Heading 3",heading4:"Heading 4",heading5:"Heading 5",heading6:"Heading 6",paragraph:"Paragraph",code:"Code",size1:"Very small",size2:"A bit small",size3:"Normal",size4:"Medium-large",size5:"Big",size6:"Very big",size7:"Maximum",defaultFont:"Default Font",viewSource:"View Source"},tree:{noNodes:"No nodes available",noResults:"No matching nodes found"}}}))},"0801":function(t,e,i){var n=i("2366");function o(t){var e=[];return t.replace(/[a-fA-F0-9]{2}/g,(function(t){e.push(parseInt(t,16))})),e}function s(t){t=unescape(encodeURIComponent(t));for(var e=new Array(t.length),i=0;i<t.length;i++)e[i]=t.charCodeAt(i);return e}t.exports=function(t,e,i){var r=function(t,r,a,l){var c=a&&l||0;if("string"==typeof t&&(t=s(t)),"string"==typeof r&&(r=o(r)),!Array.isArray(t))throw TypeError("value must be an array of bytes");if(!Array.isArray(r)||16!==r.length)throw TypeError("namespace must be uuid string or an Array of 16 byte values");var u=i(r.concat(t));if(u[6]=15&u[6]|e,u[8]=63&u[8]|128,a)for(var h=0;h<16;++h)a[c+h]=u[h];return a||n(u)};try{r.name=t}catch(a){}return r.DNS="6ba7b810-9dad-11d1-80b4-00c04fd430c8",r.URL="6ba7b811-9dad-11d1-80b4-00c04fd430c8",r}},"0dbe":function(t,e,i){},"10b2":function(t,e,i){(function(t){t(i("56b3"))})((function(t){var e={pairs:"()[]{}''\"\"",closeBefore:")]}'\":;>",triples:"",explode:"[]{}"},i=t.Pos;function n(t,i){return"pairs"==i&&"string"==typeof t?t:"object"==typeof t&&null!=t[i]?t[i]:e[i]}t.defineOption("autoCloseBrackets",!1,(function(e,i,r){r&&r!=t.Init&&(e.removeKeyMap(o),e.state.closeBrackets=null),i&&(s(n(i,"pairs")),e.state.closeBrackets=i,e.addKeyMap(o))}));var o={Backspace:l,Enter:c};function s(t){for(var e=0;e<t.length;e++){var i=t.charAt(e),n="'"+i+"'";o[n]||(o[n]=r(i))}}function r(t){return function(e){return h(e,t)}}function a(t){var e=t.state.closeBrackets;if(!e||e.override)return e;var i=t.getModeAt(t.getCursor());return i.closeBrackets||e}function l(e){var o=a(e);if(!o||e.getOption("disableInput"))return t.Pass;for(var s=n(o,"pairs"),r=e.listSelections(),l=0;l<r.length;l++){if(!r[l].empty())return t.Pass;var c=d(e,r[l].head);if(!c||s.indexOf(c)%2!=0)return t.Pass}for(l=r.length-1;l>=0;l--){var u=r[l].head;e.replaceRange("",i(u.line,u.ch-1),i(u.line,u.ch+1),"+delete")}}function c(e){var i=a(e),o=i&&n(i,"explode");if(!o||e.getOption("disableInput"))return t.Pass;for(var s=e.listSelections(),r=0;r<s.length;r++){if(!s[r].empty())return t.Pass;var l=d(e,s[r].head);if(!l||o.indexOf(l)%2!=0)return t.Pass}e.operation((function(){var t=e.lineSeparator()||"\n";e.replaceSelection(t+t,null),e.execCommand("goCharLeft"),s=e.listSelections();for(var i=0;i<s.length;i++){var n=s[i].head.line;e.indentLine(n,null,!0),e.indentLine(n+1,null,!0)}}))}function u(e){var n=t.cmpPos(e.anchor,e.head)>0;return{anchor:new i(e.anchor.line,e.anchor.ch+(n?-1:1)),head:new i(e.head.line,e.head.ch+(n?1:-1))}}function h(e,o){var s=a(e);if(!s||e.getOption("disableInput"))return t.Pass;var r=n(s,"pairs"),l=r.indexOf(o);if(-1==l)return t.Pass;for(var c,h=n(s,"closeBefore"),d=n(s,"triples"),_=r.charAt(l+1)==o,g=e.listSelections(),f=l%2==0,m=0;m<g.length;m++){var v,b=g[m],y=b.head,T=e.getRange(y,i(y.line,y.ch+1));if(f&&!b.empty())v="surround";else if(!_&&f||T!=o)if(_&&y.ch>1&&d.indexOf(o)>=0&&e.getRange(i(y.line,y.ch-2),y)==o+o){if(y.ch>2&&/\bstring/.test(e.getTokenTypeAt(i(y.line,y.ch-2))))return t.Pass;v="addFour"}else if(_){var E=0==y.ch?" ":e.getRange(i(y.line,y.ch-1),y);if(t.isWordChar(T)||E==o||t.isWordChar(E))return t.Pass;v="both"}else{if(!f||!(0===T.length||/\s/.test(T)||h.indexOf(T)>-1))return t.Pass;v="both"}else v=_&&p(e,y)?"both":d.indexOf(o)>=0&&e.getRange(y,i(y.line,y.ch+3))==o+o+o?"skipThree":"skip";if(c){if(c!=v)return t.Pass}else c=v}var S=l%2?r.charAt(l-1):o,C=l%2?o:r.charAt(l+1);e.operation((function(){if("skip"==c)e.execCommand("goCharRight");else if("skipThree"==c)for(var t=0;t<3;t++)e.execCommand("goCharRight");else if("surround"==c){var i=e.getSelections();for(t=0;t<i.length;t++)i[t]=S+i[t]+C;e.replaceSelections(i,"around"),i=e.listSelections().slice();for(t=0;t<i.length;t++)i[t]=u(i[t]);e.setSelections(i)}else"both"==c?(e.replaceSelection(S+C,null),e.triggerElectric(S+C),e.execCommand("goCharLeft")):"addFour"==c&&(e.replaceSelection(S+S+S+S,"before"),e.execCommand("goCharRight"))}))}function d(t,e){var n=t.getRange(i(e.line,e.ch-1),i(e.line,e.ch+1));return 2==n.length?n:null}function p(t,e){var n=t.getTokenAt(i(e.line,e.ch+1));return/\bstring/.test(n.type)&&n.start==e.ch&&(0==e.ch||!/\bstring/.test(t.getTokenTypeAt(e)))}s(e.pairs+"`")}))},"1ad7":function(t,e,i){},"1dba":function(t,e,i){},2366:function(t,e){for(var i=[],n=0;n<256;++n)i[n]=(n+256).toString(16).substr(1);function o(t,e){var n=e||0,o=i;return[o[t[n++]],o[t[n++]],o[t[n++]],o[t[n++]],"-",o[t[n++]],o[t[n++]],"-",o[t[n++]],o[t[n++]],"-",o[t[n++]],o[t[n++]],"-",o[t[n++]],o[t[n++]],o[t[n++]],o[t[n++]],o[t[n++]],o[t[n++]]].join("")}t.exports=o},"26bc":function(t,e){t.exports=function(t){var e="([a-zA-Z]|\\.[a-zA-Z.])[a-zA-Z0-9._]*";return{contains:[t.HASH_COMMENT_MODE,{begin:e,lexemes:e,keywords:{keyword:"function if in break next repeat else for return switch while try tryCatch stop warning require library attach detach source setMethod setGeneric setGroupGeneric setClass ...",literal:"NULL NA TRUE FALSE T F Inf NaN NA_integer_|10 NA_real_|10 NA_character_|10 NA_complex_|10"},relevance:0},{className:"number",begin:"0[xX][0-9a-fA-F]+[Li]?\\b",relevance:0},{className:"number",begin:"\\d+(?:[eE][+\\-]?\\d*)?L\\b",relevance:0},{className:"number",begin:"\\d+\\.(?!\\d)(?:i\\b)?",relevance:0},{className:"number",begin:"\\d+(?:\\.\\d*)?(?:[eE][+\\-]?\\d*)?i?\\b",relevance:0},{className:"number",begin:"\\.\\d+(?:[eE][+\\-]?\\d*)?i?\\b",relevance:0},{begin:"`",end:"`",relevance:0},{className:"string",contains:[t.BACKSLASH_ESCAPE],variants:[{begin:'"',end:'"'},{begin:"'",end:"'"}]}]}}},2877:function(t,e,i){"use strict";function n(t,e,i,n,o,s,r,a){var l,c="function"===typeof t?t.options:t;if(e&&(c.render=e,c.staticRenderFns=i,c._compiled=!0),n&&(c.functional=!0),s&&(c._scopeId="data-v-"+s),r?(l=function(t){t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,t||"undefined"===typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),o&&o.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(r)},c._ssrRegister=l):o&&(l=a?function(){o.call(this,this.$root.$options.shadowRoot)}:o),l)if(c.functional){c._injectStyles=l;var u=c.render;c.render=function(t,e){return l.call(e),u(t,e)}}else{var h=c.beforeCreate;c.beforeCreate=h?[].concat(h,l):[l]}return{exports:t,options:c}}i.d(e,"a",(function(){return n}))},2907:function(t,e){t.exports=function(t){var e={begin:"\\$+[a-zA-Z_-ÿ][a-zA-Z0-9_-ÿ]*"},i={className:"meta",begin:/<\?(php)?|\?>/},n={className:"string",contains:[t.BACKSLASH_ESCAPE,i],variants:[{begin:'b"',end:'"'},{begin:"b'",end:"'"},t.inherit(t.APOS_STRING_MODE,{illegal:null}),t.inherit(t.QUOTE_STRING_MODE,{illegal:null})]},o={variants:[t.BINARY_NUMBER_MODE,t.C_NUMBER_MODE]};return{aliases:["php","php3","php4","php5","php6","php7"],case_insensitive:!0,keywords:"and include_once list abstract global private echo interface as static endswitch array null if endwhile or const for endforeach self var while isset public protected exit foreach throw elseif include __FILE__ empty require_once do xor return parent clone use __CLASS__ __LINE__ else break print eval new catch __METHOD__ case exception default die require __FUNCTION__ enddeclare final try switch continue endfor endif declare unset true false trait goto instanceof insteadof __DIR__ __NAMESPACE__ yield finally",contains:[t.HASH_COMMENT_MODE,t.COMMENT("//","$",{contains:[i]}),t.COMMENT("/\\*","\\*/",{contains:[{className:"doctag",begin:"@[A-Za-z]+"}]}),t.COMMENT("__halt_compiler.+?;",!1,{endsWithParent:!0,keywords:"__halt_compiler",lexemes:t.UNDERSCORE_IDENT_RE}),{className:"string",begin:/<<<['"]?\w+['"]?$/,end:/^\w+;?$/,contains:[t.BACKSLASH_ESCAPE,{className:"subst",variants:[{begin:/\$\w+/},{begin:/\{\$/,end:/\}/}]}]},i,{className:"keyword",begin:/\$this\b/},e,{begin:/(::|->)+[a-zA-Z_\x7f-\xff][a-zA-Z0-9_\x7f-\xff]*/},{className:"function",beginKeywords:"function",end:/[;{]/,excludeEnd:!0,illegal:"\\$|\\[|%",contains:[t.UNDERSCORE_TITLE_MODE,{className:"params",begin:"\\(",end:"\\)",contains:["self",e,t.C_BLOCK_COMMENT_MODE,n,o]}]},{className:"class",beginKeywords:"class interface",end:"{",excludeEnd:!0,illegal:/[:\(\$"]/,contains:[{beginKeywords:"extends implements"},t.UNDERSCORE_TITLE_MODE]},{beginKeywords:"namespace",end:";",illegal:/[\.']/,contains:[t.UNDERSCORE_TITLE_MODE]},{beginKeywords:"use",end:";",contains:[t.UNDERSCORE_TITLE_MODE]},{begin:"=>"},n,o]}}},"2b0e":function(t,e,i){"use strict";(function(t){
/*!
 * Vue.js v2.6.10
 * (c) 2014-2019 Evan You
 * Released under the MIT License.
 */
var i=Object.freeze({});function n(t){return void 0===t||null===t}function o(t){return void 0!==t&&null!==t}function s(t){return!0===t}function r(t){return!1===t}function a(t){return"string"===typeof t||"number"===typeof t||"symbol"===typeof t||"boolean"===typeof t}function l(t){return null!==t&&"object"===typeof t}var c=Object.prototype.toString;function u(t){return"[object Object]"===c.call(t)}function h(t){return"[object RegExp]"===c.call(t)}function d(t){var e=parseFloat(String(t));return e>=0&&Math.floor(e)===e&&isFinite(t)}function p(t){return o(t)&&"function"===typeof t.then&&"function"===typeof t.catch}function _(t){return null==t?"":Array.isArray(t)||u(t)&&t.toString===c?JSON.stringify(t,null,2):String(t)}function g(t){var e=parseFloat(t);return isNaN(e)?t:e}function f(t,e){for(var i=Object.create(null),n=t.split(","),o=0;o<n.length;o++)i[n[o]]=!0;return e?function(t){return i[t.toLowerCase()]}:function(t){return i[t]}}f("slot,component",!0);var m=f("key,ref,slot,slot-scope,is");function v(t,e){if(t.length){var i=t.indexOf(e);if(i>-1)return t.splice(i,1)}}var b=Object.prototype.hasOwnProperty;function y(t,e){return b.call(t,e)}function T(t){var e=Object.create(null);return function(i){var n=e[i];return n||(e[i]=t(i))}}var E=/-(\w)/g,S=T((function(t){return t.replace(E,(function(t,e){return e?e.toUpperCase():""}))})),C=T((function(t){return t.charAt(0).toUpperCase()+t.slice(1)})),k=/\B([A-Z])/g,w=T((function(t){return t.replace(k,"-$1").toLowerCase()}));function R(t,e){function i(i){var n=arguments.length;return n?n>1?t.apply(e,arguments):t.call(e,i):t.call(e)}return i._length=t.length,i}function I(t,e){return t.bind(e)}var x=Function.prototype.bind?I:R;function O(t,e){e=e||0;var i=t.length-e,n=new Array(i);while(i--)n[i]=t[i+e];return n}function A(t,e){for(var i in e)t[i]=e[i];return t}function M(t){for(var e={},i=0;i<t.length;i++)t[i]&&A(e,t[i]);return e}function N(t,e,i){}var L=function(t,e,i){return!1},D=function(t){return t};function B(t,e){if(t===e)return!0;var i=l(t),n=l(e);if(!i||!n)return!i&&!n&&String(t)===String(e);try{var o=Array.isArray(t),s=Array.isArray(e);if(o&&s)return t.length===e.length&&t.every((function(t,i){return B(t,e[i])}));if(t instanceof Date&&e instanceof Date)return t.getTime()===e.getTime();if(o||s)return!1;var r=Object.keys(t),a=Object.keys(e);return r.length===a.length&&r.every((function(i){return B(t[i],e[i])}))}catch(c){return!1}}function P(t,e){for(var i=0;i<t.length;i++)if(B(t[i],e))return i;return-1}function F(t){var e=!1;return function(){e||(e=!0,t.apply(this,arguments))}}var H="data-server-rendered",V=["component","directive","filter"],U=["beforeCreate","created","beforeMount","mounted","beforeUpdate","updated","beforeDestroy","destroyed","activated","deactivated","errorCaptured","serverPrefetch"],W={optionMergeStrategies:Object.create(null),silent:!1,productionTip:!1,devtools:!1,performance:!1,errorHandler:null,warnHandler:null,ignoredElements:[],keyCodes:Object.create(null),isReservedTag:L,isReservedAttr:L,isUnknownElement:L,getTagNamespace:N,parsePlatformTagName:D,mustUseProp:L,async:!0,_lifecycleHooks:U},$=/a-zA-Z\u00B7\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u037D\u037F-\u1FFF\u200C-\u200D\u203F-\u2040\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD/;function G(t){var e=(t+"").charCodeAt(0);return 36===e||95===e}function q(t,e,i,n){Object.defineProperty(t,e,{value:i,enumerable:!!n,writable:!0,configurable:!0})}var z=new RegExp("[^"+$.source+".$_\\d]");function X(t){if(!z.test(t)){var e=t.split(".");return function(t){for(var i=0;i<e.length;i++){if(!t)return;t=t[e[i]]}return t}}}var Y,j="__proto__"in{},K="undefined"!==typeof window,J="undefined"!==typeof WXEnvironment&&!!WXEnvironment.platform,Q=J&&WXEnvironment.platform.toLowerCase(),Z=K&&window.navigator.userAgent.toLowerCase(),tt=Z&&/msie|trident/.test(Z),et=Z&&Z.indexOf("msie 9.0")>0,it=Z&&Z.indexOf("edge/")>0,nt=(Z&&Z.indexOf("android"),Z&&/iphone|ipad|ipod|ios/.test(Z)||"ios"===Q),ot=(Z&&/chrome\/\d+/.test(Z),Z&&/phantomjs/.test(Z),Z&&Z.match(/firefox\/(\d+)/)),st={}.watch,rt=!1;if(K)try{var at={};Object.defineProperty(at,"passive",{get:function(){rt=!0}}),window.addEventListener("test-passive",null,at)}catch(Sr){}var lt=function(){return void 0===Y&&(Y=!K&&!J&&"undefined"!==typeof t&&(t["process"]&&"server"===t["process"].env.VUE_ENV)),Y},ct=K&&window.__VUE_DEVTOOLS_GLOBAL_HOOK__;function ut(t){return"function"===typeof t&&/native code/.test(t.toString())}var ht,dt="undefined"!==typeof Symbol&&ut(Symbol)&&"undefined"!==typeof Reflect&&ut(Reflect.ownKeys);ht="undefined"!==typeof Set&&ut(Set)?Set:function(){function t(){this.set=Object.create(null)}return t.prototype.has=function(t){return!0===this.set[t]},t.prototype.add=function(t){this.set[t]=!0},t.prototype.clear=function(){this.set=Object.create(null)},t}();var pt=N,_t=0,gt=function(){this.id=_t++,this.subs=[]};gt.prototype.addSub=function(t){this.subs.push(t)},gt.prototype.removeSub=function(t){v(this.subs,t)},gt.prototype.depend=function(){gt.target&&gt.target.addDep(this)},gt.prototype.notify=function(){var t=this.subs.slice();for(var e=0,i=t.length;e<i;e++)t[e].update()},gt.target=null;var ft=[];function mt(t){ft.push(t),gt.target=t}function vt(){ft.pop(),gt.target=ft[ft.length-1]}var bt=function(t,e,i,n,o,s,r,a){this.tag=t,this.data=e,this.children=i,this.text=n,this.elm=o,this.ns=void 0,this.context=s,this.fnContext=void 0,this.fnOptions=void 0,this.fnScopeId=void 0,this.key=e&&e.key,this.componentOptions=r,this.componentInstance=void 0,this.parent=void 0,this.raw=!1,this.isStatic=!1,this.isRootInsert=!0,this.isComment=!1,this.isCloned=!1,this.isOnce=!1,this.asyncFactory=a,this.asyncMeta=void 0,this.isAsyncPlaceholder=!1},yt={child:{configurable:!0}};yt.child.get=function(){return this.componentInstance},Object.defineProperties(bt.prototype,yt);var Tt=function(t){void 0===t&&(t="");var e=new bt;return e.text=t,e.isComment=!0,e};function Et(t){return new bt(void 0,void 0,void 0,String(t))}function St(t){var e=new bt(t.tag,t.data,t.children&&t.children.slice(),t.text,t.elm,t.context,t.componentOptions,t.asyncFactory);return e.ns=t.ns,e.isStatic=t.isStatic,e.key=t.key,e.isComment=t.isComment,e.fnContext=t.fnContext,e.fnOptions=t.fnOptions,e.fnScopeId=t.fnScopeId,e.asyncMeta=t.asyncMeta,e.isCloned=!0,e}var Ct=Array.prototype,kt=Object.create(Ct),wt=["push","pop","shift","unshift","splice","sort","reverse"];wt.forEach((function(t){var e=Ct[t];q(kt,t,(function(){var i=[],n=arguments.length;while(n--)i[n]=arguments[n];var o,s=e.apply(this,i),r=this.__ob__;switch(t){case"push":case"unshift":o=i;break;case"splice":o=i.slice(2);break}return o&&r.observeArray(o),r.dep.notify(),s}))}));var Rt=Object.getOwnPropertyNames(kt),It=!0;function xt(t){It=t}var Ot=function(t){this.value=t,this.dep=new gt,this.vmCount=0,q(t,"__ob__",this),Array.isArray(t)?(j?At(t,kt):Mt(t,kt,Rt),this.observeArray(t)):this.walk(t)};function At(t,e){t.__proto__=e}function Mt(t,e,i){for(var n=0,o=i.length;n<o;n++){var s=i[n];q(t,s,e[s])}}function Nt(t,e){var i;if(l(t)&&!(t instanceof bt))return y(t,"__ob__")&&t.__ob__ instanceof Ot?i=t.__ob__:It&&!lt()&&(Array.isArray(t)||u(t))&&Object.isExtensible(t)&&!t._isVue&&(i=new Ot(t)),e&&i&&i.vmCount++,i}function Lt(t,e,i,n,o){var s=new gt,r=Object.getOwnPropertyDescriptor(t,e);if(!r||!1!==r.configurable){var a=r&&r.get,l=r&&r.set;a&&!l||2!==arguments.length||(i=t[e]);var c=!o&&Nt(i);Object.defineProperty(t,e,{enumerable:!0,configurable:!0,get:function(){var e=a?a.call(t):i;return gt.target&&(s.depend(),c&&(c.dep.depend(),Array.isArray(e)&&Pt(e))),e},set:function(e){var n=a?a.call(t):i;e===n||e!==e&&n!==n||a&&!l||(l?l.call(t,e):i=e,c=!o&&Nt(e),s.notify())}})}}function Dt(t,e,i){if(Array.isArray(t)&&d(e))return t.length=Math.max(t.length,e),t.splice(e,1,i),i;if(e in t&&!(e in Object.prototype))return t[e]=i,i;var n=t.__ob__;return t._isVue||n&&n.vmCount?i:n?(Lt(n.value,e,i),n.dep.notify(),i):(t[e]=i,i)}function Bt(t,e){if(Array.isArray(t)&&d(e))t.splice(e,1);else{var i=t.__ob__;t._isVue||i&&i.vmCount||y(t,e)&&(delete t[e],i&&i.dep.notify())}}function Pt(t){for(var e=void 0,i=0,n=t.length;i<n;i++)e=t[i],e&&e.__ob__&&e.__ob__.dep.depend(),Array.isArray(e)&&Pt(e)}Ot.prototype.walk=function(t){for(var e=Object.keys(t),i=0;i<e.length;i++)Lt(t,e[i])},Ot.prototype.observeArray=function(t){for(var e=0,i=t.length;e<i;e++)Nt(t[e])};var Ft=W.optionMergeStrategies;function Ht(t,e){if(!e)return t;for(var i,n,o,s=dt?Reflect.ownKeys(e):Object.keys(e),r=0;r<s.length;r++)i=s[r],"__ob__"!==i&&(n=t[i],o=e[i],y(t,i)?n!==o&&u(n)&&u(o)&&Ht(n,o):Dt(t,i,o));return t}function Vt(t,e,i){return i?function(){var n="function"===typeof e?e.call(i,i):e,o="function"===typeof t?t.call(i,i):t;return n?Ht(n,o):o}:e?t?function(){return Ht("function"===typeof e?e.call(this,this):e,"function"===typeof t?t.call(this,this):t)}:e:t}function Ut(t,e){var i=e?t?t.concat(e):Array.isArray(e)?e:[e]:t;return i?Wt(i):i}function Wt(t){for(var e=[],i=0;i<t.length;i++)-1===e.indexOf(t[i])&&e.push(t[i]);return e}function $t(t,e,i,n){var o=Object.create(t||null);return e?A(o,e):o}Ft.data=function(t,e,i){return i?Vt(t,e,i):e&&"function"!==typeof e?t:Vt(t,e)},U.forEach((function(t){Ft[t]=Ut})),V.forEach((function(t){Ft[t+"s"]=$t})),Ft.watch=function(t,e,i,n){if(t===st&&(t=void 0),e===st&&(e=void 0),!e)return Object.create(t||null);if(!t)return e;var o={};for(var s in A(o,t),e){var r=o[s],a=e[s];r&&!Array.isArray(r)&&(r=[r]),o[s]=r?r.concat(a):Array.isArray(a)?a:[a]}return o},Ft.props=Ft.methods=Ft.inject=Ft.computed=function(t,e,i,n){if(!t)return e;var o=Object.create(null);return A(o,t),e&&A(o,e),o},Ft.provide=Vt;var Gt=function(t,e){return void 0===e?t:e};function qt(t,e){var i=t.props;if(i){var n,o,s,r={};if(Array.isArray(i)){n=i.length;while(n--)o=i[n],"string"===typeof o&&(s=S(o),r[s]={type:null})}else if(u(i))for(var a in i)o=i[a],s=S(a),r[s]=u(o)?o:{type:o};else 0;t.props=r}}function zt(t,e){var i=t.inject;if(i){var n=t.inject={};if(Array.isArray(i))for(var o=0;o<i.length;o++)n[i[o]]={from:i[o]};else if(u(i))for(var s in i){var r=i[s];n[s]=u(r)?A({from:s},r):{from:r}}else 0}}function Xt(t){var e=t.directives;if(e)for(var i in e){var n=e[i];"function"===typeof n&&(e[i]={bind:n,update:n})}}function Yt(t,e,i){if("function"===typeof e&&(e=e.options),qt(e,i),zt(e,i),Xt(e),!e._base&&(e.extends&&(t=Yt(t,e.extends,i)),e.mixins))for(var n=0,o=e.mixins.length;n<o;n++)t=Yt(t,e.mixins[n],i);var s,r={};for(s in t)a(s);for(s in e)y(t,s)||a(s);function a(n){var o=Ft[n]||Gt;r[n]=o(t[n],e[n],i,n)}return r}function jt(t,e,i,n){if("string"===typeof i){var o=t[e];if(y(o,i))return o[i];var s=S(i);if(y(o,s))return o[s];var r=C(s);if(y(o,r))return o[r];var a=o[i]||o[s]||o[r];return a}}function Kt(t,e,i,n){var o=e[t],s=!y(i,t),r=i[t],a=te(Boolean,o.type);if(a>-1)if(s&&!y(o,"default"))r=!1;else if(""===r||r===w(t)){var l=te(String,o.type);(l<0||a<l)&&(r=!0)}if(void 0===r){r=Jt(n,o,t);var c=It;xt(!0),Nt(r),xt(c)}return r}function Jt(t,e,i){if(y(e,"default")){var n=e.default;return t&&t.$options.propsData&&void 0===t.$options.propsData[i]&&void 0!==t._props[i]?t._props[i]:"function"===typeof n&&"Function"!==Qt(e.type)?n.call(t):n}}function Qt(t){var e=t&&t.toString().match(/^\s*function (\w+)/);return e?e[1]:""}function Zt(t,e){return Qt(t)===Qt(e)}function te(t,e){if(!Array.isArray(e))return Zt(e,t)?0:-1;for(var i=0,n=e.length;i<n;i++)if(Zt(e[i],t))return i;return-1}function ee(t,e,i){mt();try{if(e){var n=e;while(n=n.$parent){var o=n.$options.errorCaptured;if(o)for(var s=0;s<o.length;s++)try{var r=!1===o[s].call(n,t,e,i);if(r)return}catch(Sr){ne(Sr,n,"errorCaptured hook")}}}ne(t,e,i)}finally{vt()}}function ie(t,e,i,n,o){var s;try{s=i?t.apply(e,i):t.call(e),s&&!s._isVue&&p(s)&&!s._handled&&(s.catch((function(t){return ee(t,n,o+" (Promise/async)")})),s._handled=!0)}catch(Sr){ee(Sr,n,o)}return s}function ne(t,e,i){if(W.errorHandler)try{return W.errorHandler.call(null,t,e,i)}catch(Sr){Sr!==t&&oe(Sr,null,"config.errorHandler")}oe(t,e,i)}function oe(t,e,i){if(!K&&!J||"undefined"===typeof console)throw t;console.error(t)}var se,re=!1,ae=[],le=!1;function ce(){le=!1;var t=ae.slice(0);ae.length=0;for(var e=0;e<t.length;e++)t[e]()}if("undefined"!==typeof Promise&&ut(Promise)){var ue=Promise.resolve();se=function(){ue.then(ce),nt&&setTimeout(N)},re=!0}else if(tt||"undefined"===typeof MutationObserver||!ut(MutationObserver)&&"[object MutationObserverConstructor]"!==MutationObserver.toString())se="undefined"!==typeof setImmediate&&ut(setImmediate)?function(){setImmediate(ce)}:function(){setTimeout(ce,0)};else{var he=1,de=new MutationObserver(ce),pe=document.createTextNode(String(he));de.observe(pe,{characterData:!0}),se=function(){he=(he+1)%2,pe.data=String(he)},re=!0}function _e(t,e){var i;if(ae.push((function(){if(t)try{t.call(e)}catch(Sr){ee(Sr,e,"nextTick")}else i&&i(e)})),le||(le=!0,se()),!t&&"undefined"!==typeof Promise)return new Promise((function(t){i=t}))}var ge=new ht;function fe(t){me(t,ge),ge.clear()}function me(t,e){var i,n,o=Array.isArray(t);if(!(!o&&!l(t)||Object.isFrozen(t)||t instanceof bt)){if(t.__ob__){var s=t.__ob__.dep.id;if(e.has(s))return;e.add(s)}if(o){i=t.length;while(i--)me(t[i],e)}else{n=Object.keys(t),i=n.length;while(i--)me(t[n[i]],e)}}}var ve=T((function(t){var e="&"===t.charAt(0);t=e?t.slice(1):t;var i="~"===t.charAt(0);t=i?t.slice(1):t;var n="!"===t.charAt(0);return t=n?t.slice(1):t,{name:t,once:i,capture:n,passive:e}}));function be(t,e){function i(){var t=arguments,n=i.fns;if(!Array.isArray(n))return ie(n,null,arguments,e,"v-on handler");for(var o=n.slice(),s=0;s<o.length;s++)ie(o[s],null,t,e,"v-on handler")}return i.fns=t,i}function ye(t,e,i,o,r,a){var l,c,u,h;for(l in t)c=t[l],u=e[l],h=ve(l),n(c)||(n(u)?(n(c.fns)&&(c=t[l]=be(c,a)),s(h.once)&&(c=t[l]=r(h.name,c,h.capture)),i(h.name,c,h.capture,h.passive,h.params)):c!==u&&(u.fns=c,t[l]=u));for(l in e)n(t[l])&&(h=ve(l),o(h.name,e[l],h.capture))}function Te(t,e,i){var r;t instanceof bt&&(t=t.data.hook||(t.data.hook={}));var a=t[e];function l(){i.apply(this,arguments),v(r.fns,l)}n(a)?r=be([l]):o(a.fns)&&s(a.merged)?(r=a,r.fns.push(l)):r=be([a,l]),r.merged=!0,t[e]=r}function Ee(t,e,i){var s=e.options.props;if(!n(s)){var r={},a=t.attrs,l=t.props;if(o(a)||o(l))for(var c in s){var u=w(c);Se(r,l,c,u,!0)||Se(r,a,c,u,!1)}return r}}function Se(t,e,i,n,s){if(o(e)){if(y(e,i))return t[i]=e[i],s||delete e[i],!0;if(y(e,n))return t[i]=e[n],s||delete e[n],!0}return!1}function Ce(t){for(var e=0;e<t.length;e++)if(Array.isArray(t[e]))return Array.prototype.concat.apply([],t);return t}function ke(t){return a(t)?[Et(t)]:Array.isArray(t)?Re(t):void 0}function we(t){return o(t)&&o(t.text)&&r(t.isComment)}function Re(t,e){var i,r,l,c,u=[];for(i=0;i<t.length;i++)r=t[i],n(r)||"boolean"===typeof r||(l=u.length-1,c=u[l],Array.isArray(r)?r.length>0&&(r=Re(r,(e||"")+"_"+i),we(r[0])&&we(c)&&(u[l]=Et(c.text+r[0].text),r.shift()),u.push.apply(u,r)):a(r)?we(c)?u[l]=Et(c.text+r):""!==r&&u.push(Et(r)):we(r)&&we(c)?u[l]=Et(c.text+r.text):(s(t._isVList)&&o(r.tag)&&n(r.key)&&o(e)&&(r.key="__vlist"+e+"_"+i+"__"),u.push(r)));return u}function Ie(t){var e=t.$options.provide;e&&(t._provided="function"===typeof e?e.call(t):e)}function xe(t){var e=Oe(t.$options.inject,t);e&&(xt(!1),Object.keys(e).forEach((function(i){Lt(t,i,e[i])})),xt(!0))}function Oe(t,e){if(t){for(var i=Object.create(null),n=dt?Reflect.ownKeys(t):Object.keys(t),o=0;o<n.length;o++){var s=n[o];if("__ob__"!==s){var r=t[s].from,a=e;while(a){if(a._provided&&y(a._provided,r)){i[s]=a._provided[r];break}a=a.$parent}if(!a)if("default"in t[s]){var l=t[s].default;i[s]="function"===typeof l?l.call(e):l}else 0}}return i}}function Ae(t,e){if(!t||!t.length)return{};for(var i={},n=0,o=t.length;n<o;n++){var s=t[n],r=s.data;if(r&&r.attrs&&r.attrs.slot&&delete r.attrs.slot,s.context!==e&&s.fnContext!==e||!r||null==r.slot)(i.default||(i.default=[])).push(s);else{var a=r.slot,l=i[a]||(i[a]=[]);"template"===s.tag?l.push.apply(l,s.children||[]):l.push(s)}}for(var c in i)i[c].every(Me)&&delete i[c];return i}function Me(t){return t.isComment&&!t.asyncFactory||" "===t.text}function Ne(t,e,n){var o,s=Object.keys(e).length>0,r=t?!!t.$stable:!s,a=t&&t.$key;if(t){if(t._normalized)return t._normalized;if(r&&n&&n!==i&&a===n.$key&&!s&&!n.$hasNormal)return n;for(var l in o={},t)t[l]&&"$"!==l[0]&&(o[l]=Le(e,l,t[l]))}else o={};for(var c in e)c in o||(o[c]=De(e,c));return t&&Object.isExtensible(t)&&(t._normalized=o),q(o,"$stable",r),q(o,"$key",a),q(o,"$hasNormal",s),o}function Le(t,e,i){var n=function(){var t=arguments.length?i.apply(null,arguments):i({});return t=t&&"object"===typeof t&&!Array.isArray(t)?[t]:ke(t),t&&(0===t.length||1===t.length&&t[0].isComment)?void 0:t};return i.proxy&&Object.defineProperty(t,e,{get:n,enumerable:!0,configurable:!0}),n}function De(t,e){return function(){return t[e]}}function Be(t,e){var i,n,s,r,a;if(Array.isArray(t)||"string"===typeof t)for(i=new Array(t.length),n=0,s=t.length;n<s;n++)i[n]=e(t[n],n);else if("number"===typeof t)for(i=new Array(t),n=0;n<t;n++)i[n]=e(n+1,n);else if(l(t))if(dt&&t[Symbol.iterator]){i=[];var c=t[Symbol.iterator](),u=c.next();while(!u.done)i.push(e(u.value,i.length)),u=c.next()}else for(r=Object.keys(t),i=new Array(r.length),n=0,s=r.length;n<s;n++)a=r[n],i[n]=e(t[a],a,n);return o(i)||(i=[]),i._isVList=!0,i}function Pe(t,e,i,n){var o,s=this.$scopedSlots[t];s?(i=i||{},n&&(i=A(A({},n),i)),o=s(i)||e):o=this.$slots[t]||e;var r=i&&i.slot;return r?this.$createElement("template",{slot:r},o):o}function Fe(t){return jt(this.$options,"filters",t,!0)||D}function He(t,e){return Array.isArray(t)?-1===t.indexOf(e):t!==e}function Ve(t,e,i,n,o){var s=W.keyCodes[e]||i;return o&&n&&!W.keyCodes[e]?He(o,n):s?He(s,t):n?w(n)!==e:void 0}function Ue(t,e,i,n,o){if(i)if(l(i)){var s;Array.isArray(i)&&(i=M(i));var r=function(r){if("class"===r||"style"===r||m(r))s=t;else{var a=t.attrs&&t.attrs.type;s=n||W.mustUseProp(e,a,r)?t.domProps||(t.domProps={}):t.attrs||(t.attrs={})}var l=S(r),c=w(r);if(!(l in s)&&!(c in s)&&(s[r]=i[r],o)){var u=t.on||(t.on={});u["update:"+r]=function(t){i[r]=t}}};for(var a in i)r(a)}else;return t}function We(t,e){var i=this._staticTrees||(this._staticTrees=[]),n=i[t];return n&&!e?n:(n=i[t]=this.$options.staticRenderFns[t].call(this._renderProxy,null,this),Ge(n,"__static__"+t,!1),n)}function $e(t,e,i){return Ge(t,"__once__"+e+(i?"_"+i:""),!0),t}function Ge(t,e,i){if(Array.isArray(t))for(var n=0;n<t.length;n++)t[n]&&"string"!==typeof t[n]&&qe(t[n],e+"_"+n,i);else qe(t,e,i)}function qe(t,e,i){t.isStatic=!0,t.key=e,t.isOnce=i}function ze(t,e){if(e)if(u(e)){var i=t.on=t.on?A({},t.on):{};for(var n in e){var o=i[n],s=e[n];i[n]=o?[].concat(o,s):s}}else;return t}function Xe(t,e,i,n){e=e||{$stable:!i};for(var o=0;o<t.length;o++){var s=t[o];Array.isArray(s)?Xe(s,e,i):s&&(s.proxy&&(s.fn.proxy=!0),e[s.key]=s.fn)}return n&&(e.$key=n),e}function Ye(t,e){for(var i=0;i<e.length;i+=2){var n=e[i];"string"===typeof n&&n&&(t[e[i]]=e[i+1])}return t}function je(t,e){return"string"===typeof t?e+t:t}function Ke(t){t._o=$e,t._n=g,t._s=_,t._l=Be,t._t=Pe,t._q=B,t._i=P,t._m=We,t._f=Fe,t._k=Ve,t._b=Ue,t._v=Et,t._e=Tt,t._u=Xe,t._g=ze,t._d=Ye,t._p=je}function Je(t,e,n,o,r){var a,l=this,c=r.options;y(o,"_uid")?(a=Object.create(o),a._original=o):(a=o,o=o._original);var u=s(c._compiled),h=!u;this.data=t,this.props=e,this.children=n,this.parent=o,this.listeners=t.on||i,this.injections=Oe(c.inject,o),this.slots=function(){return l.$slots||Ne(t.scopedSlots,l.$slots=Ae(n,o)),l.$slots},Object.defineProperty(this,"scopedSlots",{enumerable:!0,get:function(){return Ne(t.scopedSlots,this.slots())}}),u&&(this.$options=c,this.$slots=this.slots(),this.$scopedSlots=Ne(t.scopedSlots,this.$slots)),c._scopeId?this._c=function(t,e,i,n){var s=ui(a,t,e,i,n,h);return s&&!Array.isArray(s)&&(s.fnScopeId=c._scopeId,s.fnContext=o),s}:this._c=function(t,e,i,n){return ui(a,t,e,i,n,h)}}function Qe(t,e,n,s,r){var a=t.options,l={},c=a.props;if(o(c))for(var u in c)l[u]=Kt(u,c,e||i);else o(n.attrs)&&ti(l,n.attrs),o(n.props)&&ti(l,n.props);var h=new Je(n,l,r,s,t),d=a.render.call(null,h._c,h);if(d instanceof bt)return Ze(d,n,h.parent,a,h);if(Array.isArray(d)){for(var p=ke(d)||[],_=new Array(p.length),g=0;g<p.length;g++)_[g]=Ze(p[g],n,h.parent,a,h);return _}}function Ze(t,e,i,n,o){var s=St(t);return s.fnContext=i,s.fnOptions=n,e.slot&&((s.data||(s.data={})).slot=e.slot),s}function ti(t,e){for(var i in e)t[S(i)]=e[i]}Ke(Je.prototype);var ei={init:function(t,e){if(t.componentInstance&&!t.componentInstance._isDestroyed&&t.data.keepAlive){var i=t;ei.prepatch(i,i)}else{var n=t.componentInstance=oi(t,xi);n.$mount(e?t.elm:void 0,e)}},prepatch:function(t,e){var i=e.componentOptions,n=e.componentInstance=t.componentInstance;Li(n,i.propsData,i.listeners,e,i.children)},insert:function(t){var e=t.context,i=t.componentInstance;i._isMounted||(i._isMounted=!0,Fi(i,"mounted")),t.data.keepAlive&&(e._isMounted?Ji(i):Bi(i,!0))},destroy:function(t){var e=t.componentInstance;e._isDestroyed||(t.data.keepAlive?Pi(e,!0):e.$destroy())}},ii=Object.keys(ei);function ni(t,e,i,r,a){if(!n(t)){var c=i.$options._base;if(l(t)&&(t=c.extend(t)),"function"===typeof t){var u;if(n(t.cid)&&(u=t,t=yi(u,c),void 0===t))return bi(u,e,i,r,a);e=e||{},Tn(t),o(e.model)&&ai(t.options,e);var h=Ee(e,t,a);if(s(t.options.functional))return Qe(t,h,e,i,r);var d=e.on;if(e.on=e.nativeOn,s(t.options.abstract)){var p=e.slot;e={},p&&(e.slot=p)}si(e);var _=t.options.name||a,g=new bt("vue-component-"+t.cid+(_?"-"+_:""),e,void 0,void 0,void 0,i,{Ctor:t,propsData:h,listeners:d,tag:a,children:r},u);return g}}}function oi(t,e){var i={_isComponent:!0,_parentVnode:t,parent:e},n=t.data.inlineTemplate;return o(n)&&(i.render=n.render,i.staticRenderFns=n.staticRenderFns),new t.componentOptions.Ctor(i)}function si(t){for(var e=t.hook||(t.hook={}),i=0;i<ii.length;i++){var n=ii[i],o=e[n],s=ei[n];o===s||o&&o._merged||(e[n]=o?ri(s,o):s)}}function ri(t,e){var i=function(i,n){t(i,n),e(i,n)};return i._merged=!0,i}function ai(t,e){var i=t.model&&t.model.prop||"value",n=t.model&&t.model.event||"input";(e.attrs||(e.attrs={}))[i]=e.model.value;var s=e.on||(e.on={}),r=s[n],a=e.model.callback;o(r)?(Array.isArray(r)?-1===r.indexOf(a):r!==a)&&(s[n]=[a].concat(r)):s[n]=a}var li=1,ci=2;function ui(t,e,i,n,o,r){return(Array.isArray(i)||a(i))&&(o=n,n=i,i=void 0),s(r)&&(o=ci),hi(t,e,i,n,o)}function hi(t,e,i,n,s){if(o(i)&&o(i.__ob__))return Tt();if(o(i)&&o(i.is)&&(e=i.is),!e)return Tt();var r,a,l;(Array.isArray(n)&&"function"===typeof n[0]&&(i=i||{},i.scopedSlots={default:n[0]},n.length=0),s===ci?n=ke(n):s===li&&(n=Ce(n)),"string"===typeof e)?(a=t.$vnode&&t.$vnode.ns||W.getTagNamespace(e),r=W.isReservedTag(e)?new bt(W.parsePlatformTagName(e),i,n,void 0,void 0,t):i&&i.pre||!o(l=jt(t.$options,"components",e))?new bt(e,i,n,void 0,void 0,t):ni(l,i,t,n,e)):r=ni(e,i,t,n);return Array.isArray(r)?r:o(r)?(o(a)&&di(r,a),o(i)&&pi(i),r):Tt()}function di(t,e,i){if(t.ns=e,"foreignObject"===t.tag&&(e=void 0,i=!0),o(t.children))for(var r=0,a=t.children.length;r<a;r++){var l=t.children[r];o(l.tag)&&(n(l.ns)||s(i)&&"svg"!==l.tag)&&di(l,e,i)}}function pi(t){l(t.style)&&fe(t.style),l(t.class)&&fe(t.class)}function _i(t){t._vnode=null,t._staticTrees=null;var e=t.$options,n=t.$vnode=e._parentVnode,o=n&&n.context;t.$slots=Ae(e._renderChildren,o),t.$scopedSlots=i,t._c=function(e,i,n,o){return ui(t,e,i,n,o,!1)},t.$createElement=function(e,i,n,o){return ui(t,e,i,n,o,!0)};var s=n&&n.data;Lt(t,"$attrs",s&&s.attrs||i,null,!0),Lt(t,"$listeners",e._parentListeners||i,null,!0)}var gi,fi=null;function mi(t){Ke(t.prototype),t.prototype.$nextTick=function(t){return _e(t,this)},t.prototype._render=function(){var t,e=this,i=e.$options,n=i.render,o=i._parentVnode;o&&(e.$scopedSlots=Ne(o.data.scopedSlots,e.$slots,e.$scopedSlots)),e.$vnode=o;try{fi=e,t=n.call(e._renderProxy,e.$createElement)}catch(Sr){ee(Sr,e,"render"),t=e._vnode}finally{fi=null}return Array.isArray(t)&&1===t.length&&(t=t[0]),t instanceof bt||(t=Tt()),t.parent=o,t}}function vi(t,e){return(t.__esModule||dt&&"Module"===t[Symbol.toStringTag])&&(t=t.default),l(t)?e.extend(t):t}function bi(t,e,i,n,o){var s=Tt();return s.asyncFactory=t,s.asyncMeta={data:e,context:i,children:n,tag:o},s}function yi(t,e){if(s(t.error)&&o(t.errorComp))return t.errorComp;if(o(t.resolved))return t.resolved;var i=fi;if(i&&o(t.owners)&&-1===t.owners.indexOf(i)&&t.owners.push(i),s(t.loading)&&o(t.loadingComp))return t.loadingComp;if(i&&!o(t.owners)){var r=t.owners=[i],a=!0,c=null,u=null;i.$on("hook:destroyed",(function(){return v(r,i)}));var h=function(t){for(var e=0,i=r.length;e<i;e++)r[e].$forceUpdate();t&&(r.length=0,null!==c&&(clearTimeout(c),c=null),null!==u&&(clearTimeout(u),u=null))},d=F((function(i){t.resolved=vi(i,e),a?r.length=0:h(!0)})),_=F((function(e){o(t.errorComp)&&(t.error=!0,h(!0))})),g=t(d,_);return l(g)&&(p(g)?n(t.resolved)&&g.then(d,_):p(g.component)&&(g.component.then(d,_),o(g.error)&&(t.errorComp=vi(g.error,e)),o(g.loading)&&(t.loadingComp=vi(g.loading,e),0===g.delay?t.loading=!0:c=setTimeout((function(){c=null,n(t.resolved)&&n(t.error)&&(t.loading=!0,h(!1))}),g.delay||200)),o(g.timeout)&&(u=setTimeout((function(){u=null,n(t.resolved)&&_(null)}),g.timeout)))),a=!1,t.loading?t.loadingComp:t.resolved}}function Ti(t){return t.isComment&&t.asyncFactory}function Ei(t){if(Array.isArray(t))for(var e=0;e<t.length;e++){var i=t[e];if(o(i)&&(o(i.componentOptions)||Ti(i)))return i}}function Si(t){t._events=Object.create(null),t._hasHookEvent=!1;var e=t.$options._parentListeners;e&&Ri(t,e)}function Ci(t,e){gi.$on(t,e)}function ki(t,e){gi.$off(t,e)}function wi(t,e){var i=gi;return function n(){var o=e.apply(null,arguments);null!==o&&i.$off(t,n)}}function Ri(t,e,i){gi=t,ye(e,i||{},Ci,ki,wi,t),gi=void 0}function Ii(t){var e=/^hook:/;t.prototype.$on=function(t,i){var n=this;if(Array.isArray(t))for(var o=0,s=t.length;o<s;o++)n.$on(t[o],i);else(n._events[t]||(n._events[t]=[])).push(i),e.test(t)&&(n._hasHookEvent=!0);return n},t.prototype.$once=function(t,e){var i=this;function n(){i.$off(t,n),e.apply(i,arguments)}return n.fn=e,i.$on(t,n),i},t.prototype.$off=function(t,e){var i=this;if(!arguments.length)return i._events=Object.create(null),i;if(Array.isArray(t)){for(var n=0,o=t.length;n<o;n++)i.$off(t[n],e);return i}var s,r=i._events[t];if(!r)return i;if(!e)return i._events[t]=null,i;var a=r.length;while(a--)if(s=r[a],s===e||s.fn===e){r.splice(a,1);break}return i},t.prototype.$emit=function(t){var e=this,i=e._events[t];if(i){i=i.length>1?O(i):i;for(var n=O(arguments,1),o='event handler for "'+t+'"',s=0,r=i.length;s<r;s++)ie(i[s],e,n,e,o)}return e}}var xi=null;function Oi(t){var e=xi;return xi=t,function(){xi=e}}function Ai(t){var e=t.$options,i=e.parent;if(i&&!e.abstract){while(i.$options.abstract&&i.$parent)i=i.$parent;i.$children.push(t)}t.$parent=i,t.$root=i?i.$root:t,t.$children=[],t.$refs={},t._watcher=null,t._inactive=null,t._directInactive=!1,t._isMounted=!1,t._isDestroyed=!1,t._isBeingDestroyed=!1}function Mi(t){t.prototype._update=function(t,e){var i=this,n=i.$el,o=i._vnode,s=Oi(i);i._vnode=t,i.$el=o?i.__patch__(o,t):i.__patch__(i.$el,t,e,!1),s(),n&&(n.__vue__=null),i.$el&&(i.$el.__vue__=i),i.$vnode&&i.$parent&&i.$vnode===i.$parent._vnode&&(i.$parent.$el=i.$el)},t.prototype.$forceUpdate=function(){var t=this;t._watcher&&t._watcher.update()},t.prototype.$destroy=function(){var t=this;if(!t._isBeingDestroyed){Fi(t,"beforeDestroy"),t._isBeingDestroyed=!0;var e=t.$parent;!e||e._isBeingDestroyed||t.$options.abstract||v(e.$children,t),t._watcher&&t._watcher.teardown();var i=t._watchers.length;while(i--)t._watchers[i].teardown();t._data.__ob__&&t._data.__ob__.vmCount--,t._isDestroyed=!0,t.__patch__(t._vnode,null),Fi(t,"destroyed"),t.$off(),t.$el&&(t.$el.__vue__=null),t.$vnode&&(t.$vnode.parent=null)}}}function Ni(t,e,i){var n;return t.$el=e,t.$options.render||(t.$options.render=Tt),Fi(t,"beforeMount"),n=function(){t._update(t._render(),i)},new en(t,n,N,{before:function(){t._isMounted&&!t._isDestroyed&&Fi(t,"beforeUpdate")}},!0),i=!1,null==t.$vnode&&(t._isMounted=!0,Fi(t,"mounted")),t}function Li(t,e,n,o,s){var r=o.data.scopedSlots,a=t.$scopedSlots,l=!!(r&&!r.$stable||a!==i&&!a.$stable||r&&t.$scopedSlots.$key!==r.$key),c=!!(s||t.$options._renderChildren||l);if(t.$options._parentVnode=o,t.$vnode=o,t._vnode&&(t._vnode.parent=o),t.$options._renderChildren=s,t.$attrs=o.data.attrs||i,t.$listeners=n||i,e&&t.$options.props){xt(!1);for(var u=t._props,h=t.$options._propKeys||[],d=0;d<h.length;d++){var p=h[d],_=t.$options.props;u[p]=Kt(p,_,e,t)}xt(!0),t.$options.propsData=e}n=n||i;var g=t.$options._parentListeners;t.$options._parentListeners=n,Ri(t,n,g),c&&(t.$slots=Ae(s,o.context),t.$forceUpdate())}function Di(t){while(t&&(t=t.$parent))if(t._inactive)return!0;return!1}function Bi(t,e){if(e){if(t._directInactive=!1,Di(t))return}else if(t._directInactive)return;if(t._inactive||null===t._inactive){t._inactive=!1;for(var i=0;i<t.$children.length;i++)Bi(t.$children[i]);Fi(t,"activated")}}function Pi(t,e){if((!e||(t._directInactive=!0,!Di(t)))&&!t._inactive){t._inactive=!0;for(var i=0;i<t.$children.length;i++)Pi(t.$children[i]);Fi(t,"deactivated")}}function Fi(t,e){mt();var i=t.$options[e],n=e+" hook";if(i)for(var o=0,s=i.length;o<s;o++)ie(i[o],t,null,t,n);t._hasHookEvent&&t.$emit("hook:"+e),vt()}var Hi=[],Vi=[],Ui={},Wi=!1,$i=!1,Gi=0;function qi(){Gi=Hi.length=Vi.length=0,Ui={},Wi=$i=!1}var zi=0,Xi=Date.now;if(K&&!tt){var Yi=window.performance;Yi&&"function"===typeof Yi.now&&Xi()>document.createEvent("Event").timeStamp&&(Xi=function(){return Yi.now()})}function ji(){var t,e;for(zi=Xi(),$i=!0,Hi.sort((function(t,e){return t.id-e.id})),Gi=0;Gi<Hi.length;Gi++)t=Hi[Gi],t.before&&t.before(),e=t.id,Ui[e]=null,t.run();var i=Vi.slice(),n=Hi.slice();qi(),Qi(i),Ki(n),ct&&W.devtools&&ct.emit("flush")}function Ki(t){var e=t.length;while(e--){var i=t[e],n=i.vm;n._watcher===i&&n._isMounted&&!n._isDestroyed&&Fi(n,"updated")}}function Ji(t){t._inactive=!1,Vi.push(t)}function Qi(t){for(var e=0;e<t.length;e++)t[e]._inactive=!0,Bi(t[e],!0)}function Zi(t){var e=t.id;if(null==Ui[e]){if(Ui[e]=!0,$i){var i=Hi.length-1;while(i>Gi&&Hi[i].id>t.id)i--;Hi.splice(i+1,0,t)}else Hi.push(t);Wi||(Wi=!0,_e(ji))}}var tn=0,en=function(t,e,i,n,o){this.vm=t,o&&(t._watcher=this),t._watchers.push(this),n?(this.deep=!!n.deep,this.user=!!n.user,this.lazy=!!n.lazy,this.sync=!!n.sync,this.before=n.before):this.deep=this.user=this.lazy=this.sync=!1,this.cb=i,this.id=++tn,this.active=!0,this.dirty=this.lazy,this.deps=[],this.newDeps=[],this.depIds=new ht,this.newDepIds=new ht,this.expression="","function"===typeof e?this.getter=e:(this.getter=X(e),this.getter||(this.getter=N)),this.value=this.lazy?void 0:this.get()};en.prototype.get=function(){var t;mt(this);var e=this.vm;try{t=this.getter.call(e,e)}catch(Sr){if(!this.user)throw Sr;ee(Sr,e,'getter for watcher "'+this.expression+'"')}finally{this.deep&&fe(t),vt(),this.cleanupDeps()}return t},en.prototype.addDep=function(t){var e=t.id;this.newDepIds.has(e)||(this.newDepIds.add(e),this.newDeps.push(t),this.depIds.has(e)||t.addSub(this))},en.prototype.cleanupDeps=function(){var t=this.deps.length;while(t--){var e=this.deps[t];this.newDepIds.has(e.id)||e.removeSub(this)}var i=this.depIds;this.depIds=this.newDepIds,this.newDepIds=i,this.newDepIds.clear(),i=this.deps,this.deps=this.newDeps,this.newDeps=i,this.newDeps.length=0},en.prototype.update=function(){this.lazy?this.dirty=!0:this.sync?this.run():Zi(this)},en.prototype.run=function(){if(this.active){var t=this.get();if(t!==this.value||l(t)||this.deep){var e=this.value;if(this.value=t,this.user)try{this.cb.call(this.vm,t,e)}catch(Sr){ee(Sr,this.vm,'callback for watcher "'+this.expression+'"')}else this.cb.call(this.vm,t,e)}}},en.prototype.evaluate=function(){this.value=this.get(),this.dirty=!1},en.prototype.depend=function(){var t=this.deps.length;while(t--)this.deps[t].depend()},en.prototype.teardown=function(){if(this.active){this.vm._isBeingDestroyed||v(this.vm._watchers,this);var t=this.deps.length;while(t--)this.deps[t].removeSub(this);this.active=!1}};var nn={enumerable:!0,configurable:!0,get:N,set:N};function on(t,e,i){nn.get=function(){return this[e][i]},nn.set=function(t){this[e][i]=t},Object.defineProperty(t,i,nn)}function sn(t){t._watchers=[];var e=t.$options;e.props&&rn(t,e.props),e.methods&&_n(t,e.methods),e.data?an(t):Nt(t._data={},!0),e.computed&&un(t,e.computed),e.watch&&e.watch!==st&&gn(t,e.watch)}function rn(t,e){var i=t.$options.propsData||{},n=t._props={},o=t.$options._propKeys=[],s=!t.$parent;s||xt(!1);var r=function(s){o.push(s);var r=Kt(s,e,i,t);Lt(n,s,r),s in t||on(t,"_props",s)};for(var a in e)r(a);xt(!0)}function an(t){var e=t.$options.data;e=t._data="function"===typeof e?ln(e,t):e||{},u(e)||(e={});var i=Object.keys(e),n=t.$options.props,o=(t.$options.methods,i.length);while(o--){var s=i[o];0,n&&y(n,s)||G(s)||on(t,"_data",s)}Nt(e,!0)}function ln(t,e){mt();try{return t.call(e,e)}catch(Sr){return ee(Sr,e,"data()"),{}}finally{vt()}}var cn={lazy:!0};function un(t,e){var i=t._computedWatchers=Object.create(null),n=lt();for(var o in e){var s=e[o],r="function"===typeof s?s:s.get;0,n||(i[o]=new en(t,r||N,N,cn)),o in t||hn(t,o,s)}}function hn(t,e,i){var n=!lt();"function"===typeof i?(nn.get=n?dn(e):pn(i),nn.set=N):(nn.get=i.get?n&&!1!==i.cache?dn(e):pn(i.get):N,nn.set=i.set||N),Object.defineProperty(t,e,nn)}function dn(t){return function(){var e=this._computedWatchers&&this._computedWatchers[t];if(e)return e.dirty&&e.evaluate(),gt.target&&e.depend(),e.value}}function pn(t){return function(){return t.call(this,this)}}function _n(t,e){t.$options.props;for(var i in e)t[i]="function"!==typeof e[i]?N:x(e[i],t)}function gn(t,e){for(var i in e){var n=e[i];if(Array.isArray(n))for(var o=0;o<n.length;o++)fn(t,i,n[o]);else fn(t,i,n)}}function fn(t,e,i,n){return u(i)&&(n=i,i=i.handler),"string"===typeof i&&(i=t[i]),t.$watch(e,i,n)}function mn(t){var e={get:function(){return this._data}},i={get:function(){return this._props}};Object.defineProperty(t.prototype,"$data",e),Object.defineProperty(t.prototype,"$props",i),t.prototype.$set=Dt,t.prototype.$delete=Bt,t.prototype.$watch=function(t,e,i){var n=this;if(u(e))return fn(n,t,e,i);i=i||{},i.user=!0;var o=new en(n,t,e,i);if(i.immediate)try{e.call(n,o.value)}catch(s){ee(s,n,'callback for immediate watcher "'+o.expression+'"')}return function(){o.teardown()}}}var vn=0;function bn(t){t.prototype._init=function(t){var e=this;e._uid=vn++,e._isVue=!0,t&&t._isComponent?yn(e,t):e.$options=Yt(Tn(e.constructor),t||{},e),e._renderProxy=e,e._self=e,Ai(e),Si(e),_i(e),Fi(e,"beforeCreate"),xe(e),sn(e),Ie(e),Fi(e,"created"),e.$options.el&&e.$mount(e.$options.el)}}function yn(t,e){var i=t.$options=Object.create(t.constructor.options),n=e._parentVnode;i.parent=e.parent,i._parentVnode=n;var o=n.componentOptions;i.propsData=o.propsData,i._parentListeners=o.listeners,i._renderChildren=o.children,i._componentTag=o.tag,e.render&&(i.render=e.render,i.staticRenderFns=e.staticRenderFns)}function Tn(t){var e=t.options;if(t.super){var i=Tn(t.super),n=t.superOptions;if(i!==n){t.superOptions=i;var o=En(t);o&&A(t.extendOptions,o),e=t.options=Yt(i,t.extendOptions),e.name&&(e.components[e.name]=t)}}return e}function En(t){var e,i=t.options,n=t.sealedOptions;for(var o in i)i[o]!==n[o]&&(e||(e={}),e[o]=i[o]);return e}function Sn(t){this._init(t)}function Cn(t){t.use=function(t){var e=this._installedPlugins||(this._installedPlugins=[]);if(e.indexOf(t)>-1)return this;var i=O(arguments,1);return i.unshift(this),"function"===typeof t.install?t.install.apply(t,i):"function"===typeof t&&t.apply(null,i),e.push(t),this}}function kn(t){t.mixin=function(t){return this.options=Yt(this.options,t),this}}function wn(t){t.cid=0;var e=1;t.extend=function(t){t=t||{};var i=this,n=i.cid,o=t._Ctor||(t._Ctor={});if(o[n])return o[n];var s=t.name||i.options.name;var r=function(t){this._init(t)};return r.prototype=Object.create(i.prototype),r.prototype.constructor=r,r.cid=e++,r.options=Yt(i.options,t),r["super"]=i,r.options.props&&Rn(r),r.options.computed&&In(r),r.extend=i.extend,r.mixin=i.mixin,r.use=i.use,V.forEach((function(t){r[t]=i[t]})),s&&(r.options.components[s]=r),r.superOptions=i.options,r.extendOptions=t,r.sealedOptions=A({},r.options),o[n]=r,r}}function Rn(t){var e=t.options.props;for(var i in e)on(t.prototype,"_props",i)}function In(t){var e=t.options.computed;for(var i in e)hn(t.prototype,i,e[i])}function xn(t){V.forEach((function(e){t[e]=function(t,i){return i?("component"===e&&u(i)&&(i.name=i.name||t,i=this.options._base.extend(i)),"directive"===e&&"function"===typeof i&&(i={bind:i,update:i}),this.options[e+"s"][t]=i,i):this.options[e+"s"][t]}}))}function On(t){return t&&(t.Ctor.options.name||t.tag)}function An(t,e){return Array.isArray(t)?t.indexOf(e)>-1:"string"===typeof t?t.split(",").indexOf(e)>-1:!!h(t)&&t.test(e)}function Mn(t,e){var i=t.cache,n=t.keys,o=t._vnode;for(var s in i){var r=i[s];if(r){var a=On(r.componentOptions);a&&!e(a)&&Nn(i,s,n,o)}}}function Nn(t,e,i,n){var o=t[e];!o||n&&o.tag===n.tag||o.componentInstance.$destroy(),t[e]=null,v(i,e)}bn(Sn),mn(Sn),Ii(Sn),Mi(Sn),mi(Sn);var Ln=[String,RegExp,Array],Dn={name:"keep-alive",abstract:!0,props:{include:Ln,exclude:Ln,max:[String,Number]},created:function(){this.cache=Object.create(null),this.keys=[]},destroyed:function(){for(var t in this.cache)Nn(this.cache,t,this.keys)},mounted:function(){var t=this;this.$watch("include",(function(e){Mn(t,(function(t){return An(e,t)}))})),this.$watch("exclude",(function(e){Mn(t,(function(t){return!An(e,t)}))}))},render:function(){var t=this.$slots.default,e=Ei(t),i=e&&e.componentOptions;if(i){var n=On(i),o=this,s=o.include,r=o.exclude;if(s&&(!n||!An(s,n))||r&&n&&An(r,n))return e;var a=this,l=a.cache,c=a.keys,u=null==e.key?i.Ctor.cid+(i.tag?"::"+i.tag:""):e.key;l[u]?(e.componentInstance=l[u].componentInstance,v(c,u),c.push(u)):(l[u]=e,c.push(u),this.max&&c.length>parseInt(this.max)&&Nn(l,c[0],c,this._vnode)),e.data.keepAlive=!0}return e||t&&t[0]}},Bn={KeepAlive:Dn};function Pn(t){var e={get:function(){return W}};Object.defineProperty(t,"config",e),t.util={warn:pt,extend:A,mergeOptions:Yt,defineReactive:Lt},t.set=Dt,t.delete=Bt,t.nextTick=_e,t.observable=function(t){return Nt(t),t},t.options=Object.create(null),V.forEach((function(e){t.options[e+"s"]=Object.create(null)})),t.options._base=t,A(t.options.components,Bn),Cn(t),kn(t),wn(t),xn(t)}Pn(Sn),Object.defineProperty(Sn.prototype,"$isServer",{get:lt}),Object.defineProperty(Sn.prototype,"$ssrContext",{get:function(){return this.$vnode&&this.$vnode.ssrContext}}),Object.defineProperty(Sn,"FunctionalRenderContext",{value:Je}),Sn.version="2.6.10";var Fn=f("style,class"),Hn=f("input,textarea,option,select,progress"),Vn=function(t,e,i){return"value"===i&&Hn(t)&&"button"!==e||"selected"===i&&"option"===t||"checked"===i&&"input"===t||"muted"===i&&"video"===t},Un=f("contenteditable,draggable,spellcheck"),Wn=f("events,caret,typing,plaintext-only"),$n=function(t,e){return Yn(e)||"false"===e?"false":"contenteditable"===t&&Wn(e)?e:"true"},Gn=f("allowfullscreen,async,autofocus,autoplay,checked,compact,controls,declare,default,defaultchecked,defaultmuted,defaultselected,defer,disabled,enabled,formnovalidate,hidden,indeterminate,inert,ismap,itemscope,loop,multiple,muted,nohref,noresize,noshade,novalidate,nowrap,open,pauseonexit,readonly,required,reversed,scoped,seamless,selected,sortable,translate,truespeed,typemustmatch,visible"),qn="http://www.w3.org/1999/xlink",zn=function(t){return":"===t.charAt(5)&&"xlink"===t.slice(0,5)},Xn=function(t){return zn(t)?t.slice(6,t.length):""},Yn=function(t){return null==t||!1===t};function jn(t){var e=t.data,i=t,n=t;while(o(n.componentInstance))n=n.componentInstance._vnode,n&&n.data&&(e=Kn(n.data,e));while(o(i=i.parent))i&&i.data&&(e=Kn(e,i.data));return Jn(e.staticClass,e.class)}function Kn(t,e){return{staticClass:Qn(t.staticClass,e.staticClass),class:o(t.class)?[t.class,e.class]:e.class}}function Jn(t,e){return o(t)||o(e)?Qn(t,Zn(e)):""}function Qn(t,e){return t?e?t+" "+e:t:e||""}function Zn(t){return Array.isArray(t)?to(t):l(t)?eo(t):"string"===typeof t?t:""}function to(t){for(var e,i="",n=0,s=t.length;n<s;n++)o(e=Zn(t[n]))&&""!==e&&(i&&(i+=" "),i+=e);return i}function eo(t){var e="";for(var i in t)t[i]&&(e&&(e+=" "),e+=i);return e}var io={svg:"http://www.w3.org/2000/svg",math:"http://www.w3.org/1998/Math/MathML"},no=f("html,body,base,head,link,meta,style,title,address,article,aside,footer,header,h1,h2,h3,h4,h5,h6,hgroup,nav,section,div,dd,dl,dt,figcaption,figure,picture,hr,img,li,main,ol,p,pre,ul,a,b,abbr,bdi,bdo,br,cite,code,data,dfn,em,i,kbd,mark,q,rp,rt,rtc,ruby,s,samp,small,span,strong,sub,sup,time,u,var,wbr,area,audio,map,track,video,embed,object,param,source,canvas,script,noscript,del,ins,caption,col,colgroup,table,thead,tbody,td,th,tr,button,datalist,fieldset,form,input,label,legend,meter,optgroup,option,output,progress,select,textarea,details,dialog,menu,menuitem,summary,content,element,shadow,template,blockquote,iframe,tfoot"),oo=f("svg,animate,circle,clippath,cursor,defs,desc,ellipse,filter,font-face,foreignObject,g,glyph,image,line,marker,mask,missing-glyph,path,pattern,polygon,polyline,rect,switch,symbol,text,textpath,tspan,use,view",!0),so=function(t){return no(t)||oo(t)};function ro(t){return oo(t)?"svg":"math"===t?"math":void 0}var ao=Object.create(null);function lo(t){if(!K)return!0;if(so(t))return!1;if(t=t.toLowerCase(),null!=ao[t])return ao[t];var e=document.createElement(t);return t.indexOf("-")>-1?ao[t]=e.constructor===window.HTMLUnknownElement||e.constructor===window.HTMLElement:ao[t]=/HTMLUnknownElement/.test(e.toString())}var co=f("text,number,password,search,email,tel,url");function uo(t){if("string"===typeof t){var e=document.querySelector(t);return e||document.createElement("div")}return t}function ho(t,e){var i=document.createElement(t);return"select"!==t?i:(e.data&&e.data.attrs&&void 0!==e.data.attrs.multiple&&i.setAttribute("multiple","multiple"),i)}function po(t,e){return document.createElementNS(io[t],e)}function _o(t){return document.createTextNode(t)}function go(t){return document.createComment(t)}function fo(t,e,i){t.insertBefore(e,i)}function mo(t,e){t.removeChild(e)}function vo(t,e){t.appendChild(e)}function bo(t){return t.parentNode}function yo(t){return t.nextSibling}function To(t){return t.tagName}function Eo(t,e){t.textContent=e}function So(t,e){t.setAttribute(e,"")}var Co=Object.freeze({createElement:ho,createElementNS:po,createTextNode:_o,createComment:go,insertBefore:fo,removeChild:mo,appendChild:vo,parentNode:bo,nextSibling:yo,tagName:To,setTextContent:Eo,setStyleScope:So}),ko={create:function(t,e){wo(e)},update:function(t,e){t.data.ref!==e.data.ref&&(wo(t,!0),wo(e))},destroy:function(t){wo(t,!0)}};function wo(t,e){var i=t.data.ref;if(o(i)){var n=t.context,s=t.componentInstance||t.elm,r=n.$refs;e?Array.isArray(r[i])?v(r[i],s):r[i]===s&&(r[i]=void 0):t.data.refInFor?Array.isArray(r[i])?r[i].indexOf(s)<0&&r[i].push(s):r[i]=[s]:r[i]=s}}var Ro=new bt("",{},[]),Io=["create","activate","update","remove","destroy"];function xo(t,e){return t.key===e.key&&(t.tag===e.tag&&t.isComment===e.isComment&&o(t.data)===o(e.data)&&Oo(t,e)||s(t.isAsyncPlaceholder)&&t.asyncFactory===e.asyncFactory&&n(e.asyncFactory.error))}function Oo(t,e){if("input"!==t.tag)return!0;var i,n=o(i=t.data)&&o(i=i.attrs)&&i.type,s=o(i=e.data)&&o(i=i.attrs)&&i.type;return n===s||co(n)&&co(s)}function Ao(t,e,i){var n,s,r={};for(n=e;n<=i;++n)s=t[n].key,o(s)&&(r[s]=n);return r}function Mo(t){var e,i,r={},l=t.modules,c=t.nodeOps;for(e=0;e<Io.length;++e)for(r[Io[e]]=[],i=0;i<l.length;++i)o(l[i][Io[e]])&&r[Io[e]].push(l[i][Io[e]]);function u(t){return new bt(c.tagName(t).toLowerCase(),{},[],void 0,t)}function h(t,e){function i(){0===--i.listeners&&d(t)}return i.listeners=e,i}function d(t){var e=c.parentNode(t);o(e)&&c.removeChild(e,t)}function p(t,e,i,n,r,a,l){if(o(t.elm)&&o(a)&&(t=a[l]=St(t)),t.isRootInsert=!r,!_(t,e,i,n)){var u=t.data,h=t.children,d=t.tag;o(d)?(t.elm=t.ns?c.createElementNS(t.ns,d):c.createElement(d,t),E(t),b(t,h,e),o(u)&&T(t,e),v(i,t.elm,n)):s(t.isComment)?(t.elm=c.createComment(t.text),v(i,t.elm,n)):(t.elm=c.createTextNode(t.text),v(i,t.elm,n))}}function _(t,e,i,n){var r=t.data;if(o(r)){var a=o(t.componentInstance)&&r.keepAlive;if(o(r=r.hook)&&o(r=r.init)&&r(t,!1),o(t.componentInstance))return g(t,e),v(i,t.elm,n),s(a)&&m(t,e,i,n),!0}}function g(t,e){o(t.data.pendingInsert)&&(e.push.apply(e,t.data.pendingInsert),t.data.pendingInsert=null),t.elm=t.componentInstance.$el,y(t)?(T(t,e),E(t)):(wo(t),e.push(t))}function m(t,e,i,n){var s,a=t;while(a.componentInstance)if(a=a.componentInstance._vnode,o(s=a.data)&&o(s=s.transition)){for(s=0;s<r.activate.length;++s)r.activate[s](Ro,a);e.push(a);break}v(i,t.elm,n)}function v(t,e,i){o(t)&&(o(i)?c.parentNode(i)===t&&c.insertBefore(t,e,i):c.appendChild(t,e))}function b(t,e,i){if(Array.isArray(e)){0;for(var n=0;n<e.length;++n)p(e[n],i,t.elm,null,!0,e,n)}else a(t.text)&&c.appendChild(t.elm,c.createTextNode(String(t.text)))}function y(t){while(t.componentInstance)t=t.componentInstance._vnode;return o(t.tag)}function T(t,i){for(var n=0;n<r.create.length;++n)r.create[n](Ro,t);e=t.data.hook,o(e)&&(o(e.create)&&e.create(Ro,t),o(e.insert)&&i.push(t))}function E(t){var e;if(o(e=t.fnScopeId))c.setStyleScope(t.elm,e);else{var i=t;while(i)o(e=i.context)&&o(e=e.$options._scopeId)&&c.setStyleScope(t.elm,e),i=i.parent}o(e=xi)&&e!==t.context&&e!==t.fnContext&&o(e=e.$options._scopeId)&&c.setStyleScope(t.elm,e)}function S(t,e,i,n,o,s){for(;n<=o;++n)p(i[n],s,t,e,!1,i,n)}function C(t){var e,i,n=t.data;if(o(n))for(o(e=n.hook)&&o(e=e.destroy)&&e(t),e=0;e<r.destroy.length;++e)r.destroy[e](t);if(o(e=t.children))for(i=0;i<t.children.length;++i)C(t.children[i])}function k(t,e,i,n){for(;i<=n;++i){var s=e[i];o(s)&&(o(s.tag)?(w(s),C(s)):d(s.elm))}}function w(t,e){if(o(e)||o(t.data)){var i,n=r.remove.length+1;for(o(e)?e.listeners+=n:e=h(t.elm,n),o(i=t.componentInstance)&&o(i=i._vnode)&&o(i.data)&&w(i,e),i=0;i<r.remove.length;++i)r.remove[i](t,e);o(i=t.data.hook)&&o(i=i.remove)?i(t,e):e()}else d(t.elm)}function R(t,e,i,s,r){var a,l,u,h,d=0,_=0,g=e.length-1,f=e[0],m=e[g],v=i.length-1,b=i[0],y=i[v],T=!r;while(d<=g&&_<=v)n(f)?f=e[++d]:n(m)?m=e[--g]:xo(f,b)?(x(f,b,s,i,_),f=e[++d],b=i[++_]):xo(m,y)?(x(m,y,s,i,v),m=e[--g],y=i[--v]):xo(f,y)?(x(f,y,s,i,v),T&&c.insertBefore(t,f.elm,c.nextSibling(m.elm)),f=e[++d],y=i[--v]):xo(m,b)?(x(m,b,s,i,_),T&&c.insertBefore(t,m.elm,f.elm),m=e[--g],b=i[++_]):(n(a)&&(a=Ao(e,d,g)),l=o(b.key)?a[b.key]:I(b,e,d,g),n(l)?p(b,s,t,f.elm,!1,i,_):(u=e[l],xo(u,b)?(x(u,b,s,i,_),e[l]=void 0,T&&c.insertBefore(t,u.elm,f.elm)):p(b,s,t,f.elm,!1,i,_)),b=i[++_]);d>g?(h=n(i[v+1])?null:i[v+1].elm,S(t,h,i,_,v,s)):_>v&&k(t,e,d,g)}function I(t,e,i,n){for(var s=i;s<n;s++){var r=e[s];if(o(r)&&xo(t,r))return s}}function x(t,e,i,a,l,u){if(t!==e){o(e.elm)&&o(a)&&(e=a[l]=St(e));var h=e.elm=t.elm;if(s(t.isAsyncPlaceholder))o(e.asyncFactory.resolved)?M(t.elm,e,i):e.isAsyncPlaceholder=!0;else if(s(e.isStatic)&&s(t.isStatic)&&e.key===t.key&&(s(e.isCloned)||s(e.isOnce)))e.componentInstance=t.componentInstance;else{var d,p=e.data;o(p)&&o(d=p.hook)&&o(d=d.prepatch)&&d(t,e);var _=t.children,g=e.children;if(o(p)&&y(e)){for(d=0;d<r.update.length;++d)r.update[d](t,e);o(d=p.hook)&&o(d=d.update)&&d(t,e)}n(e.text)?o(_)&&o(g)?_!==g&&R(h,_,g,i,u):o(g)?(o(t.text)&&c.setTextContent(h,""),S(h,null,g,0,g.length-1,i)):o(_)?k(h,_,0,_.length-1):o(t.text)&&c.setTextContent(h,""):t.text!==e.text&&c.setTextContent(h,e.text),o(p)&&o(d=p.hook)&&o(d=d.postpatch)&&d(t,e)}}}function O(t,e,i){if(s(i)&&o(t.parent))t.parent.data.pendingInsert=e;else for(var n=0;n<e.length;++n)e[n].data.hook.insert(e[n])}var A=f("attrs,class,staticClass,staticStyle,key");function M(t,e,i,n){var r,a=e.tag,l=e.data,c=e.children;if(n=n||l&&l.pre,e.elm=t,s(e.isComment)&&o(e.asyncFactory))return e.isAsyncPlaceholder=!0,!0;if(o(l)&&(o(r=l.hook)&&o(r=r.init)&&r(e,!0),o(r=e.componentInstance)))return g(e,i),!0;if(o(a)){if(o(c))if(t.hasChildNodes())if(o(r=l)&&o(r=r.domProps)&&o(r=r.innerHTML)){if(r!==t.innerHTML)return!1}else{for(var u=!0,h=t.firstChild,d=0;d<c.length;d++){if(!h||!M(h,c[d],i,n)){u=!1;break}h=h.nextSibling}if(!u||h)return!1}else b(e,c,i);if(o(l)){var p=!1;for(var _ in l)if(!A(_)){p=!0,T(e,i);break}!p&&l["class"]&&fe(l["class"])}}else t.data!==e.text&&(t.data=e.text);return!0}return function(t,e,i,a){if(!n(e)){var l=!1,h=[];if(n(t))l=!0,p(e,h);else{var d=o(t.nodeType);if(!d&&xo(t,e))x(t,e,h,null,null,a);else{if(d){if(1===t.nodeType&&t.hasAttribute(H)&&(t.removeAttribute(H),i=!0),s(i)&&M(t,e,h))return O(e,h,!0),t;t=u(t)}var _=t.elm,g=c.parentNode(_);if(p(e,h,_._leaveCb?null:g,c.nextSibling(_)),o(e.parent)){var f=e.parent,m=y(e);while(f){for(var v=0;v<r.destroy.length;++v)r.destroy[v](f);if(f.elm=e.elm,m){for(var b=0;b<r.create.length;++b)r.create[b](Ro,f);var T=f.data.hook.insert;if(T.merged)for(var E=1;E<T.fns.length;E++)T.fns[E]()}else wo(f);f=f.parent}}o(g)?k(g,[t],0,0):o(t.tag)&&C(t)}}return O(e,h,l),e.elm}o(t)&&C(t)}}var No={create:Lo,update:Lo,destroy:function(t){Lo(t,Ro)}};function Lo(t,e){(t.data.directives||e.data.directives)&&Do(t,e)}function Do(t,e){var i,n,o,s=t===Ro,r=e===Ro,a=Po(t.data.directives,t.context),l=Po(e.data.directives,e.context),c=[],u=[];for(i in l)n=a[i],o=l[i],n?(o.oldValue=n.value,o.oldArg=n.arg,Ho(o,"update",e,t),o.def&&o.def.componentUpdated&&u.push(o)):(Ho(o,"bind",e,t),o.def&&o.def.inserted&&c.push(o));if(c.length){var h=function(){for(var i=0;i<c.length;i++)Ho(c[i],"inserted",e,t)};s?Te(e,"insert",h):h()}if(u.length&&Te(e,"postpatch",(function(){for(var i=0;i<u.length;i++)Ho(u[i],"componentUpdated",e,t)})),!s)for(i in a)l[i]||Ho(a[i],"unbind",t,t,r)}var Bo=Object.create(null);function Po(t,e){var i,n,o=Object.create(null);if(!t)return o;for(i=0;i<t.length;i++)n=t[i],n.modifiers||(n.modifiers=Bo),o[Fo(n)]=n,n.def=jt(e.$options,"directives",n.name,!0);return o}function Fo(t){return t.rawName||t.name+"."+Object.keys(t.modifiers||{}).join(".")}function Ho(t,e,i,n,o){var s=t.def&&t.def[e];if(s)try{s(i.elm,t,i,n,o)}catch(Sr){ee(Sr,i.context,"directive "+t.name+" "+e+" hook")}}var Vo=[ko,No];function Uo(t,e){var i=e.componentOptions;if((!o(i)||!1!==i.Ctor.options.inheritAttrs)&&(!n(t.data.attrs)||!n(e.data.attrs))){var s,r,a,l=e.elm,c=t.data.attrs||{},u=e.data.attrs||{};for(s in o(u.__ob__)&&(u=e.data.attrs=A({},u)),u)r=u[s],a=c[s],a!==r&&Wo(l,s,r);for(s in(tt||it)&&u.value!==c.value&&Wo(l,"value",u.value),c)n(u[s])&&(zn(s)?l.removeAttributeNS(qn,Xn(s)):Un(s)||l.removeAttribute(s))}}function Wo(t,e,i){t.tagName.indexOf("-")>-1?$o(t,e,i):Gn(e)?Yn(i)?t.removeAttribute(e):(i="allowfullscreen"===e&&"EMBED"===t.tagName?"true":e,t.setAttribute(e,i)):Un(e)?t.setAttribute(e,$n(e,i)):zn(e)?Yn(i)?t.removeAttributeNS(qn,Xn(e)):t.setAttributeNS(qn,e,i):$o(t,e,i)}function $o(t,e,i){if(Yn(i))t.removeAttribute(e);else{if(tt&&!et&&"TEXTAREA"===t.tagName&&"placeholder"===e&&""!==i&&!t.__ieph){var n=function(e){e.stopImmediatePropagation(),t.removeEventListener("input",n)};t.addEventListener("input",n),t.__ieph=!0}t.setAttribute(e,i)}}var Go={create:Uo,update:Uo};function qo(t,e){var i=e.elm,s=e.data,r=t.data;if(!(n(s.staticClass)&&n(s.class)&&(n(r)||n(r.staticClass)&&n(r.class)))){var a=jn(e),l=i._transitionClasses;o(l)&&(a=Qn(a,Zn(l))),a!==i._prevClass&&(i.setAttribute("class",a),i._prevClass=a)}}var zo,Xo={create:qo,update:qo},Yo="__r",jo="__c";function Ko(t){if(o(t[Yo])){var e=tt?"change":"input";t[e]=[].concat(t[Yo],t[e]||[]),delete t[Yo]}o(t[jo])&&(t.change=[].concat(t[jo],t.change||[]),delete t[jo])}function Jo(t,e,i){var n=zo;return function o(){var s=e.apply(null,arguments);null!==s&&ts(t,o,i,n)}}var Qo=re&&!(ot&&Number(ot[1])<=53);function Zo(t,e,i,n){if(Qo){var o=zi,s=e;e=s._wrapper=function(t){if(t.target===t.currentTarget||t.timeStamp>=o||t.timeStamp<=0||t.target.ownerDocument!==document)return s.apply(this,arguments)}}zo.addEventListener(t,e,rt?{capture:i,passive:n}:i)}function ts(t,e,i,n){(n||zo).removeEventListener(t,e._wrapper||e,i)}function es(t,e){if(!n(t.data.on)||!n(e.data.on)){var i=e.data.on||{},o=t.data.on||{};zo=e.elm,Ko(i),ye(i,o,Zo,ts,Jo,e.context),zo=void 0}}var is,ns={create:es,update:es};function os(t,e){if(!n(t.data.domProps)||!n(e.data.domProps)){var i,s,r=e.elm,a=t.data.domProps||{},l=e.data.domProps||{};for(i in o(l.__ob__)&&(l=e.data.domProps=A({},l)),a)i in l||(r[i]="");for(i in l){if(s=l[i],"textContent"===i||"innerHTML"===i){if(e.children&&(e.children.length=0),s===a[i])continue;1===r.childNodes.length&&r.removeChild(r.childNodes[0])}if("value"===i&&"PROGRESS"!==r.tagName){r._value=s;var c=n(s)?"":String(s);ss(r,c)&&(r.value=c)}else if("innerHTML"===i&&oo(r.tagName)&&n(r.innerHTML)){is=is||document.createElement("div"),is.innerHTML="<svg>"+s+"</svg>";var u=is.firstChild;while(r.firstChild)r.removeChild(r.firstChild);while(u.firstChild)r.appendChild(u.firstChild)}else if(s!==a[i])try{r[i]=s}catch(Sr){}}}}function ss(t,e){return!t.composing&&("OPTION"===t.tagName||rs(t,e)||as(t,e))}function rs(t,e){var i=!0;try{i=document.activeElement!==t}catch(Sr){}return i&&t.value!==e}function as(t,e){var i=t.value,n=t._vModifiers;if(o(n)){if(n.number)return g(i)!==g(e);if(n.trim)return i.trim()!==e.trim()}return i!==e}var ls={create:os,update:os},cs=T((function(t){var e={},i=/;(?![^(]*\))/g,n=/:(.+)/;return t.split(i).forEach((function(t){if(t){var i=t.split(n);i.length>1&&(e[i[0].trim()]=i[1].trim())}})),e}));function us(t){var e=hs(t.style);return t.staticStyle?A(t.staticStyle,e):e}function hs(t){return Array.isArray(t)?M(t):"string"===typeof t?cs(t):t}function ds(t,e){var i,n={};if(e){var o=t;while(o.componentInstance)o=o.componentInstance._vnode,o&&o.data&&(i=us(o.data))&&A(n,i)}(i=us(t.data))&&A(n,i);var s=t;while(s=s.parent)s.data&&(i=us(s.data))&&A(n,i);return n}var ps,_s=/^--/,gs=/\s*!important$/,fs=function(t,e,i){if(_s.test(e))t.style.setProperty(e,i);else if(gs.test(i))t.style.setProperty(w(e),i.replace(gs,""),"important");else{var n=vs(e);if(Array.isArray(i))for(var o=0,s=i.length;o<s;o++)t.style[n]=i[o];else t.style[n]=i}},ms=["Webkit","Moz","ms"],vs=T((function(t){if(ps=ps||document.createElement("div").style,t=S(t),"filter"!==t&&t in ps)return t;for(var e=t.charAt(0).toUpperCase()+t.slice(1),i=0;i<ms.length;i++){var n=ms[i]+e;if(n in ps)return n}}));function bs(t,e){var i=e.data,s=t.data;if(!(n(i.staticStyle)&&n(i.style)&&n(s.staticStyle)&&n(s.style))){var r,a,l=e.elm,c=s.staticStyle,u=s.normalizedStyle||s.style||{},h=c||u,d=hs(e.data.style)||{};e.data.normalizedStyle=o(d.__ob__)?A({},d):d;var p=ds(e,!0);for(a in h)n(p[a])&&fs(l,a,"");for(a in p)r=p[a],r!==h[a]&&fs(l,a,null==r?"":r)}}var ys={create:bs,update:bs},Ts=/\s+/;function Es(t,e){if(e&&(e=e.trim()))if(t.classList)e.indexOf(" ")>-1?e.split(Ts).forEach((function(e){return t.classList.add(e)})):t.classList.add(e);else{var i=" "+(t.getAttribute("class")||"")+" ";i.indexOf(" "+e+" ")<0&&t.setAttribute("class",(i+e).trim())}}function Ss(t,e){if(e&&(e=e.trim()))if(t.classList)e.indexOf(" ")>-1?e.split(Ts).forEach((function(e){return t.classList.remove(e)})):t.classList.remove(e),t.classList.length||t.removeAttribute("class");else{var i=" "+(t.getAttribute("class")||"")+" ",n=" "+e+" ";while(i.indexOf(n)>=0)i=i.replace(n," ");i=i.trim(),i?t.setAttribute("class",i):t.removeAttribute("class")}}function Cs(t){if(t){if("object"===typeof t){var e={};return!1!==t.css&&A(e,ks(t.name||"v")),A(e,t),e}return"string"===typeof t?ks(t):void 0}}var ks=T((function(t){return{enterClass:t+"-enter",enterToClass:t+"-enter-to",enterActiveClass:t+"-enter-active",leaveClass:t+"-leave",leaveToClass:t+"-leave-to",leaveActiveClass:t+"-leave-active"}})),ws=K&&!et,Rs="transition",Is="animation",xs="transition",Os="transitionend",As="animation",Ms="animationend";ws&&(void 0===window.ontransitionend&&void 0!==window.onwebkittransitionend&&(xs="WebkitTransition",Os="webkitTransitionEnd"),void 0===window.onanimationend&&void 0!==window.onwebkitanimationend&&(As="WebkitAnimation",Ms="webkitAnimationEnd"));var Ns=K?window.requestAnimationFrame?window.requestAnimationFrame.bind(window):setTimeout:function(t){return t()};function Ls(t){Ns((function(){Ns(t)}))}function Ds(t,e){var i=t._transitionClasses||(t._transitionClasses=[]);i.indexOf(e)<0&&(i.push(e),Es(t,e))}function Bs(t,e){t._transitionClasses&&v(t._transitionClasses,e),Ss(t,e)}function Ps(t,e,i){var n=Hs(t,e),o=n.type,s=n.timeout,r=n.propCount;if(!o)return i();var a=o===Rs?Os:Ms,l=0,c=function(){t.removeEventListener(a,u),i()},u=function(e){e.target===t&&++l>=r&&c()};setTimeout((function(){l<r&&c()}),s+1),t.addEventListener(a,u)}var Fs=/\b(transform|all)(,|$)/;function Hs(t,e){var i,n=window.getComputedStyle(t),o=(n[xs+"Delay"]||"").split(", "),s=(n[xs+"Duration"]||"").split(", "),r=Vs(o,s),a=(n[As+"Delay"]||"").split(", "),l=(n[As+"Duration"]||"").split(", "),c=Vs(a,l),u=0,h=0;e===Rs?r>0&&(i=Rs,u=r,h=s.length):e===Is?c>0&&(i=Is,u=c,h=l.length):(u=Math.max(r,c),i=u>0?r>c?Rs:Is:null,h=i?i===Rs?s.length:l.length:0);var d=i===Rs&&Fs.test(n[xs+"Property"]);return{type:i,timeout:u,propCount:h,hasTransform:d}}function Vs(t,e){while(t.length<e.length)t=t.concat(t);return Math.max.apply(null,e.map((function(e,i){return Us(e)+Us(t[i])})))}function Us(t){return 1e3*Number(t.slice(0,-1).replace(",","."))}function Ws(t,e){var i=t.elm;o(i._leaveCb)&&(i._leaveCb.cancelled=!0,i._leaveCb());var s=Cs(t.data.transition);if(!n(s)&&!o(i._enterCb)&&1===i.nodeType){var r=s.css,a=s.type,c=s.enterClass,u=s.enterToClass,h=s.enterActiveClass,d=s.appearClass,p=s.appearToClass,_=s.appearActiveClass,f=s.beforeEnter,m=s.enter,v=s.afterEnter,b=s.enterCancelled,y=s.beforeAppear,T=s.appear,E=s.afterAppear,S=s.appearCancelled,C=s.duration,k=xi,w=xi.$vnode;while(w&&w.parent)k=w.context,w=w.parent;var R=!k._isMounted||!t.isRootInsert;if(!R||T||""===T){var I=R&&d?d:c,x=R&&_?_:h,O=R&&p?p:u,A=R&&y||f,M=R&&"function"===typeof T?T:m,N=R&&E||v,L=R&&S||b,D=g(l(C)?C.enter:C);0;var B=!1!==r&&!et,P=qs(M),H=i._enterCb=F((function(){B&&(Bs(i,O),Bs(i,x)),H.cancelled?(B&&Bs(i,I),L&&L(i)):N&&N(i),i._enterCb=null}));t.data.show||Te(t,"insert",(function(){var e=i.parentNode,n=e&&e._pending&&e._pending[t.key];n&&n.tag===t.tag&&n.elm._leaveCb&&n.elm._leaveCb(),M&&M(i,H)})),A&&A(i),B&&(Ds(i,I),Ds(i,x),Ls((function(){Bs(i,I),H.cancelled||(Ds(i,O),P||(Gs(D)?setTimeout(H,D):Ps(i,a,H)))}))),t.data.show&&(e&&e(),M&&M(i,H)),B||P||H()}}}function $s(t,e){var i=t.elm;o(i._enterCb)&&(i._enterCb.cancelled=!0,i._enterCb());var s=Cs(t.data.transition);if(n(s)||1!==i.nodeType)return e();if(!o(i._leaveCb)){var r=s.css,a=s.type,c=s.leaveClass,u=s.leaveToClass,h=s.leaveActiveClass,d=s.beforeLeave,p=s.leave,_=s.afterLeave,f=s.leaveCancelled,m=s.delayLeave,v=s.duration,b=!1!==r&&!et,y=qs(p),T=g(l(v)?v.leave:v);0;var E=i._leaveCb=F((function(){i.parentNode&&i.parentNode._pending&&(i.parentNode._pending[t.key]=null),b&&(Bs(i,u),Bs(i,h)),E.cancelled?(b&&Bs(i,c),f&&f(i)):(e(),_&&_(i)),i._leaveCb=null}));m?m(S):S()}function S(){E.cancelled||(!t.data.show&&i.parentNode&&((i.parentNode._pending||(i.parentNode._pending={}))[t.key]=t),d&&d(i),b&&(Ds(i,c),Ds(i,h),Ls((function(){Bs(i,c),E.cancelled||(Ds(i,u),y||(Gs(T)?setTimeout(E,T):Ps(i,a,E)))}))),p&&p(i,E),b||y||E())}}function Gs(t){return"number"===typeof t&&!isNaN(t)}function qs(t){if(n(t))return!1;var e=t.fns;return o(e)?qs(Array.isArray(e)?e[0]:e):(t._length||t.length)>1}function zs(t,e){!0!==e.data.show&&Ws(e)}var Xs=K?{create:zs,activate:zs,remove:function(t,e){!0!==t.data.show?$s(t,e):e()}}:{},Ys=[Go,Xo,ns,ls,ys,Xs],js=Ys.concat(Vo),Ks=Mo({nodeOps:Co,modules:js});et&&document.addEventListener("selectionchange",(function(){var t=document.activeElement;t&&t.vmodel&&or(t,"input")}));var Js={inserted:function(t,e,i,n){"select"===i.tag?(n.elm&&!n.elm._vOptions?Te(i,"postpatch",(function(){Js.componentUpdated(t,e,i)})):Qs(t,e,i.context),t._vOptions=[].map.call(t.options,er)):("textarea"===i.tag||co(t.type))&&(t._vModifiers=e.modifiers,e.modifiers.lazy||(t.addEventListener("compositionstart",ir),t.addEventListener("compositionend",nr),t.addEventListener("change",nr),et&&(t.vmodel=!0)))},componentUpdated:function(t,e,i){if("select"===i.tag){Qs(t,e,i.context);var n=t._vOptions,o=t._vOptions=[].map.call(t.options,er);if(o.some((function(t,e){return!B(t,n[e])}))){var s=t.multiple?e.value.some((function(t){return tr(t,o)})):e.value!==e.oldValue&&tr(e.value,o);s&&or(t,"change")}}}};function Qs(t,e,i){Zs(t,e,i),(tt||it)&&setTimeout((function(){Zs(t,e,i)}),0)}function Zs(t,e,i){var n=e.value,o=t.multiple;if(!o||Array.isArray(n)){for(var s,r,a=0,l=t.options.length;a<l;a++)if(r=t.options[a],o)s=P(n,er(r))>-1,r.selected!==s&&(r.selected=s);else if(B(er(r),n))return void(t.selectedIndex!==a&&(t.selectedIndex=a));o||(t.selectedIndex=-1)}}function tr(t,e){return e.every((function(e){return!B(e,t)}))}function er(t){return"_value"in t?t._value:t.value}function ir(t){t.target.composing=!0}function nr(t){t.target.composing&&(t.target.composing=!1,or(t.target,"input"))}function or(t,e){var i=document.createEvent("HTMLEvents");i.initEvent(e,!0,!0),t.dispatchEvent(i)}function sr(t){return!t.componentInstance||t.data&&t.data.transition?t:sr(t.componentInstance._vnode)}var rr={bind:function(t,e,i){var n=e.value;i=sr(i);var o=i.data&&i.data.transition,s=t.__vOriginalDisplay="none"===t.style.display?"":t.style.display;n&&o?(i.data.show=!0,Ws(i,(function(){t.style.display=s}))):t.style.display=n?s:"none"},update:function(t,e,i){var n=e.value,o=e.oldValue;if(!n!==!o){i=sr(i);var s=i.data&&i.data.transition;s?(i.data.show=!0,n?Ws(i,(function(){t.style.display=t.__vOriginalDisplay})):$s(i,(function(){t.style.display="none"}))):t.style.display=n?t.__vOriginalDisplay:"none"}},unbind:function(t,e,i,n,o){o||(t.style.display=t.__vOriginalDisplay)}},ar={model:Js,show:rr},lr={name:String,appear:Boolean,css:Boolean,mode:String,type:String,enterClass:String,leaveClass:String,enterToClass:String,leaveToClass:String,enterActiveClass:String,leaveActiveClass:String,appearClass:String,appearActiveClass:String,appearToClass:String,duration:[Number,String,Object]};function cr(t){var e=t&&t.componentOptions;return e&&e.Ctor.options.abstract?cr(Ei(e.children)):t}function ur(t){var e={},i=t.$options;for(var n in i.propsData)e[n]=t[n];var o=i._parentListeners;for(var s in o)e[S(s)]=o[s];return e}function hr(t,e){if(/\d-keep-alive$/.test(e.tag))return t("keep-alive",{props:e.componentOptions.propsData})}function dr(t){while(t=t.parent)if(t.data.transition)return!0}function pr(t,e){return e.key===t.key&&e.tag===t.tag}var _r=function(t){return t.tag||Ti(t)},gr=function(t){return"show"===t.name},fr={name:"transition",props:lr,abstract:!0,render:function(t){var e=this,i=this.$slots.default;if(i&&(i=i.filter(_r),i.length)){0;var n=this.mode;0;var o=i[0];if(dr(this.$vnode))return o;var s=cr(o);if(!s)return o;if(this._leaving)return hr(t,o);var r="__transition-"+this._uid+"-";s.key=null==s.key?s.isComment?r+"comment":r+s.tag:a(s.key)?0===String(s.key).indexOf(r)?s.key:r+s.key:s.key;var l=(s.data||(s.data={})).transition=ur(this),c=this._vnode,u=cr(c);if(s.data.directives&&s.data.directives.some(gr)&&(s.data.show=!0),u&&u.data&&!pr(s,u)&&!Ti(u)&&(!u.componentInstance||!u.componentInstance._vnode.isComment)){var h=u.data.transition=A({},l);if("out-in"===n)return this._leaving=!0,Te(h,"afterLeave",(function(){e._leaving=!1,e.$forceUpdate()})),hr(t,o);if("in-out"===n){if(Ti(s))return c;var d,p=function(){d()};Te(l,"afterEnter",p),Te(l,"enterCancelled",p),Te(h,"delayLeave",(function(t){d=t}))}}return o}}},mr=A({tag:String,moveClass:String},lr);delete mr.mode;var vr={props:mr,beforeMount:function(){var t=this,e=this._update;this._update=function(i,n){var o=Oi(t);t.__patch__(t._vnode,t.kept,!1,!0),t._vnode=t.kept,o(),e.call(t,i,n)}},render:function(t){for(var e=this.tag||this.$vnode.data.tag||"span",i=Object.create(null),n=this.prevChildren=this.children,o=this.$slots.default||[],s=this.children=[],r=ur(this),a=0;a<o.length;a++){var l=o[a];if(l.tag)if(null!=l.key&&0!==String(l.key).indexOf("__vlist"))s.push(l),i[l.key]=l,(l.data||(l.data={})).transition=r;else;}if(n){for(var c=[],u=[],h=0;h<n.length;h++){var d=n[h];d.data.transition=r,d.data.pos=d.elm.getBoundingClientRect(),i[d.key]?c.push(d):u.push(d)}this.kept=t(e,null,c),this.removed=u}return t(e,null,s)},updated:function(){var t=this.prevChildren,e=this.moveClass||(this.name||"v")+"-move";t.length&&this.hasMove(t[0].elm,e)&&(t.forEach(br),t.forEach(yr),t.forEach(Tr),this._reflow=document.body.offsetHeight,t.forEach((function(t){if(t.data.moved){var i=t.elm,n=i.style;Ds(i,e),n.transform=n.WebkitTransform=n.transitionDuration="",i.addEventListener(Os,i._moveCb=function t(n){n&&n.target!==i||n&&!/transform$/.test(n.propertyName)||(i.removeEventListener(Os,t),i._moveCb=null,Bs(i,e))})}})))},methods:{hasMove:function(t,e){if(!ws)return!1;if(this._hasMove)return this._hasMove;var i=t.cloneNode();t._transitionClasses&&t._transitionClasses.forEach((function(t){Ss(i,t)})),Es(i,e),i.style.display="none",this.$el.appendChild(i);var n=Hs(i);return this.$el.removeChild(i),this._hasMove=n.hasTransform}}};function br(t){t.elm._moveCb&&t.elm._moveCb(),t.elm._enterCb&&t.elm._enterCb()}function yr(t){t.data.newPos=t.elm.getBoundingClientRect()}function Tr(t){var e=t.data.pos,i=t.data.newPos,n=e.left-i.left,o=e.top-i.top;if(n||o){t.data.moved=!0;var s=t.elm.style;s.transform=s.WebkitTransform="translate("+n+"px,"+o+"px)",s.transitionDuration="0s"}}var Er={Transition:fr,TransitionGroup:vr};Sn.config.mustUseProp=Vn,Sn.config.isReservedTag=so,Sn.config.isReservedAttr=Fn,Sn.config.getTagNamespace=ro,Sn.config.isUnknownElement=lo,A(Sn.options.directives,ar),A(Sn.options.components,Er),Sn.prototype.__patch__=K?Ks:N,Sn.prototype.$mount=function(t,e){return t=t&&K?uo(t):void 0,Ni(this,t,e)},K&&setTimeout((function(){W.devtools&&ct&&ct.emit("init",Sn)}),0),e["a"]=Sn}).call(this,i("c8ba"))},"2ddc":function(t,e,i){var n,o,s;(function(r,a){o=[i("b7fd"),i("a884"),i("49d2"),i("fc06")],n=a,s="function"===typeof n?n.apply(e,o):n,void 0===s||(t.exports=s)})(0,(function(t,e,i,n){
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
"use strict";return t.setLocale(e),t.Blocks=t.Blocks||{},Object.keys(i).forEach((function(e){t.Blocks[e]=i[e]})),t.JavaScript=n,t}))},"332f":function(t,e){t.exports=function(t){var e="[À-ʸa-zA-Z_$][À-ʸa-zA-Z_$0-9]*",i=e+"(<"+e+"(\\s*,\\s*"+e+")*>)?",n="false synchronized int abstract float private char boolean var static null if const for true while long strictfp finally protected import native final void enum else break transient catch instanceof byte super volatile case assert short package default double public try this switch continue throws protected public private module requires exports do",o="\\b(0[bB]([01]+[01_]+[01]+|[01]+)|0[xX]([a-fA-F0-9]+[a-fA-F0-9_]+[a-fA-F0-9]+|[a-fA-F0-9]+)|(([\\d]+[\\d_]+[\\d]+|[\\d]+)(\\.([\\d]+[\\d_]+[\\d]+|[\\d]+))?|\\.([\\d]+[\\d_]+[\\d]+|[\\d]+))([eE][-+]?\\d+)?)[lLfF]?",s={className:"number",begin:o,relevance:0};return{aliases:["jsp"],keywords:n,illegal:/<\/|#/,contains:[t.COMMENT("/\\*\\*","\\*/",{relevance:0,contains:[{begin:/\w+@/,relevance:0},{className:"doctag",begin:"@[A-Za-z]+"}]}),t.C_LINE_COMMENT_MODE,t.C_BLOCK_COMMENT_MODE,t.APOS_STRING_MODE,t.QUOTE_STRING_MODE,{className:"class",beginKeywords:"class interface",end:/[{;=]/,excludeEnd:!0,keywords:"class interface",illegal:/[:"\[\]]/,contains:[{beginKeywords:"extends implements"},t.UNDERSCORE_TITLE_MODE]},{beginKeywords:"new throw return else",relevance:0},{className:"function",begin:"("+i+"\\s+)+"+t.UNDERSCORE_IDENT_RE+"\\s*\\(",returnBegin:!0,end:/[{;=]/,excludeEnd:!0,keywords:n,contains:[{begin:t.UNDERSCORE_IDENT_RE+"\\s*\\(",returnBegin:!0,relevance:0,contains:[t.UNDERSCORE_TITLE_MODE]},{className:"params",begin:/\(/,end:/\)/,keywords:n,relevance:0,contains:[t.APOS_STRING_MODE,t.QUOTE_STRING_MODE,t.C_NUMBER_MODE,t.C_BLOCK_COMMENT_MODE]},t.C_LINE_COMMENT_MODE,t.C_BLOCK_COMMENT_MODE]},s,{className:"meta",begin:"@[A-Za-z]+"}]}}},"3e68":function(t,e,i){"use strict";function n(t,e,i,n){switch(t){case 0:return e&i^~e&n;case 1:return e^i^n;case 2:return e&i^e&n^i&n;case 3:return e^i^n}}function o(t,e){return t<<e|t>>>32-e}function s(t){var e=[1518500249,1859775393,2400959708,3395469782],i=[1732584193,4023233417,2562383102,271733878,3285377520];if("string"==typeof t){var s=unescape(encodeURIComponent(t));t=new Array(s.length);for(var r=0;r<s.length;r++)t[r]=s.charCodeAt(r)}t.push(128);var a=t.length/4+2,l=Math.ceil(a/16),c=new Array(l);for(r=0;r<l;r++){c[r]=new Array(16);for(var u=0;u<16;u++)c[r][u]=t[64*r+4*u]<<24|t[64*r+4*u+1]<<16|t[64*r+4*u+2]<<8|t[64*r+4*u+3]}c[l-1][14]=8*(t.length-1)/Math.pow(2,32),c[l-1][14]=Math.floor(c[l-1][14]),c[l-1][15]=8*(t.length-1)&4294967295;for(r=0;r<l;r++){for(var h=new Array(80),d=0;d<16;d++)h[d]=c[r][d];for(d=16;d<80;d++)h[d]=o(h[d-3]^h[d-8]^h[d-14]^h[d-16],1);var p=i[0],_=i[1],g=i[2],f=i[3],m=i[4];for(d=0;d<80;d++){var v=Math.floor(d/20),b=o(p,5)+n(v,_,g,f)+m+e[v]+h[d]>>>0;m=f,f=g,g=o(_,30)>>>0,_=p,p=b}i[0]=i[0]+p>>>0,i[1]=i[1]+_>>>0,i[2]=i[2]+g>>>0,i[3]=i[3]+f>>>0,i[4]=i[4]+m>>>0}return[i[0]>>24&255,i[0]>>16&255,i[0]>>8&255,255&i[0],i[1]>>24&255,i[1]>>16&255,i[1]>>8&255,255&i[1],i[2]>>24&255,i[2]>>16&255,i[2]>>8&255,255&i[2],i[3]>>24&255,i[3]>>16&255,i[3]>>8&255,255&i[3],i[4]>>24&255,i[4]>>16&255,i[4]>>8&255,255&i[4]]}t.exports=s},4848:function(t,e,i){},"485f":function(t,e){t.exports=function(t){var e={className:"params",begin:"\\(",end:"\\)"},i={literal:".False. .True.",keyword:"kind do while private call intrinsic where elsewhere type endtype endmodule endselect endinterface end enddo endif if forall endforall only contains default return stop then public subroutine|10 function program .and. .or. .not. .le. .eq. .ge. .gt. .lt. goto save else use module select case access blank direct exist file fmt form formatted iostat name named nextrec number opened rec recl sequential status unformatted unit continue format pause cycle exit c_null_char c_alert c_backspace c_form_feed flush wait decimal round iomsg synchronous nopass non_overridable pass protected volatile abstract extends import non_intrinsic value deferred generic final enumerator class associate bind enum c_int c_short c_long c_long_long c_signed_char c_size_t c_int8_t c_int16_t c_int32_t c_int64_t c_int_least8_t c_int_least16_t c_int_least32_t c_int_least64_t c_int_fast8_t c_int_fast16_t c_int_fast32_t c_int_fast64_t c_intmax_t C_intptr_t c_float c_double c_long_double c_float_complex c_double_complex c_long_double_complex c_bool c_char c_null_ptr c_null_funptr c_new_line c_carriage_return c_horizontal_tab c_vertical_tab iso_c_binding c_loc c_funloc c_associated  c_f_pointer c_ptr c_funptr iso_fortran_env character_storage_size error_unit file_storage_size input_unit iostat_end iostat_eor numeric_storage_size output_unit c_f_procpointer ieee_arithmetic ieee_support_underflow_control ieee_get_underflow_mode ieee_set_underflow_mode newunit contiguous recursive pad position action delim readwrite eor advance nml interface procedure namelist include sequence elemental pure integer real character complex logical dimension allocatable|10 parameter external implicit|10 none double precision assign intent optional pointer target in out common equivalence data",built_in:"alog alog10 amax0 amax1 amin0 amin1 amod cabs ccos cexp clog csin csqrt dabs dacos dasin datan datan2 dcos dcosh ddim dexp dint dlog dlog10 dmax1 dmin1 dmod dnint dsign dsin dsinh dsqrt dtan dtanh float iabs idim idint idnint ifix isign max0 max1 min0 min1 sngl algama cdabs cdcos cdexp cdlog cdsin cdsqrt cqabs cqcos cqexp cqlog cqsin cqsqrt dcmplx dconjg derf derfc dfloat dgamma dimag dlgama iqint qabs qacos qasin qatan qatan2 qcmplx qconjg qcos qcosh qdim qerf qerfc qexp qgamma qimag qlgama qlog qlog10 qmax1 qmin1 qmod qnint qsign qsin qsinh qsqrt qtan qtanh abs acos aimag aint anint asin atan atan2 char cmplx conjg cos cosh exp ichar index int log log10 max min nint sign sin sinh sqrt tan tanh print write dim lge lgt lle llt mod nullify allocate deallocate adjustl adjustr all allocated any associated bit_size btest ceiling count cshift date_and_time digits dot_product eoshift epsilon exponent floor fraction huge iand ibclr ibits ibset ieor ior ishft ishftc lbound len_trim matmul maxexponent maxloc maxval merge minexponent minloc minval modulo mvbits nearest pack present product radix random_number random_seed range repeat reshape rrspacing scale scan selected_int_kind selected_real_kind set_exponent shape size spacing spread sum system_clock tiny transpose trim ubound unpack verify achar iachar transfer dble entry dprod cpu_time command_argument_count get_command get_command_argument get_environment_variable is_iostat_end ieee_arithmetic ieee_support_underflow_control ieee_get_underflow_mode ieee_set_underflow_mode is_iostat_eor move_alloc new_line selected_char_kind same_type_as extends_type_ofacosh asinh atanh bessel_j0 bessel_j1 bessel_jn bessel_y0 bessel_y1 bessel_yn erf erfc erfc_scaled gamma log_gamma hypot norm2 atomic_define atomic_ref execute_command_line leadz trailz storage_size merge_bits bge bgt ble blt dshiftl dshiftr findloc iall iany iparity image_index lcobound ucobound maskl maskr num_images parity popcnt poppar shifta shiftl shiftr this_image"};return{case_insensitive:!0,aliases:["f90","f95"],keywords:i,illegal:/\/\*/,contains:[t.inherit(t.APOS_STRING_MODE,{className:"string",relevance:0}),t.inherit(t.QUOTE_STRING_MODE,{className:"string",relevance:0}),{className:"function",beginKeywords:"subroutine function program",illegal:"[${=\\n]",contains:[t.UNDERSCORE_TITLE_MODE,e]},t.COMMENT("!","$",{relevance:0}),{className:"number",begin:"(?=\\b|\\+|\\-|\\.)(?=\\.\\d|\\d)(?:\\d+)?(?:\\.?\\d*)(?:[de][+-]?\\d+)?\\b\\.?",relevance:0}]}}},4953:function(t,e,i){},"49d2":function(t,e,i){var n,o,s;(function(r,a){o=[i("b7fd")],n=a,s="function"===typeof n?n.apply(e,o):n,void 0===s||(t.exports=s)})(0,(function(t){return t.Blocks={},t.Blocks.colour={},t.Constants={},t.Constants.Colour={},t.Constants.Colour.HUE=20,t.defineBlocksWithJsonArray([{type:"colour_picker",message0:"%1",args0:[{type:"field_colour",name:"COLOUR",colour:"#ff0000"}],output:"Colour",helpUrl:"%{BKY_COLOUR_PICKER_HELPURL}",style:"colour_blocks",tooltip:"%{BKY_COLOUR_PICKER_TOOLTIP}",extensions:["parent_tooltip_when_inline"]},{type:"colour_random",message0:"%{BKY_COLOUR_RANDOM_TITLE}",output:"Colour",helpUrl:"%{BKY_COLOUR_RANDOM_HELPURL}",style:"colour_blocks",tooltip:"%{BKY_COLOUR_RANDOM_TOOLTIP}"},{type:"colour_rgb",message0:"%{BKY_COLOUR_RGB_TITLE} %{BKY_COLOUR_RGB_RED} %1 %{BKY_COLOUR_RGB_GREEN} %2 %{BKY_COLOUR_RGB_BLUE} %3",args0:[{type:"input_value",name:"RED",check:"Number",align:"RIGHT"},{type:"input_value",name:"GREEN",check:"Number",align:"RIGHT"},{type:"input_value",name:"BLUE",check:"Number",align:"RIGHT"}],output:"Colour",helpUrl:"%{BKY_COLOUR_RGB_HELPURL}",style:"colour_blocks",tooltip:"%{BKY_COLOUR_RGB_TOOLTIP}"},{type:"colour_blend",message0:"%{BKY_COLOUR_BLEND_TITLE} %{BKY_COLOUR_BLEND_COLOUR1} %1 %{BKY_COLOUR_BLEND_COLOUR2} %2 %{BKY_COLOUR_BLEND_RATIO} %3",args0:[{type:"input_value",name:"COLOUR1",check:"Colour",align:"RIGHT"},{type:"input_value",name:"COLOUR2",check:"Colour",align:"RIGHT"},{type:"input_value",name:"RATIO",check:"Number",align:"RIGHT"}],output:"Colour",helpUrl:"%{BKY_COLOUR_BLEND_HELPURL}",style:"colour_blocks",tooltip:"%{BKY_COLOUR_BLEND_TOOLTIP}"}]),t.Blocks.lists={},t.Constants.Lists={},t.Constants.Lists.HUE=260,t.defineBlocksWithJsonArray([{type:"lists_create_empty",message0:"%{BKY_LISTS_CREATE_EMPTY_TITLE}",output:"Array",style:"list_blocks",tooltip:"%{BKY_LISTS_CREATE_EMPTY_TOOLTIP}",helpUrl:"%{BKY_LISTS_CREATE_EMPTY_HELPURL}"},{type:"lists_repeat",message0:"%{BKY_LISTS_REPEAT_TITLE}",args0:[{type:"input_value",name:"ITEM"},{type:"input_value",name:"NUM",check:"Number"}],output:"Array",style:"list_blocks",tooltip:"%{BKY_LISTS_REPEAT_TOOLTIP}",helpUrl:"%{BKY_LISTS_REPEAT_HELPURL}"},{type:"lists_reverse",message0:"%{BKY_LISTS_REVERSE_MESSAGE0}",args0:[{type:"input_value",name:"LIST",check:"Array"}],output:"Array",inputsInline:!0,style:"list_blocks",tooltip:"%{BKY_LISTS_REVERSE_TOOLTIP}",helpUrl:"%{BKY_LISTS_REVERSE_HELPURL}"},{type:"lists_isEmpty",message0:"%{BKY_LISTS_ISEMPTY_TITLE}",args0:[{type:"input_value",name:"VALUE",check:["String","Array"]}],output:"Boolean",style:"list_blocks",tooltip:"%{BKY_LISTS_ISEMPTY_TOOLTIP}",helpUrl:"%{BKY_LISTS_ISEMPTY_HELPURL}"},{type:"lists_length",message0:"%{BKY_LISTS_LENGTH_TITLE}",args0:[{type:"input_value",name:"VALUE",check:["String","Array"]}],output:"Number",style:"list_blocks",tooltip:"%{BKY_LISTS_LENGTH_TOOLTIP}",helpUrl:"%{BKY_LISTS_LENGTH_HELPURL}"}]),t.Blocks.lists_create_with={init:function(){this.setHelpUrl(t.Msg.LISTS_CREATE_WITH_HELPURL),this.setStyle("list_blocks"),this.itemCount_=3,this.updateShape_(),this.setOutput(!0,"Array"),this.setMutator(new t.Mutator(["lists_create_with_item"])),this.setTooltip(t.Msg.LISTS_CREATE_WITH_TOOLTIP)},mutationToDom:function(){var e=t.utils.xml.createElement("mutation");return e.setAttribute("items",this.itemCount_),e},domToMutation:function(t){this.itemCount_=parseInt(t.getAttribute("items"),10),this.updateShape_()},decompose:function(t){var e=t.newBlock("lists_create_with_container");e.initSvg();for(var i=e.getInput("STACK").connection,n=0;n<this.itemCount_;n++){var o=t.newBlock("lists_create_with_item");o.initSvg(),i.connect(o.previousConnection),i=o.nextConnection}return e},compose:function(e){var i=e.getInputTargetBlock("STACK");for(e=[];i;)e.push(i.valueConnection_),i=i.nextConnection&&i.nextConnection.targetBlock();for(i=0;i<this.itemCount_;i++){var n=this.getInput("ADD"+i).connection.targetConnection;n&&-1==e.indexOf(n)&&n.disconnect()}for(this.itemCount_=e.length,this.updateShape_(),i=0;i<this.itemCount_;i++)t.Mutator.reconnect(e[i],this,"ADD"+i)},saveConnections:function(t){t=t.getInputTargetBlock("STACK");for(var e=0;t;){var i=this.getInput("ADD"+e);t.valueConnection_=i&&i.connection.targetConnection,e++,t=t.nextConnection&&t.nextConnection.targetBlock()}},updateShape_:function(){this.itemCount_&&this.getInput("EMPTY")?this.removeInput("EMPTY"):this.itemCount_||this.getInput("EMPTY")||this.appendDummyInput("EMPTY").appendField(t.Msg.LISTS_CREATE_EMPTY_TITLE);for(var e=0;e<this.itemCount_;e++)if(!this.getInput("ADD"+e)){var i=this.appendValueInput("ADD"+e);0==e&&i.appendField(t.Msg.LISTS_CREATE_WITH_INPUT_WITH)}for(;this.getInput("ADD"+e);)this.removeInput("ADD"+e),e++}},t.Blocks.lists_create_with_container={init:function(){this.setStyle("list_blocks"),this.appendDummyInput().appendField(t.Msg.LISTS_CREATE_WITH_CONTAINER_TITLE_ADD),this.appendStatementInput("STACK"),this.setTooltip(t.Msg.LISTS_CREATE_WITH_CONTAINER_TOOLTIP),this.contextMenu=!1}},t.Blocks.lists_create_with_item={init:function(){this.setStyle("list_blocks"),this.appendDummyInput().appendField(t.Msg.LISTS_CREATE_WITH_ITEM_TITLE),this.setPreviousStatement(!0),this.setNextStatement(!0),this.setTooltip(t.Msg.LISTS_CREATE_WITH_ITEM_TOOLTIP),this.contextMenu=!1}},t.Blocks.lists_indexOf={init:function(){var e=[[t.Msg.LISTS_INDEX_OF_FIRST,"FIRST"],[t.Msg.LISTS_INDEX_OF_LAST,"LAST"]];this.setHelpUrl(t.Msg.LISTS_INDEX_OF_HELPURL),this.setStyle("list_blocks"),this.setOutput(!0,"Number"),this.appendValueInput("VALUE").setCheck("Array").appendField(t.Msg.LISTS_INDEX_OF_INPUT_IN_LIST),this.appendValueInput("FIND").appendField(new t.FieldDropdown(e),"END"),this.setInputsInline(!0);var i=this;this.setTooltip((function(){return t.Msg.LISTS_INDEX_OF_TOOLTIP.replace("%1",i.workspace.options.oneBasedIndex?"0":"-1")}))}},t.Blocks.lists_getIndex={init:function(){var e=[[t.Msg.LISTS_GET_INDEX_GET,"GET"],[t.Msg.LISTS_GET_INDEX_GET_REMOVE,"GET_REMOVE"],[t.Msg.LISTS_GET_INDEX_REMOVE,"REMOVE"]];this.WHERE_OPTIONS=[[t.Msg.LISTS_GET_INDEX_FROM_START,"FROM_START"],[t.Msg.LISTS_GET_INDEX_FROM_END,"FROM_END"],[t.Msg.LISTS_GET_INDEX_FIRST,"FIRST"],[t.Msg.LISTS_GET_INDEX_LAST,"LAST"],[t.Msg.LISTS_GET_INDEX_RANDOM,"RANDOM"]],this.setHelpUrl(t.Msg.LISTS_GET_INDEX_HELPURL),this.setStyle("list_blocks"),e=new t.FieldDropdown(e,(function(t){t="REMOVE"==t,this.getSourceBlock().updateStatement_(t)})),this.appendValueInput("VALUE").setCheck("Array").appendField(t.Msg.LISTS_GET_INDEX_INPUT_IN_LIST),this.appendDummyInput().appendField(e,"MODE").appendField("","SPACE"),this.appendDummyInput("AT"),t.Msg.LISTS_GET_INDEX_TAIL&&this.appendDummyInput("TAIL").appendField(t.Msg.LISTS_GET_INDEX_TAIL),this.setInputsInline(!0),this.setOutput(!0),this.updateAt_(!0);var i=this;this.setTooltip((function(){var e=i.getFieldValue("MODE"),n=i.getFieldValue("WHERE"),o="";switch(e+" "+n){case"GET FROM_START":case"GET FROM_END":o=t.Msg.LISTS_GET_INDEX_TOOLTIP_GET_FROM;break;case"GET FIRST":o=t.Msg.LISTS_GET_INDEX_TOOLTIP_GET_FIRST;break;case"GET LAST":o=t.Msg.LISTS_GET_INDEX_TOOLTIP_GET_LAST;break;case"GET RANDOM":o=t.Msg.LISTS_GET_INDEX_TOOLTIP_GET_RANDOM;break;case"GET_REMOVE FROM_START":case"GET_REMOVE FROM_END":o=t.Msg.LISTS_GET_INDEX_TOOLTIP_GET_REMOVE_FROM;break;case"GET_REMOVE FIRST":o=t.Msg.LISTS_GET_INDEX_TOOLTIP_GET_REMOVE_FIRST;break;case"GET_REMOVE LAST":o=t.Msg.LISTS_GET_INDEX_TOOLTIP_GET_REMOVE_LAST;break;case"GET_REMOVE RANDOM":o=t.Msg.LISTS_GET_INDEX_TOOLTIP_GET_REMOVE_RANDOM;break;case"REMOVE FROM_START":case"REMOVE FROM_END":o=t.Msg.LISTS_GET_INDEX_TOOLTIP_REMOVE_FROM;break;case"REMOVE FIRST":o=t.Msg.LISTS_GET_INDEX_TOOLTIP_REMOVE_FIRST;break;case"REMOVE LAST":o=t.Msg.LISTS_GET_INDEX_TOOLTIP_REMOVE_LAST;break;case"REMOVE RANDOM":o=t.Msg.LISTS_GET_INDEX_TOOLTIP_REMOVE_RANDOM}return"FROM_START"!=n&&"FROM_END"!=n||(o+="  "+("FROM_START"==n?t.Msg.LISTS_INDEX_FROM_START_TOOLTIP:t.Msg.LISTS_INDEX_FROM_END_TOOLTIP).replace("%1",i.workspace.options.oneBasedIndex?"#1":"#0")),o}))},mutationToDom:function(){var e=t.utils.xml.createElement("mutation");e.setAttribute("statement",!this.outputConnection);var i=this.getInput("AT").type==t.INPUT_VALUE;return e.setAttribute("at",i),e},domToMutation:function(t){var e="true"==t.getAttribute("statement");this.updateStatement_(e),t="false"!=t.getAttribute("at"),this.updateAt_(t)},updateStatement_:function(t){t!=!this.outputConnection&&(this.unplug(!0,!0),t?(this.setOutput(!1),this.setPreviousStatement(!0),this.setNextStatement(!0)):(this.setPreviousStatement(!1),this.setNextStatement(!1),this.setOutput(!0)))},updateAt_:function(e){this.removeInput("AT"),this.removeInput("ORDINAL",!0),e?(this.appendValueInput("AT").setCheck("Number"),t.Msg.ORDINAL_NUMBER_SUFFIX&&this.appendDummyInput("ORDINAL").appendField(t.Msg.ORDINAL_NUMBER_SUFFIX)):this.appendDummyInput("AT");var i=new t.FieldDropdown(this.WHERE_OPTIONS,(function(t){var i="FROM_START"==t||"FROM_END"==t;if(i!=e){var n=this.getSourceBlock();return n.updateAt_(i),n.setFieldValue(t,"WHERE"),null}}));this.getInput("AT").appendField(i,"WHERE"),t.Msg.LISTS_GET_INDEX_TAIL&&this.moveInputBefore("TAIL",null)}},t.Blocks.lists_setIndex={init:function(){var e=[[t.Msg.LISTS_SET_INDEX_SET,"SET"],[t.Msg.LISTS_SET_INDEX_INSERT,"INSERT"]];this.WHERE_OPTIONS=[[t.Msg.LISTS_GET_INDEX_FROM_START,"FROM_START"],[t.Msg.LISTS_GET_INDEX_FROM_END,"FROM_END"],[t.Msg.LISTS_GET_INDEX_FIRST,"FIRST"],[t.Msg.LISTS_GET_INDEX_LAST,"LAST"],[t.Msg.LISTS_GET_INDEX_RANDOM,"RANDOM"]],this.setHelpUrl(t.Msg.LISTS_SET_INDEX_HELPURL),this.setStyle("list_blocks"),this.appendValueInput("LIST").setCheck("Array").appendField(t.Msg.LISTS_SET_INDEX_INPUT_IN_LIST),this.appendDummyInput().appendField(new t.FieldDropdown(e),"MODE").appendField("","SPACE"),this.appendDummyInput("AT"),this.appendValueInput("TO").appendField(t.Msg.LISTS_SET_INDEX_INPUT_TO),this.setInputsInline(!0),this.setPreviousStatement(!0),this.setNextStatement(!0),this.setTooltip(t.Msg.LISTS_SET_INDEX_TOOLTIP),this.updateAt_(!0);var i=this;this.setTooltip((function(){var e=i.getFieldValue("MODE"),n=i.getFieldValue("WHERE"),o="";switch(e+" "+n){case"SET FROM_START":case"SET FROM_END":o=t.Msg.LISTS_SET_INDEX_TOOLTIP_SET_FROM;break;case"SET FIRST":o=t.Msg.LISTS_SET_INDEX_TOOLTIP_SET_FIRST;break;case"SET LAST":o=t.Msg.LISTS_SET_INDEX_TOOLTIP_SET_LAST;break;case"SET RANDOM":o=t.Msg.LISTS_SET_INDEX_TOOLTIP_SET_RANDOM;break;case"INSERT FROM_START":case"INSERT FROM_END":o=t.Msg.LISTS_SET_INDEX_TOOLTIP_INSERT_FROM;break;case"INSERT FIRST":o=t.Msg.LISTS_SET_INDEX_TOOLTIP_INSERT_FIRST;break;case"INSERT LAST":o=t.Msg.LISTS_SET_INDEX_TOOLTIP_INSERT_LAST;break;case"INSERT RANDOM":o=t.Msg.LISTS_SET_INDEX_TOOLTIP_INSERT_RANDOM}return"FROM_START"!=n&&"FROM_END"!=n||(o+="  "+t.Msg.LISTS_INDEX_FROM_START_TOOLTIP.replace("%1",i.workspace.options.oneBasedIndex?"#1":"#0")),o}))},mutationToDom:function(){var e=t.utils.xml.createElement("mutation"),i=this.getInput("AT").type==t.INPUT_VALUE;return e.setAttribute("at",i),e},domToMutation:function(t){t="false"!=t.getAttribute("at"),this.updateAt_(t)},updateAt_:function(e){this.removeInput("AT"),this.removeInput("ORDINAL",!0),e?(this.appendValueInput("AT").setCheck("Number"),t.Msg.ORDINAL_NUMBER_SUFFIX&&this.appendDummyInput("ORDINAL").appendField(t.Msg.ORDINAL_NUMBER_SUFFIX)):this.appendDummyInput("AT");var i=new t.FieldDropdown(this.WHERE_OPTIONS,(function(t){var i="FROM_START"==t||"FROM_END"==t;if(i!=e){var n=this.getSourceBlock();return n.updateAt_(i),n.setFieldValue(t,"WHERE"),null}}));this.moveInputBefore("AT","TO"),this.getInput("ORDINAL")&&this.moveInputBefore("ORDINAL","TO"),this.getInput("AT").appendField(i,"WHERE")}},t.Blocks.lists_getSublist={init:function(){this.WHERE_OPTIONS_1=[[t.Msg.LISTS_GET_SUBLIST_START_FROM_START,"FROM_START"],[t.Msg.LISTS_GET_SUBLIST_START_FROM_END,"FROM_END"],[t.Msg.LISTS_GET_SUBLIST_START_FIRST,"FIRST"]],this.WHERE_OPTIONS_2=[[t.Msg.LISTS_GET_SUBLIST_END_FROM_START,"FROM_START"],[t.Msg.LISTS_GET_SUBLIST_END_FROM_END,"FROM_END"],[t.Msg.LISTS_GET_SUBLIST_END_LAST,"LAST"]],this.setHelpUrl(t.Msg.LISTS_GET_SUBLIST_HELPURL),this.setStyle("list_blocks"),this.appendValueInput("LIST").setCheck("Array").appendField(t.Msg.LISTS_GET_SUBLIST_INPUT_IN_LIST),this.appendDummyInput("AT1"),this.appendDummyInput("AT2"),t.Msg.LISTS_GET_SUBLIST_TAIL&&this.appendDummyInput("TAIL").appendField(t.Msg.LISTS_GET_SUBLIST_TAIL),this.setInputsInline(!0),this.setOutput(!0,"Array"),this.updateAt_(1,!0),this.updateAt_(2,!0),this.setTooltip(t.Msg.LISTS_GET_SUBLIST_TOOLTIP)},mutationToDom:function(){var e=t.utils.xml.createElement("mutation"),i=this.getInput("AT1").type==t.INPUT_VALUE;return e.setAttribute("at1",i),i=this.getInput("AT2").type==t.INPUT_VALUE,e.setAttribute("at2",i),e},domToMutation:function(t){var e="true"==t.getAttribute("at1");t="true"==t.getAttribute("at2"),this.updateAt_(1,e),this.updateAt_(2,t)},updateAt_:function(e,i){this.removeInput("AT"+e),this.removeInput("ORDINAL"+e,!0),i?(this.appendValueInput("AT"+e).setCheck("Number"),t.Msg.ORDINAL_NUMBER_SUFFIX&&this.appendDummyInput("ORDINAL"+e).appendField(t.Msg.ORDINAL_NUMBER_SUFFIX)):this.appendDummyInput("AT"+e);var n=new t.FieldDropdown(this["WHERE_OPTIONS_"+e],(function(t){var n="FROM_START"==t||"FROM_END"==t;if(n!=i){var o=this.getSourceBlock();return o.updateAt_(e,n),o.setFieldValue(t,"WHERE"+e),null}}));this.getInput("AT"+e).appendField(n,"WHERE"+e),1==e&&(this.moveInputBefore("AT1","AT2"),this.getInput("ORDINAL1")&&this.moveInputBefore("ORDINAL1","AT2")),t.Msg.LISTS_GET_SUBLIST_TAIL&&this.moveInputBefore("TAIL",null)}},t.Blocks.lists_sort={init:function(){this.jsonInit({message0:t.Msg.LISTS_SORT_TITLE,args0:[{type:"field_dropdown",name:"TYPE",options:[[t.Msg.LISTS_SORT_TYPE_NUMERIC,"NUMERIC"],[t.Msg.LISTS_SORT_TYPE_TEXT,"TEXT"],[t.Msg.LISTS_SORT_TYPE_IGNORECASE,"IGNORE_CASE"]]},{type:"field_dropdown",name:"DIRECTION",options:[[t.Msg.LISTS_SORT_ORDER_ASCENDING,"1"],[t.Msg.LISTS_SORT_ORDER_DESCENDING,"-1"]]},{type:"input_value",name:"LIST",check:"Array"}],output:"Array",style:"list_blocks",tooltip:t.Msg.LISTS_SORT_TOOLTIP,helpUrl:t.Msg.LISTS_SORT_HELPURL})}},t.Blocks.lists_split={init:function(){var e=this,i=new t.FieldDropdown([[t.Msg.LISTS_SPLIT_LIST_FROM_TEXT,"SPLIT"],[t.Msg.LISTS_SPLIT_TEXT_FROM_LIST,"JOIN"]],(function(t){e.updateType_(t)}));this.setHelpUrl(t.Msg.LISTS_SPLIT_HELPURL),this.setStyle("list_blocks"),this.appendValueInput("INPUT").setCheck("String").appendField(i,"MODE"),this.appendValueInput("DELIM").setCheck("String").appendField(t.Msg.LISTS_SPLIT_WITH_DELIMITER),this.setInputsInline(!0),this.setOutput(!0,"Array"),this.setTooltip((function(){var i=e.getFieldValue("MODE");if("SPLIT"==i)return t.Msg.LISTS_SPLIT_TOOLTIP_SPLIT;if("JOIN"==i)return t.Msg.LISTS_SPLIT_TOOLTIP_JOIN;throw Error("Unknown mode: "+i)}))},updateType_:function(t){if(this.getFieldValue("MODE")!=t){var e=this.getInput("INPUT").connection;e.setShadowDom(null);var i=e.targetBlock();i&&(e.disconnect(),i.isShadow()?i.dispose():this.bumpNeighbours())}"SPLIT"==t?(this.outputConnection.setCheck("Array"),this.getInput("INPUT").setCheck("String")):(this.outputConnection.setCheck("String"),this.getInput("INPUT").setCheck("Array"))},mutationToDom:function(){var e=t.utils.xml.createElement("mutation");return e.setAttribute("mode",this.getFieldValue("MODE")),e},domToMutation:function(t){this.updateType_(t.getAttribute("mode"))}},t.Blocks.logic={},t.Constants.Logic={},t.Constants.Logic.HUE=210,t.defineBlocksWithJsonArray([{type:"logic_boolean",message0:"%1",args0:[{type:"field_dropdown",name:"BOOL",options:[["%{BKY_LOGIC_BOOLEAN_TRUE}","TRUE"],["%{BKY_LOGIC_BOOLEAN_FALSE}","FALSE"]]}],output:"Boolean",style:"logic_blocks",tooltip:"%{BKY_LOGIC_BOOLEAN_TOOLTIP}",helpUrl:"%{BKY_LOGIC_BOOLEAN_HELPURL}"},{type:"controls_if",message0:"%{BKY_CONTROLS_IF_MSG_IF} %1",args0:[{type:"input_value",name:"IF0",check:"Boolean"}],message1:"%{BKY_CONTROLS_IF_MSG_THEN} %1",args1:[{type:"input_statement",name:"DO0"}],previousStatement:null,nextStatement:null,style:"logic_blocks",helpUrl:"%{BKY_CONTROLS_IF_HELPURL}",mutator:"controls_if_mutator",extensions:["controls_if_tooltip"]},{type:"controls_ifelse",message0:"%{BKY_CONTROLS_IF_MSG_IF} %1",args0:[{type:"input_value",name:"IF0",check:"Boolean"}],message1:"%{BKY_CONTROLS_IF_MSG_THEN} %1",args1:[{type:"input_statement",name:"DO0"}],message2:"%{BKY_CONTROLS_IF_MSG_ELSE} %1",args2:[{type:"input_statement",name:"ELSE"}],previousStatement:null,nextStatement:null,style:"logic_blocks",tooltip:"%{BKYCONTROLS_IF_TOOLTIP_2}",helpUrl:"%{BKY_CONTROLS_IF_HELPURL}",extensions:["controls_if_tooltip"]},{type:"logic_compare",message0:"%1 %2 %3",args0:[{type:"input_value",name:"A"},{type:"field_dropdown",name:"OP",options:[["=","EQ"],["≠","NEQ"],["‏<","LT"],["‏≤","LTE"],["‏>","GT"],["‏≥","GTE"]]},{type:"input_value",name:"B"}],inputsInline:!0,output:"Boolean",style:"logic_blocks",helpUrl:"%{BKY_LOGIC_COMPARE_HELPURL}",extensions:["logic_compare","logic_op_tooltip"]},{type:"logic_operation",message0:"%1 %2 %3",args0:[{type:"input_value",name:"A",check:"Boolean"},{type:"field_dropdown",name:"OP",options:[["%{BKY_LOGIC_OPERATION_AND}","AND"],["%{BKY_LOGIC_OPERATION_OR}","OR"]]},{type:"input_value",name:"B",check:"Boolean"}],inputsInline:!0,output:"Boolean",style:"logic_blocks",helpUrl:"%{BKY_LOGIC_OPERATION_HELPURL}",extensions:["logic_op_tooltip"]},{type:"logic_negate",message0:"%{BKY_LOGIC_NEGATE_TITLE}",args0:[{type:"input_value",name:"BOOL",check:"Boolean"}],output:"Boolean",style:"logic_blocks",tooltip:"%{BKY_LOGIC_NEGATE_TOOLTIP}",helpUrl:"%{BKY_LOGIC_NEGATE_HELPURL}"},{type:"logic_null",message0:"%{BKY_LOGIC_NULL}",output:null,style:"logic_blocks",tooltip:"%{BKY_LOGIC_NULL_TOOLTIP}",helpUrl:"%{BKY_LOGIC_NULL_HELPURL}"},{type:"logic_ternary",message0:"%{BKY_LOGIC_TERNARY_CONDITION} %1",args0:[{type:"input_value",name:"IF",check:"Boolean"}],message1:"%{BKY_LOGIC_TERNARY_IF_TRUE} %1",args1:[{type:"input_value",name:"THEN"}],message2:"%{BKY_LOGIC_TERNARY_IF_FALSE} %1",args2:[{type:"input_value",name:"ELSE"}],output:null,style:"logic_blocks",tooltip:"%{BKY_LOGIC_TERNARY_TOOLTIP}",helpUrl:"%{BKY_LOGIC_TERNARY_HELPURL}",extensions:["logic_ternary"]}]),t.defineBlocksWithJsonArray([{type:"controls_if_if",message0:"%{BKY_CONTROLS_IF_IF_TITLE_IF}",nextStatement:null,enableContextMenu:!1,style:"logic_blocks",tooltip:"%{BKY_CONTROLS_IF_IF_TOOLTIP}"},{type:"controls_if_elseif",message0:"%{BKY_CONTROLS_IF_ELSEIF_TITLE_ELSEIF}",previousStatement:null,nextStatement:null,enableContextMenu:!1,style:"logic_blocks",tooltip:"%{BKY_CONTROLS_IF_ELSEIF_TOOLTIP}"},{type:"controls_if_else",message0:"%{BKY_CONTROLS_IF_ELSE_TITLE_ELSE}",previousStatement:null,enableContextMenu:!1,style:"logic_blocks",tooltip:"%{BKY_CONTROLS_IF_ELSE_TOOLTIP}"}]),t.Constants.Logic.TOOLTIPS_BY_OP={EQ:"%{BKY_LOGIC_COMPARE_TOOLTIP_EQ}",NEQ:"%{BKY_LOGIC_COMPARE_TOOLTIP_NEQ}",LT:"%{BKY_LOGIC_COMPARE_TOOLTIP_LT}",LTE:"%{BKY_LOGIC_COMPARE_TOOLTIP_LTE}",GT:"%{BKY_LOGIC_COMPARE_TOOLTIP_GT}",GTE:"%{BKY_LOGIC_COMPARE_TOOLTIP_GTE}",AND:"%{BKY_LOGIC_OPERATION_TOOLTIP_AND}",OR:"%{BKY_LOGIC_OPERATION_TOOLTIP_OR}"},t.Extensions.register("logic_op_tooltip",t.Extensions.buildTooltipForDropdown("OP",t.Constants.Logic.TOOLTIPS_BY_OP)),t.Constants.Logic.CONTROLS_IF_MUTATOR_MIXIN={elseifCount_:0,elseCount_:0,suppressPrefixSuffix:!0,mutationToDom:function(){if(!this.elseifCount_&&!this.elseCount_)return null;var e=t.utils.xml.createElement("mutation");return this.elseifCount_&&e.setAttribute("elseif",this.elseifCount_),this.elseCount_&&e.setAttribute("else",1),e},domToMutation:function(t){this.elseifCount_=parseInt(t.getAttribute("elseif"),10)||0,this.elseCount_=parseInt(t.getAttribute("else"),10)||0,this.rebuildShape_()},decompose:function(t){var e=t.newBlock("controls_if_if");e.initSvg();for(var i=e.nextConnection,n=1;n<=this.elseifCount_;n++){var o=t.newBlock("controls_if_elseif");o.initSvg(),i.connect(o.previousConnection),i=o.nextConnection}return this.elseCount_&&(t=t.newBlock("controls_if_else"),t.initSvg(),i.connect(t.previousConnection)),e},compose:function(t){t=t.nextConnection.targetBlock(),this.elseCount_=this.elseifCount_=0;for(var e=[null],i=[null],n=null;t;){switch(t.type){case"controls_if_elseif":this.elseifCount_++,e.push(t.valueConnection_),i.push(t.statementConnection_);break;case"controls_if_else":this.elseCount_++,n=t.statementConnection_;break;default:throw TypeError("Unknown block type: "+t.type)}t=t.nextConnection&&t.nextConnection.targetBlock()}this.updateShape_(),this.reconnectChildBlocks_(e,i,n)},saveConnections:function(t){t=t.nextConnection.targetBlock();for(var e=1;t;){switch(t.type){case"controls_if_elseif":var i=this.getInput("IF"+e),n=this.getInput("DO"+e);t.valueConnection_=i&&i.connection.targetConnection,t.statementConnection_=n&&n.connection.targetConnection,e++;break;case"controls_if_else":n=this.getInput("ELSE"),t.statementConnection_=n&&n.connection.targetConnection;break;default:throw TypeError("Unknown block type: "+t.type)}t=t.nextConnection&&t.nextConnection.targetBlock()}},rebuildShape_:function(){var t=[null],e=[null],i=null;this.getInput("ELSE")&&(i=this.getInput("ELSE").connection.targetConnection);for(var n=1;this.getInput("IF"+n);){var o=this.getInput("IF"+n),s=this.getInput("DO"+n);t.push(o.connection.targetConnection),e.push(s.connection.targetConnection),n++}this.updateShape_(),this.reconnectChildBlocks_(t,e,i)},updateShape_:function(){this.getInput("ELSE")&&this.removeInput("ELSE");for(var e=1;this.getInput("IF"+e);)this.removeInput("IF"+e),this.removeInput("DO"+e),e++;for(e=1;e<=this.elseifCount_;e++)this.appendValueInput("IF"+e).setCheck("Boolean").appendField(t.Msg.CONTROLS_IF_MSG_ELSEIF),this.appendStatementInput("DO"+e).appendField(t.Msg.CONTROLS_IF_MSG_THEN);this.elseCount_&&this.appendStatementInput("ELSE").appendField(t.Msg.CONTROLS_IF_MSG_ELSE)},reconnectChildBlocks_:function(e,i,n){for(var o=1;o<=this.elseifCount_;o++)t.Mutator.reconnect(e[o],this,"IF"+o),t.Mutator.reconnect(i[o],this,"DO"+o);t.Mutator.reconnect(n,this,"ELSE")}},t.Extensions.registerMutator("controls_if_mutator",t.Constants.Logic.CONTROLS_IF_MUTATOR_MIXIN,null,["controls_if_elseif","controls_if_else"]),t.Constants.Logic.CONTROLS_IF_TOOLTIP_EXTENSION=function(){this.setTooltip(function(){return this.elseifCount_||this.elseCount_?!this.elseifCount_&&this.elseCount_?t.Msg.CONTROLS_IF_TOOLTIP_2:this.elseifCount_&&!this.elseCount_?t.Msg.CONTROLS_IF_TOOLTIP_3:this.elseifCount_&&this.elseCount_?t.Msg.CONTROLS_IF_TOOLTIP_4:"":t.Msg.CONTROLS_IF_TOOLTIP_1}.bind(this))},t.Extensions.register("controls_if_tooltip",t.Constants.Logic.CONTROLS_IF_TOOLTIP_EXTENSION),t.Constants.Logic.LOGIC_COMPARE_ONCHANGE_MIXIN={onchange:function(e){this.prevBlocks_||(this.prevBlocks_=[null,null]);var i=this.getInputTargetBlock("A"),n=this.getInputTargetBlock("B");i&&n&&!i.outputConnection.checkType_(n.outputConnection)&&(t.Events.setGroup(e.group),e=this.prevBlocks_[0],e!==i&&(i.unplug(),e&&!e.isShadow()&&this.getInput("A").connection.connect(e.outputConnection)),i=this.prevBlocks_[1],i!==n&&(n.unplug(),i&&!i.isShadow()&&this.getInput("B").connection.connect(i.outputConnection)),this.bumpNeighbours(),t.Events.setGroup(!1)),this.prevBlocks_[0]=this.getInputTargetBlock("A"),this.prevBlocks_[1]=this.getInputTargetBlock("B")}},t.Constants.Logic.LOGIC_COMPARE_EXTENSION=function(){this.mixin(t.Constants.Logic.LOGIC_COMPARE_ONCHANGE_MIXIN)},t.Extensions.register("logic_compare",t.Constants.Logic.LOGIC_COMPARE_EXTENSION),t.Constants.Logic.LOGIC_TERNARY_ONCHANGE_MIXIN={prevParentConnection_:null,onchange:function(e){var i=this.getInputTargetBlock("THEN"),n=this.getInputTargetBlock("ELSE"),o=this.outputConnection.targetConnection;if((i||n)&&o)for(var s=0;2>s;s++){var r=1==s?i:n;r&&!r.outputConnection.checkType_(o)&&(t.Events.setGroup(e.group),o===this.prevParentConnection_?(this.unplug(),o.getSourceBlock().bumpNeighbours()):(r.unplug(),r.bumpNeighbours()),t.Events.setGroup(!1))}this.prevParentConnection_=o}},t.Extensions.registerMixin("logic_ternary",t.Constants.Logic.LOGIC_TERNARY_ONCHANGE_MIXIN),t.Blocks.loops={},t.Constants.Loops={},t.Constants.Loops.HUE=120,t.defineBlocksWithJsonArray([{type:"controls_repeat_ext",message0:"%{BKY_CONTROLS_REPEAT_TITLE}",args0:[{type:"input_value",name:"TIMES",check:"Number"}],message1:"%{BKY_CONTROLS_REPEAT_INPUT_DO} %1",args1:[{type:"input_statement",name:"DO"}],previousStatement:null,nextStatement:null,style:"loop_blocks",tooltip:"%{BKY_CONTROLS_REPEAT_TOOLTIP}",helpUrl:"%{BKY_CONTROLS_REPEAT_HELPURL}"},{type:"controls_repeat",message0:"%{BKY_CONTROLS_REPEAT_TITLE}",args0:[{type:"field_number",name:"TIMES",value:10,min:0,precision:1}],message1:"%{BKY_CONTROLS_REPEAT_INPUT_DO} %1",args1:[{type:"input_statement",name:"DO"}],previousStatement:null,nextStatement:null,style:"loop_blocks",tooltip:"%{BKY_CONTROLS_REPEAT_TOOLTIP}",helpUrl:"%{BKY_CONTROLS_REPEAT_HELPURL}"},{type:"controls_whileUntil",message0:"%1 %2",args0:[{type:"field_dropdown",name:"MODE",options:[["%{BKY_CONTROLS_WHILEUNTIL_OPERATOR_WHILE}","WHILE"],["%{BKY_CONTROLS_WHILEUNTIL_OPERATOR_UNTIL}","UNTIL"]]},{type:"input_value",name:"BOOL",check:"Boolean"}],message1:"%{BKY_CONTROLS_REPEAT_INPUT_DO} %1",args1:[{type:"input_statement",name:"DO"}],previousStatement:null,nextStatement:null,style:"loop_blocks",helpUrl:"%{BKY_CONTROLS_WHILEUNTIL_HELPURL}",extensions:["controls_whileUntil_tooltip"]},{type:"controls_for",message0:"%{BKY_CONTROLS_FOR_TITLE}",args0:[{type:"field_variable",name:"VAR",variable:null},{type:"input_value",name:"FROM",check:"Number",align:"RIGHT"},{type:"input_value",name:"TO",check:"Number",align:"RIGHT"},{type:"input_value",name:"BY",check:"Number",align:"RIGHT"}],message1:"%{BKY_CONTROLS_REPEAT_INPUT_DO} %1",args1:[{type:"input_statement",name:"DO"}],inputsInline:!0,previousStatement:null,nextStatement:null,style:"loop_blocks",helpUrl:"%{BKY_CONTROLS_FOR_HELPURL}",extensions:["contextMenu_newGetVariableBlock","controls_for_tooltip"]},{type:"controls_forEach",message0:"%{BKY_CONTROLS_FOREACH_TITLE}",args0:[{type:"field_variable",name:"VAR",variable:null},{type:"input_value",name:"LIST",check:"Array"}],message1:"%{BKY_CONTROLS_REPEAT_INPUT_DO} %1",args1:[{type:"input_statement",name:"DO"}],previousStatement:null,nextStatement:null,style:"loop_blocks",helpUrl:"%{BKY_CONTROLS_FOREACH_HELPURL}",extensions:["contextMenu_newGetVariableBlock","controls_forEach_tooltip"]},{type:"controls_flow_statements",message0:"%1",args0:[{type:"field_dropdown",name:"FLOW",options:[["%{BKY_CONTROLS_FLOW_STATEMENTS_OPERATOR_BREAK}","BREAK"],["%{BKY_CONTROLS_FLOW_STATEMENTS_OPERATOR_CONTINUE}","CONTINUE"]]}],previousStatement:null,style:"loop_blocks",helpUrl:"%{BKY_CONTROLS_FLOW_STATEMENTS_HELPURL}",extensions:["controls_flow_tooltip","controls_flow_in_loop_check"]}]),t.Constants.Loops.WHILE_UNTIL_TOOLTIPS={WHILE:"%{BKY_CONTROLS_WHILEUNTIL_TOOLTIP_WHILE}",UNTIL:"%{BKY_CONTROLS_WHILEUNTIL_TOOLTIP_UNTIL}"},t.Extensions.register("controls_whileUntil_tooltip",t.Extensions.buildTooltipForDropdown("MODE",t.Constants.Loops.WHILE_UNTIL_TOOLTIPS)),t.Constants.Loops.BREAK_CONTINUE_TOOLTIPS={BREAK:"%{BKY_CONTROLS_FLOW_STATEMENTS_TOOLTIP_BREAK}",CONTINUE:"%{BKY_CONTROLS_FLOW_STATEMENTS_TOOLTIP_CONTINUE}"},t.Extensions.register("controls_flow_tooltip",t.Extensions.buildTooltipForDropdown("FLOW",t.Constants.Loops.BREAK_CONTINUE_TOOLTIPS)),t.Constants.Loops.CUSTOM_CONTEXT_MENU_CREATE_VARIABLES_GET_MIXIN={customContextMenu:function(e){if(!this.isInFlyout){var i=this.getField("VAR").getVariable(),n=i.name;if(!this.isCollapsed()&&null!=n){var o={enabled:!0};o.text=t.Msg.VARIABLES_SET_CREATE_GET.replace("%1",n),i=t.Variables.generateVariableFieldDom(i),n=t.utils.xml.createElement("block"),n.setAttribute("type","variables_get"),n.appendChild(i),o.callback=t.ContextMenu.callbackFactory(this,n),e.push(o)}}}},t.Extensions.registerMixin("contextMenu_newGetVariableBlock",t.Constants.Loops.CUSTOM_CONTEXT_MENU_CREATE_VARIABLES_GET_MIXIN),t.Extensions.register("controls_for_tooltip",t.Extensions.buildTooltipWithFieldText("%{BKY_CONTROLS_FOR_TOOLTIP}","VAR")),t.Extensions.register("controls_forEach_tooltip",t.Extensions.buildTooltipWithFieldText("%{BKY_CONTROLS_FOREACH_TOOLTIP}","VAR")),t.Constants.Loops.CONTROL_FLOW_IN_LOOP_CHECK_MIXIN={LOOP_TYPES:["controls_repeat","controls_repeat_ext","controls_forEach","controls_for","controls_whileUntil"],suppressPrefixSuffix:!0,getSurroundLoop:function(e){do{if(-1!=t.Constants.Loops.CONTROL_FLOW_IN_LOOP_CHECK_MIXIN.LOOP_TYPES.indexOf(e.type))return e;e=e.getSurroundParent()}while(e);return null},onchange:function(e){this.workspace.isDragging&&!this.workspace.isDragging()&&(t.Constants.Loops.CONTROL_FLOW_IN_LOOP_CHECK_MIXIN.getSurroundLoop(this)?(this.setWarningText(null),this.isInFlyout||this.setEnabled(!0)):(this.setWarningText(t.Msg.CONTROLS_FLOW_STATEMENTS_WARNING),this.isInFlyout||this.getInheritedDisabled()||this.setEnabled(!1)))}},t.Extensions.registerMixin("controls_flow_in_loop_check",t.Constants.Loops.CONTROL_FLOW_IN_LOOP_CHECK_MIXIN),t.Blocks.math={},t.Constants.Math={},t.Constants.Math.HUE=230,t.defineBlocksWithJsonArray([{type:"math_number",message0:"%1",args0:[{type:"field_number",name:"NUM",value:0}],output:"Number",helpUrl:"%{BKY_MATH_NUMBER_HELPURL}",style:"math_blocks",tooltip:"%{BKY_MATH_NUMBER_TOOLTIP}",extensions:["parent_tooltip_when_inline"]},{type:"math_arithmetic",message0:"%1 %2 %3",args0:[{type:"input_value",name:"A",check:"Number"},{type:"field_dropdown",name:"OP",options:[["%{BKY_MATH_ADDITION_SYMBOL}","ADD"],["%{BKY_MATH_SUBTRACTION_SYMBOL}","MINUS"],["%{BKY_MATH_MULTIPLICATION_SYMBOL}","MULTIPLY"],["%{BKY_MATH_DIVISION_SYMBOL}","DIVIDE"],["%{BKY_MATH_POWER_SYMBOL}","POWER"]]},{type:"input_value",name:"B",check:"Number"}],inputsInline:!0,output:"Number",style:"math_blocks",helpUrl:"%{BKY_MATH_ARITHMETIC_HELPURL}",extensions:["math_op_tooltip"]},{type:"math_single",message0:"%1 %2",args0:[{type:"field_dropdown",name:"OP",options:[["%{BKY_MATH_SINGLE_OP_ROOT}","ROOT"],["%{BKY_MATH_SINGLE_OP_ABSOLUTE}","ABS"],["-","NEG"],["ln","LN"],["log10","LOG10"],["e^","EXP"],["10^","POW10"]]},{type:"input_value",name:"NUM",check:"Number"}],output:"Number",style:"math_blocks",helpUrl:"%{BKY_MATH_SINGLE_HELPURL}",extensions:["math_op_tooltip"]},{type:"math_trig",message0:"%1 %2",args0:[{type:"field_dropdown",name:"OP",options:[["%{BKY_MATH_TRIG_SIN}","SIN"],["%{BKY_MATH_TRIG_COS}","COS"],["%{BKY_MATH_TRIG_TAN}","TAN"],["%{BKY_MATH_TRIG_ASIN}","ASIN"],["%{BKY_MATH_TRIG_ACOS}","ACOS"],["%{BKY_MATH_TRIG_ATAN}","ATAN"]]},{type:"input_value",name:"NUM",check:"Number"}],output:"Number",style:"math_blocks",helpUrl:"%{BKY_MATH_TRIG_HELPURL}",extensions:["math_op_tooltip"]},{type:"math_constant",message0:"%1",args0:[{type:"field_dropdown",name:"CONSTANT",options:[["π","PI"],["e","E"],["φ","GOLDEN_RATIO"],["sqrt(2)","SQRT2"],["sqrt(½)","SQRT1_2"],["∞","INFINITY"]]}],output:"Number",style:"math_blocks",tooltip:"%{BKY_MATH_CONSTANT_TOOLTIP}",helpUrl:"%{BKY_MATH_CONSTANT_HELPURL}"},{type:"math_number_property",message0:"%1 %2",args0:[{type:"input_value",name:"NUMBER_TO_CHECK",check:"Number"},{type:"field_dropdown",name:"PROPERTY",options:[["%{BKY_MATH_IS_EVEN}","EVEN"],["%{BKY_MATH_IS_ODD}","ODD"],["%{BKY_MATH_IS_PRIME}","PRIME"],["%{BKY_MATH_IS_WHOLE}","WHOLE"],["%{BKY_MATH_IS_POSITIVE}","POSITIVE"],["%{BKY_MATH_IS_NEGATIVE}","NEGATIVE"],["%{BKY_MATH_IS_DIVISIBLE_BY}","DIVISIBLE_BY"]]}],inputsInline:!0,output:"Boolean",style:"math_blocks",tooltip:"%{BKY_MATH_IS_TOOLTIP}",mutator:"math_is_divisibleby_mutator"},{type:"math_change",message0:"%{BKY_MATH_CHANGE_TITLE}",args0:[{type:"field_variable",name:"VAR",variable:"%{BKY_MATH_CHANGE_TITLE_ITEM}"},{type:"input_value",name:"DELTA",check:"Number"}],previousStatement:null,nextStatement:null,style:"variable_blocks",helpUrl:"%{BKY_MATH_CHANGE_HELPURL}",extensions:["math_change_tooltip"]},{type:"math_round",message0:"%1 %2",args0:[{type:"field_dropdown",name:"OP",options:[["%{BKY_MATH_ROUND_OPERATOR_ROUND}","ROUND"],["%{BKY_MATH_ROUND_OPERATOR_ROUNDUP}","ROUNDUP"],["%{BKY_MATH_ROUND_OPERATOR_ROUNDDOWN}","ROUNDDOWN"]]},{type:"input_value",name:"NUM",check:"Number"}],output:"Number",style:"math_blocks",helpUrl:"%{BKY_MATH_ROUND_HELPURL}",tooltip:"%{BKY_MATH_ROUND_TOOLTIP}"},{type:"math_on_list",message0:"%1 %2",args0:[{type:"field_dropdown",name:"OP",options:[["%{BKY_MATH_ONLIST_OPERATOR_SUM}","SUM"],["%{BKY_MATH_ONLIST_OPERATOR_MIN}","MIN"],["%{BKY_MATH_ONLIST_OPERATOR_MAX}","MAX"],["%{BKY_MATH_ONLIST_OPERATOR_AVERAGE}","AVERAGE"],["%{BKY_MATH_ONLIST_OPERATOR_MEDIAN}","MEDIAN"],["%{BKY_MATH_ONLIST_OPERATOR_MODE}","MODE"],["%{BKY_MATH_ONLIST_OPERATOR_STD_DEV}","STD_DEV"],["%{BKY_MATH_ONLIST_OPERATOR_RANDOM}","RANDOM"]]},{type:"input_value",name:"LIST",check:"Array"}],output:"Number",style:"math_blocks",helpUrl:"%{BKY_MATH_ONLIST_HELPURL}",mutator:"math_modes_of_list_mutator",extensions:["math_op_tooltip"]},{type:"math_modulo",message0:"%{BKY_MATH_MODULO_TITLE}",args0:[{type:"input_value",name:"DIVIDEND",check:"Number"},{type:"input_value",name:"DIVISOR",check:"Number"}],inputsInline:!0,output:"Number",style:"math_blocks",tooltip:"%{BKY_MATH_MODULO_TOOLTIP}",helpUrl:"%{BKY_MATH_MODULO_HELPURL}"},{type:"math_constrain",message0:"%{BKY_MATH_CONSTRAIN_TITLE}",args0:[{type:"input_value",name:"VALUE",check:"Number"},{type:"input_value",name:"LOW",check:"Number"},{type:"input_value",name:"HIGH",check:"Number"}],inputsInline:!0,output:"Number",style:"math_blocks",tooltip:"%{BKY_MATH_CONSTRAIN_TOOLTIP}",helpUrl:"%{BKY_MATH_CONSTRAIN_HELPURL}"},{type:"math_random_int",message0:"%{BKY_MATH_RANDOM_INT_TITLE}",args0:[{type:"input_value",name:"FROM",check:"Number"},{type:"input_value",name:"TO",check:"Number"}],inputsInline:!0,output:"Number",style:"math_blocks",tooltip:"%{BKY_MATH_RANDOM_INT_TOOLTIP}",helpUrl:"%{BKY_MATH_RANDOM_INT_HELPURL}"},{type:"math_random_float",message0:"%{BKY_MATH_RANDOM_FLOAT_TITLE_RANDOM}",output:"Number",style:"math_blocks",tooltip:"%{BKY_MATH_RANDOM_FLOAT_TOOLTIP}",helpUrl:"%{BKY_MATH_RANDOM_FLOAT_HELPURL}"},{type:"math_atan2",message0:"%{BKY_MATH_ATAN2_TITLE}",args0:[{type:"input_value",name:"X",check:"Number"},{type:"input_value",name:"Y",check:"Number"}],inputsInline:!0,output:"Number",style:"math_blocks",tooltip:"%{BKY_MATH_ATAN2_TOOLTIP}",helpUrl:"%{BKY_MATH_ATAN2_HELPURL}"}]),t.Constants.Math.TOOLTIPS_BY_OP={ADD:"%{BKY_MATH_ARITHMETIC_TOOLTIP_ADD}",MINUS:"%{BKY_MATH_ARITHMETIC_TOOLTIP_MINUS}",MULTIPLY:"%{BKY_MATH_ARITHMETIC_TOOLTIP_MULTIPLY}",DIVIDE:"%{BKY_MATH_ARITHMETIC_TOOLTIP_DIVIDE}",POWER:"%{BKY_MATH_ARITHMETIC_TOOLTIP_POWER}",ROOT:"%{BKY_MATH_SINGLE_TOOLTIP_ROOT}",ABS:"%{BKY_MATH_SINGLE_TOOLTIP_ABS}",NEG:"%{BKY_MATH_SINGLE_TOOLTIP_NEG}",LN:"%{BKY_MATH_SINGLE_TOOLTIP_LN}",LOG10:"%{BKY_MATH_SINGLE_TOOLTIP_LOG10}",EXP:"%{BKY_MATH_SINGLE_TOOLTIP_EXP}",POW10:"%{BKY_MATH_SINGLE_TOOLTIP_POW10}",SIN:"%{BKY_MATH_TRIG_TOOLTIP_SIN}",COS:"%{BKY_MATH_TRIG_TOOLTIP_COS}",TAN:"%{BKY_MATH_TRIG_TOOLTIP_TAN}",ASIN:"%{BKY_MATH_TRIG_TOOLTIP_ASIN}",ACOS:"%{BKY_MATH_TRIG_TOOLTIP_ACOS}",ATAN:"%{BKY_MATH_TRIG_TOOLTIP_ATAN}",SUM:"%{BKY_MATH_ONLIST_TOOLTIP_SUM}",MIN:"%{BKY_MATH_ONLIST_TOOLTIP_MIN}",MAX:"%{BKY_MATH_ONLIST_TOOLTIP_MAX}",AVERAGE:"%{BKY_MATH_ONLIST_TOOLTIP_AVERAGE}",MEDIAN:"%{BKY_MATH_ONLIST_TOOLTIP_MEDIAN}",MODE:"%{BKY_MATH_ONLIST_TOOLTIP_MODE}",STD_DEV:"%{BKY_MATH_ONLIST_TOOLTIP_STD_DEV}",RANDOM:"%{BKY_MATH_ONLIST_TOOLTIP_RANDOM}"},t.Extensions.register("math_op_tooltip",t.Extensions.buildTooltipForDropdown("OP",t.Constants.Math.TOOLTIPS_BY_OP)),t.Constants.Math.IS_DIVISIBLEBY_MUTATOR_MIXIN={mutationToDom:function(){var e=t.utils.xml.createElement("mutation"),i="DIVISIBLE_BY"==this.getFieldValue("PROPERTY");return e.setAttribute("divisor_input",i),e},domToMutation:function(t){t="true"==t.getAttribute("divisor_input"),this.updateShape_(t)},updateShape_:function(t){var e=this.getInput("DIVISOR");t?e||this.appendValueInput("DIVISOR").setCheck("Number"):e&&this.removeInput("DIVISOR")}},t.Constants.Math.IS_DIVISIBLE_MUTATOR_EXTENSION=function(){this.getField("PROPERTY").setValidator((function(t){t="DIVISIBLE_BY"==t,this.getSourceBlock().updateShape_(t)}))},t.Extensions.registerMutator("math_is_divisibleby_mutator",t.Constants.Math.IS_DIVISIBLEBY_MUTATOR_MIXIN,t.Constants.Math.IS_DIVISIBLE_MUTATOR_EXTENSION),t.Extensions.register("math_change_tooltip",t.Extensions.buildTooltipWithFieldText("%{BKY_MATH_CHANGE_TOOLTIP}","VAR")),t.Constants.Math.LIST_MODES_MUTATOR_MIXIN={updateType_:function(t){"MODE"==t?this.outputConnection.setCheck("Array"):this.outputConnection.setCheck("Number")},mutationToDom:function(){var e=t.utils.xml.createElement("mutation");return e.setAttribute("op",this.getFieldValue("OP")),e},domToMutation:function(t){this.updateType_(t.getAttribute("op"))}},t.Constants.Math.LIST_MODES_MUTATOR_EXTENSION=function(){this.getField("OP").setValidator(function(t){this.updateType_(t)}.bind(this))},t.Extensions.registerMutator("math_modes_of_list_mutator",t.Constants.Math.LIST_MODES_MUTATOR_MIXIN,t.Constants.Math.LIST_MODES_MUTATOR_EXTENSION),t.Blocks.procedures={},t.Blocks.procedures_defnoreturn={init:function(){var e=new t.FieldTextInput("",t.Procedures.rename);e.setSpellcheck(!1),this.appendDummyInput().appendField(t.Msg.PROCEDURES_DEFNORETURN_TITLE).appendField(e,"NAME").appendField("","PARAMS"),this.setMutator(new t.Mutator(["procedures_mutatorarg"])),(this.workspace.options.comments||this.workspace.options.parentWorkspace&&this.workspace.options.parentWorkspace.options.comments)&&t.Msg.PROCEDURES_DEFNORETURN_COMMENT&&this.setCommentText(t.Msg.PROCEDURES_DEFNORETURN_COMMENT),this.setStyle("procedure_blocks"),this.setTooltip(t.Msg.PROCEDURES_DEFNORETURN_TOOLTIP),this.setHelpUrl(t.Msg.PROCEDURES_DEFNORETURN_HELPURL),this.arguments_=[],this.argumentVarModels_=[],this.setStatements_(!0),this.statementConnection_=null},setStatements_:function(e){this.hasStatements_!==e&&(e?(this.appendStatementInput("STACK").appendField(t.Msg.PROCEDURES_DEFNORETURN_DO),this.getInput("RETURN")&&this.moveInputBefore("STACK","RETURN")):this.removeInput("STACK",!0),this.hasStatements_=e)},updateParams_:function(){var e="";this.arguments_.length&&(e=t.Msg.PROCEDURES_BEFORE_PARAMS+" "+this.arguments_.join(", ")),t.Events.disable();try{this.setFieldValue(e,"PARAMS")}finally{t.Events.enable()}},mutationToDom:function(e){var i=t.utils.xml.createElement("mutation");e&&i.setAttribute("name",this.getFieldValue("NAME"));for(var n=0;n<this.argumentVarModels_.length;n++){var o=t.utils.xml.createElement("arg"),s=this.argumentVarModels_[n];o.setAttribute("name",s.name),o.setAttribute("varid",s.getId()),e&&this.paramIds_&&o.setAttribute("paramId",this.paramIds_[n]),i.appendChild(o)}return this.hasStatements_||i.setAttribute("statements","false"),i},domToMutation:function(e){this.arguments_=[],this.argumentVarModels_=[];for(var i,n=0;i=e.childNodes[n];n++)if("arg"==i.nodeName.toLowerCase()){var o=i.getAttribute("name");i=i.getAttribute("varid")||i.getAttribute("varId"),this.arguments_.push(o),i=t.Variables.getOrCreateVariablePackage(this.workspace,i,o,""),null!=i?this.argumentVarModels_.push(i):console.log("Failed to create a variable with name "+o+", ignoring.")}this.updateParams_(),t.Procedures.mutateCallers(this),this.setStatements_("false"!==e.getAttribute("statements"))},decompose:function(e){var i=t.utils.xml.createElement("block");i.setAttribute("type","procedures_mutatorcontainer");var n=t.utils.xml.createElement("statement");n.setAttribute("name","STACK"),i.appendChild(n);for(var o=0;o<this.arguments_.length;o++){var s=t.utils.xml.createElement("block");s.setAttribute("type","procedures_mutatorarg");var r=t.utils.xml.createElement("field");r.setAttribute("name","NAME");var a=t.utils.xml.createTextNode(this.arguments_[o]);r.appendChild(a),s.appendChild(r),r=t.utils.xml.createElement("next"),s.appendChild(r),n.appendChild(s),n=r}return e=t.Xml.domToBlock(i,e),"procedures_defreturn"==this.type?e.setFieldValue(this.hasStatements_,"STATEMENTS"):e.removeInput("STATEMENT_INPUT"),t.Procedures.mutateCallers(this),e},compose:function(e){this.arguments_=[],this.paramIds_=[],this.argumentVarModels_=[];for(var i=e.getInputTargetBlock("STACK");i;){var n=i.getFieldValue("NAME");this.arguments_.push(n),n=this.workspace.getVariable(n,""),this.argumentVarModels_.push(n),this.paramIds_.push(i.id),i=i.nextConnection&&i.nextConnection.targetBlock()}this.updateParams_(),t.Procedures.mutateCallers(this),e=e.getFieldValue("STATEMENTS"),null!==e&&(e="TRUE"==e,this.hasStatements_!=e)&&(e?(this.setStatements_(!0),t.Mutator.reconnect(this.statementConnection_,this,"STACK"),this.statementConnection_=null):(e=this.getInput("STACK").connection,(this.statementConnection_=e.targetConnection)&&(e=e.targetBlock(),e.unplug(),e.bumpNeighbours()),this.setStatements_(!1)))},getProcedureDef:function(){return[this.getFieldValue("NAME"),this.arguments_,!1]},getVars:function(){return this.arguments_},getVarModels:function(){return this.argumentVarModels_},renameVarById:function(e,i){var n=this.workspace.getVariableById(e);if(""==n.type){n=n.name;for(var o=this.workspace.getVariableById(i),s=!1,r=0;r<this.argumentVarModels_.length;r++)this.argumentVarModels_[r].getId()==e&&(this.arguments_[r]=o.name,this.argumentVarModels_[r]=o,s=!0);s&&(this.displayRenamedVar_(n,o.name),t.Procedures.mutateCallers(this))}},updateVarName:function(e){for(var i=e.name,n=!1,o=0;o<this.argumentVarModels_.length;o++)if(this.argumentVarModels_[o].getId()==e.getId()){var s=this.arguments_[o];this.arguments_[o]=i,n=!0}n&&(this.displayRenamedVar_(s,i),t.Procedures.mutateCallers(this))},displayRenamedVar_:function(e,i){if(this.updateParams_(),this.mutator&&this.mutator.isVisible())for(var n,o=this.mutator.workspace_.getAllBlocks(!1),s=0;n=o[s];s++)"procedures_mutatorarg"==n.type&&t.Names.equals(e,n.getFieldValue("NAME"))&&n.setFieldValue(i,"NAME")},customContextMenu:function(e){if(!this.isInFlyout){var i={enabled:!0},n=this.getFieldValue("NAME");i.text=t.Msg.PROCEDURES_CREATE_DO.replace("%1",n);var o=t.utils.xml.createElement("mutation");for(o.setAttribute("name",n),n=0;n<this.arguments_.length;n++){var s=t.utils.xml.createElement("arg");s.setAttribute("name",this.arguments_[n]),o.appendChild(s)}if(n=t.utils.xml.createElement("block"),n.setAttribute("type",this.callType_),n.appendChild(o),i.callback=t.ContextMenu.callbackFactory(this,n),e.push(i),!this.isCollapsed())for(n=0;n<this.argumentVarModels_.length;n++)i={enabled:!0},o=this.argumentVarModels_[n],i.text=t.Msg.VARIABLES_SET_CREATE_GET.replace("%1",o.name),o=t.Variables.generateVariableFieldDom(o),s=t.utils.xml.createElement("block"),s.setAttribute("type","variables_get"),s.appendChild(o),i.callback=t.ContextMenu.callbackFactory(this,s),e.push(i)}},callType_:"procedures_callnoreturn"},t.Blocks.procedures_defreturn={init:function(){var e=new t.FieldTextInput("",t.Procedures.rename);e.setSpellcheck(!1),this.appendDummyInput().appendField(t.Msg.PROCEDURES_DEFRETURN_TITLE).appendField(e,"NAME").appendField("","PARAMS"),this.appendValueInput("RETURN").setAlign(t.ALIGN_RIGHT).appendField(t.Msg.PROCEDURES_DEFRETURN_RETURN),this.setMutator(new t.Mutator(["procedures_mutatorarg"])),(this.workspace.options.comments||this.workspace.options.parentWorkspace&&this.workspace.options.parentWorkspace.options.comments)&&t.Msg.PROCEDURES_DEFRETURN_COMMENT&&this.setCommentText(t.Msg.PROCEDURES_DEFRETURN_COMMENT),this.setStyle("procedure_blocks"),this.setTooltip(t.Msg.PROCEDURES_DEFRETURN_TOOLTIP),this.setHelpUrl(t.Msg.PROCEDURES_DEFRETURN_HELPURL),this.arguments_=[],this.argumentVarModels_=[],this.setStatements_(!0),this.statementConnection_=null},setStatements_:t.Blocks.procedures_defnoreturn.setStatements_,updateParams_:t.Blocks.procedures_defnoreturn.updateParams_,mutationToDom:t.Blocks.procedures_defnoreturn.mutationToDom,domToMutation:t.Blocks.procedures_defnoreturn.domToMutation,decompose:t.Blocks.procedures_defnoreturn.decompose,compose:t.Blocks.procedures_defnoreturn.compose,getProcedureDef:function(){return[this.getFieldValue("NAME"),this.arguments_,!0]},getVars:t.Blocks.procedures_defnoreturn.getVars,getVarModels:t.Blocks.procedures_defnoreturn.getVarModels,renameVarById:t.Blocks.procedures_defnoreturn.renameVarById,updateVarName:t.Blocks.procedures_defnoreturn.updateVarName,displayRenamedVar_:t.Blocks.procedures_defnoreturn.displayRenamedVar_,customContextMenu:t.Blocks.procedures_defnoreturn.customContextMenu,callType_:"procedures_callreturn"},t.Blocks.procedures_mutatorcontainer={init:function(){this.appendDummyInput().appendField(t.Msg.PROCEDURES_MUTATORCONTAINER_TITLE),this.appendStatementInput("STACK"),this.appendDummyInput("STATEMENT_INPUT").appendField(t.Msg.PROCEDURES_ALLOW_STATEMENTS).appendField(new t.FieldCheckbox("TRUE"),"STATEMENTS"),this.setStyle("procedure_blocks"),this.setTooltip(t.Msg.PROCEDURES_MUTATORCONTAINER_TOOLTIP),this.contextMenu=!1},onchange:function(e){if(this.workspace&&!this.workspace.isFlyout&&(e.type==t.Events.BLOCK_DELETE||e.type==t.Events.BLOCK_CREATE)){var i=this.workspace.getAllBlocks(),n=this.workspace.getAllVariables();if(e.type==t.Events.BLOCK_DELETE){e=[];for(var o=0;o<i.length;o+=1)i[o].getFieldValue("NAME")&&e.push(i[o].getFieldValue("NAME"));for(i=0;i<n.length;i+=1)-1==e.indexOf(n[i].name)&&this.workspace.deleteVariableById(n[i].getId())}else if(e.type==t.Events.BLOCK_CREATE&&(n=this.workspace.getBlockById(e.blockId),n.getField("NAME")&&(o=n.getFieldValue("NAME"),(e=this.workspace.getVariable(o))||(e=this.workspace.createVariable(o)),!n.previousConnection.isConnected()&&!n.nextConnection.isConnected())))for(o=0;o<i.length;o+=1)if(n.id!=i[o].id&&i[o].getFieldValue("NAME")==e.name){o=t.Variables.generateUniqueName(this.workspace),e=this.workspace.createVariable(o),n.setFieldValue(e.name,"NAME");break}}}},t.Blocks.procedures_mutatorarg={init:function(){var e=new t.FieldTextInput("x",this.validator_);e.oldShowEditorFn_=e.showEditor_,e.showEditor_=function(){this.createdVariables_=[],this.oldShowEditorFn_()},this.appendDummyInput().appendField(t.Msg.PROCEDURES_MUTATORARG_TITLE).appendField(e,"NAME"),this.setPreviousStatement(!0),this.setNextStatement(!0),this.setStyle("procedure_blocks"),this.setTooltip(t.Msg.PROCEDURES_MUTATORARG_TOOLTIP),this.contextMenu=!1,e.onFinishEditing_=this.deleteIntermediateVars_,e.createdVariables_=[],e.onFinishEditing_("x")},validator_:function(e){var i=this.getSourceBlock(),n=t.Mutator.findParentWs(i.workspace);if(e=e.replace(/[\s\xa0]+/g," ").replace(/^ | $/g,""),!e)return null;i=i.workspace.getAllBlocks();for(var o=0;o<i.length;o++)if(i[o].id!=this.getSourceBlock().id&&i[o].getFieldValue("NAME")==e)return null;return(i=n.getVariable(e,""))&&i.name!=e&&n.renameVariableById(i.getId(),e),i||(i=n.createVariable(e,""))&&this.createdVariables_&&this.createdVariables_.push(i),e},deleteIntermediateVars_:function(e){var i=t.Mutator.findParentWs(this.getSourceBlock().workspace);if(i)for(var n=0;n<this.createdVariables_.length;n++){var o=this.createdVariables_[n];o.name!=e&&i.deleteVariableById(o.getId())}}},t.Blocks.procedures_callnoreturn={init:function(){this.appendDummyInput("TOPROW").appendField(this.id,"NAME"),this.setPreviousStatement(!0),this.setNextStatement(!0),this.setStyle("procedure_blocks"),this.setHelpUrl(t.Msg.PROCEDURES_CALLNORETURN_HELPURL),this.arguments_=[],this.argumentVarModels_=[],this.quarkConnections_={},this.quarkIds_=null,this.previousEnabledState_=!0},getProcedureCall:function(){return this.getFieldValue("NAME")},renameProcedure:function(e,i){t.Names.equals(e,this.getProcedureCall())&&(this.setFieldValue(i,"NAME"),this.setTooltip((this.outputConnection?t.Msg.PROCEDURES_CALLRETURN_TOOLTIP:t.Msg.PROCEDURES_CALLNORETURN_TOOLTIP).replace("%1",i)))},setProcedureParameters_:function(e,i){var n=t.Procedures.getDefinition(this.getProcedureCall(),this.workspace),o=n&&n.mutator&&n.mutator.isVisible();if(o||(this.quarkConnections_={},this.quarkIds_=null),i)if(e.join("\n")==this.arguments_.join("\n"))this.quarkIds_=i;else{if(i.length!=e.length)throw RangeError("paramNames and paramIds must be the same length.");this.setCollapsed(!1),this.quarkIds_||(this.quarkConnections_={},this.quarkIds_=[]),n=this.rendered,this.rendered=!1;for(var s=0;s<this.arguments_.length;s++){var r=this.getInput("ARG"+s);r&&(r=r.connection.targetConnection,this.quarkConnections_[this.quarkIds_[s]]=r,o&&r&&-1==i.indexOf(this.quarkIds_[s])&&(r.disconnect(),r.getSourceBlock().bumpNeighbours()))}for(this.arguments_=[].concat(e),this.argumentVarModels_=[],s=0;s<this.arguments_.length;s++)o=t.Variables.getOrCreateVariablePackage(this.workspace,null,this.arguments_[s],""),this.argumentVarModels_.push(o);if(this.updateShape_(),this.quarkIds_=i)for(s=0;s<this.arguments_.length;s++)o=this.quarkIds_[s],o in this.quarkConnections_&&(r=this.quarkConnections_[o],t.Mutator.reconnect(r,this,"ARG"+s)||delete this.quarkConnections_[o]);(this.rendered=n)&&this.render()}},updateShape_:function(){for(var e=0;e<this.arguments_.length;e++){var i=this.getField("ARGNAME"+e);if(i){t.Events.disable();try{i.setValue(this.arguments_[e])}finally{t.Events.enable()}}else i=new t.FieldLabel(this.arguments_[e]),this.appendValueInput("ARG"+e).setAlign(t.ALIGN_RIGHT).appendField(i,"ARGNAME"+e).init()}for(;this.getInput("ARG"+e);)this.removeInput("ARG"+e),e++;(e=this.getInput("TOPROW"))&&(this.arguments_.length?this.getField("WITH")||(e.appendField(t.Msg.PROCEDURES_CALL_BEFORE_PARAMS,"WITH"),e.init()):this.getField("WITH")&&e.removeField("WITH"))},mutationToDom:function(){var e=t.utils.xml.createElement("mutation");e.setAttribute("name",this.getProcedureCall());for(var i=0;i<this.arguments_.length;i++){var n=t.utils.xml.createElement("arg");n.setAttribute("name",this.arguments_[i]),e.appendChild(n)}return e},domToMutation:function(t){var e=t.getAttribute("name");this.renameProcedure(this.getProcedureCall(),e),e=[];for(var i,n=[],o=0;i=t.childNodes[o];o++)"arg"==i.nodeName.toLowerCase()&&(e.push(i.getAttribute("name")),n.push(i.getAttribute("paramId")));this.setProcedureParameters_(e,n)},getVarModels:function(){return this.argumentVarModels_},onchange:function(e){if(this.workspace&&!this.workspace.isFlyout&&e.recordUndo)if(e.type==t.Events.BLOCK_CREATE&&-1!=e.ids.indexOf(this.id)){var i=this.getProcedureCall();if(i=t.Procedures.getDefinition(i,this.workspace),!i||i.type==this.defType_&&JSON.stringify(i.arguments_)==JSON.stringify(this.arguments_)||(i=null),!i){t.Events.setGroup(e.group),e=t.utils.xml.createElement("xml"),i=t.utils.xml.createElement("block"),i.setAttribute("type",this.defType_);var n=this.getRelativeToSurfaceXY(),o=n.y+2*t.SNAP_RADIUS;i.setAttribute("x",n.x+t.SNAP_RADIUS*(this.RTL?-1:1)),i.setAttribute("y",o),n=this.mutationToDom(),i.appendChild(n),n=t.utils.xml.createElement("field"),n.setAttribute("name","NAME"),n.appendChild(t.utils.xml.createTextNode(this.getProcedureCall())),i.appendChild(n),e.appendChild(i),t.Xml.domToWorkspace(e,this.workspace),t.Events.setGroup(!1)}}else e.type==t.Events.BLOCK_DELETE?(i=this.getProcedureCall(),i=t.Procedures.getDefinition(i,this.workspace),i||(t.Events.setGroup(e.group),this.dispose(!0,!1),t.Events.setGroup(!1))):e.type==t.Events.CHANGE&&"disabled"==e.element&&(i=this.getProcedureCall(),(i=t.Procedures.getDefinition(i,this.workspace))&&i.id==e.blockId&&((i=t.Events.getGroup())&&console.log("Saw an existing group while responding to a definition change"),t.Events.setGroup(e.group),e.newValue?(this.previousEnabledState_=this.isEnabled(),this.setEnabled(!1)):this.setEnabled(this.previousEnabledState_),t.Events.setGroup(i)))},customContextMenu:function(e){if(this.workspace.isMovable()){var i={enabled:!0};i.text=t.Msg.PROCEDURES_HIGHLIGHT_DEF;var n=this.getProcedureCall(),o=this.workspace;i.callback=function(){var e=t.Procedures.getDefinition(n,o);e&&(o.centerOnBlock(e.id),e.select())},e.push(i)}},defType_:"procedures_defnoreturn"},t.Blocks.procedures_callreturn={init:function(){this.appendDummyInput("TOPROW").appendField("","NAME"),this.setOutput(!0),this.setStyle("procedure_blocks"),this.setHelpUrl(t.Msg.PROCEDURES_CALLRETURN_HELPURL),this.arguments_=[],this.quarkConnections_={},this.quarkIds_=null,this.previousEnabledState_=!0},getProcedureCall:t.Blocks.procedures_callnoreturn.getProcedureCall,renameProcedure:t.Blocks.procedures_callnoreturn.renameProcedure,setProcedureParameters_:t.Blocks.procedures_callnoreturn.setProcedureParameters_,updateShape_:t.Blocks.procedures_callnoreturn.updateShape_,mutationToDom:t.Blocks.procedures_callnoreturn.mutationToDom,domToMutation:t.Blocks.procedures_callnoreturn.domToMutation,getVarModels:t.Blocks.procedures_callnoreturn.getVarModels,onchange:t.Blocks.procedures_callnoreturn.onchange,customContextMenu:t.Blocks.procedures_callnoreturn.customContextMenu,defType_:"procedures_defreturn"},t.Blocks.procedures_ifreturn={init:function(){this.appendValueInput("CONDITION").setCheck("Boolean").appendField(t.Msg.CONTROLS_IF_MSG_IF),this.appendValueInput("VALUE").appendField(t.Msg.PROCEDURES_DEFRETURN_RETURN),this.setInputsInline(!0),this.setPreviousStatement(!0),this.setNextStatement(!0),this.setStyle("procedure_blocks"),this.setTooltip(t.Msg.PROCEDURES_IFRETURN_TOOLTIP),this.setHelpUrl(t.Msg.PROCEDURES_IFRETURN_HELPURL),this.hasReturnValue_=!0},mutationToDom:function(){var e=t.utils.xml.createElement("mutation");return e.setAttribute("value",Number(this.hasReturnValue_)),e},domToMutation:function(e){this.hasReturnValue_=1==e.getAttribute("value"),this.hasReturnValue_||(this.removeInput("VALUE"),this.appendDummyInput("VALUE").appendField(t.Msg.PROCEDURES_DEFRETURN_RETURN))},onchange:function(e){if(this.workspace.isDragging&&!this.workspace.isDragging()){e=!1;var i=this;do{if(-1!=this.FUNCTION_TYPES.indexOf(i.type)){e=!0;break}i=i.getSurroundParent()}while(i);e?("procedures_defnoreturn"==i.type&&this.hasReturnValue_?(this.removeInput("VALUE"),this.appendDummyInput("VALUE").appendField(t.Msg.PROCEDURES_DEFRETURN_RETURN),this.hasReturnValue_=!1):"procedures_defreturn"!=i.type||this.hasReturnValue_||(this.removeInput("VALUE"),this.appendValueInput("VALUE").appendField(t.Msg.PROCEDURES_DEFRETURN_RETURN),this.hasReturnValue_=!0),this.setWarningText(null),this.isInFlyout||this.setEnabled(!0)):(this.setWarningText(t.Msg.PROCEDURES_IFRETURN_WARNING),this.isInFlyout||this.getInheritedDisabled()||this.setEnabled(!1))}},FUNCTION_TYPES:["procedures_defnoreturn","procedures_defreturn"]},t.Blocks.texts={},t.Constants.Text={},t.Constants.Text.HUE=160,t.defineBlocksWithJsonArray([{type:"text",message0:"%1",args0:[{type:"field_input",name:"TEXT",text:""}],output:"String",style:"text_blocks",helpUrl:"%{BKY_TEXT_TEXT_HELPURL}",tooltip:"%{BKY_TEXT_TEXT_TOOLTIP}",extensions:["text_quotes","parent_tooltip_when_inline"]},{type:"text_multiline",message0:"%1 %2",args0:[{type:"field_image",src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAwAAAARCAYAAADpPU2iAAAABGdBTUEAALGPC/xhBQAAAAlwSFlzAAAdhgAAHYYBXaITgQAAABh0RVh0U29mdHdhcmUAcGFpbnQubmV0IDQuMS42/U4J6AAAAP1JREFUOE+Vks0KQUEYhjmRIja4ABtZ2dm5A3t3Ia6AUm7CylYuQRaUhZSlLZJiQbFAyRnPN33y01HOW08z8873zpwzM4F3GWOCruvGIE4/rLaV+Nq1hVGMBqzhqlxgCys4wJA65xnogMHsQ5lujnYHTejBBCK2mE4abjCgMGhNxHgDFWjDSG07kdfVa2pZMf4ZyMAdWmpZMfYOsLiDMYMjlMB+K613QISRhTnITnsYg5yUd0DETmEoMlkFOeIT/A58iyK5E18BuTBfgYXfwNJv4P9/oEBerLylOnRhygmGdPpTTBZAPkde61lbQe4moWUvYUZYLfUNftIY4zwA5X2Z9AYnQrEAAAAASUVORK5CYII=",width:12,height:17,alt:"¶"},{type:"field_multilinetext",name:"TEXT",text:""}],output:"String",style:"text_blocks",helpUrl:"%{BKY_TEXT_TEXT_HELPURL}",tooltip:"%{BKY_TEXT_TEXT_TOOLTIP}",extensions:["parent_tooltip_when_inline"]},{type:"text_join",message0:"",output:"String",style:"text_blocks",helpUrl:"%{BKY_TEXT_JOIN_HELPURL}",tooltip:"%{BKY_TEXT_JOIN_TOOLTIP}",mutator:"text_join_mutator"},{type:"text_create_join_container",message0:"%{BKY_TEXT_CREATE_JOIN_TITLE_JOIN} %1 %2",args0:[{type:"input_dummy"},{type:"input_statement",name:"STACK"}],style:"text_blocks",tooltip:"%{BKY_TEXT_CREATE_JOIN_TOOLTIP}",enableContextMenu:!1},{type:"text_create_join_item",message0:"%{BKY_TEXT_CREATE_JOIN_ITEM_TITLE_ITEM}",previousStatement:null,nextStatement:null,style:"text_blocks",tooltip:"%{BKY_TEXT_CREATE_JOIN_ITEM_TOOLTIP}",enableContextMenu:!1},{type:"text_append",message0:"%{BKY_TEXT_APPEND_TITLE}",args0:[{type:"field_variable",name:"VAR",variable:"%{BKY_TEXT_APPEND_VARIABLE}"},{type:"input_value",name:"TEXT"}],previousStatement:null,nextStatement:null,style:"text_blocks",extensions:["text_append_tooltip"]},{type:"text_length",message0:"%{BKY_TEXT_LENGTH_TITLE}",args0:[{type:"input_value",name:"VALUE",check:["String","Array"]}],output:"Number",style:"text_blocks",tooltip:"%{BKY_TEXT_LENGTH_TOOLTIP}",helpUrl:"%{BKY_TEXT_LENGTH_HELPURL}"},{type:"text_isEmpty",message0:"%{BKY_TEXT_ISEMPTY_TITLE}",args0:[{type:"input_value",name:"VALUE",check:["String","Array"]}],output:"Boolean",style:"text_blocks",tooltip:"%{BKY_TEXT_ISEMPTY_TOOLTIP}",helpUrl:"%{BKY_TEXT_ISEMPTY_HELPURL}"},{type:"text_indexOf",message0:"%{BKY_TEXT_INDEXOF_TITLE}",args0:[{type:"input_value",name:"VALUE",check:"String"},{type:"field_dropdown",name:"END",options:[["%{BKY_TEXT_INDEXOF_OPERATOR_FIRST}","FIRST"],["%{BKY_TEXT_INDEXOF_OPERATOR_LAST}","LAST"]]},{type:"input_value",name:"FIND",check:"String"}],output:"Number",style:"text_blocks",helpUrl:"%{BKY_TEXT_INDEXOF_HELPURL}",inputsInline:!0,extensions:["text_indexOf_tooltip"]},{type:"text_charAt",message0:"%{BKY_TEXT_CHARAT_TITLE}",args0:[{type:"input_value",name:"VALUE",check:"String"},{type:"field_dropdown",name:"WHERE",options:[["%{BKY_TEXT_CHARAT_FROM_START}","FROM_START"],["%{BKY_TEXT_CHARAT_FROM_END}","FROM_END"],["%{BKY_TEXT_CHARAT_FIRST}","FIRST"],["%{BKY_TEXT_CHARAT_LAST}","LAST"],["%{BKY_TEXT_CHARAT_RANDOM}","RANDOM"]]}],output:"String",style:"text_blocks",helpUrl:"%{BKY_TEXT_CHARAT_HELPURL}",inputsInline:!0,mutator:"text_charAt_mutator"}]),t.Blocks.text_getSubstring={init:function(){this.WHERE_OPTIONS_1=[[t.Msg.TEXT_GET_SUBSTRING_START_FROM_START,"FROM_START"],[t.Msg.TEXT_GET_SUBSTRING_START_FROM_END,"FROM_END"],[t.Msg.TEXT_GET_SUBSTRING_START_FIRST,"FIRST"]],this.WHERE_OPTIONS_2=[[t.Msg.TEXT_GET_SUBSTRING_END_FROM_START,"FROM_START"],[t.Msg.TEXT_GET_SUBSTRING_END_FROM_END,"FROM_END"],[t.Msg.TEXT_GET_SUBSTRING_END_LAST,"LAST"]],this.setHelpUrl(t.Msg.TEXT_GET_SUBSTRING_HELPURL),this.setStyle("text_blocks"),this.appendValueInput("STRING").setCheck("String").appendField(t.Msg.TEXT_GET_SUBSTRING_INPUT_IN_TEXT),this.appendDummyInput("AT1"),this.appendDummyInput("AT2"),t.Msg.TEXT_GET_SUBSTRING_TAIL&&this.appendDummyInput("TAIL").appendField(t.Msg.TEXT_GET_SUBSTRING_TAIL),this.setInputsInline(!0),this.setOutput(!0,"String"),this.updateAt_(1,!0),this.updateAt_(2,!0),this.setTooltip(t.Msg.TEXT_GET_SUBSTRING_TOOLTIP)},mutationToDom:function(){var e=t.utils.xml.createElement("mutation"),i=this.getInput("AT1").type==t.INPUT_VALUE;return e.setAttribute("at1",i),i=this.getInput("AT2").type==t.INPUT_VALUE,e.setAttribute("at2",i),e},domToMutation:function(t){var e="true"==t.getAttribute("at1");t="true"==t.getAttribute("at2"),this.updateAt_(1,e),this.updateAt_(2,t)},updateAt_:function(e,i){this.removeInput("AT"+e),this.removeInput("ORDINAL"+e,!0),i?(this.appendValueInput("AT"+e).setCheck("Number"),t.Msg.ORDINAL_NUMBER_SUFFIX&&this.appendDummyInput("ORDINAL"+e).appendField(t.Msg.ORDINAL_NUMBER_SUFFIX)):this.appendDummyInput("AT"+e),2==e&&t.Msg.TEXT_GET_SUBSTRING_TAIL&&(this.removeInput("TAIL",!0),this.appendDummyInput("TAIL").appendField(t.Msg.TEXT_GET_SUBSTRING_TAIL));var n=new t.FieldDropdown(this["WHERE_OPTIONS_"+e],(function(t){var n="FROM_START"==t||"FROM_END"==t;if(n!=i){var o=this.getSourceBlock();return o.updateAt_(e,n),o.setFieldValue(t,"WHERE"+e),null}}));this.getInput("AT"+e).appendField(n,"WHERE"+e),1==e&&(this.moveInputBefore("AT1","AT2"),this.getInput("ORDINAL1")&&this.moveInputBefore("ORDINAL1","AT2"))}},t.Blocks.text_changeCase={init:function(){var e=[[t.Msg.TEXT_CHANGECASE_OPERATOR_UPPERCASE,"UPPERCASE"],[t.Msg.TEXT_CHANGECASE_OPERATOR_LOWERCASE,"LOWERCASE"],[t.Msg.TEXT_CHANGECASE_OPERATOR_TITLECASE,"TITLECASE"]];this.setHelpUrl(t.Msg.TEXT_CHANGECASE_HELPURL),this.setStyle("text_blocks"),this.appendValueInput("TEXT").setCheck("String").appendField(new t.FieldDropdown(e),"CASE"),this.setOutput(!0,"String"),this.setTooltip(t.Msg.TEXT_CHANGECASE_TOOLTIP)}},t.Blocks.text_trim={init:function(){var e=[[t.Msg.TEXT_TRIM_OPERATOR_BOTH,"BOTH"],[t.Msg.TEXT_TRIM_OPERATOR_LEFT,"LEFT"],[t.Msg.TEXT_TRIM_OPERATOR_RIGHT,"RIGHT"]];this.setHelpUrl(t.Msg.TEXT_TRIM_HELPURL),this.setStyle("text_blocks"),this.appendValueInput("TEXT").setCheck("String").appendField(new t.FieldDropdown(e),"MODE"),this.setOutput(!0,"String"),this.setTooltip(t.Msg.TEXT_TRIM_TOOLTIP)}},t.Blocks.text_print={init:function(){this.jsonInit({message0:t.Msg.TEXT_PRINT_TITLE,args0:[{type:"input_value",name:"TEXT"}],previousStatement:null,nextStatement:null,style:"text_blocks",tooltip:t.Msg.TEXT_PRINT_TOOLTIP,helpUrl:t.Msg.TEXT_PRINT_HELPURL})}},t.Blocks.text_prompt_ext={init:function(){var e=[[t.Msg.TEXT_PROMPT_TYPE_TEXT,"TEXT"],[t.Msg.TEXT_PROMPT_TYPE_NUMBER,"NUMBER"]];this.setHelpUrl(t.Msg.TEXT_PROMPT_HELPURL),this.setStyle("text_blocks");var i=this;e=new t.FieldDropdown(e,(function(t){i.updateType_(t)})),this.appendValueInput("TEXT").appendField(e,"TYPE"),this.setOutput(!0,"String"),this.setTooltip((function(){return"TEXT"==i.getFieldValue("TYPE")?t.Msg.TEXT_PROMPT_TOOLTIP_TEXT:t.Msg.TEXT_PROMPT_TOOLTIP_NUMBER}))},updateType_:function(t){this.outputConnection.setCheck("NUMBER"==t?"Number":"String")},mutationToDom:function(){var e=t.utils.xml.createElement("mutation");return e.setAttribute("type",this.getFieldValue("TYPE")),e},domToMutation:function(t){this.updateType_(t.getAttribute("type"))}},t.Blocks.text_prompt={init:function(){this.mixin(t.Constants.Text.QUOTE_IMAGE_MIXIN);var e=[[t.Msg.TEXT_PROMPT_TYPE_TEXT,"TEXT"],[t.Msg.TEXT_PROMPT_TYPE_NUMBER,"NUMBER"]],i=this;this.setHelpUrl(t.Msg.TEXT_PROMPT_HELPURL),this.setStyle("text_blocks"),e=new t.FieldDropdown(e,(function(t){i.updateType_(t)})),this.appendDummyInput().appendField(e,"TYPE").appendField(this.newQuote_(!0)).appendField(new t.FieldTextInput(""),"TEXT").appendField(this.newQuote_(!1)),this.setOutput(!0,"String"),this.setTooltip((function(){return"TEXT"==i.getFieldValue("TYPE")?t.Msg.TEXT_PROMPT_TOOLTIP_TEXT:t.Msg.TEXT_PROMPT_TOOLTIP_NUMBER}))},updateType_:t.Blocks.text_prompt_ext.updateType_,mutationToDom:t.Blocks.text_prompt_ext.mutationToDom,domToMutation:t.Blocks.text_prompt_ext.domToMutation},t.Blocks.text_count={init:function(){this.jsonInit({message0:t.Msg.TEXT_COUNT_MESSAGE0,args0:[{type:"input_value",name:"SUB",check:"String"},{type:"input_value",name:"TEXT",check:"String"}],output:"Number",inputsInline:!0,style:"text_blocks",tooltip:t.Msg.TEXT_COUNT_TOOLTIP,helpUrl:t.Msg.TEXT_COUNT_HELPURL})}},t.Blocks.text_replace={init:function(){this.jsonInit({message0:t.Msg.TEXT_REPLACE_MESSAGE0,args0:[{type:"input_value",name:"FROM",check:"String"},{type:"input_value",name:"TO",check:"String"},{type:"input_value",name:"TEXT",check:"String"}],output:"String",inputsInline:!0,style:"text_blocks",tooltip:t.Msg.TEXT_REPLACE_TOOLTIP,helpUrl:t.Msg.TEXT_REPLACE_HELPURL})}},t.Blocks.text_reverse={init:function(){this.jsonInit({message0:t.Msg.TEXT_REVERSE_MESSAGE0,args0:[{type:"input_value",name:"TEXT",check:"String"}],output:"String",inputsInline:!0,style:"text_blocks",tooltip:t.Msg.TEXT_REVERSE_TOOLTIP,helpUrl:t.Msg.TEXT_REVERSE_HELPURL})}},t.Constants.Text.QUOTE_IMAGE_MIXIN={QUOTE_IMAGE_LEFT_DATAURI:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAwAAAAKCAQAAAAqJXdxAAAAn0lEQVQI1z3OMa5BURSF4f/cQhAKjUQhuQmFNwGJEUi0RKN5rU7FHKhpjEH3TEMtkdBSCY1EIv8r7nFX9e29V7EBAOvu7RPjwmWGH/VuF8CyN9/OAdvqIXYLvtRaNjx9mMTDyo+NjAN1HNcl9ZQ5oQMM3dgDUqDo1l8DzvwmtZN7mnD+PkmLa+4mhrxVA9fRowBWmVBhFy5gYEjKMfz9AylsaRRgGzvZAAAAAElFTkSuQmCC",QUOTE_IMAGE_RIGHT_DATAURI:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAwAAAAKCAQAAAAqJXdxAAAAqUlEQVQI1z3KvUpCcRiA8ef9E4JNHhI0aFEacm1o0BsI0Slx8wa8gLauoDnoBhq7DcfWhggONDmJJgqCPA7neJ7p934EOOKOnM8Q7PDElo/4x4lFb2DmuUjcUzS3URnGib9qaPNbuXvBO3sGPHJDRG6fGVdMSeWDP2q99FQdFrz26Gu5Tq7dFMzUvbXy8KXeAj57cOklgA+u1B5AoslLtGIHQMaCVnwDnADZIFIrXsoXrgAAAABJRU5ErkJggg==",QUOTE_IMAGE_WIDTH:12,QUOTE_IMAGE_HEIGHT:12,quoteField_:function(t){for(var e,i=0;e=this.inputList[i];i++)for(var n,o=0;n=e.fieldRow[o];o++)if(t==n.name)return e.insertFieldAt(o,this.newQuote_(!0)),void e.insertFieldAt(o+2,this.newQuote_(!1));console.warn('field named "'+t+'" not found in '+this.toDevString())},newQuote_:function(e){return e=this.RTL?!e:e,new t.FieldImage(e?this.QUOTE_IMAGE_LEFT_DATAURI:this.QUOTE_IMAGE_RIGHT_DATAURI,this.QUOTE_IMAGE_WIDTH,this.QUOTE_IMAGE_HEIGHT,e?"“":"”")}},t.Constants.Text.TEXT_QUOTES_EXTENSION=function(){this.mixin(t.Constants.Text.QUOTE_IMAGE_MIXIN),this.quoteField_("TEXT")},t.Constants.Text.TEXT_JOIN_MUTATOR_MIXIN={mutationToDom:function(){var e=t.utils.xml.createElement("mutation");return e.setAttribute("items",this.itemCount_),e},domToMutation:function(t){this.itemCount_=parseInt(t.getAttribute("items"),10),this.updateShape_()},decompose:function(t){var e=t.newBlock("text_create_join_container");e.initSvg();for(var i=e.getInput("STACK").connection,n=0;n<this.itemCount_;n++){var o=t.newBlock("text_create_join_item");o.initSvg(),i.connect(o.previousConnection),i=o.nextConnection}return e},compose:function(e){var i=e.getInputTargetBlock("STACK");for(e=[];i;)e.push(i.valueConnection_),i=i.nextConnection&&i.nextConnection.targetBlock();for(i=0;i<this.itemCount_;i++){var n=this.getInput("ADD"+i).connection.targetConnection;n&&-1==e.indexOf(n)&&n.disconnect()}for(this.itemCount_=e.length,this.updateShape_(),i=0;i<this.itemCount_;i++)t.Mutator.reconnect(e[i],this,"ADD"+i)},saveConnections:function(t){t=t.getInputTargetBlock("STACK");for(var e=0;t;){var i=this.getInput("ADD"+e);t.valueConnection_=i&&i.connection.targetConnection,e++,t=t.nextConnection&&t.nextConnection.targetBlock()}},updateShape_:function(){this.itemCount_&&this.getInput("EMPTY")?this.removeInput("EMPTY"):this.itemCount_||this.getInput("EMPTY")||this.appendDummyInput("EMPTY").appendField(this.newQuote_(!0)).appendField(this.newQuote_(!1));for(var e=0;e<this.itemCount_;e++)if(!this.getInput("ADD"+e)){var i=this.appendValueInput("ADD"+e);0==e&&i.appendField(t.Msg.TEXT_JOIN_TITLE_CREATEWITH)}for(;this.getInput("ADD"+e);)this.removeInput("ADD"+e),e++}},t.Constants.Text.TEXT_JOIN_EXTENSION=function(){this.mixin(t.Constants.Text.QUOTE_IMAGE_MIXIN),this.itemCount_=2,this.updateShape_(),this.setMutator(new t.Mutator(["text_create_join_item"]))},t.Extensions.register("text_append_tooltip",t.Extensions.buildTooltipWithFieldText("%{BKY_TEXT_APPEND_TOOLTIP}","VAR")),t.Constants.Text.TEXT_INDEXOF_TOOLTIP_EXTENSION=function(){var e=this;this.setTooltip((function(){return t.Msg.TEXT_INDEXOF_TOOLTIP.replace("%1",e.workspace.options.oneBasedIndex?"0":"-1")}))},t.Constants.Text.TEXT_CHARAT_MUTATOR_MIXIN={mutationToDom:function(){var e=t.utils.xml.createElement("mutation");return e.setAttribute("at",!!this.isAt_),e},domToMutation:function(t){t="false"!=t.getAttribute("at"),this.updateAt_(t)},updateAt_:function(e){this.removeInput("AT",!0),this.removeInput("ORDINAL",!0),e&&(this.appendValueInput("AT").setCheck("Number"),t.Msg.ORDINAL_NUMBER_SUFFIX&&this.appendDummyInput("ORDINAL").appendField(t.Msg.ORDINAL_NUMBER_SUFFIX)),t.Msg.TEXT_CHARAT_TAIL&&(this.removeInput("TAIL",!0),this.appendDummyInput("TAIL").appendField(t.Msg.TEXT_CHARAT_TAIL)),this.isAt_=e}},t.Constants.Text.TEXT_CHARAT_EXTENSION=function(){this.getField("WHERE").setValidator((function(t){t="FROM_START"==t||"FROM_END"==t,t!=this.isAt_&&this.getSourceBlock().updateAt_(t)})),this.updateAt_(!0);var e=this;this.setTooltip((function(){var i=e.getFieldValue("WHERE"),n=t.Msg.TEXT_CHARAT_TOOLTIP;return("FROM_START"==i||"FROM_END"==i)&&(i="FROM_START"==i?t.Msg.LISTS_INDEX_FROM_START_TOOLTIP:t.Msg.LISTS_INDEX_FROM_END_TOOLTIP)&&(n+="  "+i.replace("%1",e.workspace.options.oneBasedIndex?"#1":"#0")),n}))},t.Extensions.register("text_indexOf_tooltip",t.Constants.Text.TEXT_INDEXOF_TOOLTIP_EXTENSION),t.Extensions.register("text_quotes",t.Constants.Text.TEXT_QUOTES_EXTENSION),t.Extensions.registerMutator("text_join_mutator",t.Constants.Text.TEXT_JOIN_MUTATOR_MIXIN,t.Constants.Text.TEXT_JOIN_EXTENSION),t.Extensions.registerMutator("text_charAt_mutator",t.Constants.Text.TEXT_CHARAT_MUTATOR_MIXIN,t.Constants.Text.TEXT_CHARAT_EXTENSION),t.Blocks.variables={},t.Constants.Variables={},t.Constants.Variables.HUE=330,t.defineBlocksWithJsonArray([{type:"variables_get",message0:"%1",args0:[{type:"field_variable",name:"VAR",variable:"%{BKY_VARIABLES_DEFAULT_NAME}"}],output:null,style:"variable_blocks",helpUrl:"%{BKY_VARIABLES_GET_HELPURL}",tooltip:"%{BKY_VARIABLES_GET_TOOLTIP}",extensions:["contextMenu_variableSetterGetter"]},{type:"variables_set",message0:"%{BKY_VARIABLES_SET}",args0:[{type:"field_variable",name:"VAR",variable:"%{BKY_VARIABLES_DEFAULT_NAME}"},{type:"input_value",name:"VALUE"}],previousStatement:null,nextStatement:null,style:"variable_blocks",tooltip:"%{BKY_VARIABLES_SET_TOOLTIP}",helpUrl:"%{BKY_VARIABLES_SET_HELPURL}",extensions:["contextMenu_variableSetterGetter"]}]),t.Constants.Variables.CUSTOM_CONTEXT_MENU_VARIABLE_GETTER_SETTER_MIXIN={customContextMenu:function(e){if(this.isInFlyout)"variables_get"!=this.type&&"variables_get_reporter"!=this.type||(i={text:t.Msg.RENAME_VARIABLE,enabled:!0,callback:t.Constants.Variables.RENAME_OPTION_CALLBACK_FACTORY(this)},s=this.getField("VAR").getText(),o={text:t.Msg.DELETE_VARIABLE.replace("%1",s),enabled:!0,callback:t.Constants.Variables.DELETE_OPTION_CALLBACK_FACTORY(this)},e.unshift(i),e.unshift(o));else{if("variables_get"==this.type)var i="variables_set",n=t.Msg.VARIABLES_GET_CREATE_SET;else i="variables_get",n=t.Msg.VARIABLES_SET_CREATE_GET;var o={enabled:0<this.workspace.remainingCapacity()},s=this.getField("VAR").getText();o.text=n.replace("%1",s),n=t.utils.xml.createElement("field"),n.setAttribute("name","VAR"),n.appendChild(t.utils.xml.createTextNode(s)),s=t.utils.xml.createElement("block"),s.setAttribute("type",i),s.appendChild(n),o.callback=t.ContextMenu.callbackFactory(this,s),e.push(o)}}},t.Constants.Variables.RENAME_OPTION_CALLBACK_FACTORY=function(e){return function(){var i=e.workspace,n=e.getField("VAR").getVariable();t.Variables.renameVariable(i,n)}},t.Constants.Variables.DELETE_OPTION_CALLBACK_FACTORY=function(t){return function(){var e=t.workspace,i=t.getField("VAR").getVariable();e.deleteVariableById(i.getId()),e.refreshToolboxSelection()}},t.Extensions.registerMixin("contextMenu_variableSetterGetter",t.Constants.Variables.CUSTOM_CONTEXT_MENU_VARIABLE_GETTER_SETTER_MIXIN),t.Constants.VariablesDynamic={},t.Constants.VariablesDynamic.HUE=310,t.defineBlocksWithJsonArray([{type:"variables_get_dynamic",message0:"%1",args0:[{type:"field_variable",name:"VAR",variable:"%{BKY_VARIABLES_DEFAULT_NAME}"}],output:null,style:"variable_dynamic_blocks",helpUrl:"%{BKY_VARIABLES_GET_HELPURL}",tooltip:"%{BKY_VARIABLES_GET_TOOLTIP}",extensions:["contextMenu_variableDynamicSetterGetter"]},{type:"variables_set_dynamic",message0:"%{BKY_VARIABLES_SET}",args0:[{type:"field_variable",name:"VAR",variable:"%{BKY_VARIABLES_DEFAULT_NAME}"},{type:"input_value",name:"VALUE"}],previousStatement:null,nextStatement:null,style:"variable_dynamic_blocks",tooltip:"%{BKY_VARIABLES_SET_TOOLTIP}",helpUrl:"%{BKY_VARIABLES_SET_HELPURL}",extensions:["contextMenu_variableDynamicSetterGetter"]}]),t.Constants.VariablesDynamic.CUSTOM_CONTEXT_MENU_VARIABLE_GETTER_SETTER_MIXIN={customContextMenu:function(e){if(this.isInFlyout)"variables_get_dynamic"!=this.type&&"variables_get_reporter_dynamic"!=this.type||(i={text:t.Msg.RENAME_VARIABLE,enabled:!0,callback:t.Constants.Variables.RENAME_OPTION_CALLBACK_FACTORY(this)},r=this.getField("VAR").getText(),s={text:t.Msg.DELETE_VARIABLE.replace("%1",r),enabled:!0,callback:t.Constants.Variables.DELETE_OPTION_CALLBACK_FACTORY(this)},e.unshift(i),e.unshift(s));else{var i=this.getFieldValue("VAR"),n=this.workspace.getVariableById(i).type;if("variables_get_dynamic"==this.type){i="variables_set_dynamic";var o=t.Msg.VARIABLES_GET_CREATE_SET}else i="variables_get_dynamic",o=t.Msg.VARIABLES_SET_CREATE_GET;var s={enabled:0<this.workspace.remainingCapacity()},r=this.getField("VAR").getText();s.text=o.replace("%1",r),o=t.utils.xml.createElement("field"),o.setAttribute("name","VAR"),o.setAttribute("variabletype",n),o.appendChild(t.utils.xml.createTextNode(r)),r=t.utils.xml.createElement("block"),r.setAttribute("type",i),r.appendChild(o),s.callback=t.ContextMenu.callbackFactory(this,r),e.push(s)}},onchange:function(e){e=this.getFieldValue("VAR"),e=t.Variables.getVariable(this.workspace,e),"variables_get_dynamic"==this.type?this.outputConnection.setCheck(e.type):this.getInput("VALUE").connection.setCheck(e.type)}},t.Constants.VariablesDynamic.RENAME_OPTION_CALLBACK_FACTORY=function(e){return function(){var i=e.workspace,n=e.getField("VAR").getVariable();t.Variables.renameVariable(i,n)}},t.Constants.VariablesDynamic.DELETE_OPTION_CALLBACK_FACTORY=function(t){return function(){var e=t.workspace,i=t.getField("VAR").getVariable();e.deleteVariableById(i.getId()),e.refreshToolboxSelection()}},t.Extensions.registerMixin("contextMenu_variableDynamicSetterGetter",t.Constants.VariablesDynamic.CUSTOM_CONTEXT_MENU_VARIABLE_GETTER_SETTER_MIXIN),t.Blocks}))},"4ba6":function(t,e,i){(function(t){t(i("56b3"))})((function(t){"use strict";function e(t,e,i,n,o,s){this.indented=t,this.column=e,this.type=i,this.info=n,this.align=o,this.prev=s}function i(t,i,n,o){var s=t.indented;return t.context&&"statement"==t.context.type&&"statement"!=n&&(s=t.context.indented),t.context=new e(s,i,n,o,null,t.context)}function n(t){var e=t.context.type;return")"!=e&&"]"!=e&&"}"!=e||(t.indented=t.context.indented),t.context=t.context.prev}function o(t,e,i){return"variable"==e.prevToken||"type"==e.prevToken||(!!/\S(?:[^- ]>|[*\]])\s*$|\*$/.test(t.string.slice(0,i))||(!(!e.typeAtEndOfLine||t.column()!=t.indentation())||void 0))}function s(t){for(;;){if(!t||"top"==t.type)return!0;if("}"==t.type&&"namespace"!=t.prev.info)return!1;t=t.prev}}function r(t){for(var e={},i=t.split(" "),n=0;n<i.length;++n)e[i[n]]=!0;return e}function a(t,e){return"function"===typeof t?t(e):t.propertyIsEnumerable(e)}t.defineMode("clike",(function(r,l){var c,u,h=r.indentUnit,d=l.statementIndentUnit||h,p=l.dontAlignCalls,_=l.keywords||{},g=l.types||{},f=l.builtin||{},m=l.blockKeywords||{},v=l.defKeywords||{},b=l.atoms||{},y=l.hooks||{},T=l.multiLineStrings,E=!1!==l.indentStatements,S=!1!==l.indentSwitch,C=l.namespaceSeparator,k=l.isPunctuationChar||/[\[\]{}\(\),;\:\.]/,w=l.numberStart||/[\d\.]/,R=l.number||/^(?:0x[a-f\d]+|0b[01]+|(?:\d+\.?\d*|\.\d+)(?:e[-+]?\d+)?)(u|ll?|l|f)?/i,I=l.isOperatorChar||/[+\-*&%=<>!?|\/]/,x=l.isIdentifierChar||/[\w\$_\xa1-\uffff]/,O=l.isReservedIdentifier||!1;function A(t,e){var i=t.next();if(y[i]){var n=y[i](t,e);if(!1!==n)return n}if('"'==i||"'"==i)return e.tokenize=M(i),e.tokenize(t,e);if(k.test(i))return c=i,null;if(w.test(i)){if(t.backUp(1),t.match(R))return"number";t.next()}if("/"==i){if(t.eat("*"))return e.tokenize=N,N(t,e);if(t.eat("/"))return t.skipToEnd(),"comment"}if(I.test(i)){while(!t.match(/^\/[\/*]/,!1)&&t.eat(I));return"operator"}if(t.eatWhile(x),C)while(t.match(C))t.eatWhile(x);var o=t.current();return a(_,o)?(a(m,o)&&(c="newstatement"),a(v,o)&&(u=!0),"keyword"):a(g,o)?"type":a(f,o)||O&&O(o)?(a(m,o)&&(c="newstatement"),"builtin"):a(b,o)?"atom":"variable"}function M(t){return function(e,i){var n,o=!1,s=!1;while(null!=(n=e.next())){if(n==t&&!o){s=!0;break}o=!o&&"\\"==n}return(s||!o&&!T)&&(i.tokenize=null),"string"}}function N(t,e){var i,n=!1;while(i=t.next()){if("/"==i&&n){e.tokenize=null;break}n="*"==i}return"comment"}function L(t,e){l.typeFirstDefinitions&&t.eol()&&s(e.context)&&(e.typeAtEndOfLine=o(t,e,t.pos))}return{startState:function(t){return{tokenize:null,context:new e((t||0)-h,0,"top",null,!1),indented:0,startOfLine:!0,prevToken:null}},token:function(t,e){var r=e.context;if(t.sol()&&(null==r.align&&(r.align=!1),e.indented=t.indentation(),e.startOfLine=!0),t.eatSpace())return L(t,e),null;c=u=null;var a=(e.tokenize||A)(t,e);if("comment"==a||"meta"==a)return a;if(null==r.align&&(r.align=!0),";"==c||":"==c||","==c&&t.match(/^\s*(?:\/\/.*)?$/,!1))while("statement"==e.context.type)n(e);else if("{"==c)i(e,t.column(),"}");else if("["==c)i(e,t.column(),"]");else if("("==c)i(e,t.column(),")");else if("}"==c){while("statement"==r.type)r=n(e);"}"==r.type&&(r=n(e));while("statement"==r.type)r=n(e)}else c==r.type?n(e):E&&(("}"==r.type||"top"==r.type)&&";"!=c||"statement"==r.type&&"newstatement"==c)&&i(e,t.column(),"statement",t.current());if("variable"==a&&("def"==e.prevToken||l.typeFirstDefinitions&&o(t,e,t.start)&&s(e.context)&&t.match(/^\s*\(/,!1))&&(a="def"),y.token){var h=y.token(t,e,a);void 0!==h&&(a=h)}return"def"==a&&!1===l.styleDefs&&(a="variable"),e.startOfLine=!1,e.prevToken=u?"def":a||c,L(t,e),a},indent:function(e,i){if(e.tokenize!=A&&null!=e.tokenize||e.typeAtEndOfLine)return t.Pass;var n=e.context,o=i&&i.charAt(0),s=o==n.type;if("statement"==n.type&&"}"==o&&(n=n.prev),l.dontIndentStatements)while("statement"==n.type&&l.dontIndentStatements.test(n.info))n=n.prev;if(y.indent){var r=y.indent(e,n,i,h);if("number"==typeof r)return r}var a=n.prev&&"switch"==n.prev.info;if(l.allmanIndentation&&/[{(]/.test(o)){while("top"!=n.type&&"}"!=n.type)n=n.prev;return n.indented}return"statement"==n.type?n.indented+("{"==o?0:d):!n.align||p&&")"==n.type?")"!=n.type||s?n.indented+(s?0:h)+(s||!a||/^(?:case|default)\b/.test(i)?0:h):n.indented+d:n.column+(s?0:1)},electricInput:S?/^\s*(?:case .*?:|default:|\{\}?|\})$/:/^\s*[{}]$/,blockCommentStart:"/*",blockCommentEnd:"*/",blockCommentContinue:" * ",lineComment:"//",fold:"brace"}}));var l="auto if break case register continue return default do sizeof static else struct switch extern typedef union for goto while enum const volatile inline restrict asm fortran",c="alignas alignof and and_eq audit axiom bitand bitor catch class compl concept constexpr const_cast decltype delete dynamic_cast explicit export final friend import module mutable namespace new noexcept not not_eq operator or or_eq override private protected public reinterpret_cast requires static_assert static_cast template this thread_local throw try typeid typename using virtual xor xor_eq",u="bycopy byref in inout oneway out self super atomic nonatomic retain copy readwrite readonly strong weak assign typeof nullable nonnull null_resettable _cmd @interface @implementation @end @protocol @encode @property @synthesize @dynamic @class @public @package @private @protected @required @optional @try @catch @finally @import @selector @encode @defs @synchronized @autoreleasepool @compatibility_alias @available",h="FOUNDATION_EXPORT FOUNDATION_EXTERN NS_INLINE NS_FORMAT_FUNCTION  NS_RETURNS_RETAINEDNS_ERROR_ENUM NS_RETURNS_NOT_RETAINED NS_RETURNS_INNER_POINTER NS_DESIGNATED_INITIALIZER NS_ENUM NS_OPTIONS NS_REQUIRES_NIL_TERMINATION NS_ASSUME_NONNULL_BEGIN NS_ASSUME_NONNULL_END NS_SWIFT_NAME NS_REFINED_FOR_SWIFT",d=r("int long char short double float unsigned signed void bool"),p=r("SEL instancetype id Class Protocol BOOL");function _(t){return a(d,t)||/.+_t$/.test(t)}function g(t){return _(t)||a(p,t)}var f="case do else for if switch while struct enum union",m="struct enum union";function v(t,e){if(!e.startOfLine)return!1;for(var i,n=null;i=t.peek();){if("\\"==i&&t.match(/^.$/)){n=v;break}if("/"==i&&t.match(/^\/[\/\*]/,!1))break;t.next()}return e.tokenize=n,"meta"}function b(t,e){return"type"==e.prevToken&&"type"}function y(t){return!(!t||t.length<2)&&("_"==t[0]&&("_"==t[1]||t[1]!==t[1].toLowerCase()))}function T(t){return t.eatWhile(/[\w\.']/),"number"}function E(t,e){if(t.backUp(1),t.match(/(R|u8R|uR|UR|LR)/)){var i=t.match(/"([^\s\\()]{0,16})\(/);return!!i&&(e.cpp11RawStringDelim=i[1],e.tokenize=k,k(t,e))}return t.match(/(u8|u|U|L)/)?!!t.match(/["']/,!1)&&"string":(t.next(),!1)}function S(t){var e=/(\w+)::~?(\w+)$/.exec(t);return e&&e[1]==e[2]}function C(t,e){var i;while(null!=(i=t.next()))if('"'==i&&!t.eat('"')){e.tokenize=null;break}return"string"}function k(t,e){var i=e.cpp11RawStringDelim.replace(/[^\w\s]/g,"\\$&"),n=t.match(new RegExp(".*?\\)"+i+'"'));return n?e.tokenize=null:t.skipToEnd(),"string"}function w(e,i){"string"==typeof e&&(e=[e]);var n=[];function o(t){if(t)for(var e in t)t.hasOwnProperty(e)&&n.push(e)}o(i.keywords),o(i.types),o(i.builtin),o(i.atoms),n.length&&(i.helperType=e[0],t.registerHelper("hintWords",e[0],n));for(var s=0;s<e.length;++s)t.defineMIME(e[s],i)}function R(t,e){var i=!1;while(!t.eol()){if(!i&&t.match('"""')){e.tokenize=null;break}i="\\"==t.next()&&!i}return"string"}function I(t){return function(e,i){var n;while(n=e.next()){if("*"==n&&e.eat("/")){if(1==t){i.tokenize=null;break}return i.tokenize=I(t-1),i.tokenize(e,i)}if("/"==n&&e.eat("*"))return i.tokenize=I(t+1),i.tokenize(e,i)}return"comment"}}function x(t){return function(e,i){var n,o=!1,s=!1;while(!e.eol()){if(!t&&!o&&e.match('"')){s=!0;break}if(t&&e.match('"""')){s=!0;break}n=e.next(),!o&&"$"==n&&e.match("{")&&e.skipTo("}"),o=!o&&"\\"==n&&!t}return!s&&t||(i.tokenize=null),"string"}}w(["text/x-csrc","text/x-c","text/x-chdr"],{name:"clike",keywords:r(l),types:_,blockKeywords:r(f),defKeywords:r(m),typeFirstDefinitions:!0,atoms:r("NULL true false"),isReservedIdentifier:y,hooks:{"#":v,"*":b},modeProps:{fold:["brace","include"]}}),w(["text/x-c++src","text/x-c++hdr"],{name:"clike",keywords:r(l+" "+c),types:_,blockKeywords:r(f+" class try catch"),defKeywords:r(m+" class namespace"),typeFirstDefinitions:!0,atoms:r("true false NULL nullptr"),dontIndentStatements:/^template$/,isIdentifierChar:/[\w\$_~\xa1-\uffff]/,isReservedIdentifier:y,hooks:{"#":v,"*":b,u:E,U:E,L:E,R:E,0:T,1:T,2:T,3:T,4:T,5:T,6:T,7:T,8:T,9:T,token:function(t,e,i){if("variable"==i&&"("==t.peek()&&(";"==e.prevToken||null==e.prevToken||"}"==e.prevToken)&&S(t.current()))return"def"}},namespaceSeparator:"::",modeProps:{fold:["brace","include"]}}),w("text/x-java",{name:"clike",keywords:r("abstract assert break case catch class const continue default do else enum extends final finally for goto if implements import instanceof interface native new package private protected public return static strictfp super switch synchronized this throw throws transient try volatile while @interface"),types:r("byte short int long float double boolean char void Boolean Byte Character Double Float Integer Long Number Object Short String StringBuffer StringBuilder Void"),blockKeywords:r("catch class do else finally for if switch try while"),defKeywords:r("class interface enum @interface"),typeFirstDefinitions:!0,atoms:r("true false null"),number:/^(?:0x[a-f\d_]+|0b[01_]+|(?:[\d_]+\.?\d*|\.\d+)(?:e[-+]?[\d_]+)?)(u|ll?|l|f)?/i,hooks:{"@":function(t){return!t.match("interface",!1)&&(t.eatWhile(/[\w\$_]/),"meta")}},modeProps:{fold:["brace","import"]}}),w("text/x-csharp",{name:"clike",keywords:r("abstract as async await base break case catch checked class const continue default delegate do else enum event explicit extern finally fixed for foreach goto if implicit in interface internal is lock namespace new operator out override params private protected public readonly ref return sealed sizeof stackalloc static struct switch this throw try typeof unchecked unsafe using virtual void volatile while add alias ascending descending dynamic from get global group into join let orderby partial remove select set value var yield"),types:r("Action Boolean Byte Char DateTime DateTimeOffset Decimal Double Func Guid Int16 Int32 Int64 Object SByte Single String Task TimeSpan UInt16 UInt32 UInt64 bool byte char decimal double short int long object sbyte float string ushort uint ulong"),blockKeywords:r("catch class do else finally for foreach if struct switch try while"),defKeywords:r("class interface namespace struct var"),typeFirstDefinitions:!0,atoms:r("true false null"),hooks:{"@":function(t,e){return t.eat('"')?(e.tokenize=C,C(t,e)):(t.eatWhile(/[\w\$_]/),"meta")}}}),w("text/x-scala",{name:"clike",keywords:r("abstract case catch class def do else extends final finally for forSome if implicit import lazy match new null object override package private protected return sealed super this throw trait try type val var while with yield _ assert assume require print println printf readLine readBoolean readByte readShort readChar readInt readLong readFloat readDouble"),types:r("AnyVal App Application Array BufferedIterator BigDecimal BigInt Char Console Either Enumeration Equiv Error Exception Fractional Function IndexedSeq Int Integral Iterable Iterator List Map Numeric Nil NotNull Option Ordered Ordering PartialFunction PartialOrdering Product Proxy Range Responder Seq Serializable Set Specializable Stream StringBuilder StringContext Symbol Throwable Traversable TraversableOnce Tuple Unit Vector Boolean Byte Character CharSequence Class ClassLoader Cloneable Comparable Compiler Double Exception Float Integer Long Math Number Object Package Pair Process Runtime Runnable SecurityManager Short StackTraceElement StrictMath String StringBuffer System Thread ThreadGroup ThreadLocal Throwable Triple Void"),multiLineStrings:!0,blockKeywords:r("catch class enum do else finally for forSome if match switch try while"),defKeywords:r("class enum def object package trait type val var"),atoms:r("true false null"),indentStatements:!1,indentSwitch:!1,isOperatorChar:/[+\-*&%=<>!?|\/#:@]/,hooks:{"@":function(t){return t.eatWhile(/[\w\$_]/),"meta"},'"':function(t,e){return!!t.match('""')&&(e.tokenize=R,e.tokenize(t,e))},"'":function(t){return t.eatWhile(/[\w\$_\xa1-\uffff]/),"atom"},"=":function(t,i){var n=i.context;return!("}"!=n.type||!n.align||!t.eat(">"))&&(i.context=new e(n.indented,n.column,n.type,n.info,null,n.prev),"operator")},"/":function(t,e){return!!t.eat("*")&&(e.tokenize=I(1),e.tokenize(t,e))}},modeProps:{closeBrackets:{pairs:'()[]{}""',triples:'"'}}}),w("text/x-kotlin",{name:"clike",keywords:r("package as typealias class interface this super val operator var fun for is in This throw return annotation break continue object if else while do try when !in !is as? file import where by get set abstract enum open inner override private public internal protected catch finally out final vararg reified dynamic companion constructor init sealed field property receiver param sparam lateinit data inline noinline tailrec external annotation crossinline const operator infix suspend actual expect setparam"),types:r("Boolean Byte Character CharSequence Class ClassLoader Cloneable Comparable Compiler Double Exception Float Integer Long Math Number Object Package Pair Process Runtime Runnable SecurityManager Short StackTraceElement StrictMath String StringBuffer System Thread ThreadGroup ThreadLocal Throwable Triple Void Annotation Any BooleanArray ByteArray Char CharArray DeprecationLevel DoubleArray Enum FloatArray Function Int IntArray Lazy LazyThreadSafetyMode LongArray Nothing ShortArray Unit"),intendSwitch:!1,indentStatements:!1,multiLineStrings:!0,number:/^(?:0x[a-f\d_]+|0b[01_]+|(?:[\d_]+(\.\d+)?|\.\d+)(?:e[-+]?[\d_]+)?)(u|ll?|l|f)?/i,blockKeywords:r("catch class do else finally for if where try while enum"),defKeywords:r("class val var object interface fun"),atoms:r("true false null this"),hooks:{"@":function(t){return t.eatWhile(/[\w\$_]/),"meta"},"*":function(t,e){return"."==e.prevToken?"variable":"operator"},'"':function(t,e){return e.tokenize=x(t.match('""')),e.tokenize(t,e)},"/":function(t,e){return!!t.eat("*")&&(e.tokenize=I(1),e.tokenize(t,e))},indent:function(t,e,i,n){var o=i&&i.charAt(0);return"}"!=t.prevToken&&")"!=t.prevToken||""!=i?"operator"==t.prevToken&&"}"!=i&&"}"!=t.context.type||"variable"==t.prevToken&&"."==o||("}"==t.prevToken||")"==t.prevToken)&&"."==o?2*n+e.indented:e.align&&"}"==e.type?e.indented+(t.context.type==(i||"").charAt(0)?0:n):void 0:t.indented}},modeProps:{closeBrackets:{triples:'"'}}}),w(["x-shader/x-vertex","x-shader/x-fragment"],{name:"clike",keywords:r("sampler1D sampler2D sampler3D samplerCube sampler1DShadow sampler2DShadow const attribute uniform varying break continue discard return for while do if else struct in out inout"),types:r("float int bool void vec2 vec3 vec4 ivec2 ivec3 ivec4 bvec2 bvec3 bvec4 mat2 mat3 mat4"),blockKeywords:r("for while do if else struct"),builtin:r("radians degrees sin cos tan asin acos atan pow exp log exp2 sqrt inversesqrt abs sign floor ceil fract mod min max clamp mix step smoothstep length distance dot cross normalize ftransform faceforward reflect refract matrixCompMult lessThan lessThanEqual greaterThan greaterThanEqual equal notEqual any all not texture1D texture1DProj texture1DLod texture1DProjLod texture2D texture2DProj texture2DLod texture2DProjLod texture3D texture3DProj texture3DLod texture3DProjLod textureCube textureCubeLod shadow1D shadow2D shadow1DProj shadow2DProj shadow1DLod shadow2DLod shadow1DProjLod shadow2DProjLod dFdx dFdy fwidth noise1 noise2 noise3 noise4"),atoms:r("true false gl_FragColor gl_SecondaryColor gl_Normal gl_Vertex gl_MultiTexCoord0 gl_MultiTexCoord1 gl_MultiTexCoord2 gl_MultiTexCoord3 gl_MultiTexCoord4 gl_MultiTexCoord5 gl_MultiTexCoord6 gl_MultiTexCoord7 gl_FogCoord gl_PointCoord gl_Position gl_PointSize gl_ClipVertex gl_FrontColor gl_BackColor gl_FrontSecondaryColor gl_BackSecondaryColor gl_TexCoord gl_FogFragCoord gl_FragCoord gl_FrontFacing gl_FragData gl_FragDepth gl_ModelViewMatrix gl_ProjectionMatrix gl_ModelViewProjectionMatrix gl_TextureMatrix gl_NormalMatrix gl_ModelViewMatrixInverse gl_ProjectionMatrixInverse gl_ModelViewProjectionMatrixInverse gl_TexureMatrixTranspose gl_ModelViewMatrixInverseTranspose gl_ProjectionMatrixInverseTranspose gl_ModelViewProjectionMatrixInverseTranspose gl_TextureMatrixInverseTranspose gl_NormalScale gl_DepthRange gl_ClipPlane gl_Point gl_FrontMaterial gl_BackMaterial gl_LightSource gl_LightModel gl_FrontLightModelProduct gl_BackLightModelProduct gl_TextureColor gl_EyePlaneS gl_EyePlaneT gl_EyePlaneR gl_EyePlaneQ gl_FogParameters gl_MaxLights gl_MaxClipPlanes gl_MaxTextureUnits gl_MaxTextureCoords gl_MaxVertexAttribs gl_MaxVertexUniformComponents gl_MaxVaryingFloats gl_MaxVertexTextureImageUnits gl_MaxTextureImageUnits gl_MaxFragmentUniformComponents gl_MaxCombineTextureImageUnits gl_MaxDrawBuffers"),indentSwitch:!1,hooks:{"#":v},modeProps:{fold:["brace","include"]}}),w("text/x-nesc",{name:"clike",keywords:r(l+" as atomic async call command component components configuration event generic implementation includes interface module new norace nx_struct nx_union post provides signal task uses abstract extends"),types:_,blockKeywords:r(f),atoms:r("null true false"),hooks:{"#":v},modeProps:{fold:["brace","include"]}}),w("text/x-objectivec",{name:"clike",keywords:r(l+" "+u),types:g,builtin:r(h),blockKeywords:r(f+" @synthesize @try @catch @finally @autoreleasepool @synchronized"),defKeywords:r(m+" @interface @implementation @protocol @class"),dontIndentStatements:/^@.*$/,typeFirstDefinitions:!0,atoms:r("YES NO NULL Nil nil true false nullptr"),isReservedIdentifier:y,hooks:{"#":v,"*":b},modeProps:{fold:["brace","include"]}}),w("text/x-objectivec++",{name:"clike",keywords:r(l+" "+u+" "+c),types:g,builtin:r(h),blockKeywords:r(f+" @synthesize @try @catch @finally @autoreleasepool @synchronized class try catch"),defKeywords:r(m+" @interface @implementation @protocol @class class namespace"),dontIndentStatements:/^@.*$|^template$/,typeFirstDefinitions:!0,atoms:r("YES NO NULL Nil nil true false nullptr"),isReservedIdentifier:y,hooks:{"#":v,"*":b,u:E,U:E,L:E,R:E,0:T,1:T,2:T,3:T,4:T,5:T,6:T,7:T,8:T,9:T,token:function(t,e,i){if("variable"==i&&"("==t.peek()&&(";"==e.prevToken||null==e.prevToken||"}"==e.prevToken)&&S(t.current()))return"def"}},namespaceSeparator:"::",modeProps:{fold:["brace","include"]}}),w("text/x-squirrel",{name:"clike",keywords:r("base break clone continue const default delete enum extends function in class foreach local resume return this throw typeof yield constructor instanceof static"),types:_,blockKeywords:r("case catch class else for foreach if switch try while"),defKeywords:r("function local class"),typeFirstDefinitions:!0,atoms:r("true false null"),hooks:{"#":v},modeProps:{fold:["brace","include"]}});var O=null;function A(t){return function(e,i){var n,o=!1,s=!1;while(!e.eol()){if(!o&&e.match('"')&&("single"==t||e.match('""'))){s=!0;break}if(!o&&e.match("``")){O=A(t),s=!0;break}n=e.next(),o="single"==t&&!o&&"\\"==n}return s&&(i.tokenize=null),"string"}}w("text/x-ceylon",{name:"clike",keywords:r("abstracts alias assembly assert assign break case catch class continue dynamic else exists extends finally for function given if import in interface is let module new nonempty object of out outer package return satisfies super switch then this throw try value void while"),types:function(t){var e=t.charAt(0);return e===e.toUpperCase()&&e!==e.toLowerCase()},blockKeywords:r("case catch class dynamic else finally for function if interface module new object switch try while"),defKeywords:r("class dynamic function interface module object package value"),builtin:r("abstract actual aliased annotation by default deprecated doc final formal late license native optional sealed see serializable shared suppressWarnings tagged throws variable"),isPunctuationChar:/[\[\]{}\(\),;\:\.`]/,isOperatorChar:/[+\-*&%=<>!?|^~:\/]/,numberStart:/[\d#$]/,number:/^(?:#[\da-fA-F_]+|\$[01_]+|[\d_]+[kMGTPmunpf]?|[\d_]+\.[\d_]+(?:[eE][-+]?\d+|[kMGTPmunpf]|)|)/i,multiLineStrings:!0,typeFirstDefinitions:!0,atoms:r("true false null larger smaller equal empty finished"),indentSwitch:!1,styleDefs:!1,hooks:{"@":function(t){return t.eatWhile(/[\w\$_]/),"meta"},'"':function(t,e){return e.tokenize=A(t.match('""')?"triple":"single"),e.tokenize(t,e)},"`":function(t,e){return!(!O||!t.match("`"))&&(e.tokenize=O,O=null,e.tokenize(t,e))},"'":function(t){return t.eatWhile(/[\w\$_\xa1-\uffff]/),"atom"},token:function(t,e,i){if(("variable"==i||"type"==i)&&"."==e.prevToken)return"variable-2"}},modeProps:{fold:["brace","import"],closeBrackets:{triples:'"'}}})}))},"4dd1":function(t,e){t.exports=function(t){var e="[A-Za-z$_][0-9A-Za-z$_]*",i={keyword:"in of if for while finally var new function do return void else break catch instanceof with throw case default try this switch continue typeof delete let yield const export super debugger as async await static import from as",literal:"true false null undefined NaN Infinity",built_in:"eval isFinite isNaN parseFloat parseInt decodeURI decodeURIComponent encodeURI encodeURIComponent escape unescape Object Function Boolean Error EvalError InternalError RangeError ReferenceError StopIteration SyntaxError TypeError URIError Number Math Date String RegExp Array Float32Array Float64Array Int16Array Int32Array Int8Array Uint16Array Uint32Array Uint8Array Uint8ClampedArray ArrayBuffer DataView JSON Intl arguments require module console window document Symbol Set Map WeakSet WeakMap Proxy Reflect Promise"},n={className:"number",variants:[{begin:"\\b(0[bB][01]+)n?"},{begin:"\\b(0[oO][0-7]+)n?"},{begin:t.C_NUMBER_RE+"n?"}],relevance:0},o={className:"subst",begin:"\\$\\{",end:"\\}",keywords:i,contains:[]},s={begin:"html`",end:"",starts:{end:"`",returnEnd:!1,contains:[t.BACKSLASH_ESCAPE,o],subLanguage:"xml"}},r={begin:"css`",end:"",starts:{end:"`",returnEnd:!1,contains:[t.BACKSLASH_ESCAPE,o],subLanguage:"css"}},a={className:"string",begin:"`",end:"`",contains:[t.BACKSLASH_ESCAPE,o]};o.contains=[t.APOS_STRING_MODE,t.QUOTE_STRING_MODE,s,r,a,n,t.REGEXP_MODE];var l=o.contains.concat([t.C_BLOCK_COMMENT_MODE,t.C_LINE_COMMENT_MODE]);return{aliases:["js","jsx"],keywords:i,contains:[{className:"meta",relevance:10,begin:/^\s*['"]use (strict|asm)['"]/},{className:"meta",begin:/^#!/,end:/$/},t.APOS_STRING_MODE,t.QUOTE_STRING_MODE,s,r,a,t.C_LINE_COMMENT_MODE,t.C_BLOCK_COMMENT_MODE,n,{begin:/[{,\n]\s*/,relevance:0,contains:[{begin:e+"\\s*:",returnBegin:!0,relevance:0,contains:[{className:"attr",begin:e,relevance:0}]}]},{begin:"("+t.RE_STARTERS_RE+"|\\b(case|return|throw)\\b)\\s*",keywords:"return throw case",contains:[t.C_LINE_COMMENT_MODE,t.C_BLOCK_COMMENT_MODE,t.REGEXP_MODE,{className:"function",begin:"(\\(.*?\\)|"+e+")\\s*=>",returnBegin:!0,end:"\\s*=>",contains:[{className:"params",variants:[{begin:e},{begin:/\(\s*\)/},{begin:/\(/,end:/\)/,excludeBegin:!0,excludeEnd:!0,keywords:i,contains:l}]}]},{className:"",begin:/\s/,end:/\s*/,skip:!0},{begin:/</,end:/(\/[A-Za-z0-9\\._:-]+|[A-Za-z0-9\\._:-]+\/)>/,subLanguage:"xml",contains:[{begin:/<[A-Za-z0-9\\._:-]+\s*\/>/,skip:!0},{begin:/<[A-Za-z0-9\\._:-]+/,end:/(\/[A-Za-z0-9\\._:-]+|[A-Za-z0-9\\._:-]+\/)>/,skip:!0,contains:[{begin:/<[A-Za-z0-9\\._:-]+\s*\/>/,skip:!0},"self"]}]}],relevance:0},{className:"function",beginKeywords:"function",end:/\{/,excludeEnd:!0,contains:[t.inherit(t.TITLE_MODE,{begin:e}),{className:"params",begin:/\(/,end:/\)/,excludeBegin:!0,excludeEnd:!0,contains:l}],illegal:/\[|%/},{begin:/\$[(.]/},t.METHOD_GUARD,{className:"class",beginKeywords:"class",end:/[{;=]/,excludeEnd:!0,illegal:/[:"\[\]]/,contains:[{beginKeywords:"extends"},t.UNDERSCORE_TITLE_MODE]},{beginKeywords:"constructor get set",end:/\{/,excludeEnd:!0}],illegal:/#(?!!)/}}},"518b":function(t,e,i){(function(t){t(i("56b3"))})((function(t){"use strict";t.defineMode("fortran",(function(){function t(t){for(var e={},i=0;i<t.length;++i)e[t[i]]=!0;return e}var e=t(["abstract","accept","allocatable","allocate","array","assign","asynchronous","backspace","bind","block","byte","call","case","class","close","common","contains","continue","cycle","data","deallocate","decode","deferred","dimension","do","elemental","else","encode","end","endif","entry","enumerator","equivalence","exit","external","extrinsic","final","forall","format","function","generic","go","goto","if","implicit","import","include","inquire","intent","interface","intrinsic","module","namelist","non_intrinsic","non_overridable","none","nopass","nullify","open","optional","options","parameter","pass","pause","pointer","print","private","program","protected","public","pure","read","recursive","result","return","rewind","save","select","sequence","stop","subroutine","target","then","to","type","use","value","volatile","where","while","write"]),i=t(["abort","abs","access","achar","acos","adjustl","adjustr","aimag","aint","alarm","all","allocated","alog","amax","amin","amod","and","anint","any","asin","associated","atan","besj","besjn","besy","besyn","bit_size","btest","cabs","ccos","ceiling","cexp","char","chdir","chmod","clog","cmplx","command_argument_count","complex","conjg","cos","cosh","count","cpu_time","cshift","csin","csqrt","ctime","c_funloc","c_loc","c_associated","c_null_ptr","c_null_funptr","c_f_pointer","c_null_char","c_alert","c_backspace","c_form_feed","c_new_line","c_carriage_return","c_horizontal_tab","c_vertical_tab","dabs","dacos","dasin","datan","date_and_time","dbesj","dbesj","dbesjn","dbesy","dbesy","dbesyn","dble","dcos","dcosh","ddim","derf","derfc","dexp","digits","dim","dint","dlog","dlog","dmax","dmin","dmod","dnint","dot_product","dprod","dsign","dsinh","dsin","dsqrt","dtanh","dtan","dtime","eoshift","epsilon","erf","erfc","etime","exit","exp","exponent","extends_type_of","fdate","fget","fgetc","float","floor","flush","fnum","fputc","fput","fraction","fseek","fstat","ftell","gerror","getarg","get_command","get_command_argument","get_environment_variable","getcwd","getenv","getgid","getlog","getpid","getuid","gmtime","hostnm","huge","iabs","iachar","iand","iargc","ibclr","ibits","ibset","ichar","idate","idim","idint","idnint","ieor","ierrno","ifix","imag","imagpart","index","int","ior","irand","isatty","ishft","ishftc","isign","iso_c_binding","is_iostat_end","is_iostat_eor","itime","kill","kind","lbound","len","len_trim","lge","lgt","link","lle","llt","lnblnk","loc","log","logical","long","lshift","lstat","ltime","matmul","max","maxexponent","maxloc","maxval","mclock","merge","move_alloc","min","minexponent","minloc","minval","mod","modulo","mvbits","nearest","new_line","nint","not","or","pack","perror","precision","present","product","radix","rand","random_number","random_seed","range","real","realpart","rename","repeat","reshape","rrspacing","rshift","same_type_as","scale","scan","second","selected_int_kind","selected_real_kind","set_exponent","shape","short","sign","signal","sinh","sin","sleep","sngl","spacing","spread","sqrt","srand","stat","sum","symlnk","system","system_clock","tan","tanh","time","tiny","transfer","transpose","trim","ttynam","ubound","umask","unlink","unpack","verify","xor","zabs","zcos","zexp","zlog","zsin","zsqrt"]),n=t(["c_bool","c_char","c_double","c_double_complex","c_float","c_float_complex","c_funptr","c_int","c_int16_t","c_int32_t","c_int64_t","c_int8_t","c_int_fast16_t","c_int_fast32_t","c_int_fast64_t","c_int_fast8_t","c_int_least16_t","c_int_least32_t","c_int_least64_t","c_int_least8_t","c_intmax_t","c_intptr_t","c_long","c_long_double","c_long_double_complex","c_long_long","c_ptr","c_short","c_signed_char","c_size_t","character","complex","double","integer","logical","real"]),o=/[+\-*&=<>\/\:]/,s=new RegExp("(.and.|.or.|.eq.|.lt.|.le.|.gt.|.ge.|.ne.|.not.|.eqv.|.neqv.)","i");function r(t,r){if(t.match(s))return"operator";var l=t.next();if("!"==l)return t.skipToEnd(),"comment";if('"'==l||"'"==l)return r.tokenize=a(l),r.tokenize(t,r);if(/[\[\]\(\),]/.test(l))return null;if(/\d/.test(l))return t.eatWhile(/[\w\.]/),"number";if(o.test(l))return t.eatWhile(o),"operator";t.eatWhile(/[\w\$_]/);var c=t.current().toLowerCase();return e.hasOwnProperty(c)?"keyword":i.hasOwnProperty(c)||n.hasOwnProperty(c)?"builtin":"variable"}function a(t){return function(e,i){var n,o=!1,s=!1;while(null!=(n=e.next())){if(n==t&&!o){s=!0;break}o=!o&&"\\"==n}return!s&&o||(i.tokenize=null),"string"}}return{startState:function(){return{tokenize:null}},token:function(t,e){if(t.eatSpace())return null;var i=(e.tokenize||r)(t,e);return i}}})),t.defineMIME("text/x-fortran","fortran")}))},"54ca":function(t,e,i){var n,o,s;(function(r,a){o=[i("2ddc")],n=a,s="function"===typeof n?n.apply(e,o):n,void 0===s||(t.exports=s)})(0,(function(t){
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
"use strict";return t}))},"56b3":function(t,e,i){(function(e,i){t.exports=i()})(0,(function(){"use strict";var t=navigator.userAgent,e=navigator.platform,i=/gecko\/\d/i.test(t),n=/MSIE \d/.test(t),o=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(t),s=/Edge\/(\d+)/.exec(t),r=n||o||s,a=r&&(n?document.documentMode||6:+(s||o)[1]),l=!s&&/WebKit\//.test(t),c=l&&/Qt\/\d+\.\d+/.test(t),u=!s&&/Chrome\//.test(t),h=/Opera\//.test(t),d=/Apple Computer/.test(navigator.vendor),p=/Mac OS X 1\d\D([8-9]|\d\d)\D/.test(t),_=/PhantomJS/.test(t),g=!s&&/AppleWebKit/.test(t)&&/Mobile\/\w+/.test(t),f=/Android/.test(t),m=g||f||/webOS|BlackBerry|Opera Mini|Opera Mobi|IEMobile/i.test(t),v=g||/Mac/.test(e),b=/\bCrOS\b/.test(t),y=/win/i.test(e),T=h&&t.match(/Version\/(\d*\.\d*)/);T&&(T=Number(T[1])),T&&T>=15&&(h=!1,l=!0);var E=v&&(c||h&&(null==T||T<12.11)),S=i||r&&a>=9;function C(t){return new RegExp("(^|\\s)"+t+"(?:$|\\s)\\s*")}var k,w=function(t,e){var i=t.className,n=C(e).exec(i);if(n){var o=i.slice(n.index+n[0].length);t.className=i.slice(0,n.index)+(o?n[1]+o:"")}};function R(t){for(var e=t.childNodes.length;e>0;--e)t.removeChild(t.firstChild);return t}function I(t,e){return R(t).appendChild(e)}function x(t,e,i,n){var o=document.createElement(t);if(i&&(o.className=i),n&&(o.style.cssText=n),"string"==typeof e)o.appendChild(document.createTextNode(e));else if(e)for(var s=0;s<e.length;++s)o.appendChild(e[s]);return o}function O(t,e,i,n){var o=x(t,e,i,n);return o.setAttribute("role","presentation"),o}function A(t,e){if(3==e.nodeType&&(e=e.parentNode),t.contains)return t.contains(e);do{if(11==e.nodeType&&(e=e.host),e==t)return!0}while(e=e.parentNode)}function M(){var t;try{t=document.activeElement}catch(e){t=document.body||null}while(t&&t.shadowRoot&&t.shadowRoot.activeElement)t=t.shadowRoot.activeElement;return t}function N(t,e){var i=t.className;C(e).test(i)||(t.className+=(i?" ":"")+e)}function L(t,e){for(var i=t.split(" "),n=0;n<i.length;n++)i[n]&&!C(i[n]).test(e)&&(e+=" "+i[n]);return e}k=document.createRange?function(t,e,i,n){var o=document.createRange();return o.setEnd(n||t,i),o.setStart(t,e),o}:function(t,e,i){var n=document.body.createTextRange();try{n.moveToElementText(t.parentNode)}catch(o){return n}return n.collapse(!0),n.moveEnd("character",i),n.moveStart("character",e),n};var D=function(t){t.select()};function B(t){var e=Array.prototype.slice.call(arguments,1);return function(){return t.apply(null,e)}}function P(t,e,i){for(var n in e||(e={}),t)!t.hasOwnProperty(n)||!1===i&&e.hasOwnProperty(n)||(e[n]=t[n]);return e}function F(t,e,i,n,o){null==e&&(e=t.search(/[^\s\u00a0]/),-1==e&&(e=t.length));for(var s=n||0,r=o||0;;){var a=t.indexOf("\t",s);if(a<0||a>=e)return r+(e-s);r+=a-s,r+=i-r%i,s=a+1}}g?D=function(t){t.selectionStart=0,t.selectionEnd=t.value.length}:r&&(D=function(t){try{t.select()}catch(e){}});var H=function(){this.id=null,this.f=null,this.time=0,this.handler=B(this.onTimeout,this)};function V(t,e){for(var i=0;i<t.length;++i)if(t[i]==e)return i;return-1}H.prototype.onTimeout=function(t){t.id=0,t.time<=+new Date?t.f():setTimeout(t.handler,t.time-+new Date)},H.prototype.set=function(t,e){this.f=e;var i=+new Date+t;(!this.id||i<this.time)&&(clearTimeout(this.id),this.id=setTimeout(this.handler,t),this.time=i)};var U=30,W={toString:function(){return"CodeMirror.Pass"}},$={scroll:!1},G={origin:"*mouse"},q={origin:"+move"};function z(t,e,i){for(var n=0,o=0;;){var s=t.indexOf("\t",n);-1==s&&(s=t.length);var r=s-n;if(s==t.length||o+r>=e)return n+Math.min(r,e-o);if(o+=s-n,o+=i-o%i,n=s+1,o>=e)return n}}var X=[""];function Y(t){while(X.length<=t)X.push(j(X)+" ");return X[t]}function j(t){return t[t.length-1]}function K(t,e){for(var i=[],n=0;n<t.length;n++)i[n]=e(t[n],n);return i}function J(t,e,i){var n=0,o=i(e);while(n<t.length&&i(t[n])<=o)n++;t.splice(n,0,e)}function Q(){}function Z(t,e){var i;return Object.create?i=Object.create(t):(Q.prototype=t,i=new Q),e&&P(e,i),i}var tt=/[\u00df\u0587\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/;function et(t){return/\w/.test(t)||t>""&&(t.toUpperCase()!=t.toLowerCase()||tt.test(t))}function it(t,e){return e?!!(e.source.indexOf("\\w")>-1&&et(t))||e.test(t):et(t)}function nt(t){for(var e in t)if(t.hasOwnProperty(e)&&t[e])return!1;return!0}var ot=/[\u0300-\u036f\u0483-\u0489\u0591-\u05bd\u05bf\u05c1\u05c2\u05c4\u05c5\u05c7\u0610-\u061a\u064b-\u065e\u0670\u06d6-\u06dc\u06de-\u06e4\u06e7\u06e8\u06ea-\u06ed\u0711\u0730-\u074a\u07a6-\u07b0\u07eb-\u07f3\u0816-\u0819\u081b-\u0823\u0825-\u0827\u0829-\u082d\u0900-\u0902\u093c\u0941-\u0948\u094d\u0951-\u0955\u0962\u0963\u0981\u09bc\u09be\u09c1-\u09c4\u09cd\u09d7\u09e2\u09e3\u0a01\u0a02\u0a3c\u0a41\u0a42\u0a47\u0a48\u0a4b-\u0a4d\u0a51\u0a70\u0a71\u0a75\u0a81\u0a82\u0abc\u0ac1-\u0ac5\u0ac7\u0ac8\u0acd\u0ae2\u0ae3\u0b01\u0b3c\u0b3e\u0b3f\u0b41-\u0b44\u0b4d\u0b56\u0b57\u0b62\u0b63\u0b82\u0bbe\u0bc0\u0bcd\u0bd7\u0c3e-\u0c40\u0c46-\u0c48\u0c4a-\u0c4d\u0c55\u0c56\u0c62\u0c63\u0cbc\u0cbf\u0cc2\u0cc6\u0ccc\u0ccd\u0cd5\u0cd6\u0ce2\u0ce3\u0d3e\u0d41-\u0d44\u0d4d\u0d57\u0d62\u0d63\u0dca\u0dcf\u0dd2-\u0dd4\u0dd6\u0ddf\u0e31\u0e34-\u0e3a\u0e47-\u0e4e\u0eb1\u0eb4-\u0eb9\u0ebb\u0ebc\u0ec8-\u0ecd\u0f18\u0f19\u0f35\u0f37\u0f39\u0f71-\u0f7e\u0f80-\u0f84\u0f86\u0f87\u0f90-\u0f97\u0f99-\u0fbc\u0fc6\u102d-\u1030\u1032-\u1037\u1039\u103a\u103d\u103e\u1058\u1059\u105e-\u1060\u1071-\u1074\u1082\u1085\u1086\u108d\u109d\u135f\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17b7-\u17bd\u17c6\u17c9-\u17d3\u17dd\u180b-\u180d\u18a9\u1920-\u1922\u1927\u1928\u1932\u1939-\u193b\u1a17\u1a18\u1a56\u1a58-\u1a5e\u1a60\u1a62\u1a65-\u1a6c\u1a73-\u1a7c\u1a7f\u1b00-\u1b03\u1b34\u1b36-\u1b3a\u1b3c\u1b42\u1b6b-\u1b73\u1b80\u1b81\u1ba2-\u1ba5\u1ba8\u1ba9\u1c2c-\u1c33\u1c36\u1c37\u1cd0-\u1cd2\u1cd4-\u1ce0\u1ce2-\u1ce8\u1ced\u1dc0-\u1de6\u1dfd-\u1dff\u200c\u200d\u20d0-\u20f0\u2cef-\u2cf1\u2de0-\u2dff\u302a-\u302f\u3099\u309a\ua66f-\ua672\ua67c\ua67d\ua6f0\ua6f1\ua802\ua806\ua80b\ua825\ua826\ua8c4\ua8e0-\ua8f1\ua926-\ua92d\ua947-\ua951\ua980-\ua982\ua9b3\ua9b6-\ua9b9\ua9bc\uaa29-\uaa2e\uaa31\uaa32\uaa35\uaa36\uaa43\uaa4c\uaab0\uaab2-\uaab4\uaab7\uaab8\uaabe\uaabf\uaac1\uabe5\uabe8\uabed\udc00-\udfff\ufb1e\ufe00-\ufe0f\ufe20-\ufe26\uff9e\uff9f]/;function st(t){return t.charCodeAt(0)>=768&&ot.test(t)}function rt(t,e,i){while((i<0?e>0:e<t.length)&&st(t.charAt(e)))e+=i;return e}function at(t,e,i){for(var n=e>i?-1:1;;){if(e==i)return e;var o=(e+i)/2,s=n<0?Math.ceil(o):Math.floor(o);if(s==e)return t(s)?e:i;t(s)?i=s:e=s+n}}function lt(t,e,i,n){if(!t)return n(e,i,"ltr",0);for(var o=!1,s=0;s<t.length;++s){var r=t[s];(r.from<i&&r.to>e||e==i&&r.to==e)&&(n(Math.max(r.from,e),Math.min(r.to,i),1==r.level?"rtl":"ltr",s),o=!0)}o||n(e,i,"ltr")}var ct=null;function ut(t,e,i){var n;ct=null;for(var o=0;o<t.length;++o){var s=t[o];if(s.from<e&&s.to>e)return o;s.to==e&&(s.from!=s.to&&"before"==i?n=o:ct=o),s.from==e&&(s.from!=s.to&&"before"!=i?n=o:ct=o)}return null!=n?n:ct}var ht=function(){var t="bbbbbbbbbtstwsbbbbbbbbbbbbbbssstwNN%%%NNNNNN,N,N1111111111NNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNbbbbbbsbbbbbbbbbbbbbbbbbbbbbbbbbb,N%%%%NNNNLNNNNN%%11NLNNN1LNNNNNLLLLLLLLLLLLLLLLLLLLLLLNLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLN",e="nnnnnnNNr%%r,rNNmmmmmmmmmmmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmmmmmmmmmmmmmmmnnnnnnnnnn%nnrrrmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmnNmmmmmmrrmmNmmmmrr1111111111";function i(i){return i<=247?t.charAt(i):1424<=i&&i<=1524?"R":1536<=i&&i<=1785?e.charAt(i-1536):1774<=i&&i<=2220?"r":8192<=i&&i<=8203?"w":8204==i?"b":"L"}var n=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/,o=/[stwN]/,s=/[LRr]/,r=/[Lb1n]/,a=/[1n]/;function l(t,e,i){this.level=t,this.from=e,this.to=i}return function(t,e){var c="ltr"==e?"L":"R";if(0==t.length||"ltr"==e&&!n.test(t))return!1;for(var u=t.length,h=[],d=0;d<u;++d)h.push(i(t.charCodeAt(d)));for(var p=0,_=c;p<u;++p){var g=h[p];"m"==g?h[p]=_:_=g}for(var f=0,m=c;f<u;++f){var v=h[f];"1"==v&&"r"==m?h[f]="n":s.test(v)&&(m=v,"r"==v&&(h[f]="R"))}for(var b=1,y=h[0];b<u-1;++b){var T=h[b];"+"==T&&"1"==y&&"1"==h[b+1]?h[b]="1":","!=T||y!=h[b+1]||"1"!=y&&"n"!=y||(h[b]=y),y=T}for(var E=0;E<u;++E){var S=h[E];if(","==S)h[E]="N";else if("%"==S){var C=void 0;for(C=E+1;C<u&&"%"==h[C];++C);for(var k=E&&"!"==h[E-1]||C<u&&"1"==h[C]?"1":"N",w=E;w<C;++w)h[w]=k;E=C-1}}for(var R=0,I=c;R<u;++R){var x=h[R];"L"==I&&"1"==x?h[R]="L":s.test(x)&&(I=x)}for(var O=0;O<u;++O)if(o.test(h[O])){var A=void 0;for(A=O+1;A<u&&o.test(h[A]);++A);for(var M="L"==(O?h[O-1]:c),N="L"==(A<u?h[A]:c),L=M==N?M?"L":"R":c,D=O;D<A;++D)h[D]=L;O=A-1}for(var B,P=[],F=0;F<u;)if(r.test(h[F])){var H=F;for(++F;F<u&&r.test(h[F]);++F);P.push(new l(0,H,F))}else{var V=F,U=P.length;for(++F;F<u&&"L"!=h[F];++F);for(var W=V;W<F;)if(a.test(h[W])){V<W&&P.splice(U,0,new l(1,V,W));var $=W;for(++W;W<F&&a.test(h[W]);++W);P.splice(U,0,new l(2,$,W)),V=W}else++W;V<F&&P.splice(U,0,new l(1,V,F))}return"ltr"==e&&(1==P[0].level&&(B=t.match(/^\s+/))&&(P[0].from=B[0].length,P.unshift(new l(0,0,B[0].length))),1==j(P).level&&(B=t.match(/\s+$/))&&(j(P).to-=B[0].length,P.push(new l(0,u-B[0].length,u)))),"rtl"==e?P.reverse():P}}();function dt(t,e){var i=t.order;return null==i&&(i=t.order=ht(t.text,e)),i}var pt=[],_t=function(t,e,i){if(t.addEventListener)t.addEventListener(e,i,!1);else if(t.attachEvent)t.attachEvent("on"+e,i);else{var n=t._handlers||(t._handlers={});n[e]=(n[e]||pt).concat(i)}};function gt(t,e){return t._handlers&&t._handlers[e]||pt}function ft(t,e,i){if(t.removeEventListener)t.removeEventListener(e,i,!1);else if(t.detachEvent)t.detachEvent("on"+e,i);else{var n=t._handlers,o=n&&n[e];if(o){var s=V(o,i);s>-1&&(n[e]=o.slice(0,s).concat(o.slice(s+1)))}}}function mt(t,e){var i=gt(t,e);if(i.length)for(var n=Array.prototype.slice.call(arguments,2),o=0;o<i.length;++o)i[o].apply(null,n)}function vt(t,e,i){return"string"==typeof e&&(e={type:e,preventDefault:function(){this.defaultPrevented=!0}}),mt(t,i||e.type,t,e),Ct(e)||e.codemirrorIgnore}function bt(t){var e=t._handlers&&t._handlers.cursorActivity;if(e)for(var i=t.curOp.cursorActivityHandlers||(t.curOp.cursorActivityHandlers=[]),n=0;n<e.length;++n)-1==V(i,e[n])&&i.push(e[n])}function yt(t,e){return gt(t,e).length>0}function Tt(t){t.prototype.on=function(t,e){_t(this,t,e)},t.prototype.off=function(t,e){ft(this,t,e)}}function Et(t){t.preventDefault?t.preventDefault():t.returnValue=!1}function St(t){t.stopPropagation?t.stopPropagation():t.cancelBubble=!0}function Ct(t){return null!=t.defaultPrevented?t.defaultPrevented:0==t.returnValue}function kt(t){Et(t),St(t)}function wt(t){return t.target||t.srcElement}function Rt(t){var e=t.which;return null==e&&(1&t.button?e=1:2&t.button?e=3:4&t.button&&(e=2)),v&&t.ctrlKey&&1==e&&(e=3),e}var It,xt,Ot=function(){if(r&&a<9)return!1;var t=x("div");return"draggable"in t||"dragDrop"in t}();function At(t){if(null==It){var e=x("span","​");I(t,x("span",[e,document.createTextNode("x")])),0!=t.firstChild.offsetHeight&&(It=e.offsetWidth<=1&&e.offsetHeight>2&&!(r&&a<8))}var i=It?x("span","​"):x("span"," ",null,"display: inline-block; width: 1px; margin-right: -1px");return i.setAttribute("cm-text",""),i}function Mt(t){if(null!=xt)return xt;var e=I(t,document.createTextNode("AخA")),i=k(e,0,1).getBoundingClientRect(),n=k(e,1,2).getBoundingClientRect();return R(t),!(!i||i.left==i.right)&&(xt=n.right-i.right<3)}var Nt=3!="\n\nb".split(/\n/).length?function(t){var e=0,i=[],n=t.length;while(e<=n){var o=t.indexOf("\n",e);-1==o&&(o=t.length);var s=t.slice(e,"\r"==t.charAt(o-1)?o-1:o),r=s.indexOf("\r");-1!=r?(i.push(s.slice(0,r)),e+=r+1):(i.push(s),e=o+1)}return i}:function(t){return t.split(/\r\n?|\n/)},Lt=window.getSelection?function(t){try{return t.selectionStart!=t.selectionEnd}catch(e){return!1}}:function(t){var e;try{e=t.ownerDocument.selection.createRange()}catch(i){}return!(!e||e.parentElement()!=t)&&0!=e.compareEndPoints("StartToEnd",e)},Dt=function(){var t=x("div");return"oncopy"in t||(t.setAttribute("oncopy","return;"),"function"==typeof t.oncopy)}(),Bt=null;function Pt(t){if(null!=Bt)return Bt;var e=I(t,x("span","x")),i=e.getBoundingClientRect(),n=k(e,0,1).getBoundingClientRect();return Bt=Math.abs(i.left-n.left)>1}var Ft={},Ht={};function Vt(t,e){arguments.length>2&&(e.dependencies=Array.prototype.slice.call(arguments,2)),Ft[t]=e}function Ut(t,e){Ht[t]=e}function Wt(t){if("string"==typeof t&&Ht.hasOwnProperty(t))t=Ht[t];else if(t&&"string"==typeof t.name&&Ht.hasOwnProperty(t.name)){var e=Ht[t.name];"string"==typeof e&&(e={name:e}),t=Z(e,t),t.name=e.name}else{if("string"==typeof t&&/^[\w\-]+\/[\w\-]+\+xml$/.test(t))return Wt("application/xml");if("string"==typeof t&&/^[\w\-]+\/[\w\-]+\+json$/.test(t))return Wt("application/json")}return"string"==typeof t?{name:t}:t||{name:"null"}}function $t(t,e){e=Wt(e);var i=Ft[e.name];if(!i)return $t(t,"text/plain");var n=i(t,e);if(Gt.hasOwnProperty(e.name)){var o=Gt[e.name];for(var s in o)o.hasOwnProperty(s)&&(n.hasOwnProperty(s)&&(n["_"+s]=n[s]),n[s]=o[s])}if(n.name=e.name,e.helperType&&(n.helperType=e.helperType),e.modeProps)for(var r in e.modeProps)n[r]=e.modeProps[r];return n}var Gt={};function qt(t,e){var i=Gt.hasOwnProperty(t)?Gt[t]:Gt[t]={};P(e,i)}function zt(t,e){if(!0===e)return e;if(t.copyState)return t.copyState(e);var i={};for(var n in e){var o=e[n];o instanceof Array&&(o=o.concat([])),i[n]=o}return i}function Xt(t,e){var i;while(t.innerMode){if(i=t.innerMode(e),!i||i.mode==t)break;e=i.state,t=i.mode}return i||{mode:t,state:e}}function Yt(t,e,i){return!t.startState||t.startState(e,i)}var jt=function(t,e,i){this.pos=this.start=0,this.string=t,this.tabSize=e||8,this.lastColumnPos=this.lastColumnValue=0,this.lineStart=0,this.lineOracle=i};function Kt(t,e){if(e-=t.first,e<0||e>=t.size)throw new Error("There is no line "+(e+t.first)+" in the document.");var i=t;while(!i.lines)for(var n=0;;++n){var o=i.children[n],s=o.chunkSize();if(e<s){i=o;break}e-=s}return i.lines[e]}function Jt(t,e,i){var n=[],o=e.line;return t.iter(e.line,i.line+1,(function(t){var s=t.text;o==i.line&&(s=s.slice(0,i.ch)),o==e.line&&(s=s.slice(e.ch)),n.push(s),++o})),n}function Qt(t,e,i){var n=[];return t.iter(e,i,(function(t){n.push(t.text)})),n}function Zt(t,e){var i=e-t.height;if(i)for(var n=t;n;n=n.parent)n.height+=i}function te(t){if(null==t.parent)return null;for(var e=t.parent,i=V(e.lines,t),n=e.parent;n;e=n,n=n.parent)for(var o=0;;++o){if(n.children[o]==e)break;i+=n.children[o].chunkSize()}return i+e.first}function ee(t,e){var i=t.first;t:do{for(var n=0;n<t.children.length;++n){var o=t.children[n],s=o.height;if(e<s){t=o;continue t}e-=s,i+=o.chunkSize()}return i}while(!t.lines);for(var r=0;r<t.lines.length;++r){var a=t.lines[r],l=a.height;if(e<l)break;e-=l}return i+r}function ie(t,e){return e>=t.first&&e<t.first+t.size}function ne(t,e){return String(t.lineNumberFormatter(e+t.firstLineNumber))}function oe(t,e,i){if(void 0===i&&(i=null),!(this instanceof oe))return new oe(t,e,i);this.line=t,this.ch=e,this.sticky=i}function se(t,e){return t.line-e.line||t.ch-e.ch}function re(t,e){return t.sticky==e.sticky&&0==se(t,e)}function ae(t){return oe(t.line,t.ch)}function le(t,e){return se(t,e)<0?e:t}function ce(t,e){return se(t,e)<0?t:e}function ue(t,e){return Math.max(t.first,Math.min(e,t.first+t.size-1))}function he(t,e){if(e.line<t.first)return oe(t.first,0);var i=t.first+t.size-1;return e.line>i?oe(i,Kt(t,i).text.length):de(e,Kt(t,e.line).text.length)}function de(t,e){var i=t.ch;return null==i||i>e?oe(t.line,e):i<0?oe(t.line,0):t}function pe(t,e){for(var i=[],n=0;n<e.length;n++)i[n]=he(t,e[n]);return i}jt.prototype.eol=function(){return this.pos>=this.string.length},jt.prototype.sol=function(){return this.pos==this.lineStart},jt.prototype.peek=function(){return this.string.charAt(this.pos)||void 0},jt.prototype.next=function(){if(this.pos<this.string.length)return this.string.charAt(this.pos++)},jt.prototype.eat=function(t){var e,i=this.string.charAt(this.pos);if(e="string"==typeof t?i==t:i&&(t.test?t.test(i):t(i)),e)return++this.pos,i},jt.prototype.eatWhile=function(t){var e=this.pos;while(this.eat(t));return this.pos>e},jt.prototype.eatSpace=function(){var t=this,e=this.pos;while(/[\s\u00a0]/.test(this.string.charAt(this.pos)))++t.pos;return this.pos>e},jt.prototype.skipToEnd=function(){this.pos=this.string.length},jt.prototype.skipTo=function(t){var e=this.string.indexOf(t,this.pos);if(e>-1)return this.pos=e,!0},jt.prototype.backUp=function(t){this.pos-=t},jt.prototype.column=function(){return this.lastColumnPos<this.start&&(this.lastColumnValue=F(this.string,this.start,this.tabSize,this.lastColumnPos,this.lastColumnValue),this.lastColumnPos=this.start),this.lastColumnValue-(this.lineStart?F(this.string,this.lineStart,this.tabSize):0)},jt.prototype.indentation=function(){return F(this.string,null,this.tabSize)-(this.lineStart?F(this.string,this.lineStart,this.tabSize):0)},jt.prototype.match=function(t,e,i){if("string"!=typeof t){var n=this.string.slice(this.pos).match(t);return n&&n.index>0?null:(n&&!1!==e&&(this.pos+=n[0].length),n)}var o=function(t){return i?t.toLowerCase():t},s=this.string.substr(this.pos,t.length);if(o(s)==o(t))return!1!==e&&(this.pos+=t.length),!0},jt.prototype.current=function(){return this.string.slice(this.start,this.pos)},jt.prototype.hideFirstChars=function(t,e){this.lineStart+=t;try{return e()}finally{this.lineStart-=t}},jt.prototype.lookAhead=function(t){var e=this.lineOracle;return e&&e.lookAhead(t)},jt.prototype.baseToken=function(){var t=this.lineOracle;return t&&t.baseToken(this.pos)};var _e=function(t,e){this.state=t,this.lookAhead=e},ge=function(t,e,i,n){this.state=e,this.doc=t,this.line=i,this.maxLookAhead=n||0,this.baseTokens=null,this.baseTokenPos=1};function fe(t,e,i,n){var o=[t.state.modeGen],s={};ke(t,e.text,t.doc.mode,i,(function(t,e){return o.push(t,e)}),s,n);for(var r=i.state,a=function(n){i.baseTokens=o;var a=t.state.overlays[n],l=1,c=0;i.state=!0,ke(t,e.text,a.mode,i,(function(t,e){var i=l;while(c<t){var n=o[l];n>t&&o.splice(l,1,t,o[l+1],n),l+=2,c=Math.min(t,n)}if(e)if(a.opaque)o.splice(i,l-i,t,"overlay "+e),l=i+2;else for(;i<l;i+=2){var s=o[i+1];o[i+1]=(s?s+" ":"")+"overlay "+e}}),s),i.state=r,i.baseTokens=null,i.baseTokenPos=1},l=0;l<t.state.overlays.length;++l)a(l);return{styles:o,classes:s.bgClass||s.textClass?s:null}}function me(t,e,i){if(!e.styles||e.styles[0]!=t.state.modeGen){var n=ve(t,te(e)),o=e.text.length>t.options.maxHighlightLength&&zt(t.doc.mode,n.state),s=fe(t,e,n);o&&(n.state=o),e.stateAfter=n.save(!o),e.styles=s.styles,s.classes?e.styleClasses=s.classes:e.styleClasses&&(e.styleClasses=null),i===t.doc.highlightFrontier&&(t.doc.modeFrontier=Math.max(t.doc.modeFrontier,++t.doc.highlightFrontier))}return e.styles}function ve(t,e,i){var n=t.doc,o=t.display;if(!n.mode.startState)return new ge(n,!0,e);var s=we(t,e,i),r=s>n.first&&Kt(n,s-1).stateAfter,a=r?ge.fromSaved(n,r,s):new ge(n,Yt(n.mode),s);return n.iter(s,e,(function(i){be(t,i.text,a);var n=a.line;i.stateAfter=n==e-1||n%5==0||n>=o.viewFrom&&n<o.viewTo?a.save():null,a.nextLine()})),i&&(n.modeFrontier=a.line),a}function be(t,e,i,n){var o=t.doc.mode,s=new jt(e,t.options.tabSize,i);s.start=s.pos=n||0,""==e&&ye(o,i.state);while(!s.eol())Te(o,s,i.state),s.start=s.pos}function ye(t,e){if(t.blankLine)return t.blankLine(e);if(t.innerMode){var i=Xt(t,e);return i.mode.blankLine?i.mode.blankLine(i.state):void 0}}function Te(t,e,i,n){for(var o=0;o<10;o++){n&&(n[0]=Xt(t,i).mode);var s=t.token(e,i);if(e.pos>e.start)return s}throw new Error("Mode "+t.name+" failed to advance stream.")}ge.prototype.lookAhead=function(t){var e=this.doc.getLine(this.line+t);return null!=e&&t>this.maxLookAhead&&(this.maxLookAhead=t),e},ge.prototype.baseToken=function(t){var e=this;if(!this.baseTokens)return null;while(this.baseTokens[this.baseTokenPos]<=t)e.baseTokenPos+=2;var i=this.baseTokens[this.baseTokenPos+1];return{type:i&&i.replace(/( |^)overlay .*/,""),size:this.baseTokens[this.baseTokenPos]-t}},ge.prototype.nextLine=function(){this.line++,this.maxLookAhead>0&&this.maxLookAhead--},ge.fromSaved=function(t,e,i){return e instanceof _e?new ge(t,zt(t.mode,e.state),i,e.lookAhead):new ge(t,zt(t.mode,e),i)},ge.prototype.save=function(t){var e=!1!==t?zt(this.doc.mode,this.state):this.state;return this.maxLookAhead>0?new _e(e,this.maxLookAhead):e};var Ee=function(t,e,i){this.start=t.start,this.end=t.pos,this.string=t.current(),this.type=e||null,this.state=i};function Se(t,e,i,n){var o,s=t.doc,r=s.mode;e=he(s,e);var a,l=Kt(s,e.line),c=ve(t,e.line,i),u=new jt(l.text,t.options.tabSize,c);n&&(a=[]);while((n||u.pos<e.ch)&&!u.eol())u.start=u.pos,o=Te(r,u,c.state),n&&a.push(new Ee(u,o,zt(s.mode,c.state)));return n?a:new Ee(u,o,c.state)}function Ce(t,e){if(t)for(;;){var i=t.match(/(?:^|\s+)line-(background-)?(\S+)/);if(!i)break;t=t.slice(0,i.index)+t.slice(i.index+i[0].length);var n=i[1]?"bgClass":"textClass";null==e[n]?e[n]=i[2]:new RegExp("(?:^|s)"+i[2]+"(?:$|s)").test(e[n])||(e[n]+=" "+i[2])}return t}function ke(t,e,i,n,o,s,r){var a=i.flattenSpans;null==a&&(a=t.options.flattenSpans);var l,c=0,u=null,h=new jt(e,t.options.tabSize,n),d=t.options.addModeClass&&[null];""==e&&Ce(ye(i,n.state),s);while(!h.eol()){if(h.pos>t.options.maxHighlightLength?(a=!1,r&&be(t,e,n,h.pos),h.pos=e.length,l=null):l=Ce(Te(i,h,n.state,d),s),d){var p=d[0].name;p&&(l="m-"+(l?p+" "+l:p))}if(!a||u!=l){while(c<h.start)c=Math.min(h.start,c+5e3),o(c,u);u=l}h.start=h.pos}while(c<h.pos){var _=Math.min(h.pos,c+5e3);o(_,u),c=_}}function we(t,e,i){for(var n,o,s=t.doc,r=i?-1:e-(t.doc.mode.innerMode?1e3:100),a=e;a>r;--a){if(a<=s.first)return s.first;var l=Kt(s,a-1),c=l.stateAfter;if(c&&(!i||a+(c instanceof _e?c.lookAhead:0)<=s.modeFrontier))return a;var u=F(l.text,null,t.options.tabSize);(null==o||n>u)&&(o=a-1,n=u)}return o}function Re(t,e){if(t.modeFrontier=Math.min(t.modeFrontier,e),!(t.highlightFrontier<e-10)){for(var i=t.first,n=e-1;n>i;n--){var o=Kt(t,n).stateAfter;if(o&&(!(o instanceof _e)||n+o.lookAhead<e)){i=n+1;break}}t.highlightFrontier=Math.min(t.highlightFrontier,i)}}var Ie=!1,xe=!1;function Oe(){Ie=!0}function Ae(){xe=!0}function Me(t,e,i){this.marker=t,this.from=e,this.to=i}function Ne(t,e){if(t)for(var i=0;i<t.length;++i){var n=t[i];if(n.marker==e)return n}}function Le(t,e){for(var i,n=0;n<t.length;++n)t[n]!=e&&(i||(i=[])).push(t[n]);return i}function De(t,e){t.markedSpans=t.markedSpans?t.markedSpans.concat([e]):[e],e.marker.attachLine(t)}function Be(t,e,i){var n;if(t)for(var o=0;o<t.length;++o){var s=t[o],r=s.marker,a=null==s.from||(r.inclusiveLeft?s.from<=e:s.from<e);if(a||s.from==e&&"bookmark"==r.type&&(!i||!s.marker.insertLeft)){var l=null==s.to||(r.inclusiveRight?s.to>=e:s.to>e);(n||(n=[])).push(new Me(r,s.from,l?null:s.to))}}return n}function Pe(t,e,i){var n;if(t)for(var o=0;o<t.length;++o){var s=t[o],r=s.marker,a=null==s.to||(r.inclusiveRight?s.to>=e:s.to>e);if(a||s.from==e&&"bookmark"==r.type&&(!i||s.marker.insertLeft)){var l=null==s.from||(r.inclusiveLeft?s.from<=e:s.from<e);(n||(n=[])).push(new Me(r,l?null:s.from-e,null==s.to?null:s.to-e))}}return n}function Fe(t,e){if(e.full)return null;var i=ie(t,e.from.line)&&Kt(t,e.from.line).markedSpans,n=ie(t,e.to.line)&&Kt(t,e.to.line).markedSpans;if(!i&&!n)return null;var o=e.from.ch,s=e.to.ch,r=0==se(e.from,e.to),a=Be(i,o,r),l=Pe(n,s,r),c=1==e.text.length,u=j(e.text).length+(c?o:0);if(a)for(var h=0;h<a.length;++h){var d=a[h];if(null==d.to){var p=Ne(l,d.marker);p?c&&(d.to=null==p.to?null:p.to+u):d.to=o}}if(l)for(var _=0;_<l.length;++_){var g=l[_];if(null!=g.to&&(g.to+=u),null==g.from){var f=Ne(a,g.marker);f||(g.from=u,c&&(a||(a=[])).push(g))}else g.from+=u,c&&(a||(a=[])).push(g)}a&&(a=He(a)),l&&l!=a&&(l=He(l));var m=[a];if(!c){var v,b=e.text.length-2;if(b>0&&a)for(var y=0;y<a.length;++y)null==a[y].to&&(v||(v=[])).push(new Me(a[y].marker,null,null));for(var T=0;T<b;++T)m.push(v);m.push(l)}return m}function He(t){for(var e=0;e<t.length;++e){var i=t[e];null!=i.from&&i.from==i.to&&!1!==i.marker.clearWhenEmpty&&t.splice(e--,1)}return t.length?t:null}function Ve(t,e,i){var n=null;if(t.iter(e.line,i.line+1,(function(t){if(t.markedSpans)for(var e=0;e<t.markedSpans.length;++e){var i=t.markedSpans[e].marker;!i.readOnly||n&&-1!=V(n,i)||(n||(n=[])).push(i)}})),!n)return null;for(var o=[{from:e,to:i}],s=0;s<n.length;++s)for(var r=n[s],a=r.find(0),l=0;l<o.length;++l){var c=o[l];if(!(se(c.to,a.from)<0||se(c.from,a.to)>0)){var u=[l,1],h=se(c.from,a.from),d=se(c.to,a.to);(h<0||!r.inclusiveLeft&&!h)&&u.push({from:c.from,to:a.from}),(d>0||!r.inclusiveRight&&!d)&&u.push({from:a.to,to:c.to}),o.splice.apply(o,u),l+=u.length-3}}return o}function Ue(t){var e=t.markedSpans;if(e){for(var i=0;i<e.length;++i)e[i].marker.detachLine(t);t.markedSpans=null}}function We(t,e){if(e){for(var i=0;i<e.length;++i)e[i].marker.attachLine(t);t.markedSpans=e}}function $e(t){return t.inclusiveLeft?-1:0}function Ge(t){return t.inclusiveRight?1:0}function qe(t,e){var i=t.lines.length-e.lines.length;if(0!=i)return i;var n=t.find(),o=e.find(),s=se(n.from,o.from)||$e(t)-$e(e);if(s)return-s;var r=se(n.to,o.to)||Ge(t)-Ge(e);return r||e.id-t.id}function ze(t,e){var i,n=xe&&t.markedSpans;if(n)for(var o=void 0,s=0;s<n.length;++s)o=n[s],o.marker.collapsed&&null==(e?o.from:o.to)&&(!i||qe(i,o.marker)<0)&&(i=o.marker);return i}function Xe(t){return ze(t,!0)}function Ye(t){return ze(t,!1)}function je(t,e){var i,n=xe&&t.markedSpans;if(n)for(var o=0;o<n.length;++o){var s=n[o];s.marker.collapsed&&(null==s.from||s.from<e)&&(null==s.to||s.to>e)&&(!i||qe(i,s.marker)<0)&&(i=s.marker)}return i}function Ke(t,e,i,n,o){var s=Kt(t,e),r=xe&&s.markedSpans;if(r)for(var a=0;a<r.length;++a){var l=r[a];if(l.marker.collapsed){var c=l.marker.find(0),u=se(c.from,i)||$e(l.marker)-$e(o),h=se(c.to,n)||Ge(l.marker)-Ge(o);if(!(u>=0&&h<=0||u<=0&&h>=0)&&(u<=0&&(l.marker.inclusiveRight&&o.inclusiveLeft?se(c.to,i)>=0:se(c.to,i)>0)||u>=0&&(l.marker.inclusiveRight&&o.inclusiveLeft?se(c.from,n)<=0:se(c.from,n)<0)))return!0}}}function Je(t){var e;while(e=Xe(t))t=e.find(-1,!0).line;return t}function Qe(t){var e;while(e=Ye(t))t=e.find(1,!0).line;return t}function Ze(t){var e,i;while(e=Ye(t))t=e.find(1,!0).line,(i||(i=[])).push(t);return i}function ti(t,e){var i=Kt(t,e),n=Je(i);return i==n?e:te(n)}function ei(t,e){if(e>t.lastLine())return e;var i,n=Kt(t,e);if(!ii(t,n))return e;while(i=Ye(n))n=i.find(1,!0).line;return te(n)+1}function ii(t,e){var i=xe&&e.markedSpans;if(i)for(var n=void 0,o=0;o<i.length;++o)if(n=i[o],n.marker.collapsed){if(null==n.from)return!0;if(!n.marker.widgetNode&&0==n.from&&n.marker.inclusiveLeft&&ni(t,e,n))return!0}}function ni(t,e,i){if(null==i.to){var n=i.marker.find(1,!0);return ni(t,n.line,Ne(n.line.markedSpans,i.marker))}if(i.marker.inclusiveRight&&i.to==e.text.length)return!0;for(var o=void 0,s=0;s<e.markedSpans.length;++s)if(o=e.markedSpans[s],o.marker.collapsed&&!o.marker.widgetNode&&o.from==i.to&&(null==o.to||o.to!=i.from)&&(o.marker.inclusiveLeft||i.marker.inclusiveRight)&&ni(t,e,o))return!0}function oi(t){t=Je(t);for(var e=0,i=t.parent,n=0;n<i.lines.length;++n){var o=i.lines[n];if(o==t)break;e+=o.height}for(var s=i.parent;s;i=s,s=i.parent)for(var r=0;r<s.children.length;++r){var a=s.children[r];if(a==i)break;e+=a.height}return e}function si(t){if(0==t.height)return 0;var e,i=t.text.length,n=t;while(e=Xe(n)){var o=e.find(0,!0);n=o.from.line,i+=o.from.ch-o.to.ch}n=t;while(e=Ye(n)){var s=e.find(0,!0);i-=n.text.length-s.from.ch,n=s.to.line,i+=n.text.length-s.to.ch}return i}function ri(t){var e=t.display,i=t.doc;e.maxLine=Kt(i,i.first),e.maxLineLength=si(e.maxLine),e.maxLineChanged=!0,i.iter((function(t){var i=si(t);i>e.maxLineLength&&(e.maxLineLength=i,e.maxLine=t)}))}var ai=function(t,e,i){this.text=t,We(this,e),this.height=i?i(this):1};function li(t,e,i,n){t.text=e,t.stateAfter&&(t.stateAfter=null),t.styles&&(t.styles=null),null!=t.order&&(t.order=null),Ue(t),We(t,i);var o=n?n(t):1;o!=t.height&&Zt(t,o)}function ci(t){t.parent=null,Ue(t)}ai.prototype.lineNo=function(){return te(this)},Tt(ai);var ui={},hi={};function di(t,e){if(!t||/^\s*$/.test(t))return null;var i=e.addModeClass?hi:ui;return i[t]||(i[t]=t.replace(/\S+/g,"cm-$&"))}function pi(t,e){var i=O("span",null,null,l?"padding-right: .1px":null),n={pre:O("pre",[i],"CodeMirror-line"),content:i,col:0,pos:0,cm:t,trailingSpace:!1,splitSpaces:t.getOption("lineWrapping")};e.measure={};for(var o=0;o<=(e.rest?e.rest.length:0);o++){var s=o?e.rest[o-1]:e.line,r=void 0;n.pos=0,n.addToken=gi,Mt(t.display.measure)&&(r=dt(s,t.doc.direction))&&(n.addToken=mi(n.addToken,r)),n.map=[];var a=e!=t.display.externalMeasured&&te(s);bi(s,n,me(t,s,a)),s.styleClasses&&(s.styleClasses.bgClass&&(n.bgClass=L(s.styleClasses.bgClass,n.bgClass||"")),s.styleClasses.textClass&&(n.textClass=L(s.styleClasses.textClass,n.textClass||""))),0==n.map.length&&n.map.push(0,0,n.content.appendChild(At(t.display.measure))),0==o?(e.measure.map=n.map,e.measure.cache={}):((e.measure.maps||(e.measure.maps=[])).push(n.map),(e.measure.caches||(e.measure.caches=[])).push({}))}if(l){var c=n.content.lastChild;(/\bcm-tab\b/.test(c.className)||c.querySelector&&c.querySelector(".cm-tab"))&&(n.content.className="cm-tab-wrap-hack")}return mt(t,"renderLine",t,e.line,n.pre),n.pre.className&&(n.textClass=L(n.pre.className,n.textClass||"")),n}function _i(t){var e=x("span","•","cm-invalidchar");return e.title="\\u"+t.charCodeAt(0).toString(16),e.setAttribute("aria-label",e.title),e}function gi(t,e,i,n,o,s,l){if(e){var c,u=t.splitSpaces?fi(e,t.trailingSpace):e,h=t.cm.state.specialChars,d=!1;if(h.test(e)){c=document.createDocumentFragment();var p=0;while(1){h.lastIndex=p;var _=h.exec(e),g=_?_.index-p:e.length-p;if(g){var f=document.createTextNode(u.slice(p,p+g));r&&a<9?c.appendChild(x("span",[f])):c.appendChild(f),t.map.push(t.pos,t.pos+g,f),t.col+=g,t.pos+=g}if(!_)break;p+=g+1;var m=void 0;if("\t"==_[0]){var v=t.cm.options.tabSize,b=v-t.col%v;m=c.appendChild(x("span",Y(b),"cm-tab")),m.setAttribute("role","presentation"),m.setAttribute("cm-text","\t"),t.col+=b}else"\r"==_[0]||"\n"==_[0]?(m=c.appendChild(x("span","\r"==_[0]?"␍":"␤","cm-invalidchar")),m.setAttribute("cm-text",_[0]),t.col+=1):(m=t.cm.options.specialCharPlaceholder(_[0]),m.setAttribute("cm-text",_[0]),r&&a<9?c.appendChild(x("span",[m])):c.appendChild(m),t.col+=1);t.map.push(t.pos,t.pos+1,m),t.pos++}}else t.col+=e.length,c=document.createTextNode(u),t.map.push(t.pos,t.pos+e.length,c),r&&a<9&&(d=!0),t.pos+=e.length;if(t.trailingSpace=32==u.charCodeAt(e.length-1),i||n||o||d||s){var y=i||"";n&&(y+=n),o&&(y+=o);var T=x("span",[c],y,s);if(l)for(var E in l)l.hasOwnProperty(E)&&"style"!=E&&"class"!=E&&T.setAttribute(E,l[E]);return t.content.appendChild(T)}t.content.appendChild(c)}}function fi(t,e){if(t.length>1&&!/  /.test(t))return t;for(var i=e,n="",o=0;o<t.length;o++){var s=t.charAt(o);" "!=s||!i||o!=t.length-1&&32!=t.charCodeAt(o+1)||(s=" "),n+=s,i=" "==s}return n}function mi(t,e){return function(i,n,o,s,r,a,l){o=o?o+" cm-force-border":"cm-force-border";for(var c=i.pos,u=c+n.length;;){for(var h=void 0,d=0;d<e.length;d++)if(h=e[d],h.to>c&&h.from<=c)break;if(h.to>=u)return t(i,n,o,s,r,a,l);t(i,n.slice(0,h.to-c),o,s,null,a,l),s=null,n=n.slice(h.to-c),c=h.to}}}function vi(t,e,i,n){var o=!n&&i.widgetNode;o&&t.map.push(t.pos,t.pos+e,o),!n&&t.cm.display.input.needsContentAttribute&&(o||(o=t.content.appendChild(document.createElement("span"))),o.setAttribute("cm-marker",i.id)),o&&(t.cm.display.input.setUneditable(o),t.content.appendChild(o)),t.pos+=e,t.trailingSpace=!1}function bi(t,e,i){var n=t.markedSpans,o=t.text,s=0;if(n)for(var r,a,l,c,u,h,d,p=o.length,_=0,g=1,f="",m=0;;){if(m==_){l=c=u=a="",d=null,h=null,m=1/0;for(var v=[],b=void 0,y=0;y<n.length;++y){var T=n[y],E=T.marker;if("bookmark"==E.type&&T.from==_&&E.widgetNode)v.push(E);else if(T.from<=_&&(null==T.to||T.to>_||E.collapsed&&T.to==_&&T.from==_)){if(null!=T.to&&T.to!=_&&m>T.to&&(m=T.to,c=""),E.className&&(l+=" "+E.className),E.css&&(a=(a?a+";":"")+E.css),E.startStyle&&T.from==_&&(u+=" "+E.startStyle),E.endStyle&&T.to==m&&(b||(b=[])).push(E.endStyle,T.to),E.title&&((d||(d={})).title=E.title),E.attributes)for(var S in E.attributes)(d||(d={}))[S]=E.attributes[S];E.collapsed&&(!h||qe(h.marker,E)<0)&&(h=T)}else T.from>_&&m>T.from&&(m=T.from)}if(b)for(var C=0;C<b.length;C+=2)b[C+1]==m&&(c+=" "+b[C]);if(!h||h.from==_)for(var k=0;k<v.length;++k)vi(e,0,v[k]);if(h&&(h.from||0)==_){if(vi(e,(null==h.to?p+1:h.to)-_,h.marker,null==h.from),null==h.to)return;h.to==_&&(h=!1)}}if(_>=p)break;var w=Math.min(p,m);while(1){if(f){var R=_+f.length;if(!h){var I=R>w?f.slice(0,w-_):f;e.addToken(e,I,r?r+l:l,u,_+I.length==m?c:"",a,d)}if(R>=w){f=f.slice(w-_),_=w;break}_=R,u=""}f=o.slice(s,s=i[g++]),r=di(i[g++],e.cm.options)}}else for(var x=1;x<i.length;x+=2)e.addToken(e,o.slice(s,s=i[x]),di(i[x+1],e.cm.options))}function yi(t,e,i){this.line=e,this.rest=Ze(e),this.size=this.rest?te(j(this.rest))-i+1:1,this.node=this.text=null,this.hidden=ii(t,e)}function Ti(t,e,i){for(var n,o=[],s=e;s<i;s=n){var r=new yi(t.doc,Kt(t.doc,s),s);n=s+r.size,o.push(r)}return o}var Ei=null;function Si(t){Ei?Ei.ops.push(t):t.ownsGroup=Ei={ops:[t],delayedCallbacks:[]}}function Ci(t){var e=t.delayedCallbacks,i=0;do{for(;i<e.length;i++)e[i].call(null);for(var n=0;n<t.ops.length;n++){var o=t.ops[n];if(o.cursorActivityHandlers)while(o.cursorActivityCalled<o.cursorActivityHandlers.length)o.cursorActivityHandlers[o.cursorActivityCalled++].call(null,o.cm)}}while(i<e.length)}function ki(t,e){var i=t.ownsGroup;if(i)try{Ci(i)}finally{Ei=null,e(i)}}var wi=null;function Ri(t,e){var i=gt(t,e);if(i.length){var n,o=Array.prototype.slice.call(arguments,2);Ei?n=Ei.delayedCallbacks:wi?n=wi:(n=wi=[],setTimeout(Ii,0));for(var s=function(t){n.push((function(){return i[t].apply(null,o)}))},r=0;r<i.length;++r)s(r)}}function Ii(){var t=wi;wi=null;for(var e=0;e<t.length;++e)t[e]()}function xi(t,e,i,n){for(var o=0;o<e.changes.length;o++){var s=e.changes[o];"text"==s?Ni(t,e):"gutter"==s?Di(t,e,i,n):"class"==s?Li(t,e):"widget"==s&&Bi(t,e,n)}e.changes=null}function Oi(t){return t.node==t.text&&(t.node=x("div",null,null,"position: relative"),t.text.parentNode&&t.text.parentNode.replaceChild(t.node,t.text),t.node.appendChild(t.text),r&&a<8&&(t.node.style.zIndex=2)),t.node}function Ai(t,e){var i=e.bgClass?e.bgClass+" "+(e.line.bgClass||""):e.line.bgClass;if(i&&(i+=" CodeMirror-linebackground"),e.background)i?e.background.className=i:(e.background.parentNode.removeChild(e.background),e.background=null);else if(i){var n=Oi(e);e.background=n.insertBefore(x("div",null,i),n.firstChild),t.display.input.setUneditable(e.background)}}function Mi(t,e){var i=t.display.externalMeasured;return i&&i.line==e.line?(t.display.externalMeasured=null,e.measure=i.measure,i.built):pi(t,e)}function Ni(t,e){var i=e.text.className,n=Mi(t,e);e.text==e.node&&(e.node=n.pre),e.text.parentNode.replaceChild(n.pre,e.text),e.text=n.pre,n.bgClass!=e.bgClass||n.textClass!=e.textClass?(e.bgClass=n.bgClass,e.textClass=n.textClass,Li(t,e)):i&&(e.text.className=i)}function Li(t,e){Ai(t,e),e.line.wrapClass?Oi(e).className=e.line.wrapClass:e.node!=e.text&&(e.node.className="");var i=e.textClass?e.textClass+" "+(e.line.textClass||""):e.line.textClass;e.text.className=i||""}function Di(t,e,i,n){if(e.gutter&&(e.node.removeChild(e.gutter),e.gutter=null),e.gutterBackground&&(e.node.removeChild(e.gutterBackground),e.gutterBackground=null),e.line.gutterClass){var o=Oi(e);e.gutterBackground=x("div",null,"CodeMirror-gutter-background "+e.line.gutterClass,"left: "+(t.options.fixedGutter?n.fixedPos:-n.gutterTotalWidth)+"px; width: "+n.gutterTotalWidth+"px"),t.display.input.setUneditable(e.gutterBackground),o.insertBefore(e.gutterBackground,e.text)}var s=e.line.gutterMarkers;if(t.options.lineNumbers||s){var r=Oi(e),a=e.gutter=x("div",null,"CodeMirror-gutter-wrapper","left: "+(t.options.fixedGutter?n.fixedPos:-n.gutterTotalWidth)+"px");if(t.display.input.setUneditable(a),r.insertBefore(a,e.text),e.line.gutterClass&&(a.className+=" "+e.line.gutterClass),!t.options.lineNumbers||s&&s["CodeMirror-linenumbers"]||(e.lineNumber=a.appendChild(x("div",ne(t.options,i),"CodeMirror-linenumber CodeMirror-gutter-elt","left: "+n.gutterLeft["CodeMirror-linenumbers"]+"px; width: "+t.display.lineNumInnerWidth+"px"))),s)for(var l=0;l<t.display.gutterSpecs.length;++l){var c=t.display.gutterSpecs[l].className,u=s.hasOwnProperty(c)&&s[c];u&&a.appendChild(x("div",[u],"CodeMirror-gutter-elt","left: "+n.gutterLeft[c]+"px; width: "+n.gutterWidth[c]+"px"))}}}function Bi(t,e,i){e.alignable&&(e.alignable=null);for(var n=e.node.firstChild,o=void 0;n;n=o)o=n.nextSibling,"CodeMirror-linewidget"==n.className&&e.node.removeChild(n);Fi(t,e,i)}function Pi(t,e,i,n){var o=Mi(t,e);return e.text=e.node=o.pre,o.bgClass&&(e.bgClass=o.bgClass),o.textClass&&(e.textClass=o.textClass),Li(t,e),Di(t,e,i,n),Fi(t,e,n),e.node}function Fi(t,e,i){if(Hi(t,e.line,e,i,!0),e.rest)for(var n=0;n<e.rest.length;n++)Hi(t,e.rest[n],e,i,!1)}function Hi(t,e,i,n,o){if(e.widgets)for(var s=Oi(i),r=0,a=e.widgets;r<a.length;++r){var l=a[r],c=x("div",[l.node],"CodeMirror-linewidget");l.handleMouseEvents||c.setAttribute("cm-ignore-events","true"),Vi(l,c,i,n),t.display.input.setUneditable(c),o&&l.above?s.insertBefore(c,i.gutter||i.text):s.appendChild(c),Ri(l,"redraw")}}function Vi(t,e,i,n){if(t.noHScroll){(i.alignable||(i.alignable=[])).push(e);var o=n.wrapperWidth;e.style.left=n.fixedPos+"px",t.coverGutter||(o-=n.gutterTotalWidth,e.style.paddingLeft=n.gutterTotalWidth+"px"),e.style.width=o+"px"}t.coverGutter&&(e.style.zIndex=5,e.style.position="relative",t.noHScroll||(e.style.marginLeft=-n.gutterTotalWidth+"px"))}function Ui(t){if(null!=t.height)return t.height;var e=t.doc.cm;if(!e)return 0;if(!A(document.body,t.node)){var i="position: relative;";t.coverGutter&&(i+="margin-left: -"+e.display.gutters.offsetWidth+"px;"),t.noHScroll&&(i+="width: "+e.display.wrapper.clientWidth+"px;"),I(e.display.measure,x("div",[t.node],null,i))}return t.height=t.node.parentNode.offsetHeight}function Wi(t,e){for(var i=wt(e);i!=t.wrapper;i=i.parentNode)if(!i||1==i.nodeType&&"true"==i.getAttribute("cm-ignore-events")||i.parentNode==t.sizer&&i!=t.mover)return!0}function $i(t){return t.lineSpace.offsetTop}function Gi(t){return t.mover.offsetHeight-t.lineSpace.offsetHeight}function qi(t){if(t.cachedPaddingH)return t.cachedPaddingH;var e=I(t.measure,x("pre","x","CodeMirror-line-like")),i=window.getComputedStyle?window.getComputedStyle(e):e.currentStyle,n={left:parseInt(i.paddingLeft),right:parseInt(i.paddingRight)};return isNaN(n.left)||isNaN(n.right)||(t.cachedPaddingH=n),n}function zi(t){return U-t.display.nativeBarWidth}function Xi(t){return t.display.scroller.clientWidth-zi(t)-t.display.barWidth}function Yi(t){return t.display.scroller.clientHeight-zi(t)-t.display.barHeight}function ji(t,e,i){var n=t.options.lineWrapping,o=n&&Xi(t);if(!e.measure.heights||n&&e.measure.width!=o){var s=e.measure.heights=[];if(n){e.measure.width=o;for(var r=e.text.firstChild.getClientRects(),a=0;a<r.length-1;a++){var l=r[a],c=r[a+1];Math.abs(l.bottom-c.bottom)>2&&s.push((l.bottom+c.top)/2-i.top)}}s.push(i.bottom-i.top)}}function Ki(t,e,i){if(t.line==e)return{map:t.measure.map,cache:t.measure.cache};for(var n=0;n<t.rest.length;n++)if(t.rest[n]==e)return{map:t.measure.maps[n],cache:t.measure.caches[n]};for(var o=0;o<t.rest.length;o++)if(te(t.rest[o])>i)return{map:t.measure.maps[o],cache:t.measure.caches[o],before:!0}}function Ji(t,e){e=Je(e);var i=te(e),n=t.display.externalMeasured=new yi(t.doc,e,i);n.lineN=i;var o=n.built=pi(t,n);return n.text=o.pre,I(t.display.lineMeasure,o.pre),n}function Qi(t,e,i,n){return en(t,tn(t,e),i,n)}function Zi(t,e){if(e>=t.display.viewFrom&&e<t.display.viewTo)return t.display.view[Dn(t,e)];var i=t.display.externalMeasured;return i&&e>=i.lineN&&e<i.lineN+i.size?i:void 0}function tn(t,e){var i=te(e),n=Zi(t,i);n&&!n.text?n=null:n&&n.changes&&(xi(t,n,i,On(t)),t.curOp.forceUpdate=!0),n||(n=Ji(t,e));var o=Ki(n,e,i);return{line:e,view:n,rect:null,map:o.map,cache:o.cache,before:o.before,hasHeights:!1}}function en(t,e,i,n,o){e.before&&(i=-1);var s,r=i+(n||"");return e.cache.hasOwnProperty(r)?s=e.cache[r]:(e.rect||(e.rect=e.view.text.getBoundingClientRect()),e.hasHeights||(ji(t,e.view,e.rect),e.hasHeights=!0),s=an(t,e,i,n),s.bogus||(e.cache[r]=s)),{left:s.left,right:s.right,top:o?s.rtop:s.top,bottom:o?s.rbottom:s.bottom}}var nn,on={left:0,right:0,top:0,bottom:0};function sn(t,e,i){for(var n,o,s,r,a,l,c=0;c<t.length;c+=3)if(a=t[c],l=t[c+1],e<a?(o=0,s=1,r="left"):e<l?(o=e-a,s=o+1):(c==t.length-3||e==l&&t[c+3]>e)&&(s=l-a,o=s-1,e>=l&&(r="right")),null!=o){if(n=t[c+2],a==l&&i==(n.insertLeft?"left":"right")&&(r=i),"left"==i&&0==o)while(c&&t[c-2]==t[c-3]&&t[c-1].insertLeft)n=t[2+(c-=3)],r="left";if("right"==i&&o==l-a)while(c<t.length-3&&t[c+3]==t[c+4]&&!t[c+5].insertLeft)n=t[(c+=3)+2],r="right";break}return{node:n,start:o,end:s,collapse:r,coverStart:a,coverEnd:l}}function rn(t,e){var i=on;if("left"==e){for(var n=0;n<t.length;n++)if((i=t[n]).left!=i.right)break}else for(var o=t.length-1;o>=0;o--)if((i=t[o]).left!=i.right)break;return i}function an(t,e,i,n){var o,s=sn(e.map,i,n),l=s.node,c=s.start,u=s.end,h=s.collapse;if(3==l.nodeType){for(var d=0;d<4;d++){while(c&&st(e.line.text.charAt(s.coverStart+c)))--c;while(s.coverStart+u<s.coverEnd&&st(e.line.text.charAt(s.coverStart+u)))++u;if(o=r&&a<9&&0==c&&u==s.coverEnd-s.coverStart?l.parentNode.getBoundingClientRect():rn(k(l,c,u).getClientRects(),n),o.left||o.right||0==c)break;u=c,c-=1,h="right"}r&&a<11&&(o=ln(t.display.measure,o))}else{var p;c>0&&(h=n="right"),o=t.options.lineWrapping&&(p=l.getClientRects()).length>1?p["right"==n?p.length-1:0]:l.getBoundingClientRect()}if(r&&a<9&&!c&&(!o||!o.left&&!o.right)){var _=l.parentNode.getClientRects()[0];o=_?{left:_.left,right:_.left+xn(t.display),top:_.top,bottom:_.bottom}:on}for(var g=o.top-e.rect.top,f=o.bottom-e.rect.top,m=(g+f)/2,v=e.view.measure.heights,b=0;b<v.length-1;b++)if(m<v[b])break;var y=b?v[b-1]:0,T=v[b],E={left:("right"==h?o.right:o.left)-e.rect.left,right:("left"==h?o.left:o.right)-e.rect.left,top:y,bottom:T};return o.left||o.right||(E.bogus=!0),t.options.singleCursorHeightPerLine||(E.rtop=g,E.rbottom=f),E}function ln(t,e){if(!window.screen||null==screen.logicalXDPI||screen.logicalXDPI==screen.deviceXDPI||!Pt(t))return e;var i=screen.logicalXDPI/screen.deviceXDPI,n=screen.logicalYDPI/screen.deviceYDPI;return{left:e.left*i,right:e.right*i,top:e.top*n,bottom:e.bottom*n}}function cn(t){if(t.measure&&(t.measure.cache={},t.measure.heights=null,t.rest))for(var e=0;e<t.rest.length;e++)t.measure.caches[e]={}}function un(t){t.display.externalMeasure=null,R(t.display.lineMeasure);for(var e=0;e<t.display.view.length;e++)cn(t.display.view[e])}function hn(t){un(t),t.display.cachedCharWidth=t.display.cachedTextHeight=t.display.cachedPaddingH=null,t.options.lineWrapping||(t.display.maxLineChanged=!0),t.display.lineNumChars=null}function dn(){return u&&f?-(document.body.getBoundingClientRect().left-parseInt(getComputedStyle(document.body).marginLeft)):window.pageXOffset||(document.documentElement||document.body).scrollLeft}function pn(){return u&&f?-(document.body.getBoundingClientRect().top-parseInt(getComputedStyle(document.body).marginTop)):window.pageYOffset||(document.documentElement||document.body).scrollTop}function _n(t){var e=0;if(t.widgets)for(var i=0;i<t.widgets.length;++i)t.widgets[i].above&&(e+=Ui(t.widgets[i]));return e}function gn(t,e,i,n,o){if(!o){var s=_n(e);i.top+=s,i.bottom+=s}if("line"==n)return i;n||(n="local");var r=oi(e);if("local"==n?r+=$i(t.display):r-=t.display.viewOffset,"page"==n||"window"==n){var a=t.display.lineSpace.getBoundingClientRect();r+=a.top+("window"==n?0:pn());var l=a.left+("window"==n?0:dn());i.left+=l,i.right+=l}return i.top+=r,i.bottom+=r,i}function fn(t,e,i){if("div"==i)return e;var n=e.left,o=e.top;if("page"==i)n-=dn(),o-=pn();else if("local"==i||!i){var s=t.display.sizer.getBoundingClientRect();n+=s.left,o+=s.top}var r=t.display.lineSpace.getBoundingClientRect();return{left:n-r.left,top:o-r.top}}function mn(t,e,i,n,o){return n||(n=Kt(t.doc,e.line)),gn(t,n,Qi(t,n,e.ch,o),i)}function vn(t,e,i,n,o,s){function r(e,r){var a=en(t,o,e,r?"right":"left",s);return r?a.left=a.right:a.right=a.left,gn(t,n,a,i)}n=n||Kt(t.doc,e.line),o||(o=tn(t,n));var a=dt(n,t.doc.direction),l=e.ch,c=e.sticky;if(l>=n.text.length?(l=n.text.length,c="before"):l<=0&&(l=0,c="after"),!a)return r("before"==c?l-1:l,"before"==c);function u(t,e,i){var n=a[e],o=1==n.level;return r(i?t-1:t,o!=i)}var h=ut(a,l,c),d=ct,p=u(l,h,"before"==c);return null!=d&&(p.other=u(l,d,"before"!=c)),p}function bn(t,e){var i=0;e=he(t.doc,e),t.options.lineWrapping||(i=xn(t.display)*e.ch);var n=Kt(t.doc,e.line),o=oi(n)+$i(t.display);return{left:i,right:i,top:o,bottom:o+n.height}}function yn(t,e,i,n,o){var s=oe(t,e,i);return s.xRel=o,n&&(s.outside=n),s}function Tn(t,e,i){var n=t.doc;if(i+=t.display.viewOffset,i<0)return yn(n.first,0,null,-1,-1);var o=ee(n,i),s=n.first+n.size-1;if(o>s)return yn(n.first+n.size-1,Kt(n,s).text.length,null,1,1);e<0&&(e=0);for(var r=Kt(n,o);;){var a=kn(t,r,o,e,i),l=je(r,a.ch+(a.xRel>0||a.outside>0?1:0));if(!l)return a;var c=l.find(1);if(c.line==o)return c;r=Kt(n,o=c.line)}}function En(t,e,i,n){n-=_n(e);var o=e.text.length,s=at((function(e){return en(t,i,e-1).bottom<=n}),o,0);return o=at((function(e){return en(t,i,e).top>n}),s,o),{begin:s,end:o}}function Sn(t,e,i,n){i||(i=tn(t,e));var o=gn(t,e,en(t,i,n),"line").top;return En(t,e,i,o)}function Cn(t,e,i,n){return!(t.bottom<=i)&&(t.top>i||(n?t.left:t.right)>e)}function kn(t,e,i,n,o){o-=oi(e);var s=tn(t,e),r=_n(e),a=0,l=e.text.length,c=!0,u=dt(e,t.doc.direction);if(u){var h=(t.options.lineWrapping?Rn:wn)(t,e,i,s,u,n,o);c=1!=h.level,a=c?h.from:h.to-1,l=c?h.to:h.from-1}var d,p,_=null,g=null,f=at((function(e){var i=en(t,s,e);return i.top+=r,i.bottom+=r,!!Cn(i,n,o,!1)&&(i.top<=o&&i.left<=n&&(_=e,g=i),!0)}),a,l),m=!1;if(g){var v=n-g.left<g.right-n,b=v==c;f=_+(b?0:1),p=b?"after":"before",d=v?g.left:g.right}else{c||f!=l&&f!=a||f++,p=0==f?"after":f==e.text.length?"before":en(t,s,f-(c?1:0)).bottom+r<=o==c?"after":"before";var y=vn(t,oe(i,f,p),"line",e,s);d=y.left,m=o<y.top?-1:o>=y.bottom?1:0}return f=rt(e.text,f,1),yn(i,f,p,m,n-d)}function wn(t,e,i,n,o,s,r){var a=at((function(a){var l=o[a],c=1!=l.level;return Cn(vn(t,oe(i,c?l.to:l.from,c?"before":"after"),"line",e,n),s,r,!0)}),0,o.length-1),l=o[a];if(a>0){var c=1!=l.level,u=vn(t,oe(i,c?l.from:l.to,c?"after":"before"),"line",e,n);Cn(u,s,r,!0)&&u.top>r&&(l=o[a-1])}return l}function Rn(t,e,i,n,o,s,r){var a=En(t,e,n,r),l=a.begin,c=a.end;/\s/.test(e.text.charAt(c-1))&&c--;for(var u=null,h=null,d=0;d<o.length;d++){var p=o[d];if(!(p.from>=c||p.to<=l)){var _=1!=p.level,g=en(t,n,_?Math.min(c,p.to)-1:Math.max(l,p.from)).right,f=g<s?s-g+1e9:g-s;(!u||h>f)&&(u=p,h=f)}}return u||(u=o[o.length-1]),u.from<l&&(u={from:l,to:u.to,level:u.level}),u.to>c&&(u={from:u.from,to:c,level:u.level}),u}function In(t){if(null!=t.cachedTextHeight)return t.cachedTextHeight;if(null==nn){nn=x("pre",null,"CodeMirror-line-like");for(var e=0;e<49;++e)nn.appendChild(document.createTextNode("x")),nn.appendChild(x("br"));nn.appendChild(document.createTextNode("x"))}I(t.measure,nn);var i=nn.offsetHeight/50;return i>3&&(t.cachedTextHeight=i),R(t.measure),i||1}function xn(t){if(null!=t.cachedCharWidth)return t.cachedCharWidth;var e=x("span","xxxxxxxxxx"),i=x("pre",[e],"CodeMirror-line-like");I(t.measure,i);var n=e.getBoundingClientRect(),o=(n.right-n.left)/10;return o>2&&(t.cachedCharWidth=o),o||10}function On(t){for(var e=t.display,i={},n={},o=e.gutters.clientLeft,s=e.gutters.firstChild,r=0;s;s=s.nextSibling,++r){var a=t.display.gutterSpecs[r].className;i[a]=s.offsetLeft+s.clientLeft+o,n[a]=s.clientWidth}return{fixedPos:An(e),gutterTotalWidth:e.gutters.offsetWidth,gutterLeft:i,gutterWidth:n,wrapperWidth:e.wrapper.clientWidth}}function An(t){return t.scroller.getBoundingClientRect().left-t.sizer.getBoundingClientRect().left}function Mn(t){var e=In(t.display),i=t.options.lineWrapping,n=i&&Math.max(5,t.display.scroller.clientWidth/xn(t.display)-3);return function(o){if(ii(t.doc,o))return 0;var s=0;if(o.widgets)for(var r=0;r<o.widgets.length;r++)o.widgets[r].height&&(s+=o.widgets[r].height);return i?s+(Math.ceil(o.text.length/n)||1)*e:s+e}}function Nn(t){var e=t.doc,i=Mn(t);e.iter((function(t){var e=i(t);e!=t.height&&Zt(t,e)}))}function Ln(t,e,i,n){var o=t.display;if(!i&&"true"==wt(e).getAttribute("cm-not-content"))return null;var s,r,a=o.lineSpace.getBoundingClientRect();try{s=e.clientX-a.left,r=e.clientY-a.top}catch(e){return null}var l,c=Tn(t,s,r);if(n&&1==c.xRel&&(l=Kt(t.doc,c.line).text).length==c.ch){var u=F(l,l.length,t.options.tabSize)-l.length;c=oe(c.line,Math.max(0,Math.round((s-qi(t.display).left)/xn(t.display))-u))}return c}function Dn(t,e){if(e>=t.display.viewTo)return null;if(e-=t.display.viewFrom,e<0)return null;for(var i=t.display.view,n=0;n<i.length;n++)if(e-=i[n].size,e<0)return n}function Bn(t,e,i,n){null==e&&(e=t.doc.first),null==i&&(i=t.doc.first+t.doc.size),n||(n=0);var o=t.display;if(n&&i<o.viewTo&&(null==o.updateLineNumbers||o.updateLineNumbers>e)&&(o.updateLineNumbers=e),t.curOp.viewChanged=!0,e>=o.viewTo)xe&&ti(t.doc,e)<o.viewTo&&Fn(t);else if(i<=o.viewFrom)xe&&ei(t.doc,i+n)>o.viewFrom?Fn(t):(o.viewFrom+=n,o.viewTo+=n);else if(e<=o.viewFrom&&i>=o.viewTo)Fn(t);else if(e<=o.viewFrom){var s=Hn(t,i,i+n,1);s?(o.view=o.view.slice(s.index),o.viewFrom=s.lineN,o.viewTo+=n):Fn(t)}else if(i>=o.viewTo){var r=Hn(t,e,e,-1);r?(o.view=o.view.slice(0,r.index),o.viewTo=r.lineN):Fn(t)}else{var a=Hn(t,e,e,-1),l=Hn(t,i,i+n,1);a&&l?(o.view=o.view.slice(0,a.index).concat(Ti(t,a.lineN,l.lineN)).concat(o.view.slice(l.index)),o.viewTo+=n):Fn(t)}var c=o.externalMeasured;c&&(i<c.lineN?c.lineN+=n:e<c.lineN+c.size&&(o.externalMeasured=null))}function Pn(t,e,i){t.curOp.viewChanged=!0;var n=t.display,o=t.display.externalMeasured;if(o&&e>=o.lineN&&e<o.lineN+o.size&&(n.externalMeasured=null),!(e<n.viewFrom||e>=n.viewTo)){var s=n.view[Dn(t,e)];if(null!=s.node){var r=s.changes||(s.changes=[]);-1==V(r,i)&&r.push(i)}}}function Fn(t){t.display.viewFrom=t.display.viewTo=t.doc.first,t.display.view=[],t.display.viewOffset=0}function Hn(t,e,i,n){var o,s=Dn(t,e),r=t.display.view;if(!xe||i==t.doc.first+t.doc.size)return{index:s,lineN:i};for(var a=t.display.viewFrom,l=0;l<s;l++)a+=r[l].size;if(a!=e){if(n>0){if(s==r.length-1)return null;o=a+r[s].size-e,s++}else o=a-e;e+=o,i+=o}while(ti(t.doc,i)!=i){if(s==(n<0?0:r.length-1))return null;i+=n*r[s-(n<0?1:0)].size,s+=n}return{index:s,lineN:i}}function Vn(t,e,i){var n=t.display,o=n.view;0==o.length||e>=n.viewTo||i<=n.viewFrom?(n.view=Ti(t,e,i),n.viewFrom=e):(n.viewFrom>e?n.view=Ti(t,e,n.viewFrom).concat(n.view):n.viewFrom<e&&(n.view=n.view.slice(Dn(t,e))),n.viewFrom=e,n.viewTo<i?n.view=n.view.concat(Ti(t,n.viewTo,i)):n.viewTo>i&&(n.view=n.view.slice(0,Dn(t,i)))),n.viewTo=i}function Un(t){for(var e=t.display.view,i=0,n=0;n<e.length;n++){var o=e[n];o.hidden||o.node&&!o.changes||++i}return i}function Wn(t){t.display.input.showSelection(t.display.input.prepareSelection())}function $n(t,e){void 0===e&&(e=!0);for(var i=t.doc,n={},o=n.cursors=document.createDocumentFragment(),s=n.selection=document.createDocumentFragment(),r=0;r<i.sel.ranges.length;r++)if(e||r!=i.sel.primIndex){var a=i.sel.ranges[r];if(!(a.from().line>=t.display.viewTo||a.to().line<t.display.viewFrom)){var l=a.empty();(l||t.options.showCursorWhenSelecting)&&Gn(t,a.head,o),l||zn(t,a,s)}}return n}function Gn(t,e,i){var n=vn(t,e,"div",null,null,!t.options.singleCursorHeightPerLine),o=i.appendChild(x("div"," ","CodeMirror-cursor"));if(o.style.left=n.left+"px",o.style.top=n.top+"px",o.style.height=Math.max(0,n.bottom-n.top)*t.options.cursorHeight+"px",n.other){var s=i.appendChild(x("div"," ","CodeMirror-cursor CodeMirror-secondarycursor"));s.style.display="",s.style.left=n.other.left+"px",s.style.top=n.other.top+"px",s.style.height=.85*(n.other.bottom-n.other.top)+"px"}}function qn(t,e){return t.top-e.top||t.left-e.left}function zn(t,e,i){var n=t.display,o=t.doc,s=document.createDocumentFragment(),r=qi(t.display),a=r.left,l=Math.max(n.sizerWidth,Xi(t)-n.sizer.offsetLeft)-r.right,c="ltr"==o.direction;function u(t,e,i,n){e<0&&(e=0),e=Math.round(e),n=Math.round(n),s.appendChild(x("div",null,"CodeMirror-selected","position: absolute; left: "+t+"px;\n                             top: "+e+"px; width: "+(null==i?l-t:i)+"px;\n                             height: "+(n-e)+"px"))}function h(e,i,n){var s,r,h=Kt(o,e),d=h.text.length;function p(i,n){return mn(t,oe(e,i),"div",h,n)}function _(e,i,n){var o=Sn(t,h,null,e),s="ltr"==i==("after"==n)?"left":"right",r="after"==n?o.begin:o.end-(/\s/.test(h.text.charAt(o.end-1))?2:1);return p(r,s)[s]}var g=dt(h,o.direction);return lt(g,i||0,null==n?d:n,(function(t,e,o,h){var f="ltr"==o,m=p(t,f?"left":"right"),v=p(e-1,f?"right":"left"),b=null==i&&0==t,y=null==n&&e==d,T=0==h,E=!g||h==g.length-1;if(v.top-m.top<=3){var S=(c?b:y)&&T,C=(c?y:b)&&E,k=S?a:(f?m:v).left,w=C?l:(f?v:m).right;u(k,m.top,w-k,m.bottom)}else{var R,I,x,O;f?(R=c&&b&&T?a:m.left,I=c?l:_(t,o,"before"),x=c?a:_(e,o,"after"),O=c&&y&&E?l:v.right):(R=c?_(t,o,"before"):a,I=!c&&b&&T?l:m.right,x=!c&&y&&E?a:v.left,O=c?_(e,o,"after"):l),u(R,m.top,I-R,m.bottom),m.bottom<v.top&&u(a,m.bottom,null,v.top),u(x,v.top,O-x,v.bottom)}(!s||qn(m,s)<0)&&(s=m),qn(v,s)<0&&(s=v),(!r||qn(m,r)<0)&&(r=m),qn(v,r)<0&&(r=v)})),{start:s,end:r}}var d=e.from(),p=e.to();if(d.line==p.line)h(d.line,d.ch,p.ch);else{var _=Kt(o,d.line),g=Kt(o,p.line),f=Je(_)==Je(g),m=h(d.line,d.ch,f?_.text.length+1:null).end,v=h(p.line,f?0:null,p.ch).start;f&&(m.top<v.top-2?(u(m.right,m.top,null,m.bottom),u(a,v.top,v.left,v.bottom)):u(m.right,m.top,v.left-m.right,m.bottom)),m.bottom<v.top&&u(a,m.bottom,null,v.top)}i.appendChild(s)}function Xn(t){if(t.state.focused){var e=t.display;clearInterval(e.blinker);var i=!0;e.cursorDiv.style.visibility="",t.options.cursorBlinkRate>0?e.blinker=setInterval((function(){return e.cursorDiv.style.visibility=(i=!i)?"":"hidden"}),t.options.cursorBlinkRate):t.options.cursorBlinkRate<0&&(e.cursorDiv.style.visibility="hidden")}}function Yn(t){t.state.focused||(t.display.input.focus(),Kn(t))}function jn(t){t.state.delayingBlurEvent=!0,setTimeout((function(){t.state.delayingBlurEvent&&(t.state.delayingBlurEvent=!1,Jn(t))}),100)}function Kn(t,e){t.state.delayingBlurEvent&&(t.state.delayingBlurEvent=!1),"nocursor"!=t.options.readOnly&&(t.state.focused||(mt(t,"focus",t,e),t.state.focused=!0,N(t.display.wrapper,"CodeMirror-focused"),t.curOp||t.display.selForContextMenu==t.doc.sel||(t.display.input.reset(),l&&setTimeout((function(){return t.display.input.reset(!0)}),20)),t.display.input.receivedFocus()),Xn(t))}function Jn(t,e){t.state.delayingBlurEvent||(t.state.focused&&(mt(t,"blur",t,e),t.state.focused=!1,w(t.display.wrapper,"CodeMirror-focused")),clearInterval(t.display.blinker),setTimeout((function(){t.state.focused||(t.display.shift=!1)}),150))}function Qn(t){for(var e=t.display,i=e.lineDiv.offsetTop,n=0;n<e.view.length;n++){var o=e.view[n],s=t.options.lineWrapping,l=void 0,c=0;if(!o.hidden){if(r&&a<8){var u=o.node.offsetTop+o.node.offsetHeight;l=u-i,i=u}else{var h=o.node.getBoundingClientRect();l=h.bottom-h.top,!s&&o.text.firstChild&&(c=o.text.firstChild.getBoundingClientRect().right-h.left-1)}var d=o.line.height-l;if((d>.005||d<-.005)&&(Zt(o.line,l),Zn(o.line),o.rest))for(var p=0;p<o.rest.length;p++)Zn(o.rest[p]);if(c>t.display.sizerWidth){var _=Math.ceil(c/xn(t.display));_>t.display.maxLineLength&&(t.display.maxLineLength=_,t.display.maxLine=o.line,t.display.maxLineChanged=!0)}}}}function Zn(t){if(t.widgets)for(var e=0;e<t.widgets.length;++e){var i=t.widgets[e],n=i.node.parentNode;n&&(i.height=n.offsetHeight)}}function to(t,e,i){var n=i&&null!=i.top?Math.max(0,i.top):t.scroller.scrollTop;n=Math.floor(n-$i(t));var o=i&&null!=i.bottom?i.bottom:n+t.wrapper.clientHeight,s=ee(e,n),r=ee(e,o);if(i&&i.ensure){var a=i.ensure.from.line,l=i.ensure.to.line;a<s?(s=a,r=ee(e,oi(Kt(e,a))+t.wrapper.clientHeight)):Math.min(l,e.lastLine())>=r&&(s=ee(e,oi(Kt(e,l))-t.wrapper.clientHeight),r=l)}return{from:s,to:Math.max(r,s+1)}}function eo(t,e){if(!vt(t,"scrollCursorIntoView")){var i=t.display,n=i.sizer.getBoundingClientRect(),o=null;if(e.top+n.top<0?o=!0:e.bottom+n.top>(window.innerHeight||document.documentElement.clientHeight)&&(o=!1),null!=o&&!_){var s=x("div","​",null,"position: absolute;\n                         top: "+(e.top-i.viewOffset-$i(t.display))+"px;\n                         height: "+(e.bottom-e.top+zi(t)+i.barHeight)+"px;\n                         left: "+e.left+"px; width: "+Math.max(2,e.right-e.left)+"px;");t.display.lineSpace.appendChild(s),s.scrollIntoView(o),t.display.lineSpace.removeChild(s)}}}function io(t,e,i,n){var o;null==n&&(n=0),t.options.lineWrapping||e!=i||(e=e.ch?oe(e.line,"before"==e.sticky?e.ch-1:e.ch,"after"):e,i="before"==e.sticky?oe(e.line,e.ch+1,"before"):e);for(var s=0;s<5;s++){var r=!1,a=vn(t,e),l=i&&i!=e?vn(t,i):a;o={left:Math.min(a.left,l.left),top:Math.min(a.top,l.top)-n,right:Math.max(a.left,l.left),bottom:Math.max(a.bottom,l.bottom)+n};var c=oo(t,o),u=t.doc.scrollTop,h=t.doc.scrollLeft;if(null!=c.scrollTop&&(ho(t,c.scrollTop),Math.abs(t.doc.scrollTop-u)>1&&(r=!0)),null!=c.scrollLeft&&(_o(t,c.scrollLeft),Math.abs(t.doc.scrollLeft-h)>1&&(r=!0)),!r)break}return o}function no(t,e){var i=oo(t,e);null!=i.scrollTop&&ho(t,i.scrollTop),null!=i.scrollLeft&&_o(t,i.scrollLeft)}function oo(t,e){var i=t.display,n=In(t.display);e.top<0&&(e.top=0);var o=t.curOp&&null!=t.curOp.scrollTop?t.curOp.scrollTop:i.scroller.scrollTop,s=Yi(t),r={};e.bottom-e.top>s&&(e.bottom=e.top+s);var a=t.doc.height+Gi(i),l=e.top<n,c=e.bottom>a-n;if(e.top<o)r.scrollTop=l?0:e.top;else if(e.bottom>o+s){var u=Math.min(e.top,(c?a:e.bottom)-s);u!=o&&(r.scrollTop=u)}var h=t.curOp&&null!=t.curOp.scrollLeft?t.curOp.scrollLeft:i.scroller.scrollLeft,d=Xi(t)-(t.options.fixedGutter?i.gutters.offsetWidth:0),p=e.right-e.left>d;return p&&(e.right=e.left+d),e.left<10?r.scrollLeft=0:e.left<h?r.scrollLeft=Math.max(0,e.left-(p?0:10)):e.right>d+h-3&&(r.scrollLeft=e.right+(p?0:10)-d),r}function so(t,e){null!=e&&(co(t),t.curOp.scrollTop=(null==t.curOp.scrollTop?t.doc.scrollTop:t.curOp.scrollTop)+e)}function ro(t){co(t);var e=t.getCursor();t.curOp.scrollToPos={from:e,to:e,margin:t.options.cursorScrollMargin}}function ao(t,e,i){null==e&&null==i||co(t),null!=e&&(t.curOp.scrollLeft=e),null!=i&&(t.curOp.scrollTop=i)}function lo(t,e){co(t),t.curOp.scrollToPos=e}function co(t){var e=t.curOp.scrollToPos;if(e){t.curOp.scrollToPos=null;var i=bn(t,e.from),n=bn(t,e.to);uo(t,i,n,e.margin)}}function uo(t,e,i,n){var o=oo(t,{left:Math.min(e.left,i.left),top:Math.min(e.top,i.top)-n,right:Math.max(e.right,i.right),bottom:Math.max(e.bottom,i.bottom)+n});ao(t,o.scrollLeft,o.scrollTop)}function ho(t,e){Math.abs(t.doc.scrollTop-e)<2||(i||$o(t,{top:e}),po(t,e,!0),i&&$o(t),Do(t,100))}function po(t,e,i){e=Math.min(t.display.scroller.scrollHeight-t.display.scroller.clientHeight,e),(t.display.scroller.scrollTop!=e||i)&&(t.doc.scrollTop=e,t.display.scrollbars.setScrollTop(e),t.display.scroller.scrollTop!=e&&(t.display.scroller.scrollTop=e))}function _o(t,e,i,n){e=Math.min(e,t.display.scroller.scrollWidth-t.display.scroller.clientWidth),(i?e==t.doc.scrollLeft:Math.abs(t.doc.scrollLeft-e)<2)&&!n||(t.doc.scrollLeft=e,Xo(t),t.display.scroller.scrollLeft!=e&&(t.display.scroller.scrollLeft=e),t.display.scrollbars.setScrollLeft(e))}function go(t){var e=t.display,i=e.gutters.offsetWidth,n=Math.round(t.doc.height+Gi(t.display));return{clientHeight:e.scroller.clientHeight,viewHeight:e.wrapper.clientHeight,scrollWidth:e.scroller.scrollWidth,clientWidth:e.scroller.clientWidth,viewWidth:e.wrapper.clientWidth,barLeft:t.options.fixedGutter?i:0,docHeight:n,scrollHeight:n+zi(t)+e.barHeight,nativeBarWidth:e.nativeBarWidth,gutterWidth:i}}var fo=function(t,e,i){this.cm=i;var n=this.vert=x("div",[x("div",null,null,"min-width: 1px")],"CodeMirror-vscrollbar"),o=this.horiz=x("div",[x("div",null,null,"height: 100%; min-height: 1px")],"CodeMirror-hscrollbar");n.tabIndex=o.tabIndex=-1,t(n),t(o),_t(n,"scroll",(function(){n.clientHeight&&e(n.scrollTop,"vertical")})),_t(o,"scroll",(function(){o.clientWidth&&e(o.scrollLeft,"horizontal")})),this.checkedZeroWidth=!1,r&&a<8&&(this.horiz.style.minHeight=this.vert.style.minWidth="18px")};fo.prototype.update=function(t){var e=t.scrollWidth>t.clientWidth+1,i=t.scrollHeight>t.clientHeight+1,n=t.nativeBarWidth;if(i){this.vert.style.display="block",this.vert.style.bottom=e?n+"px":"0";var o=t.viewHeight-(e?n:0);this.vert.firstChild.style.height=Math.max(0,t.scrollHeight-t.clientHeight+o)+"px"}else this.vert.style.display="",this.vert.firstChild.style.height="0";if(e){this.horiz.style.display="block",this.horiz.style.right=i?n+"px":"0",this.horiz.style.left=t.barLeft+"px";var s=t.viewWidth-t.barLeft-(i?n:0);this.horiz.firstChild.style.width=Math.max(0,t.scrollWidth-t.clientWidth+s)+"px"}else this.horiz.style.display="",this.horiz.firstChild.style.width="0";return!this.checkedZeroWidth&&t.clientHeight>0&&(0==n&&this.zeroWidthHack(),this.checkedZeroWidth=!0),{right:i?n:0,bottom:e?n:0}},fo.prototype.setScrollLeft=function(t){this.horiz.scrollLeft!=t&&(this.horiz.scrollLeft=t),this.disableHoriz&&this.enableZeroWidthBar(this.horiz,this.disableHoriz,"horiz")},fo.prototype.setScrollTop=function(t){this.vert.scrollTop!=t&&(this.vert.scrollTop=t),this.disableVert&&this.enableZeroWidthBar(this.vert,this.disableVert,"vert")},fo.prototype.zeroWidthHack=function(){var t=v&&!p?"12px":"18px";this.horiz.style.height=this.vert.style.width=t,this.horiz.style.pointerEvents=this.vert.style.pointerEvents="none",this.disableHoriz=new H,this.disableVert=new H},fo.prototype.enableZeroWidthBar=function(t,e,i){function n(){var o=t.getBoundingClientRect(),s="vert"==i?document.elementFromPoint(o.right-1,(o.top+o.bottom)/2):document.elementFromPoint((o.right+o.left)/2,o.bottom-1);s!=t?t.style.pointerEvents="none":e.set(1e3,n)}t.style.pointerEvents="auto",e.set(1e3,n)},fo.prototype.clear=function(){var t=this.horiz.parentNode;t.removeChild(this.horiz),t.removeChild(this.vert)};var mo=function(){};function vo(t,e){e||(e=go(t));var i=t.display.barWidth,n=t.display.barHeight;bo(t,e);for(var o=0;o<4&&i!=t.display.barWidth||n!=t.display.barHeight;o++)i!=t.display.barWidth&&t.options.lineWrapping&&Qn(t),bo(t,go(t)),i=t.display.barWidth,n=t.display.barHeight}function bo(t,e){var i=t.display,n=i.scrollbars.update(e);i.sizer.style.paddingRight=(i.barWidth=n.right)+"px",i.sizer.style.paddingBottom=(i.barHeight=n.bottom)+"px",i.heightForcer.style.borderBottom=n.bottom+"px solid transparent",n.right&&n.bottom?(i.scrollbarFiller.style.display="block",i.scrollbarFiller.style.height=n.bottom+"px",i.scrollbarFiller.style.width=n.right+"px"):i.scrollbarFiller.style.display="",n.bottom&&t.options.coverGutterNextToScrollbar&&t.options.fixedGutter?(i.gutterFiller.style.display="block",i.gutterFiller.style.height=n.bottom+"px",i.gutterFiller.style.width=e.gutterWidth+"px"):i.gutterFiller.style.display=""}mo.prototype.update=function(){return{bottom:0,right:0}},mo.prototype.setScrollLeft=function(){},mo.prototype.setScrollTop=function(){},mo.prototype.clear=function(){};var yo={native:fo,null:mo};function To(t){t.display.scrollbars&&(t.display.scrollbars.clear(),t.display.scrollbars.addClass&&w(t.display.wrapper,t.display.scrollbars.addClass)),t.display.scrollbars=new yo[t.options.scrollbarStyle]((function(e){t.display.wrapper.insertBefore(e,t.display.scrollbarFiller),_t(e,"mousedown",(function(){t.state.focused&&setTimeout((function(){return t.display.input.focus()}),0)})),e.setAttribute("cm-not-content","true")}),(function(e,i){"horizontal"==i?_o(t,e):ho(t,e)}),t),t.display.scrollbars.addClass&&N(t.display.wrapper,t.display.scrollbars.addClass)}var Eo=0;function So(t){t.curOp={cm:t,viewChanged:!1,startHeight:t.doc.height,forceUpdate:!1,updateInput:0,typing:!1,changeObjs:null,cursorActivityHandlers:null,cursorActivityCalled:0,selectionChanged:!1,updateMaxLine:!1,scrollLeft:null,scrollTop:null,scrollToPos:null,focus:!1,id:++Eo},Si(t.curOp)}function Co(t){var e=t.curOp;e&&ki(e,(function(t){for(var e=0;e<t.ops.length;e++)t.ops[e].cm.curOp=null;ko(t)}))}function ko(t){for(var e=t.ops,i=0;i<e.length;i++)wo(e[i]);for(var n=0;n<e.length;n++)Ro(e[n]);for(var o=0;o<e.length;o++)Io(e[o]);for(var s=0;s<e.length;s++)xo(e[s]);for(var r=0;r<e.length;r++)Oo(e[r])}function wo(t){var e=t.cm,i=e.display;Fo(e),t.updateMaxLine&&ri(e),t.mustUpdate=t.viewChanged||t.forceUpdate||null!=t.scrollTop||t.scrollToPos&&(t.scrollToPos.from.line<i.viewFrom||t.scrollToPos.to.line>=i.viewTo)||i.maxLineChanged&&e.options.lineWrapping,t.update=t.mustUpdate&&new Po(e,t.mustUpdate&&{top:t.scrollTop,ensure:t.scrollToPos},t.forceUpdate)}function Ro(t){t.updatedDisplay=t.mustUpdate&&Uo(t.cm,t.update)}function Io(t){var e=t.cm,i=e.display;t.updatedDisplay&&Qn(e),t.barMeasure=go(e),i.maxLineChanged&&!e.options.lineWrapping&&(t.adjustWidthTo=Qi(e,i.maxLine,i.maxLine.text.length).left+3,e.display.sizerWidth=t.adjustWidthTo,t.barMeasure.scrollWidth=Math.max(i.scroller.clientWidth,i.sizer.offsetLeft+t.adjustWidthTo+zi(e)+e.display.barWidth),t.maxScrollLeft=Math.max(0,i.sizer.offsetLeft+t.adjustWidthTo-Xi(e))),(t.updatedDisplay||t.selectionChanged)&&(t.preparedSelection=i.input.prepareSelection())}function xo(t){var e=t.cm;null!=t.adjustWidthTo&&(e.display.sizer.style.minWidth=t.adjustWidthTo+"px",t.maxScrollLeft<e.doc.scrollLeft&&_o(e,Math.min(e.display.scroller.scrollLeft,t.maxScrollLeft),!0),e.display.maxLineChanged=!1);var i=t.focus&&t.focus==M();t.preparedSelection&&e.display.input.showSelection(t.preparedSelection,i),(t.updatedDisplay||t.startHeight!=e.doc.height)&&vo(e,t.barMeasure),t.updatedDisplay&&zo(e,t.barMeasure),t.selectionChanged&&Xn(e),e.state.focused&&t.updateInput&&e.display.input.reset(t.typing),i&&Yn(t.cm)}function Oo(t){var e=t.cm,i=e.display,n=e.doc;if(t.updatedDisplay&&Wo(e,t.update),null==i.wheelStartX||null==t.scrollTop&&null==t.scrollLeft&&!t.scrollToPos||(i.wheelStartX=i.wheelStartY=null),null!=t.scrollTop&&po(e,t.scrollTop,t.forceScroll),null!=t.scrollLeft&&_o(e,t.scrollLeft,!0,!0),t.scrollToPos){var o=io(e,he(n,t.scrollToPos.from),he(n,t.scrollToPos.to),t.scrollToPos.margin);eo(e,o)}var s=t.maybeHiddenMarkers,r=t.maybeUnhiddenMarkers;if(s)for(var a=0;a<s.length;++a)s[a].lines.length||mt(s[a],"hide");if(r)for(var l=0;l<r.length;++l)r[l].lines.length&&mt(r[l],"unhide");i.wrapper.offsetHeight&&(n.scrollTop=e.display.scroller.scrollTop),t.changeObjs&&mt(e,"changes",e,t.changeObjs),t.update&&t.update.finish()}function Ao(t,e){if(t.curOp)return e();So(t);try{return e()}finally{Co(t)}}function Mo(t,e){return function(){if(t.curOp)return e.apply(t,arguments);So(t);try{return e.apply(t,arguments)}finally{Co(t)}}}function No(t){return function(){if(this.curOp)return t.apply(this,arguments);So(this);try{return t.apply(this,arguments)}finally{Co(this)}}}function Lo(t){return function(){var e=this.cm;if(!e||e.curOp)return t.apply(this,arguments);So(e);try{return t.apply(this,arguments)}finally{Co(e)}}}function Do(t,e){t.doc.highlightFrontier<t.display.viewTo&&t.state.highlight.set(e,B(Bo,t))}function Bo(t){var e=t.doc;if(!(e.highlightFrontier>=t.display.viewTo)){var i=+new Date+t.options.workTime,n=ve(t,e.highlightFrontier),o=[];e.iter(n.line,Math.min(e.first+e.size,t.display.viewTo+500),(function(s){if(n.line>=t.display.viewFrom){var r=s.styles,a=s.text.length>t.options.maxHighlightLength?zt(e.mode,n.state):null,l=fe(t,s,n,!0);a&&(n.state=a),s.styles=l.styles;var c=s.styleClasses,u=l.classes;u?s.styleClasses=u:c&&(s.styleClasses=null);for(var h=!r||r.length!=s.styles.length||c!=u&&(!c||!u||c.bgClass!=u.bgClass||c.textClass!=u.textClass),d=0;!h&&d<r.length;++d)h=r[d]!=s.styles[d];h&&o.push(n.line),s.stateAfter=n.save(),n.nextLine()}else s.text.length<=t.options.maxHighlightLength&&be(t,s.text,n),s.stateAfter=n.line%5==0?n.save():null,n.nextLine();if(+new Date>i)return Do(t,t.options.workDelay),!0})),e.highlightFrontier=n.line,e.modeFrontier=Math.max(e.modeFrontier,n.line),o.length&&Ao(t,(function(){for(var e=0;e<o.length;e++)Pn(t,o[e],"text")}))}}var Po=function(t,e,i){var n=t.display;this.viewport=e,this.visible=to(n,t.doc,e),this.editorIsHidden=!n.wrapper.offsetWidth,this.wrapperHeight=n.wrapper.clientHeight,this.wrapperWidth=n.wrapper.clientWidth,this.oldDisplayWidth=Xi(t),this.force=i,this.dims=On(t),this.events=[]};function Fo(t){var e=t.display;!e.scrollbarsClipped&&e.scroller.offsetWidth&&(e.nativeBarWidth=e.scroller.offsetWidth-e.scroller.clientWidth,e.heightForcer.style.height=zi(t)+"px",e.sizer.style.marginBottom=-e.nativeBarWidth+"px",e.sizer.style.borderRightWidth=zi(t)+"px",e.scrollbarsClipped=!0)}function Ho(t){if(t.hasFocus())return null;var e=M();if(!e||!A(t.display.lineDiv,e))return null;var i={activeElt:e};if(window.getSelection){var n=window.getSelection();n.anchorNode&&n.extend&&A(t.display.lineDiv,n.anchorNode)&&(i.anchorNode=n.anchorNode,i.anchorOffset=n.anchorOffset,i.focusNode=n.focusNode,i.focusOffset=n.focusOffset)}return i}function Vo(t){if(t&&t.activeElt&&t.activeElt!=M()&&(t.activeElt.focus(),t.anchorNode&&A(document.body,t.anchorNode)&&A(document.body,t.focusNode))){var e=window.getSelection(),i=document.createRange();i.setEnd(t.anchorNode,t.anchorOffset),i.collapse(!1),e.removeAllRanges(),e.addRange(i),e.extend(t.focusNode,t.focusOffset)}}function Uo(t,e){var i=t.display,n=t.doc;if(e.editorIsHidden)return Fn(t),!1;if(!e.force&&e.visible.from>=i.viewFrom&&e.visible.to<=i.viewTo&&(null==i.updateLineNumbers||i.updateLineNumbers>=i.viewTo)&&i.renderedView==i.view&&0==Un(t))return!1;Yo(t)&&(Fn(t),e.dims=On(t));var o=n.first+n.size,s=Math.max(e.visible.from-t.options.viewportMargin,n.first),r=Math.min(o,e.visible.to+t.options.viewportMargin);i.viewFrom<s&&s-i.viewFrom<20&&(s=Math.max(n.first,i.viewFrom)),i.viewTo>r&&i.viewTo-r<20&&(r=Math.min(o,i.viewTo)),xe&&(s=ti(t.doc,s),r=ei(t.doc,r));var a=s!=i.viewFrom||r!=i.viewTo||i.lastWrapHeight!=e.wrapperHeight||i.lastWrapWidth!=e.wrapperWidth;Vn(t,s,r),i.viewOffset=oi(Kt(t.doc,i.viewFrom)),t.display.mover.style.top=i.viewOffset+"px";var l=Un(t);if(!a&&0==l&&!e.force&&i.renderedView==i.view&&(null==i.updateLineNumbers||i.updateLineNumbers>=i.viewTo))return!1;var c=Ho(t);return l>4&&(i.lineDiv.style.display="none"),Go(t,i.updateLineNumbers,e.dims),l>4&&(i.lineDiv.style.display=""),i.renderedView=i.view,Vo(c),R(i.cursorDiv),R(i.selectionDiv),i.gutters.style.height=i.sizer.style.minHeight=0,a&&(i.lastWrapHeight=e.wrapperHeight,i.lastWrapWidth=e.wrapperWidth,Do(t,400)),i.updateLineNumbers=null,!0}function Wo(t,e){for(var i=e.viewport,n=!0;;n=!1){if((!n||!t.options.lineWrapping||e.oldDisplayWidth==Xi(t))&&(i&&null!=i.top&&(i={top:Math.min(t.doc.height+Gi(t.display)-Yi(t),i.top)}),e.visible=to(t.display,t.doc,i),e.visible.from>=t.display.viewFrom&&e.visible.to<=t.display.viewTo))break;if(!Uo(t,e))break;Qn(t);var o=go(t);Wn(t),vo(t,o),zo(t,o),e.force=!1}e.signal(t,"update",t),t.display.viewFrom==t.display.reportedViewFrom&&t.display.viewTo==t.display.reportedViewTo||(e.signal(t,"viewportChange",t,t.display.viewFrom,t.display.viewTo),t.display.reportedViewFrom=t.display.viewFrom,t.display.reportedViewTo=t.display.viewTo)}function $o(t,e){var i=new Po(t,e);if(Uo(t,i)){Qn(t),Wo(t,i);var n=go(t);Wn(t),vo(t,n),zo(t,n),i.finish()}}function Go(t,e,i){var n=t.display,o=t.options.lineNumbers,s=n.lineDiv,r=s.firstChild;function a(e){var i=e.nextSibling;return l&&v&&t.display.currentWheelTarget==e?e.style.display="none":e.parentNode.removeChild(e),i}for(var c=n.view,u=n.viewFrom,h=0;h<c.length;h++){var d=c[h];if(d.hidden);else if(d.node&&d.node.parentNode==s){while(r!=d.node)r=a(r);var p=o&&null!=e&&e<=u&&d.lineNumber;d.changes&&(V(d.changes,"gutter")>-1&&(p=!1),xi(t,d,u,i)),p&&(R(d.lineNumber),d.lineNumber.appendChild(document.createTextNode(ne(t.options,u)))),r=d.node.nextSibling}else{var _=Pi(t,d,u,i);s.insertBefore(_,r)}u+=d.size}while(r)r=a(r)}function qo(t){var e=t.gutters.offsetWidth;t.sizer.style.marginLeft=e+"px"}function zo(t,e){t.display.sizer.style.minHeight=e.docHeight+"px",t.display.heightForcer.style.top=e.docHeight+"px",t.display.gutters.style.height=e.docHeight+t.display.barHeight+zi(t)+"px"}function Xo(t){var e=t.display,i=e.view;if(e.alignWidgets||e.gutters.firstChild&&t.options.fixedGutter){for(var n=An(e)-e.scroller.scrollLeft+t.doc.scrollLeft,o=e.gutters.offsetWidth,s=n+"px",r=0;r<i.length;r++)if(!i[r].hidden){t.options.fixedGutter&&(i[r].gutter&&(i[r].gutter.style.left=s),i[r].gutterBackground&&(i[r].gutterBackground.style.left=s));var a=i[r].alignable;if(a)for(var l=0;l<a.length;l++)a[l].style.left=s}t.options.fixedGutter&&(e.gutters.style.left=n+o+"px")}}function Yo(t){if(!t.options.lineNumbers)return!1;var e=t.doc,i=ne(t.options,e.first+e.size-1),n=t.display;if(i.length!=n.lineNumChars){var o=n.measure.appendChild(x("div",[x("div",i)],"CodeMirror-linenumber CodeMirror-gutter-elt")),s=o.firstChild.offsetWidth,r=o.offsetWidth-s;return n.lineGutter.style.width="",n.lineNumInnerWidth=Math.max(s,n.lineGutter.offsetWidth-r)+1,n.lineNumWidth=n.lineNumInnerWidth+r,n.lineNumChars=n.lineNumInnerWidth?i.length:-1,n.lineGutter.style.width=n.lineNumWidth+"px",qo(t.display),!0}return!1}function jo(t,e){for(var i=[],n=!1,o=0;o<t.length;o++){var s=t[o],r=null;if("string"!=typeof s&&(r=s.style,s=s.className),"CodeMirror-linenumbers"==s){if(!e)continue;n=!0}i.push({className:s,style:r})}return e&&!n&&i.push({className:"CodeMirror-linenumbers",style:null}),i}function Ko(t){var e=t.gutters,i=t.gutterSpecs;R(e),t.lineGutter=null;for(var n=0;n<i.length;++n){var o=i[n],s=o.className,r=o.style,a=e.appendChild(x("div",null,"CodeMirror-gutter "+s));r&&(a.style.cssText=r),"CodeMirror-linenumbers"==s&&(t.lineGutter=a,a.style.width=(t.lineNumWidth||1)+"px")}e.style.display=i.length?"":"none",qo(t)}function Jo(t){Ko(t.display),Bn(t),Xo(t)}function Qo(t,e,n,o){var s=this;this.input=n,s.scrollbarFiller=x("div",null,"CodeMirror-scrollbar-filler"),s.scrollbarFiller.setAttribute("cm-not-content","true"),s.gutterFiller=x("div",null,"CodeMirror-gutter-filler"),s.gutterFiller.setAttribute("cm-not-content","true"),s.lineDiv=O("div",null,"CodeMirror-code"),s.selectionDiv=x("div",null,null,"position: relative; z-index: 1"),s.cursorDiv=x("div",null,"CodeMirror-cursors"),s.measure=x("div",null,"CodeMirror-measure"),s.lineMeasure=x("div",null,"CodeMirror-measure"),s.lineSpace=O("div",[s.measure,s.lineMeasure,s.selectionDiv,s.cursorDiv,s.lineDiv],null,"position: relative; outline: none");var c=O("div",[s.lineSpace],"CodeMirror-lines");s.mover=x("div",[c],null,"position: relative"),s.sizer=x("div",[s.mover],"CodeMirror-sizer"),s.sizerWidth=null,s.heightForcer=x("div",null,null,"position: absolute; height: "+U+"px; width: 1px;"),s.gutters=x("div",null,"CodeMirror-gutters"),s.lineGutter=null,s.scroller=x("div",[s.sizer,s.heightForcer,s.gutters],"CodeMirror-scroll"),s.scroller.setAttribute("tabIndex","-1"),s.wrapper=x("div",[s.scrollbarFiller,s.gutterFiller,s.scroller],"CodeMirror"),r&&a<8&&(s.gutters.style.zIndex=-1,s.scroller.style.paddingRight=0),l||i&&m||(s.scroller.draggable=!0),t&&(t.appendChild?t.appendChild(s.wrapper):t(s.wrapper)),s.viewFrom=s.viewTo=e.first,s.reportedViewFrom=s.reportedViewTo=e.first,s.view=[],s.renderedView=null,s.externalMeasured=null,s.viewOffset=0,s.lastWrapHeight=s.lastWrapWidth=0,s.updateLineNumbers=null,s.nativeBarWidth=s.barHeight=s.barWidth=0,s.scrollbarsClipped=!1,s.lineNumWidth=s.lineNumInnerWidth=s.lineNumChars=null,s.alignWidgets=!1,s.cachedCharWidth=s.cachedTextHeight=s.cachedPaddingH=null,s.maxLine=null,s.maxLineLength=0,s.maxLineChanged=!1,s.wheelDX=s.wheelDY=s.wheelStartX=s.wheelStartY=null,s.shift=!1,s.selForContextMenu=null,s.activeTouch=null,s.gutterSpecs=jo(o.gutters,o.lineNumbers),Ko(s),n.init(s)}Po.prototype.signal=function(t,e){yt(t,e)&&this.events.push(arguments)},Po.prototype.finish=function(){for(var t=this,e=0;e<this.events.length;e++)mt.apply(null,t.events[e])};var Zo=0,ts=null;function es(t){var e=t.wheelDeltaX,i=t.wheelDeltaY;return null==e&&t.detail&&t.axis==t.HORIZONTAL_AXIS&&(e=t.detail),null==i&&t.detail&&t.axis==t.VERTICAL_AXIS?i=t.detail:null==i&&(i=t.wheelDelta),{x:e,y:i}}function is(t){var e=es(t);return e.x*=ts,e.y*=ts,e}function ns(t,e){var n=es(e),o=n.x,s=n.y,r=t.display,a=r.scroller,c=a.scrollWidth>a.clientWidth,u=a.scrollHeight>a.clientHeight;if(o&&c||s&&u){if(s&&v&&l)t:for(var d=e.target,p=r.view;d!=a;d=d.parentNode)for(var _=0;_<p.length;_++)if(p[_].node==d){t.display.currentWheelTarget=d;break t}if(o&&!i&&!h&&null!=ts)return s&&u&&ho(t,Math.max(0,a.scrollTop+s*ts)),_o(t,Math.max(0,a.scrollLeft+o*ts)),(!s||s&&u)&&Et(e),void(r.wheelStartX=null);if(s&&null!=ts){var g=s*ts,f=t.doc.scrollTop,m=f+r.wrapper.clientHeight;g<0?f=Math.max(0,f+g-50):m=Math.min(t.doc.height,m+g+50),$o(t,{top:f,bottom:m})}Zo<20&&(null==r.wheelStartX?(r.wheelStartX=a.scrollLeft,r.wheelStartY=a.scrollTop,r.wheelDX=o,r.wheelDY=s,setTimeout((function(){if(null!=r.wheelStartX){var t=a.scrollLeft-r.wheelStartX,e=a.scrollTop-r.wheelStartY,i=e&&r.wheelDY&&e/r.wheelDY||t&&r.wheelDX&&t/r.wheelDX;r.wheelStartX=r.wheelStartY=null,i&&(ts=(ts*Zo+i)/(Zo+1),++Zo)}}),200)):(r.wheelDX+=o,r.wheelDY+=s))}}r?ts=-.53:i?ts=15:u?ts=-.7:d&&(ts=-1/3);var os=function(t,e){this.ranges=t,this.primIndex=e};os.prototype.primary=function(){return this.ranges[this.primIndex]},os.prototype.equals=function(t){var e=this;if(t==this)return!0;if(t.primIndex!=this.primIndex||t.ranges.length!=this.ranges.length)return!1;for(var i=0;i<this.ranges.length;i++){var n=e.ranges[i],o=t.ranges[i];if(!re(n.anchor,o.anchor)||!re(n.head,o.head))return!1}return!0},os.prototype.deepCopy=function(){for(var t=this,e=[],i=0;i<this.ranges.length;i++)e[i]=new ss(ae(t.ranges[i].anchor),ae(t.ranges[i].head));return new os(e,this.primIndex)},os.prototype.somethingSelected=function(){for(var t=this,e=0;e<this.ranges.length;e++)if(!t.ranges[e].empty())return!0;return!1},os.prototype.contains=function(t,e){var i=this;e||(e=t);for(var n=0;n<this.ranges.length;n++){var o=i.ranges[n];if(se(e,o.from())>=0&&se(t,o.to())<=0)return n}return-1};var ss=function(t,e){this.anchor=t,this.head=e};function rs(t,e,i){var n=t&&t.options.selectionsMayTouch,o=e[i];e.sort((function(t,e){return se(t.from(),e.from())})),i=V(e,o);for(var s=1;s<e.length;s++){var r=e[s],a=e[s-1],l=se(a.to(),r.from());if(n&&!r.empty()?l>0:l>=0){var c=ce(a.from(),r.from()),u=le(a.to(),r.to()),h=a.empty()?r.from()==r.head:a.from()==a.head;s<=i&&--i,e.splice(--s,2,new ss(h?u:c,h?c:u))}}return new os(e,i)}function as(t,e){return new os([new ss(t,e||t)],0)}function ls(t){return t.text?oe(t.from.line+t.text.length-1,j(t.text).length+(1==t.text.length?t.from.ch:0)):t.to}function cs(t,e){if(se(t,e.from)<0)return t;if(se(t,e.to)<=0)return ls(e);var i=t.line+e.text.length-(e.to.line-e.from.line)-1,n=t.ch;return t.line==e.to.line&&(n+=ls(e).ch-e.to.ch),oe(i,n)}function us(t,e){for(var i=[],n=0;n<t.sel.ranges.length;n++){var o=t.sel.ranges[n];i.push(new ss(cs(o.anchor,e),cs(o.head,e)))}return rs(t.cm,i,t.sel.primIndex)}function hs(t,e,i){return t.line==e.line?oe(i.line,t.ch-e.ch+i.ch):oe(i.line+(t.line-e.line),t.ch)}function ds(t,e,i){for(var n=[],o=oe(t.first,0),s=o,r=0;r<e.length;r++){var a=e[r],l=hs(a.from,o,s),c=hs(ls(a),o,s);if(o=a.to,s=c,"around"==i){var u=t.sel.ranges[r],h=se(u.head,u.anchor)<0;n[r]=new ss(h?c:l,h?l:c)}else n[r]=new ss(l,l)}return new os(n,t.sel.primIndex)}function ps(t){t.doc.mode=$t(t.options,t.doc.modeOption),_s(t)}function _s(t){t.doc.iter((function(t){t.stateAfter&&(t.stateAfter=null),t.styles&&(t.styles=null)})),t.doc.modeFrontier=t.doc.highlightFrontier=t.doc.first,Do(t,100),t.state.modeGen++,t.curOp&&Bn(t)}function gs(t,e){return 0==e.from.ch&&0==e.to.ch&&""==j(e.text)&&(!t.cm||t.cm.options.wholeLineUpdateBefore)}function fs(t,e,i,n){function o(t){return i?i[t]:null}function s(t,i,o){li(t,i,o,n),Ri(t,"change",t,e)}function r(t,e){for(var i=[],s=t;s<e;++s)i.push(new ai(c[s],o(s),n));return i}var a=e.from,l=e.to,c=e.text,u=Kt(t,a.line),h=Kt(t,l.line),d=j(c),p=o(c.length-1),_=l.line-a.line;if(e.full)t.insert(0,r(0,c.length)),t.remove(c.length,t.size-c.length);else if(gs(t,e)){var g=r(0,c.length-1);s(h,h.text,p),_&&t.remove(a.line,_),g.length&&t.insert(a.line,g)}else if(u==h)if(1==c.length)s(u,u.text.slice(0,a.ch)+d+u.text.slice(l.ch),p);else{var f=r(1,c.length-1);f.push(new ai(d+u.text.slice(l.ch),p,n)),s(u,u.text.slice(0,a.ch)+c[0],o(0)),t.insert(a.line+1,f)}else if(1==c.length)s(u,u.text.slice(0,a.ch)+c[0]+h.text.slice(l.ch),o(0)),t.remove(a.line+1,_);else{s(u,u.text.slice(0,a.ch)+c[0],o(0)),s(h,d+h.text.slice(l.ch),p);var m=r(1,c.length-1);_>1&&t.remove(a.line+1,_-1),t.insert(a.line+1,m)}Ri(t,"change",t,e)}function ms(t,e,i){function n(t,o,s){if(t.linked)for(var r=0;r<t.linked.length;++r){var a=t.linked[r];if(a.doc!=o){var l=s&&a.sharedHist;i&&!l||(e(a.doc,l),n(a.doc,t,l))}}}n(t,null,!0)}function vs(t,e){if(e.cm)throw new Error("This document is already in use.");t.doc=e,e.cm=t,Nn(t),ps(t),bs(t),t.options.lineWrapping||ri(t),t.options.mode=e.modeOption,Bn(t)}function bs(t){("rtl"==t.doc.direction?N:w)(t.display.lineDiv,"CodeMirror-rtl")}function ys(t){Ao(t,(function(){bs(t),Bn(t)}))}function Ts(t){this.done=[],this.undone=[],this.undoDepth=1/0,this.lastModTime=this.lastSelTime=0,this.lastOp=this.lastSelOp=null,this.lastOrigin=this.lastSelOrigin=null,this.generation=this.maxGeneration=t||1}function Es(t,e){var i={from:ae(e.from),to:ls(e),text:Jt(t,e.from,e.to)};return xs(t,i,e.from.line,e.to.line+1),ms(t,(function(t){return xs(t,i,e.from.line,e.to.line+1)}),!0),i}function Ss(t){while(t.length){var e=j(t);if(!e.ranges)break;t.pop()}}function Cs(t,e){return e?(Ss(t.done),j(t.done)):t.done.length&&!j(t.done).ranges?j(t.done):t.done.length>1&&!t.done[t.done.length-2].ranges?(t.done.pop(),j(t.done)):void 0}function ks(t,e,i,n){var o=t.history;o.undone.length=0;var s,r,a=+new Date;if((o.lastOp==n||o.lastOrigin==e.origin&&e.origin&&("+"==e.origin.charAt(0)&&o.lastModTime>a-(t.cm?t.cm.options.historyEventDelay:500)||"*"==e.origin.charAt(0)))&&(s=Cs(o,o.lastOp==n)))r=j(s.changes),0==se(e.from,e.to)&&0==se(e.from,r.to)?r.to=ls(e):s.changes.push(Es(t,e));else{var l=j(o.done);l&&l.ranges||Is(t.sel,o.done),s={changes:[Es(t,e)],generation:o.generation},o.done.push(s);while(o.done.length>o.undoDepth)o.done.shift(),o.done[0].ranges||o.done.shift()}o.done.push(i),o.generation=++o.maxGeneration,o.lastModTime=o.lastSelTime=a,o.lastOp=o.lastSelOp=n,o.lastOrigin=o.lastSelOrigin=e.origin,r||mt(t,"historyAdded")}function ws(t,e,i,n){var o=e.charAt(0);return"*"==o||"+"==o&&i.ranges.length==n.ranges.length&&i.somethingSelected()==n.somethingSelected()&&new Date-t.history.lastSelTime<=(t.cm?t.cm.options.historyEventDelay:500)}function Rs(t,e,i,n){var o=t.history,s=n&&n.origin;i==o.lastSelOp||s&&o.lastSelOrigin==s&&(o.lastModTime==o.lastSelTime&&o.lastOrigin==s||ws(t,s,j(o.done),e))?o.done[o.done.length-1]=e:Is(e,o.done),o.lastSelTime=+new Date,o.lastSelOrigin=s,o.lastSelOp=i,n&&!1!==n.clearRedo&&Ss(o.undone)}function Is(t,e){var i=j(e);i&&i.ranges&&i.equals(t)||e.push(t)}function xs(t,e,i,n){var o=e["spans_"+t.id],s=0;t.iter(Math.max(t.first,i),Math.min(t.first+t.size,n),(function(i){i.markedSpans&&((o||(o=e["spans_"+t.id]={}))[s]=i.markedSpans),++s}))}function Os(t){if(!t)return null;for(var e,i=0;i<t.length;++i)t[i].marker.explicitlyCleared?e||(e=t.slice(0,i)):e&&e.push(t[i]);return e?e.length?e:null:t}function As(t,e){var i=e["spans_"+t.id];if(!i)return null;for(var n=[],o=0;o<e.text.length;++o)n.push(Os(i[o]));return n}function Ms(t,e){var i=As(t,e),n=Fe(t,e);if(!i)return n;if(!n)return i;for(var o=0;o<i.length;++o){var s=i[o],r=n[o];if(s&&r)t:for(var a=0;a<r.length;++a){for(var l=r[a],c=0;c<s.length;++c)if(s[c].marker==l.marker)continue t;s.push(l)}else r&&(i[o]=r)}return i}function Ns(t,e,i){for(var n=[],o=0;o<t.length;++o){var s=t[o];if(s.ranges)n.push(i?os.prototype.deepCopy.call(s):s);else{var r=s.changes,a=[];n.push({changes:a});for(var l=0;l<r.length;++l){var c=r[l],u=void 0;if(a.push({from:c.from,to:c.to,text:c.text}),e)for(var h in c)(u=h.match(/^spans_(\d+)$/))&&V(e,Number(u[1]))>-1&&(j(a)[h]=c[h],delete c[h])}}}return n}function Ls(t,e,i,n){if(n){var o=t.anchor;if(i){var s=se(e,o)<0;s!=se(i,o)<0?(o=e,e=i):s!=se(e,i)<0&&(e=i)}return new ss(o,e)}return new ss(i||e,e)}function Ds(t,e,i,n,o){null==o&&(o=t.cm&&(t.cm.display.shift||t.extend)),Us(t,new os([Ls(t.sel.primary(),e,i,o)],0),n)}function Bs(t,e,i){for(var n=[],o=t.cm&&(t.cm.display.shift||t.extend),s=0;s<t.sel.ranges.length;s++)n[s]=Ls(t.sel.ranges[s],e[s],null,o);var r=rs(t.cm,n,t.sel.primIndex);Us(t,r,i)}function Ps(t,e,i,n){var o=t.sel.ranges.slice(0);o[e]=i,Us(t,rs(t.cm,o,t.sel.primIndex),n)}function Fs(t,e,i,n){Us(t,as(e,i),n)}function Hs(t,e,i){var n={ranges:e.ranges,update:function(e){var i=this;this.ranges=[];for(var n=0;n<e.length;n++)i.ranges[n]=new ss(he(t,e[n].anchor),he(t,e[n].head))},origin:i&&i.origin};return mt(t,"beforeSelectionChange",t,n),t.cm&&mt(t.cm,"beforeSelectionChange",t.cm,n),n.ranges!=e.ranges?rs(t.cm,n.ranges,n.ranges.length-1):e}function Vs(t,e,i){var n=t.history.done,o=j(n);o&&o.ranges?(n[n.length-1]=e,Ws(t,e,i)):Us(t,e,i)}function Us(t,e,i){Ws(t,e,i),Rs(t,t.sel,t.cm?t.cm.curOp.id:NaN,i)}function Ws(t,e,i){(yt(t,"beforeSelectionChange")||t.cm&&yt(t.cm,"beforeSelectionChange"))&&(e=Hs(t,e,i));var n=i&&i.bias||(se(e.primary().head,t.sel.primary().head)<0?-1:1);$s(t,qs(t,e,n,!0)),i&&!1===i.scroll||!t.cm||ro(t.cm)}function $s(t,e){e.equals(t.sel)||(t.sel=e,t.cm&&(t.cm.curOp.updateInput=1,t.cm.curOp.selectionChanged=!0,bt(t.cm)),Ri(t,"cursorActivity",t))}function Gs(t){$s(t,qs(t,t.sel,null,!1))}function qs(t,e,i,n){for(var o,s=0;s<e.ranges.length;s++){var r=e.ranges[s],a=e.ranges.length==t.sel.ranges.length&&t.sel.ranges[s],l=Xs(t,r.anchor,a&&a.anchor,i,n),c=Xs(t,r.head,a&&a.head,i,n);(o||l!=r.anchor||c!=r.head)&&(o||(o=e.ranges.slice(0,s)),o[s]=new ss(l,c))}return o?rs(t.cm,o,e.primIndex):e}function zs(t,e,i,n,o){var s=Kt(t,e.line);if(s.markedSpans)for(var r=0;r<s.markedSpans.length;++r){var a=s.markedSpans[r],l=a.marker,c="selectLeft"in l?!l.selectLeft:l.inclusiveLeft,u="selectRight"in l?!l.selectRight:l.inclusiveRight;if((null==a.from||(c?a.from<=e.ch:a.from<e.ch))&&(null==a.to||(u?a.to>=e.ch:a.to>e.ch))){if(o&&(mt(l,"beforeCursorEnter"),l.explicitlyCleared)){if(s.markedSpans){--r;continue}break}if(!l.atomic)continue;if(i){var h=l.find(n<0?1:-1),d=void 0;if((n<0?u:c)&&(h=Ys(t,h,-n,h&&h.line==e.line?s:null)),h&&h.line==e.line&&(d=se(h,i))&&(n<0?d<0:d>0))return zs(t,h,e,n,o)}var p=l.find(n<0?-1:1);return(n<0?c:u)&&(p=Ys(t,p,n,p.line==e.line?s:null)),p?zs(t,p,e,n,o):null}}return e}function Xs(t,e,i,n,o){var s=n||1,r=zs(t,e,i,s,o)||!o&&zs(t,e,i,s,!0)||zs(t,e,i,-s,o)||!o&&zs(t,e,i,-s,!0);return r||(t.cantEdit=!0,oe(t.first,0))}function Ys(t,e,i,n){return i<0&&0==e.ch?e.line>t.first?he(t,oe(e.line-1)):null:i>0&&e.ch==(n||Kt(t,e.line)).text.length?e.line<t.first+t.size-1?oe(e.line+1,0):null:new oe(e.line,e.ch+i)}function js(t){t.setSelection(oe(t.firstLine(),0),oe(t.lastLine()),$)}function Ks(t,e,i){var n={canceled:!1,from:e.from,to:e.to,text:e.text,origin:e.origin,cancel:function(){return n.canceled=!0}};return i&&(n.update=function(e,i,o,s){e&&(n.from=he(t,e)),i&&(n.to=he(t,i)),o&&(n.text=o),void 0!==s&&(n.origin=s)}),mt(t,"beforeChange",t,n),t.cm&&mt(t.cm,"beforeChange",t.cm,n),n.canceled?(t.cm&&(t.cm.curOp.updateInput=2),null):{from:n.from,to:n.to,text:n.text,origin:n.origin}}function Js(t,e,i){if(t.cm){if(!t.cm.curOp)return Mo(t.cm,Js)(t,e,i);if(t.cm.state.suppressEdits)return}if(!(yt(t,"beforeChange")||t.cm&&yt(t.cm,"beforeChange"))||(e=Ks(t,e,!0),e)){var n=Ie&&!i&&Ve(t,e.from,e.to);if(n)for(var o=n.length-1;o>=0;--o)Qs(t,{from:n[o].from,to:n[o].to,text:o?[""]:e.text,origin:e.origin});else Qs(t,e)}}function Qs(t,e){if(1!=e.text.length||""!=e.text[0]||0!=se(e.from,e.to)){var i=us(t,e);ks(t,e,i,t.cm?t.cm.curOp.id:NaN),er(t,e,i,Fe(t,e));var n=[];ms(t,(function(t,i){i||-1!=V(n,t.history)||(rr(t.history,e),n.push(t.history)),er(t,e,null,Fe(t,e))}))}}function Zs(t,e,i){var n=t.cm&&t.cm.state.suppressEdits;if(!n||i){for(var o,s=t.history,r=t.sel,a="undo"==e?s.done:s.undone,l="undo"==e?s.undone:s.done,c=0;c<a.length;c++)if(o=a[c],i?o.ranges&&!o.equals(t.sel):!o.ranges)break;if(c!=a.length){for(s.lastOrigin=s.lastSelOrigin=null;;){if(o=a.pop(),!o.ranges){if(n)return void a.push(o);break}if(Is(o,l),i&&!o.equals(t.sel))return void Us(t,o,{clearRedo:!1});r=o}var u=[];Is(r,l),l.push({changes:u,generation:s.generation}),s.generation=o.generation||++s.maxGeneration;for(var h=yt(t,"beforeChange")||t.cm&&yt(t.cm,"beforeChange"),d=function(i){var n=o.changes[i];if(n.origin=e,h&&!Ks(t,n,!1))return a.length=0,{};u.push(Es(t,n));var s=i?us(t,n):j(a);er(t,n,s,Ms(t,n)),!i&&t.cm&&t.cm.scrollIntoView({from:n.from,to:ls(n)});var r=[];ms(t,(function(t,e){e||-1!=V(r,t.history)||(rr(t.history,n),r.push(t.history)),er(t,n,null,Ms(t,n))}))},p=o.changes.length-1;p>=0;--p){var _=d(p);if(_)return _.v}}}}function tr(t,e){if(0!=e&&(t.first+=e,t.sel=new os(K(t.sel.ranges,(function(t){return new ss(oe(t.anchor.line+e,t.anchor.ch),oe(t.head.line+e,t.head.ch))})),t.sel.primIndex),t.cm)){Bn(t.cm,t.first,t.first-e,e);for(var i=t.cm.display,n=i.viewFrom;n<i.viewTo;n++)Pn(t.cm,n,"gutter")}}function er(t,e,i,n){if(t.cm&&!t.cm.curOp)return Mo(t.cm,er)(t,e,i,n);if(e.to.line<t.first)tr(t,e.text.length-1-(e.to.line-e.from.line));else if(!(e.from.line>t.lastLine())){if(e.from.line<t.first){var o=e.text.length-1-(t.first-e.from.line);tr(t,o),e={from:oe(t.first,0),to:oe(e.to.line+o,e.to.ch),text:[j(e.text)],origin:e.origin}}var s=t.lastLine();e.to.line>s&&(e={from:e.from,to:oe(s,Kt(t,s).text.length),text:[e.text[0]],origin:e.origin}),e.removed=Jt(t,e.from,e.to),i||(i=us(t,e)),t.cm?ir(t.cm,e,n):fs(t,e,n),Ws(t,i,$),t.cantEdit&&Xs(t,oe(t.firstLine(),0))&&(t.cantEdit=!1)}}function ir(t,e,i){var n=t.doc,o=t.display,s=e.from,r=e.to,a=!1,l=s.line;t.options.lineWrapping||(l=te(Je(Kt(n,s.line))),n.iter(l,r.line+1,(function(t){if(t==o.maxLine)return a=!0,!0}))),n.sel.contains(e.from,e.to)>-1&&bt(t),fs(n,e,i,Mn(t)),t.options.lineWrapping||(n.iter(l,s.line+e.text.length,(function(t){var e=si(t);e>o.maxLineLength&&(o.maxLine=t,o.maxLineLength=e,o.maxLineChanged=!0,a=!1)})),a&&(t.curOp.updateMaxLine=!0)),Re(n,s.line),Do(t,400);var c=e.text.length-(r.line-s.line)-1;e.full?Bn(t):s.line!=r.line||1!=e.text.length||gs(t.doc,e)?Bn(t,s.line,r.line+1,c):Pn(t,s.line,"text");var u=yt(t,"changes"),h=yt(t,"change");if(h||u){var d={from:s,to:r,text:e.text,removed:e.removed,origin:e.origin};h&&Ri(t,"change",t,d),u&&(t.curOp.changeObjs||(t.curOp.changeObjs=[])).push(d)}t.display.selForContextMenu=null}function nr(t,e,i,n,o){var s;n||(n=i),se(n,i)<0&&(s=[n,i],i=s[0],n=s[1]),"string"==typeof e&&(e=t.splitLines(e)),Js(t,{from:i,to:n,text:e,origin:o})}function or(t,e,i,n){i<t.line?t.line+=n:e<t.line&&(t.line=e,t.ch=0)}function sr(t,e,i,n){for(var o=0;o<t.length;++o){var s=t[o],r=!0;if(s.ranges){s.copied||(s=t[o]=s.deepCopy(),s.copied=!0);for(var a=0;a<s.ranges.length;a++)or(s.ranges[a].anchor,e,i,n),or(s.ranges[a].head,e,i,n)}else{for(var l=0;l<s.changes.length;++l){var c=s.changes[l];if(i<c.from.line)c.from=oe(c.from.line+n,c.from.ch),c.to=oe(c.to.line+n,c.to.ch);else if(e<=c.to.line){r=!1;break}}r||(t.splice(0,o+1),o=0)}}}function rr(t,e){var i=e.from.line,n=e.to.line,o=e.text.length-(n-i)-1;sr(t.done,i,n,o),sr(t.undone,i,n,o)}function ar(t,e,i,n){var o=e,s=e;return"number"==typeof e?s=Kt(t,ue(t,e)):o=te(e),null==o?null:(n(s,o)&&t.cm&&Pn(t.cm,o,i),s)}function lr(t){var e=this;this.lines=t,this.parent=null;for(var i=0,n=0;n<t.length;++n)t[n].parent=e,i+=t[n].height;this.height=i}function cr(t){var e=this;this.children=t;for(var i=0,n=0,o=0;o<t.length;++o){var s=t[o];i+=s.chunkSize(),n+=s.height,s.parent=e}this.size=i,this.height=n,this.parent=null}ss.prototype.from=function(){return ce(this.anchor,this.head)},ss.prototype.to=function(){return le(this.anchor,this.head)},ss.prototype.empty=function(){return this.head.line==this.anchor.line&&this.head.ch==this.anchor.ch},lr.prototype={chunkSize:function(){return this.lines.length},removeInner:function(t,e){for(var i=this,n=t,o=t+e;n<o;++n){var s=i.lines[n];i.height-=s.height,ci(s),Ri(s,"delete")}this.lines.splice(t,e)},collapse:function(t){t.push.apply(t,this.lines)},insertInner:function(t,e,i){var n=this;this.height+=i,this.lines=this.lines.slice(0,t).concat(e).concat(this.lines.slice(t));for(var o=0;o<e.length;++o)e[o].parent=n},iterN:function(t,e,i){for(var n=this,o=t+e;t<o;++t)if(i(n.lines[t]))return!0}},cr.prototype={chunkSize:function(){return this.size},removeInner:function(t,e){var i=this;this.size-=e;for(var n=0;n<this.children.length;++n){var o=i.children[n],s=o.chunkSize();if(t<s){var r=Math.min(e,s-t),a=o.height;if(o.removeInner(t,r),i.height-=a-o.height,s==r&&(i.children.splice(n--,1),o.parent=null),0==(e-=r))break;t=0}else t-=s}if(this.size-e<25&&(this.children.length>1||!(this.children[0]instanceof lr))){var l=[];this.collapse(l),this.children=[new lr(l)],this.children[0].parent=this}},collapse:function(t){for(var e=this,i=0;i<this.children.length;++i)e.children[i].collapse(t)},insertInner:function(t,e,i){var n=this;this.size+=e.length,this.height+=i;for(var o=0;o<this.children.length;++o){var s=n.children[o],r=s.chunkSize();if(t<=r){if(s.insertInner(t,e,i),s.lines&&s.lines.length>50){for(var a=s.lines.length%25+25,l=a;l<s.lines.length;){var c=new lr(s.lines.slice(l,l+=25));s.height-=c.height,n.children.splice(++o,0,c),c.parent=n}s.lines=s.lines.slice(0,a),n.maybeSpill()}break}t-=r}},maybeSpill:function(){if(!(this.children.length<=10)){var t=this;do{var e=t.children.splice(t.children.length-5,5),i=new cr(e);if(t.parent){t.size-=i.size,t.height-=i.height;var n=V(t.parent.children,t);t.parent.children.splice(n+1,0,i)}else{var o=new cr(t.children);o.parent=t,t.children=[o,i],t=o}i.parent=t.parent}while(t.children.length>10);t.parent.maybeSpill()}},iterN:function(t,e,i){for(var n=this,o=0;o<this.children.length;++o){var s=n.children[o],r=s.chunkSize();if(t<r){var a=Math.min(e,r-t);if(s.iterN(t,a,i))return!0;if(0==(e-=a))break;t=0}else t-=r}}};var ur=function(t,e,i){var n=this;if(i)for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o]);this.doc=t,this.node=e};function hr(t,e,i){oi(e)<(t.curOp&&t.curOp.scrollTop||t.doc.scrollTop)&&so(t,i)}function dr(t,e,i,n){var o=new ur(t,i,n),s=t.cm;return s&&o.noHScroll&&(s.display.alignWidgets=!0),ar(t,e,"widget",(function(e){var i=e.widgets||(e.widgets=[]);if(null==o.insertAt?i.push(o):i.splice(Math.min(i.length-1,Math.max(0,o.insertAt)),0,o),o.line=e,s&&!ii(t,e)){var n=oi(e)<t.scrollTop;Zt(e,e.height+Ui(o)),n&&so(s,o.height),s.curOp.forceUpdate=!0}return!0})),s&&Ri(s,"lineWidgetAdded",s,o,"number"==typeof e?e:te(e)),o}ur.prototype.clear=function(){var t=this,e=this.doc.cm,i=this.line.widgets,n=this.line,o=te(n);if(null!=o&&i){for(var s=0;s<i.length;++s)i[s]==t&&i.splice(s--,1);i.length||(n.widgets=null);var r=Ui(this);Zt(n,Math.max(0,n.height-r)),e&&(Ao(e,(function(){hr(e,n,-r),Pn(e,o,"widget")})),Ri(e,"lineWidgetCleared",e,this,o))}},ur.prototype.changed=function(){var t=this,e=this.height,i=this.doc.cm,n=this.line;this.height=null;var o=Ui(this)-e;o&&(ii(this.doc,n)||Zt(n,n.height+o),i&&Ao(i,(function(){i.curOp.forceUpdate=!0,hr(i,n,o),Ri(i,"lineWidgetChanged",i,t,te(n))})))},Tt(ur);var pr=0,_r=function(t,e){this.lines=[],this.type=e,this.doc=t,this.id=++pr};function gr(t,e,i,n,o){if(n&&n.shared)return mr(t,e,i,n,o);if(t.cm&&!t.cm.curOp)return Mo(t.cm,gr)(t,e,i,n,o);var s=new _r(t,o),r=se(e,i);if(n&&P(n,s,!1),r>0||0==r&&!1!==s.clearWhenEmpty)return s;if(s.replacedWith&&(s.collapsed=!0,s.widgetNode=O("span",[s.replacedWith],"CodeMirror-widget"),n.handleMouseEvents||s.widgetNode.setAttribute("cm-ignore-events","true"),n.insertLeft&&(s.widgetNode.insertLeft=!0)),s.collapsed){if(Ke(t,e.line,e,i,s)||e.line!=i.line&&Ke(t,i.line,e,i,s))throw new Error("Inserting collapsed marker partially overlapping an existing one");Ae()}s.addToHistory&&ks(t,{from:e,to:i,origin:"markText"},t.sel,NaN);var a,l=e.line,c=t.cm;if(t.iter(l,i.line+1,(function(t){c&&s.collapsed&&!c.options.lineWrapping&&Je(t)==c.display.maxLine&&(a=!0),s.collapsed&&l!=e.line&&Zt(t,0),De(t,new Me(s,l==e.line?e.ch:null,l==i.line?i.ch:null)),++l})),s.collapsed&&t.iter(e.line,i.line+1,(function(e){ii(t,e)&&Zt(e,0)})),s.clearOnEnter&&_t(s,"beforeCursorEnter",(function(){return s.clear()})),s.readOnly&&(Oe(),(t.history.done.length||t.history.undone.length)&&t.clearHistory()),s.collapsed&&(s.id=++pr,s.atomic=!0),c){if(a&&(c.curOp.updateMaxLine=!0),s.collapsed)Bn(c,e.line,i.line+1);else if(s.className||s.startStyle||s.endStyle||s.css||s.attributes||s.title)for(var u=e.line;u<=i.line;u++)Pn(c,u,"text");s.atomic&&Gs(c.doc),Ri(c,"markerAdded",c,s)}return s}_r.prototype.clear=function(){var t=this;if(!this.explicitlyCleared){var e=this.doc.cm,i=e&&!e.curOp;if(i&&So(e),yt(this,"clear")){var n=this.find();n&&Ri(this,"clear",n.from,n.to)}for(var o=null,s=null,r=0;r<this.lines.length;++r){var a=t.lines[r],l=Ne(a.markedSpans,t);e&&!t.collapsed?Pn(e,te(a),"text"):e&&(null!=l.to&&(s=te(a)),null!=l.from&&(o=te(a))),a.markedSpans=Le(a.markedSpans,l),null==l.from&&t.collapsed&&!ii(t.doc,a)&&e&&Zt(a,In(e.display))}if(e&&this.collapsed&&!e.options.lineWrapping)for(var c=0;c<this.lines.length;++c){var u=Je(t.lines[c]),h=si(u);h>e.display.maxLineLength&&(e.display.maxLine=u,e.display.maxLineLength=h,e.display.maxLineChanged=!0)}null!=o&&e&&this.collapsed&&Bn(e,o,s+1),this.lines.length=0,this.explicitlyCleared=!0,this.atomic&&this.doc.cantEdit&&(this.doc.cantEdit=!1,e&&Gs(e.doc)),e&&Ri(e,"markerCleared",e,this,o,s),i&&Co(e),this.parent&&this.parent.clear()}},_r.prototype.find=function(t,e){var i,n,o=this;null==t&&"bookmark"==this.type&&(t=1);for(var s=0;s<this.lines.length;++s){var r=o.lines[s],a=Ne(r.markedSpans,o);if(null!=a.from&&(i=oe(e?r:te(r),a.from),-1==t))return i;if(null!=a.to&&(n=oe(e?r:te(r),a.to),1==t))return n}return i&&{from:i,to:n}},_r.prototype.changed=function(){var t=this,e=this.find(-1,!0),i=this,n=this.doc.cm;e&&n&&Ao(n,(function(){var o=e.line,s=te(e.line),r=Zi(n,s);if(r&&(cn(r),n.curOp.selectionChanged=n.curOp.forceUpdate=!0),n.curOp.updateMaxLine=!0,!ii(i.doc,o)&&null!=i.height){var a=i.height;i.height=null;var l=Ui(i)-a;l&&Zt(o,o.height+l)}Ri(n,"markerChanged",n,t)}))},_r.prototype.attachLine=function(t){if(!this.lines.length&&this.doc.cm){var e=this.doc.cm.curOp;e.maybeHiddenMarkers&&-1!=V(e.maybeHiddenMarkers,this)||(e.maybeUnhiddenMarkers||(e.maybeUnhiddenMarkers=[])).push(this)}this.lines.push(t)},_r.prototype.detachLine=function(t){if(this.lines.splice(V(this.lines,t),1),!this.lines.length&&this.doc.cm){var e=this.doc.cm.curOp;(e.maybeHiddenMarkers||(e.maybeHiddenMarkers=[])).push(this)}},Tt(_r);var fr=function(t,e){var i=this;this.markers=t,this.primary=e;for(var n=0;n<t.length;++n)t[n].parent=i};function mr(t,e,i,n,o){n=P(n),n.shared=!1;var s=[gr(t,e,i,n,o)],r=s[0],a=n.widgetNode;return ms(t,(function(t){a&&(n.widgetNode=a.cloneNode(!0)),s.push(gr(t,he(t,e),he(t,i),n,o));for(var l=0;l<t.linked.length;++l)if(t.linked[l].isParent)return;r=j(s)})),new fr(s,r)}function vr(t){return t.findMarks(oe(t.first,0),t.clipPos(oe(t.lastLine())),(function(t){return t.parent}))}function br(t,e){for(var i=0;i<e.length;i++){var n=e[i],o=n.find(),s=t.clipPos(o.from),r=t.clipPos(o.to);if(se(s,r)){var a=gr(t,s,r,n.primary,n.primary.type);n.markers.push(a),a.parent=n}}}function yr(t){for(var e=function(e){var i=t[e],n=[i.primary.doc];ms(i.primary.doc,(function(t){return n.push(t)}));for(var o=0;o<i.markers.length;o++){var s=i.markers[o];-1==V(n,s.doc)&&(s.parent=null,i.markers.splice(o--,1))}},i=0;i<t.length;i++)e(i)}fr.prototype.clear=function(){var t=this;if(!this.explicitlyCleared){this.explicitlyCleared=!0;for(var e=0;e<this.markers.length;++e)t.markers[e].clear();Ri(this,"clear")}},fr.prototype.find=function(t,e){return this.primary.find(t,e)},Tt(fr);var Tr=0,Er=function(t,e,i,n,o){if(!(this instanceof Er))return new Er(t,e,i,n,o);null==i&&(i=0),cr.call(this,[new lr([new ai("",null)])]),this.first=i,this.scrollTop=this.scrollLeft=0,this.cantEdit=!1,this.cleanGeneration=1,this.modeFrontier=this.highlightFrontier=i;var s=oe(i,0);this.sel=as(s),this.history=new Ts(null),this.id=++Tr,this.modeOption=e,this.lineSep=n,this.direction="rtl"==o?"rtl":"ltr",this.extend=!1,"string"==typeof t&&(t=this.splitLines(t)),fs(this,{from:s,to:s,text:t}),Us(this,as(s),$)};Er.prototype=Z(cr.prototype,{constructor:Er,iter:function(t,e,i){i?this.iterN(t-this.first,e-t,i):this.iterN(this.first,this.first+this.size,t)},insert:function(t,e){for(var i=0,n=0;n<e.length;++n)i+=e[n].height;this.insertInner(t-this.first,e,i)},remove:function(t,e){this.removeInner(t-this.first,e)},getValue:function(t){var e=Qt(this,this.first,this.first+this.size);return!1===t?e:e.join(t||this.lineSeparator())},setValue:Lo((function(t){var e=oe(this.first,0),i=this.first+this.size-1;Js(this,{from:e,to:oe(i,Kt(this,i).text.length),text:this.splitLines(t),origin:"setValue",full:!0},!0),this.cm&&ao(this.cm,0,0),Us(this,as(e),$)})),replaceRange:function(t,e,i,n){e=he(this,e),i=i?he(this,i):e,nr(this,t,e,i,n)},getRange:function(t,e,i){var n=Jt(this,he(this,t),he(this,e));return!1===i?n:n.join(i||this.lineSeparator())},getLine:function(t){var e=this.getLineHandle(t);return e&&e.text},getLineHandle:function(t){if(ie(this,t))return Kt(this,t)},getLineNumber:function(t){return te(t)},getLineHandleVisualStart:function(t){return"number"==typeof t&&(t=Kt(this,t)),Je(t)},lineCount:function(){return this.size},firstLine:function(){return this.first},lastLine:function(){return this.first+this.size-1},clipPos:function(t){return he(this,t)},getCursor:function(t){var e,i=this.sel.primary();return e=null==t||"head"==t?i.head:"anchor"==t?i.anchor:"end"==t||"to"==t||!1===t?i.to():i.from(),e},listSelections:function(){return this.sel.ranges},somethingSelected:function(){return this.sel.somethingSelected()},setCursor:Lo((function(t,e,i){Fs(this,he(this,"number"==typeof t?oe(t,e||0):t),null,i)})),setSelection:Lo((function(t,e,i){Fs(this,he(this,t),he(this,e||t),i)})),extendSelection:Lo((function(t,e,i){Ds(this,he(this,t),e&&he(this,e),i)})),extendSelections:Lo((function(t,e){Bs(this,pe(this,t),e)})),extendSelectionsBy:Lo((function(t,e){var i=K(this.sel.ranges,t);Bs(this,pe(this,i),e)})),setSelections:Lo((function(t,e,i){var n=this;if(t.length){for(var o=[],s=0;s<t.length;s++)o[s]=new ss(he(n,t[s].anchor),he(n,t[s].head));null==e&&(e=Math.min(t.length-1,this.sel.primIndex)),Us(this,rs(this.cm,o,e),i)}})),addSelection:Lo((function(t,e,i){var n=this.sel.ranges.slice(0);n.push(new ss(he(this,t),he(this,e||t))),Us(this,rs(this.cm,n,n.length-1),i)})),getSelection:function(t){for(var e,i=this,n=this.sel.ranges,o=0;o<n.length;o++){var s=Jt(i,n[o].from(),n[o].to());e=e?e.concat(s):s}return!1===t?e:e.join(t||this.lineSeparator())},getSelections:function(t){for(var e=this,i=[],n=this.sel.ranges,o=0;o<n.length;o++){var s=Jt(e,n[o].from(),n[o].to());!1!==t&&(s=s.join(t||e.lineSeparator())),i[o]=s}return i},replaceSelection:function(t,e,i){for(var n=[],o=0;o<this.sel.ranges.length;o++)n[o]=t;this.replaceSelections(n,e,i||"+input")},replaceSelections:Lo((function(t,e,i){for(var n=this,o=[],s=this.sel,r=0;r<s.ranges.length;r++){var a=s.ranges[r];o[r]={from:a.from(),to:a.to(),text:n.splitLines(t[r]),origin:i}}for(var l=e&&"end"!=e&&ds(this,o,e),c=o.length-1;c>=0;c--)Js(n,o[c]);l?Vs(this,l):this.cm&&ro(this.cm)})),undo:Lo((function(){Zs(this,"undo")})),redo:Lo((function(){Zs(this,"redo")})),undoSelection:Lo((function(){Zs(this,"undo",!0)})),redoSelection:Lo((function(){Zs(this,"redo",!0)})),setExtending:function(t){this.extend=t},getExtending:function(){return this.extend},historySize:function(){for(var t=this.history,e=0,i=0,n=0;n<t.done.length;n++)t.done[n].ranges||++e;for(var o=0;o<t.undone.length;o++)t.undone[o].ranges||++i;return{undo:e,redo:i}},clearHistory:function(){this.history=new Ts(this.history.maxGeneration)},markClean:function(){this.cleanGeneration=this.changeGeneration(!0)},changeGeneration:function(t){return t&&(this.history.lastOp=this.history.lastSelOp=this.history.lastOrigin=null),this.history.generation},isClean:function(t){return this.history.generation==(t||this.cleanGeneration)},getHistory:function(){return{done:Ns(this.history.done),undone:Ns(this.history.undone)}},setHistory:function(t){var e=this.history=new Ts(this.history.maxGeneration);e.done=Ns(t.done.slice(0),null,!0),e.undone=Ns(t.undone.slice(0),null,!0)},setGutterMarker:Lo((function(t,e,i){return ar(this,t,"gutter",(function(t){var n=t.gutterMarkers||(t.gutterMarkers={});return n[e]=i,!i&&nt(n)&&(t.gutterMarkers=null),!0}))})),clearGutter:Lo((function(t){var e=this;this.iter((function(i){i.gutterMarkers&&i.gutterMarkers[t]&&ar(e,i,"gutter",(function(){return i.gutterMarkers[t]=null,nt(i.gutterMarkers)&&(i.gutterMarkers=null),!0}))}))})),lineInfo:function(t){var e;if("number"==typeof t){if(!ie(this,t))return null;if(e=t,t=Kt(this,t),!t)return null}else if(e=te(t),null==e)return null;return{line:e,handle:t,text:t.text,gutterMarkers:t.gutterMarkers,textClass:t.textClass,bgClass:t.bgClass,wrapClass:t.wrapClass,widgets:t.widgets}},addLineClass:Lo((function(t,e,i){return ar(this,t,"gutter"==e?"gutter":"class",(function(t){var n="text"==e?"textClass":"background"==e?"bgClass":"gutter"==e?"gutterClass":"wrapClass";if(t[n]){if(C(i).test(t[n]))return!1;t[n]+=" "+i}else t[n]=i;return!0}))})),removeLineClass:Lo((function(t,e,i){return ar(this,t,"gutter"==e?"gutter":"class",(function(t){var n="text"==e?"textClass":"background"==e?"bgClass":"gutter"==e?"gutterClass":"wrapClass",o=t[n];if(!o)return!1;if(null==i)t[n]=null;else{var s=o.match(C(i));if(!s)return!1;var r=s.index+s[0].length;t[n]=o.slice(0,s.index)+(s.index&&r!=o.length?" ":"")+o.slice(r)||null}return!0}))})),addLineWidget:Lo((function(t,e,i){return dr(this,t,e,i)})),removeLineWidget:function(t){t.clear()},markText:function(t,e,i){return gr(this,he(this,t),he(this,e),i,i&&i.type||"range")},setBookmark:function(t,e){var i={replacedWith:e&&(null==e.nodeType?e.widget:e),insertLeft:e&&e.insertLeft,clearWhenEmpty:!1,shared:e&&e.shared,handleMouseEvents:e&&e.handleMouseEvents};return t=he(this,t),gr(this,t,t,i,"bookmark")},findMarksAt:function(t){t=he(this,t);var e=[],i=Kt(this,t.line).markedSpans;if(i)for(var n=0;n<i.length;++n){var o=i[n];(null==o.from||o.from<=t.ch)&&(null==o.to||o.to>=t.ch)&&e.push(o.marker.parent||o.marker)}return e},findMarks:function(t,e,i){t=he(this,t),e=he(this,e);var n=[],o=t.line;return this.iter(t.line,e.line+1,(function(s){var r=s.markedSpans;if(r)for(var a=0;a<r.length;a++){var l=r[a];null!=l.to&&o==t.line&&t.ch>=l.to||null==l.from&&o!=t.line||null!=l.from&&o==e.line&&l.from>=e.ch||i&&!i(l.marker)||n.push(l.marker.parent||l.marker)}++o})),n},getAllMarks:function(){var t=[];return this.iter((function(e){var i=e.markedSpans;if(i)for(var n=0;n<i.length;++n)null!=i[n].from&&t.push(i[n].marker)})),t},posFromIndex:function(t){var e,i=this.first,n=this.lineSeparator().length;return this.iter((function(o){var s=o.text.length+n;if(s>t)return e=t,!0;t-=s,++i})),he(this,oe(i,e))},indexFromPos:function(t){t=he(this,t);var e=t.ch;if(t.line<this.first||t.ch<0)return 0;var i=this.lineSeparator().length;return this.iter(this.first,t.line,(function(t){e+=t.text.length+i})),e},copy:function(t){var e=new Er(Qt(this,this.first,this.first+this.size),this.modeOption,this.first,this.lineSep,this.direction);return e.scrollTop=this.scrollTop,e.scrollLeft=this.scrollLeft,e.sel=this.sel,e.extend=!1,t&&(e.history.undoDepth=this.history.undoDepth,e.setHistory(this.getHistory())),e},linkedDoc:function(t){t||(t={});var e=this.first,i=this.first+this.size;null!=t.from&&t.from>e&&(e=t.from),null!=t.to&&t.to<i&&(i=t.to);var n=new Er(Qt(this,e,i),t.mode||this.modeOption,e,this.lineSep,this.direction);return t.sharedHist&&(n.history=this.history),(this.linked||(this.linked=[])).push({doc:n,sharedHist:t.sharedHist}),n.linked=[{doc:this,isParent:!0,sharedHist:t.sharedHist}],br(n,vr(this)),n},unlinkDoc:function(t){var e=this;if(t instanceof Ba&&(t=t.doc),this.linked)for(var i=0;i<this.linked.length;++i){var n=e.linked[i];if(n.doc==t){e.linked.splice(i,1),t.unlinkDoc(e),yr(vr(e));break}}if(t.history==this.history){var o=[t.id];ms(t,(function(t){return o.push(t.id)}),!0),t.history=new Ts(null),t.history.done=Ns(this.history.done,o),t.history.undone=Ns(this.history.undone,o)}},iterLinkedDocs:function(t){ms(this,t)},getMode:function(){return this.mode},getEditor:function(){return this.cm},splitLines:function(t){return this.lineSep?t.split(this.lineSep):Nt(t)},lineSeparator:function(){return this.lineSep||"\n"},setDirection:Lo((function(t){"rtl"!=t&&(t="ltr"),t!=this.direction&&(this.direction=t,this.iter((function(t){return t.order=null})),this.cm&&ys(this.cm))}))}),Er.prototype.eachLine=Er.prototype.iter;var Sr=0;function Cr(t){var e=this;if(Rr(e),!vt(e,t)&&!Wi(e.display,t)){Et(t),r&&(Sr=+new Date);var i=Ln(e,t,!0),n=t.dataTransfer.files;if(i&&!e.isReadOnly())if(n&&n.length&&window.FileReader&&window.File)for(var o=n.length,s=Array(o),a=0,l=function(t,n){if(!e.options.allowDropFileTypes||-1!=V(e.options.allowDropFileTypes,t.type)){var r=new FileReader;r.onload=Mo(e,(function(){var t=r.result;if(/[\x00-\x08\x0e-\x1f]{2}/.test(t)&&(t=""),s[n]=t,++a==o){i=he(e.doc,i);var l={from:i,to:i,text:e.doc.splitLines(s.join(e.doc.lineSeparator())),origin:"paste"};Js(e.doc,l),Vs(e.doc,as(i,ls(l)))}})),r.readAsText(t)}},c=0;c<o;++c)l(n[c],c);else{if(e.state.draggingText&&e.doc.sel.contains(i)>-1)return e.state.draggingText(t),void setTimeout((function(){return e.display.input.focus()}),20);try{var u=t.dataTransfer.getData("Text");if(u){var h;if(e.state.draggingText&&!e.state.draggingText.copy&&(h=e.listSelections()),Ws(e.doc,as(i,i)),h)for(var d=0;d<h.length;++d)nr(e.doc,"",h[d].anchor,h[d].head,"drag");e.replaceSelection(u,"around","paste"),e.display.input.focus()}}catch(t){}}}}function kr(t,e){if(r&&(!t.state.draggingText||+new Date-Sr<100))kt(e);else if(!vt(t,e)&&!Wi(t.display,e)&&(e.dataTransfer.setData("Text",t.getSelection()),e.dataTransfer.effectAllowed="copyMove",e.dataTransfer.setDragImage&&!d)){var i=x("img",null,null,"position: fixed; left: 0; top: 0;");i.src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==",h&&(i.width=i.height=1,t.display.wrapper.appendChild(i),i._top=i.offsetTop),e.dataTransfer.setDragImage(i,0,0),h&&i.parentNode.removeChild(i)}}function wr(t,e){var i=Ln(t,e);if(i){var n=document.createDocumentFragment();Gn(t,i,n),t.display.dragCursor||(t.display.dragCursor=x("div",null,"CodeMirror-cursors CodeMirror-dragcursors"),t.display.lineSpace.insertBefore(t.display.dragCursor,t.display.cursorDiv)),I(t.display.dragCursor,n)}}function Rr(t){t.display.dragCursor&&(t.display.lineSpace.removeChild(t.display.dragCursor),t.display.dragCursor=null)}function Ir(t){if(document.getElementsByClassName){for(var e=document.getElementsByClassName("CodeMirror"),i=[],n=0;n<e.length;n++){var o=e[n].CodeMirror;o&&i.push(o)}i.length&&i[0].operation((function(){for(var e=0;e<i.length;e++)t(i[e])}))}}var xr=!1;function Or(){xr||(Ar(),xr=!0)}function Ar(){var t;_t(window,"resize",(function(){null==t&&(t=setTimeout((function(){t=null,Ir(Mr)}),100))})),_t(window,"blur",(function(){return Ir(Jn)}))}function Mr(t){var e=t.display;e.cachedCharWidth=e.cachedTextHeight=e.cachedPaddingH=null,e.scrollbarsClipped=!1,t.setSize()}for(var Nr={3:"Pause",8:"Backspace",9:"Tab",13:"Enter",16:"Shift",17:"Ctrl",18:"Alt",19:"Pause",20:"CapsLock",27:"Esc",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",44:"PrintScrn",45:"Insert",46:"Delete",59:";",61:"=",91:"Mod",92:"Mod",93:"Mod",106:"*",107:"=",109:"-",110:".",111:"/",145:"ScrollLock",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",63232:"Up",63233:"Down",63234:"Left",63235:"Right",63272:"Delete",63273:"Home",63275:"End",63276:"PageUp",63277:"PageDown",63302:"Insert"},Lr=0;Lr<10;Lr++)Nr[Lr+48]=Nr[Lr+96]=String(Lr);for(var Dr=65;Dr<=90;Dr++)Nr[Dr]=String.fromCharCode(Dr);for(var Br=1;Br<=12;Br++)Nr[Br+111]=Nr[Br+63235]="F"+Br;var Pr={};function Fr(t){var e,i,n,o,s=t.split(/-(?!$)/);t=s[s.length-1];for(var r=0;r<s.length-1;r++){var a=s[r];if(/^(cmd|meta|m)$/i.test(a))o=!0;else if(/^a(lt)?$/i.test(a))e=!0;else if(/^(c|ctrl|control)$/i.test(a))i=!0;else{if(!/^s(hift)?$/i.test(a))throw new Error("Unrecognized modifier name: "+a);n=!0}}return e&&(t="Alt-"+t),i&&(t="Ctrl-"+t),o&&(t="Cmd-"+t),n&&(t="Shift-"+t),t}function Hr(t){var e={};for(var i in t)if(t.hasOwnProperty(i)){var n=t[i];if(/^(name|fallthrough|(de|at)tach)$/.test(i))continue;if("..."==n){delete t[i];continue}for(var o=K(i.split(" "),Fr),s=0;s<o.length;s++){var r=void 0,a=void 0;s==o.length-1?(a=o.join(" "),r=n):(a=o.slice(0,s+1).join(" "),r="...");var l=e[a];if(l){if(l!=r)throw new Error("Inconsistent bindings for "+a)}else e[a]=r}delete t[i]}for(var c in e)t[c]=e[c];return t}function Vr(t,e,i,n){e=Gr(e);var o=e.call?e.call(t,n):e[t];if(!1===o)return"nothing";if("..."===o)return"multi";if(null!=o&&i(o))return"handled";if(e.fallthrough){if("[object Array]"!=Object.prototype.toString.call(e.fallthrough))return Vr(t,e.fallthrough,i,n);for(var s=0;s<e.fallthrough.length;s++){var r=Vr(t,e.fallthrough[s],i,n);if(r)return r}}}function Ur(t){var e="string"==typeof t?t:Nr[t.keyCode];return"Ctrl"==e||"Alt"==e||"Shift"==e||"Mod"==e}function Wr(t,e,i){var n=t;return e.altKey&&"Alt"!=n&&(t="Alt-"+t),(E?e.metaKey:e.ctrlKey)&&"Ctrl"!=n&&(t="Ctrl-"+t),(E?e.ctrlKey:e.metaKey)&&"Cmd"!=n&&(t="Cmd-"+t),!i&&e.shiftKey&&"Shift"!=n&&(t="Shift-"+t),t}function $r(t,e){if(h&&34==t.keyCode&&t["char"])return!1;var i=Nr[t.keyCode];return null!=i&&!t.altGraphKey&&(3==t.keyCode&&t.code&&(i=t.code),Wr(i,t,e))}function Gr(t){return"string"==typeof t?Pr[t]:t}function qr(t,e){for(var i=t.doc.sel.ranges,n=[],o=0;o<i.length;o++){var s=e(i[o]);while(n.length&&se(s.from,j(n).to)<=0){var r=n.pop();if(se(r.from,s.from)<0){s.from=r.from;break}}n.push(s)}Ao(t,(function(){for(var e=n.length-1;e>=0;e--)nr(t.doc,"",n[e].from,n[e].to,"+delete");ro(t)}))}function zr(t,e,i){var n=rt(t.text,e+i,i);return n<0||n>t.text.length?null:n}function Xr(t,e,i){var n=zr(t,e.ch,i);return null==n?null:new oe(e.line,n,i<0?"after":"before")}function Yr(t,e,i,n,o){if(t){var s=dt(i,e.doc.direction);if(s){var r,a=o<0?j(s):s[0],l=o<0==(1==a.level),c=l?"after":"before";if(a.level>0||"rtl"==e.doc.direction){var u=tn(e,i);r=o<0?i.text.length-1:0;var h=en(e,u,r).top;r=at((function(t){return en(e,u,t).top==h}),o<0==(1==a.level)?a.from:a.to-1,r),"before"==c&&(r=zr(i,r,1))}else r=o<0?a.to:a.from;return new oe(n,r,c)}}return new oe(n,o<0?i.text.length:0,o<0?"before":"after")}function jr(t,e,i,n){var o=dt(e,t.doc.direction);if(!o)return Xr(e,i,n);i.ch>=e.text.length?(i.ch=e.text.length,i.sticky="before"):i.ch<=0&&(i.ch=0,i.sticky="after");var s=ut(o,i.ch,i.sticky),r=o[s];if("ltr"==t.doc.direction&&r.level%2==0&&(n>0?r.to>i.ch:r.from<i.ch))return Xr(e,i,n);var a,l=function(t,i){return zr(e,t instanceof oe?t.ch:t,i)},c=function(i){return t.options.lineWrapping?(a=a||tn(t,e),Sn(t,e,a,i)):{begin:0,end:e.text.length}},u=c("before"==i.sticky?l(i,-1):i.ch);if("rtl"==t.doc.direction||1==r.level){var h=1==r.level==n<0,d=l(i,h?1:-1);if(null!=d&&(h?d<=r.to&&d<=u.end:d>=r.from&&d>=u.begin)){var p=h?"before":"after";return new oe(i.line,d,p)}}var _=function(t,e,n){for(var s=function(t,e){return e?new oe(i.line,l(t,1),"before"):new oe(i.line,t,"after")};t>=0&&t<o.length;t+=e){var r=o[t],a=e>0==(1!=r.level),c=a?n.begin:l(n.end,-1);if(r.from<=c&&c<r.to)return s(c,a);if(c=a?r.from:l(r.to,-1),n.begin<=c&&c<n.end)return s(c,a)}},g=_(s+n,n,u);if(g)return g;var f=n>0?u.end:l(u.begin,-1);return null==f||n>0&&f==e.text.length||(g=_(n>0?0:o.length-1,n,c(f)),!g)?null:g}Pr.basic={Left:"goCharLeft",Right:"goCharRight",Up:"goLineUp",Down:"goLineDown",End:"goLineEnd",Home:"goLineStartSmart",PageUp:"goPageUp",PageDown:"goPageDown",Delete:"delCharAfter",Backspace:"delCharBefore","Shift-Backspace":"delCharBefore",Tab:"defaultTab","Shift-Tab":"indentAuto",Enter:"newlineAndIndent",Insert:"toggleOverwrite",Esc:"singleSelection"},Pr.pcDefault={"Ctrl-A":"selectAll","Ctrl-D":"deleteLine","Ctrl-Z":"undo","Shift-Ctrl-Z":"redo","Ctrl-Y":"redo","Ctrl-Home":"goDocStart","Ctrl-End":"goDocEnd","Ctrl-Up":"goLineUp","Ctrl-Down":"goLineDown","Ctrl-Left":"goGroupLeft","Ctrl-Right":"goGroupRight","Alt-Left":"goLineStart","Alt-Right":"goLineEnd","Ctrl-Backspace":"delGroupBefore","Ctrl-Delete":"delGroupAfter","Ctrl-S":"save","Ctrl-F":"find","Ctrl-G":"findNext","Shift-Ctrl-G":"findPrev","Shift-Ctrl-F":"replace","Shift-Ctrl-R":"replaceAll","Ctrl-[":"indentLess","Ctrl-]":"indentMore","Ctrl-U":"undoSelection","Shift-Ctrl-U":"redoSelection","Alt-U":"redoSelection",fallthrough:"basic"},Pr.emacsy={"Ctrl-F":"goCharRight","Ctrl-B":"goCharLeft","Ctrl-P":"goLineUp","Ctrl-N":"goLineDown","Alt-F":"goWordRight","Alt-B":"goWordLeft","Ctrl-A":"goLineStart","Ctrl-E":"goLineEnd","Ctrl-V":"goPageDown","Shift-Ctrl-V":"goPageUp","Ctrl-D":"delCharAfter","Ctrl-H":"delCharBefore","Alt-D":"delWordAfter","Alt-Backspace":"delWordBefore","Ctrl-K":"killLine","Ctrl-T":"transposeChars","Ctrl-O":"openLine"},Pr.macDefault={"Cmd-A":"selectAll","Cmd-D":"deleteLine","Cmd-Z":"undo","Shift-Cmd-Z":"redo","Cmd-Y":"redo","Cmd-Home":"goDocStart","Cmd-Up":"goDocStart","Cmd-End":"goDocEnd","Cmd-Down":"goDocEnd","Alt-Left":"goGroupLeft","Alt-Right":"goGroupRight","Cmd-Left":"goLineLeft","Cmd-Right":"goLineRight","Alt-Backspace":"delGroupBefore","Ctrl-Alt-Backspace":"delGroupAfter","Alt-Delete":"delGroupAfter","Cmd-S":"save","Cmd-F":"find","Cmd-G":"findNext","Shift-Cmd-G":"findPrev","Cmd-Alt-F":"replace","Shift-Cmd-Alt-F":"replaceAll","Cmd-[":"indentLess","Cmd-]":"indentMore","Cmd-Backspace":"delWrappedLineLeft","Cmd-Delete":"delWrappedLineRight","Cmd-U":"undoSelection","Shift-Cmd-U":"redoSelection","Ctrl-Up":"goDocStart","Ctrl-Down":"goDocEnd",fallthrough:["basic","emacsy"]},Pr["default"]=v?Pr.macDefault:Pr.pcDefault;var Kr={selectAll:js,singleSelection:function(t){return t.setSelection(t.getCursor("anchor"),t.getCursor("head"),$)},killLine:function(t){return qr(t,(function(e){if(e.empty()){var i=Kt(t.doc,e.head.line).text.length;return e.head.ch==i&&e.head.line<t.lastLine()?{from:e.head,to:oe(e.head.line+1,0)}:{from:e.head,to:oe(e.head.line,i)}}return{from:e.from(),to:e.to()}}))},deleteLine:function(t){return qr(t,(function(e){return{from:oe(e.from().line,0),to:he(t.doc,oe(e.to().line+1,0))}}))},delLineLeft:function(t){return qr(t,(function(t){return{from:oe(t.from().line,0),to:t.from()}}))},delWrappedLineLeft:function(t){return qr(t,(function(e){var i=t.charCoords(e.head,"div").top+5,n=t.coordsChar({left:0,top:i},"div");return{from:n,to:e.from()}}))},delWrappedLineRight:function(t){return qr(t,(function(e){var i=t.charCoords(e.head,"div").top+5,n=t.coordsChar({left:t.display.lineDiv.offsetWidth+100,top:i},"div");return{from:e.from(),to:n}}))},undo:function(t){return t.undo()},redo:function(t){return t.redo()},undoSelection:function(t){return t.undoSelection()},redoSelection:function(t){return t.redoSelection()},goDocStart:function(t){return t.extendSelection(oe(t.firstLine(),0))},goDocEnd:function(t){return t.extendSelection(oe(t.lastLine()))},goLineStart:function(t){return t.extendSelectionsBy((function(e){return Jr(t,e.head.line)}),{origin:"+move",bias:1})},goLineStartSmart:function(t){return t.extendSelectionsBy((function(e){return Zr(t,e.head)}),{origin:"+move",bias:1})},goLineEnd:function(t){return t.extendSelectionsBy((function(e){return Qr(t,e.head.line)}),{origin:"+move",bias:-1})},goLineRight:function(t){return t.extendSelectionsBy((function(e){var i=t.cursorCoords(e.head,"div").top+5;return t.coordsChar({left:t.display.lineDiv.offsetWidth+100,top:i},"div")}),q)},goLineLeft:function(t){return t.extendSelectionsBy((function(e){var i=t.cursorCoords(e.head,"div").top+5;return t.coordsChar({left:0,top:i},"div")}),q)},goLineLeftSmart:function(t){return t.extendSelectionsBy((function(e){var i=t.cursorCoords(e.head,"div").top+5,n=t.coordsChar({left:0,top:i},"div");return n.ch<t.getLine(n.line).search(/\S/)?Zr(t,e.head):n}),q)},goLineUp:function(t){return t.moveV(-1,"line")},goLineDown:function(t){return t.moveV(1,"line")},goPageUp:function(t){return t.moveV(-1,"page")},goPageDown:function(t){return t.moveV(1,"page")},goCharLeft:function(t){return t.moveH(-1,"char")},goCharRight:function(t){return t.moveH(1,"char")},goColumnLeft:function(t){return t.moveH(-1,"column")},goColumnRight:function(t){return t.moveH(1,"column")},goWordLeft:function(t){return t.moveH(-1,"word")},goGroupRight:function(t){return t.moveH(1,"group")},goGroupLeft:function(t){return t.moveH(-1,"group")},goWordRight:function(t){return t.moveH(1,"word")},delCharBefore:function(t){return t.deleteH(-1,"char")},delCharAfter:function(t){return t.deleteH(1,"char")},delWordBefore:function(t){return t.deleteH(-1,"word")},delWordAfter:function(t){return t.deleteH(1,"word")},delGroupBefore:function(t){return t.deleteH(-1,"group")},delGroupAfter:function(t){return t.deleteH(1,"group")},indentAuto:function(t){return t.indentSelection("smart")},indentMore:function(t){return t.indentSelection("add")},indentLess:function(t){return t.indentSelection("subtract")},insertTab:function(t){return t.replaceSelection("\t")},insertSoftTab:function(t){for(var e=[],i=t.listSelections(),n=t.options.tabSize,o=0;o<i.length;o++){var s=i[o].from(),r=F(t.getLine(s.line),s.ch,n);e.push(Y(n-r%n))}t.replaceSelections(e)},defaultTab:function(t){t.somethingSelected()?t.indentSelection("add"):t.execCommand("insertTab")},transposeChars:function(t){return Ao(t,(function(){for(var e=t.listSelections(),i=[],n=0;n<e.length;n++)if(e[n].empty()){var o=e[n].head,s=Kt(t.doc,o.line).text;if(s)if(o.ch==s.length&&(o=new oe(o.line,o.ch-1)),o.ch>0)o=new oe(o.line,o.ch+1),t.replaceRange(s.charAt(o.ch-1)+s.charAt(o.ch-2),oe(o.line,o.ch-2),o,"+transpose");else if(o.line>t.doc.first){var r=Kt(t.doc,o.line-1).text;r&&(o=new oe(o.line,1),t.replaceRange(s.charAt(0)+t.doc.lineSeparator()+r.charAt(r.length-1),oe(o.line-1,r.length-1),o,"+transpose"))}i.push(new ss(o,o))}t.setSelections(i)}))},newlineAndIndent:function(t){return Ao(t,(function(){for(var e=t.listSelections(),i=e.length-1;i>=0;i--)t.replaceRange(t.doc.lineSeparator(),e[i].anchor,e[i].head,"+input");e=t.listSelections();for(var n=0;n<e.length;n++)t.indentLine(e[n].from().line,null,!0);ro(t)}))},openLine:function(t){return t.replaceSelection("\n","start")},toggleOverwrite:function(t){return t.toggleOverwrite()}};function Jr(t,e){var i=Kt(t.doc,e),n=Je(i);return n!=i&&(e=te(n)),Yr(!0,t,n,e,1)}function Qr(t,e){var i=Kt(t.doc,e),n=Qe(i);return n!=i&&(e=te(n)),Yr(!0,t,i,e,-1)}function Zr(t,e){var i=Jr(t,e.line),n=Kt(t.doc,i.line),o=dt(n,t.doc.direction);if(!o||0==o[0].level){var s=Math.max(0,n.text.search(/\S/)),r=e.line==i.line&&e.ch<=s&&e.ch;return oe(i.line,r?0:s,i.sticky)}return i}function ta(t,e,i){if("string"==typeof e&&(e=Kr[e],!e))return!1;t.display.input.ensurePolled();var n=t.display.shift,o=!1;try{t.isReadOnly()&&(t.state.suppressEdits=!0),i&&(t.display.shift=!1),o=e(t)!=W}finally{t.display.shift=n,t.state.suppressEdits=!1}return o}function ea(t,e,i){for(var n=0;n<t.state.keyMaps.length;n++){var o=Vr(e,t.state.keyMaps[n],i,t);if(o)return o}return t.options.extraKeys&&Vr(e,t.options.extraKeys,i,t)||Vr(e,t.options.keyMap,i,t)}var ia=new H;function na(t,e,i,n){var o=t.state.keySeq;if(o){if(Ur(e))return"handled";if(/\'$/.test(e)?t.state.keySeq=null:ia.set(50,(function(){t.state.keySeq==o&&(t.state.keySeq=null,t.display.input.reset())})),oa(t,o+" "+e,i,n))return!0}return oa(t,e,i,n)}function oa(t,e,i,n){var o=ea(t,e,n);return"multi"==o&&(t.state.keySeq=e),"handled"==o&&Ri(t,"keyHandled",t,e,i),"handled"!=o&&"multi"!=o||(Et(i),Xn(t)),!!o}function sa(t,e){var i=$r(e,!0);return!!i&&(e.shiftKey&&!t.state.keySeq?na(t,"Shift-"+i,e,(function(e){return ta(t,e,!0)}))||na(t,i,e,(function(e){if("string"==typeof e?/^go[A-Z]/.test(e):e.motion)return ta(t,e)})):na(t,i,e,(function(e){return ta(t,e)})))}function ra(t,e,i){return na(t,"'"+i+"'",e,(function(e){return ta(t,e,!0)}))}var aa=null;function la(t){var e=this;if(e.curOp.focus=M(),!vt(e,t)){r&&a<11&&27==t.keyCode&&(t.returnValue=!1);var i=t.keyCode;e.display.shift=16==i||t.shiftKey;var n=sa(e,t);h&&(aa=n?i:null,!n&&88==i&&!Dt&&(v?t.metaKey:t.ctrlKey)&&e.replaceSelection("",null,"cut")),18!=i||/\bCodeMirror-crosshair\b/.test(e.display.lineDiv.className)||ca(e)}}function ca(t){var e=t.display.lineDiv;function i(t){18!=t.keyCode&&t.altKey||(w(e,"CodeMirror-crosshair"),ft(document,"keyup",i),ft(document,"mouseover",i))}N(e,"CodeMirror-crosshair"),_t(document,"keyup",i),_t(document,"mouseover",i)}function ua(t){16==t.keyCode&&(this.doc.sel.shift=!1),vt(this,t)}function ha(t){var e=this;if(!(Wi(e.display,t)||vt(e,t)||t.ctrlKey&&!t.altKey||v&&t.metaKey)){var i=t.keyCode,n=t.charCode;if(h&&i==aa)return aa=null,void Et(t);if(!h||t.which&&!(t.which<10)||!sa(e,t)){var o=String.fromCharCode(null==n?i:n);"\b"!=o&&(ra(e,t,o)||e.display.input.onKeyPress(t))}}}var da,pa,_a=400,ga=function(t,e,i){this.time=t,this.pos=e,this.button=i};function fa(t,e){var i=+new Date;return pa&&pa.compare(i,t,e)?(da=pa=null,"triple"):da&&da.compare(i,t,e)?(pa=new ga(i,t,e),da=null,"double"):(da=new ga(i,t,e),pa=null,"single")}function ma(t){var e=this,i=e.display;if(!(vt(e,t)||i.activeTouch&&i.input.supportsTouch()))if(i.input.ensurePolled(),i.shift=t.shiftKey,Wi(i,t))l||(i.scroller.draggable=!1,setTimeout((function(){return i.scroller.draggable=!0}),100));else if(!wa(e,t)){var n=Ln(e,t),o=Rt(t),s=n?fa(n,o):"single";window.focus(),1==o&&e.state.selectingText&&e.state.selectingText(t),n&&va(e,o,n,s,t)||(1==o?n?ya(e,n,s,t):wt(t)==i.scroller&&Et(t):2==o?(n&&Ds(e.doc,n),setTimeout((function(){return i.input.focus()}),20)):3==o&&(S?e.display.input.onContextMenu(t):jn(e)))}}function va(t,e,i,n,o){var s="Click";return"double"==n?s="Double"+s:"triple"==n&&(s="Triple"+s),s=(1==e?"Left":2==e?"Middle":"Right")+s,na(t,Wr(s,o),o,(function(e){if("string"==typeof e&&(e=Kr[e]),!e)return!1;var n=!1;try{t.isReadOnly()&&(t.state.suppressEdits=!0),n=e(t,i)!=W}finally{t.state.suppressEdits=!1}return n}))}function ba(t,e,i){var n=t.getOption("configureMouse"),o=n?n(t,e,i):{};if(null==o.unit){var s=b?i.shiftKey&&i.metaKey:i.altKey;o.unit=s?"rectangle":"single"==e?"char":"double"==e?"word":"line"}return(null==o.extend||t.doc.extend)&&(o.extend=t.doc.extend||i.shiftKey),null==o.addNew&&(o.addNew=v?i.metaKey:i.ctrlKey),null==o.moveOnDrag&&(o.moveOnDrag=!(v?i.altKey:i.ctrlKey)),o}function ya(t,e,i,n){r?setTimeout(B(Yn,t),0):t.curOp.focus=M();var o,s=ba(t,i,n),a=t.doc.sel;t.options.dragDrop&&Ot&&!t.isReadOnly()&&"single"==i&&(o=a.contains(e))>-1&&(se((o=a.ranges[o]).from(),e)<0||e.xRel>0)&&(se(o.to(),e)>0||e.xRel<0)?Ta(t,n,e,s):Sa(t,n,e,s)}function Ta(t,e,i,n){var o=t.display,s=!1,c=Mo(t,(function(e){l&&(o.scroller.draggable=!1),t.state.draggingText=!1,ft(o.wrapper.ownerDocument,"mouseup",c),ft(o.wrapper.ownerDocument,"mousemove",u),ft(o.scroller,"dragstart",h),ft(o.scroller,"drop",c),s||(Et(e),n.addNew||Ds(t.doc,i,null,null,n.extend),l||r&&9==a?setTimeout((function(){o.wrapper.ownerDocument.body.focus(),o.input.focus()}),20):o.input.focus())})),u=function(t){s=s||Math.abs(e.clientX-t.clientX)+Math.abs(e.clientY-t.clientY)>=10},h=function(){return s=!0};l&&(o.scroller.draggable=!0),t.state.draggingText=c,c.copy=!n.moveOnDrag,o.scroller.dragDrop&&o.scroller.dragDrop(),_t(o.wrapper.ownerDocument,"mouseup",c),_t(o.wrapper.ownerDocument,"mousemove",u),_t(o.scroller,"dragstart",h),_t(o.scroller,"drop",c),jn(t),setTimeout((function(){return o.input.focus()}),20)}function Ea(t,e,i){if("char"==i)return new ss(e,e);if("word"==i)return t.findWordAt(e);if("line"==i)return new ss(oe(e.line,0),he(t.doc,oe(e.line+1,0)));var n=i(t,e);return new ss(n.from,n.to)}function Sa(t,e,i,n){var o=t.display,s=t.doc;Et(e);var r,a,l=s.sel,c=l.ranges;if(n.addNew&&!n.extend?(a=s.sel.contains(i),r=a>-1?c[a]:new ss(i,i)):(r=s.sel.primary(),a=s.sel.primIndex),"rectangle"==n.unit)n.addNew||(r=new ss(i,i)),i=Ln(t,e,!0,!0),a=-1;else{var u=Ea(t,i,n.unit);r=n.extend?Ls(r,u.anchor,u.head,n.extend):u}n.addNew?-1==a?(a=c.length,Us(s,rs(t,c.concat([r]),a),{scroll:!1,origin:"*mouse"})):c.length>1&&c[a].empty()&&"char"==n.unit&&!n.extend?(Us(s,rs(t,c.slice(0,a).concat(c.slice(a+1)),0),{scroll:!1,origin:"*mouse"}),l=s.sel):Ps(s,a,r,G):(a=0,Us(s,new os([r],0),G),l=s.sel);var h=i;function d(e){if(0!=se(h,e))if(h=e,"rectangle"==n.unit){for(var o=[],c=t.options.tabSize,u=F(Kt(s,i.line).text,i.ch,c),d=F(Kt(s,e.line).text,e.ch,c),p=Math.min(u,d),_=Math.max(u,d),g=Math.min(i.line,e.line),f=Math.min(t.lastLine(),Math.max(i.line,e.line));g<=f;g++){var m=Kt(s,g).text,v=z(m,p,c);p==_?o.push(new ss(oe(g,v),oe(g,v))):m.length>v&&o.push(new ss(oe(g,v),oe(g,z(m,_,c))))}o.length||o.push(new ss(i,i)),Us(s,rs(t,l.ranges.slice(0,a).concat(o),a),{origin:"*mouse",scroll:!1}),t.scrollIntoView(e)}else{var b,y=r,T=Ea(t,e,n.unit),E=y.anchor;se(T.anchor,E)>0?(b=T.head,E=ce(y.from(),T.anchor)):(b=T.anchor,E=le(y.to(),T.head));var S=l.ranges.slice(0);S[a]=Ca(t,new ss(he(s,E),b)),Us(s,rs(t,S,a),G)}}var p=o.wrapper.getBoundingClientRect(),_=0;function g(e){var i=++_,r=Ln(t,e,!0,"rectangle"==n.unit);if(r)if(0!=se(r,h)){t.curOp.focus=M(),d(r);var a=to(o,s);(r.line>=a.to||r.line<a.from)&&setTimeout(Mo(t,(function(){_==i&&g(e)})),150)}else{var l=e.clientY<p.top?-20:e.clientY>p.bottom?20:0;l&&setTimeout(Mo(t,(function(){_==i&&(o.scroller.scrollTop+=l,g(e))})),50)}}function f(e){t.state.selectingText=!1,_=1/0,e&&(Et(e),o.input.focus()),ft(o.wrapper.ownerDocument,"mousemove",m),ft(o.wrapper.ownerDocument,"mouseup",v),s.history.lastSelOrigin=null}var m=Mo(t,(function(t){0!==t.buttons&&Rt(t)?g(t):f(t)})),v=Mo(t,f);t.state.selectingText=v,_t(o.wrapper.ownerDocument,"mousemove",m),_t(o.wrapper.ownerDocument,"mouseup",v)}function Ca(t,e){var i=e.anchor,n=e.head,o=Kt(t.doc,i.line);if(0==se(i,n)&&i.sticky==n.sticky)return e;var s=dt(o);if(!s)return e;var r=ut(s,i.ch,i.sticky),a=s[r];if(a.from!=i.ch&&a.to!=i.ch)return e;var l,c=r+(a.from==i.ch==(1!=a.level)?0:1);if(0==c||c==s.length)return e;if(n.line!=i.line)l=(n.line-i.line)*("ltr"==t.doc.direction?1:-1)>0;else{var u=ut(s,n.ch,n.sticky),h=u-r||(n.ch-i.ch)*(1==a.level?-1:1);l=u==c-1||u==c?h<0:h>0}var d=s[c+(l?-1:0)],p=l==(1==d.level),_=p?d.from:d.to,g=p?"after":"before";return i.ch==_&&i.sticky==g?e:new ss(new oe(i.line,_,g),n)}function ka(t,e,i,n){var o,s;if(e.touches)o=e.touches[0].clientX,s=e.touches[0].clientY;else try{o=e.clientX,s=e.clientY}catch(e){return!1}if(o>=Math.floor(t.display.gutters.getBoundingClientRect().right))return!1;n&&Et(e);var r=t.display,a=r.lineDiv.getBoundingClientRect();if(s>a.bottom||!yt(t,i))return Ct(e);s-=a.top-r.viewOffset;for(var l=0;l<t.display.gutterSpecs.length;++l){var c=r.gutters.childNodes[l];if(c&&c.getBoundingClientRect().right>=o){var u=ee(t.doc,s),h=t.display.gutterSpecs[l];return mt(t,i,t,u,h.className,e),Ct(e)}}}function wa(t,e){return ka(t,e,"gutterClick",!0)}function Ra(t,e){Wi(t.display,e)||Ia(t,e)||vt(t,e,"contextmenu")||S||t.display.input.onContextMenu(e)}function Ia(t,e){return!!yt(t,"gutterContextMenu")&&ka(t,e,"gutterContextMenu",!1)}function xa(t){t.display.wrapper.className=t.display.wrapper.className.replace(/\s*cm-s-\S+/g,"")+t.options.theme.replace(/(^|\s)\s*/g," cm-s-"),hn(t)}ga.prototype.compare=function(t,e,i){return this.time+_a>t&&0==se(e,this.pos)&&i==this.button};var Oa={toString:function(){return"CodeMirror.Init"}},Aa={},Ma={};function Na(t){var e=t.optionHandlers;function i(i,n,o,s){t.defaults[i]=n,o&&(e[i]=s?function(t,e,i){i!=Oa&&o(t,e,i)}:o)}t.defineOption=i,t.Init=Oa,i("value","",(function(t,e){return t.setValue(e)}),!0),i("mode",null,(function(t,e){t.doc.modeOption=e,ps(t)}),!0),i("indentUnit",2,ps,!0),i("indentWithTabs",!1),i("smartIndent",!0),i("tabSize",4,(function(t){_s(t),hn(t),Bn(t)}),!0),i("lineSeparator",null,(function(t,e){if(t.doc.lineSep=e,e){var i=[],n=t.doc.first;t.doc.iter((function(t){for(var o=0;;){var s=t.text.indexOf(e,o);if(-1==s)break;o=s+e.length,i.push(oe(n,s))}n++}));for(var o=i.length-1;o>=0;o--)nr(t.doc,e,i[o],oe(i[o].line,i[o].ch+e.length))}})),i("specialChars",/[\u0000-\u001f\u007f-\u009f\u00ad\u061c\u200b-\u200f\u2028\u2029\ufeff\ufff9-\ufffc]/g,(function(t,e,i){t.state.specialChars=new RegExp(e.source+(e.test("\t")?"":"|\t"),"g"),i!=Oa&&t.refresh()})),i("specialCharPlaceholder",_i,(function(t){return t.refresh()}),!0),i("electricChars",!0),i("inputStyle",m?"contenteditable":"textarea",(function(){throw new Error("inputStyle can not (yet) be changed in a running editor")}),!0),i("spellcheck",!1,(function(t,e){return t.getInputField().spellcheck=e}),!0),i("autocorrect",!1,(function(t,e){return t.getInputField().autocorrect=e}),!0),i("autocapitalize",!1,(function(t,e){return t.getInputField().autocapitalize=e}),!0),i("rtlMoveVisually",!y),i("wholeLineUpdateBefore",!0),i("theme","default",(function(t){xa(t),Jo(t)}),!0),i("keyMap","default",(function(t,e,i){var n=Gr(e),o=i!=Oa&&Gr(i);o&&o.detach&&o.detach(t,n),n.attach&&n.attach(t,o||null)})),i("extraKeys",null),i("configureMouse",null),i("lineWrapping",!1,Da,!0),i("gutters",[],(function(t,e){t.display.gutterSpecs=jo(e,t.options.lineNumbers),Jo(t)}),!0),i("fixedGutter",!0,(function(t,e){t.display.gutters.style.left=e?An(t.display)+"px":"0",t.refresh()}),!0),i("coverGutterNextToScrollbar",!1,(function(t){return vo(t)}),!0),i("scrollbarStyle","native",(function(t){To(t),vo(t),t.display.scrollbars.setScrollTop(t.doc.scrollTop),t.display.scrollbars.setScrollLeft(t.doc.scrollLeft)}),!0),i("lineNumbers",!1,(function(t,e){t.display.gutterSpecs=jo(t.options.gutters,e),Jo(t)}),!0),i("firstLineNumber",1,Jo,!0),i("lineNumberFormatter",(function(t){return t}),Jo,!0),i("showCursorWhenSelecting",!1,Wn,!0),i("resetSelectionOnContextMenu",!0),i("lineWiseCopyCut",!0),i("pasteLinesPerSelection",!0),i("selectionsMayTouch",!1),i("readOnly",!1,(function(t,e){"nocursor"==e&&(Jn(t),t.display.input.blur()),t.display.input.readOnlyChanged(e)})),i("disableInput",!1,(function(t,e){e||t.display.input.reset()}),!0),i("dragDrop",!0,La),i("allowDropFileTypes",null),i("cursorBlinkRate",530),i("cursorScrollMargin",0),i("cursorHeight",1,Wn,!0),i("singleCursorHeightPerLine",!0,Wn,!0),i("workTime",100),i("workDelay",100),i("flattenSpans",!0,_s,!0),i("addModeClass",!1,_s,!0),i("pollInterval",100),i("undoDepth",200,(function(t,e){return t.doc.history.undoDepth=e})),i("historyEventDelay",1250),i("viewportMargin",10,(function(t){return t.refresh()}),!0),i("maxHighlightLength",1e4,_s,!0),i("moveInputWithCursor",!0,(function(t,e){e||t.display.input.resetPosition()})),i("tabindex",null,(function(t,e){return t.display.input.getField().tabIndex=e||""})),i("autofocus",null),i("direction","ltr",(function(t,e){return t.doc.setDirection(e)}),!0),i("phrases",null)}function La(t,e,i){var n=i&&i!=Oa;if(!e!=!n){var o=t.display.dragFunctions,s=e?_t:ft;s(t.display.scroller,"dragstart",o.start),s(t.display.scroller,"dragenter",o.enter),s(t.display.scroller,"dragover",o.over),s(t.display.scroller,"dragleave",o.leave),s(t.display.scroller,"drop",o.drop)}}function Da(t){t.options.lineWrapping?(N(t.display.wrapper,"CodeMirror-wrap"),t.display.sizer.style.minWidth="",t.display.sizerWidth=null):(w(t.display.wrapper,"CodeMirror-wrap"),ri(t)),Nn(t),Bn(t),hn(t),setTimeout((function(){return vo(t)}),100)}function Ba(t,e){var i=this;if(!(this instanceof Ba))return new Ba(t,e);this.options=e=e?P(e):{},P(Aa,e,!1);var n=e.value;"string"==typeof n?n=new Er(n,e.mode,null,e.lineSeparator,e.direction):e.mode&&(n.modeOption=e.mode),this.doc=n;var o=new Ba.inputStyles[e.inputStyle](this),s=this.display=new Qo(t,n,o,e);for(var c in s.wrapper.CodeMirror=this,xa(this),e.lineWrapping&&(this.display.wrapper.className+=" CodeMirror-wrap"),To(this),this.state={keyMaps:[],overlays:[],modeGen:0,overwrite:!1,delayingBlurEvent:!1,focused:!1,suppressEdits:!1,pasteIncoming:-1,cutIncoming:-1,selectingText:!1,draggingText:!1,highlight:new H,keySeq:null,specialChars:null},e.autofocus&&!m&&s.input.focus(),r&&a<11&&setTimeout((function(){return i.display.input.reset(!0)}),20),Pa(this),Or(),So(this),this.curOp.forceUpdate=!0,vs(this,n),e.autofocus&&!m||this.hasFocus()?setTimeout(B(Kn,this),20):Jn(this),Ma)Ma.hasOwnProperty(c)&&Ma[c](i,e[c],Oa);Yo(this),e.finishInit&&e.finishInit(this);for(var u=0;u<Fa.length;++u)Fa[u](i);Co(this),l&&e.lineWrapping&&"optimizelegibility"==getComputedStyle(s.lineDiv).textRendering&&(s.lineDiv.style.textRendering="auto")}function Pa(t){var e=t.display;_t(e.scroller,"mousedown",Mo(t,ma)),_t(e.scroller,"dblclick",r&&a<11?Mo(t,(function(e){if(!vt(t,e)){var i=Ln(t,e);if(i&&!wa(t,e)&&!Wi(t.display,e)){Et(e);var n=t.findWordAt(i);Ds(t.doc,n.anchor,n.head)}}})):function(e){return vt(t,e)||Et(e)}),_t(e.scroller,"contextmenu",(function(e){return Ra(t,e)}));var i,n={end:0};function o(){e.activeTouch&&(i=setTimeout((function(){return e.activeTouch=null}),1e3),n=e.activeTouch,n.end=+new Date)}function s(t){if(1!=t.touches.length)return!1;var e=t.touches[0];return e.radiusX<=1&&e.radiusY<=1}function l(t,e){if(null==e.left)return!0;var i=e.left-t.left,n=e.top-t.top;return i*i+n*n>400}_t(e.scroller,"touchstart",(function(o){if(!vt(t,o)&&!s(o)&&!wa(t,o)){e.input.ensurePolled(),clearTimeout(i);var r=+new Date;e.activeTouch={start:r,moved:!1,prev:r-n.end<=300?n:null},1==o.touches.length&&(e.activeTouch.left=o.touches[0].pageX,e.activeTouch.top=o.touches[0].pageY)}})),_t(e.scroller,"touchmove",(function(){e.activeTouch&&(e.activeTouch.moved=!0)})),_t(e.scroller,"touchend",(function(i){var n=e.activeTouch;if(n&&!Wi(e,i)&&null!=n.left&&!n.moved&&new Date-n.start<300){var s,r=t.coordsChar(e.activeTouch,"page");s=!n.prev||l(n,n.prev)?new ss(r,r):!n.prev.prev||l(n,n.prev.prev)?t.findWordAt(r):new ss(oe(r.line,0),he(t.doc,oe(r.line+1,0))),t.setSelection(s.anchor,s.head),t.focus(),Et(i)}o()})),_t(e.scroller,"touchcancel",o),_t(e.scroller,"scroll",(function(){e.scroller.clientHeight&&(ho(t,e.scroller.scrollTop),_o(t,e.scroller.scrollLeft,!0),mt(t,"scroll",t))})),_t(e.scroller,"mousewheel",(function(e){return ns(t,e)})),_t(e.scroller,"DOMMouseScroll",(function(e){return ns(t,e)})),_t(e.wrapper,"scroll",(function(){return e.wrapper.scrollTop=e.wrapper.scrollLeft=0})),e.dragFunctions={enter:function(e){vt(t,e)||kt(e)},over:function(e){vt(t,e)||(wr(t,e),kt(e))},start:function(e){return kr(t,e)},drop:Mo(t,Cr),leave:function(e){vt(t,e)||Rr(t)}};var c=e.input.getField();_t(c,"keyup",(function(e){return ua.call(t,e)})),_t(c,"keydown",Mo(t,la)),_t(c,"keypress",Mo(t,ha)),_t(c,"focus",(function(e){return Kn(t,e)})),_t(c,"blur",(function(e){return Jn(t,e)}))}Ba.defaults=Aa,Ba.optionHandlers=Ma;var Fa=[];function Ha(t,e,i,n){var o,s=t.doc;null==i&&(i="add"),"smart"==i&&(s.mode.indent?o=ve(t,e).state:i="prev");var r=t.options.tabSize,a=Kt(s,e),l=F(a.text,null,r);a.stateAfter&&(a.stateAfter=null);var c,u=a.text.match(/^\s*/)[0];if(n||/\S/.test(a.text)){if("smart"==i&&(c=s.mode.indent(o,a.text.slice(u.length),a.text),c==W||c>150)){if(!n)return;i="prev"}}else c=0,i="not";"prev"==i?c=e>s.first?F(Kt(s,e-1).text,null,r):0:"add"==i?c=l+t.options.indentUnit:"subtract"==i?c=l-t.options.indentUnit:"number"==typeof i&&(c=l+i),c=Math.max(0,c);var h="",d=0;if(t.options.indentWithTabs)for(var p=Math.floor(c/r);p;--p)d+=r,h+="\t";if(d<c&&(h+=Y(c-d)),h!=u)return nr(s,h,oe(e,0),oe(e,u.length),"+input"),a.stateAfter=null,!0;for(var _=0;_<s.sel.ranges.length;_++){var g=s.sel.ranges[_];if(g.head.line==e&&g.head.ch<u.length){var f=oe(e,u.length);Ps(s,_,new ss(f,f));break}}}Ba.defineInitHook=function(t){return Fa.push(t)};var Va=null;function Ua(t){Va=t}function Wa(t,e,i,n,o){var s=t.doc;t.display.shift=!1,n||(n=s.sel);var r=+new Date-200,a="paste"==o||t.state.pasteIncoming>r,l=Nt(e),c=null;if(a&&n.ranges.length>1)if(Va&&Va.text.join("\n")==e){if(n.ranges.length%Va.text.length==0){c=[];for(var u=0;u<Va.text.length;u++)c.push(s.splitLines(Va.text[u]))}}else l.length==n.ranges.length&&t.options.pasteLinesPerSelection&&(c=K(l,(function(t){return[t]})));for(var h=t.curOp.updateInput,d=n.ranges.length-1;d>=0;d--){var p=n.ranges[d],_=p.from(),g=p.to();p.empty()&&(i&&i>0?_=oe(_.line,_.ch-i):t.state.overwrite&&!a?g=oe(g.line,Math.min(Kt(s,g.line).text.length,g.ch+j(l).length)):a&&Va&&Va.lineWise&&Va.text.join("\n")==e&&(_=g=oe(_.line,0)));var f={from:_,to:g,text:c?c[d%c.length]:l,origin:o||(a?"paste":t.state.cutIncoming>r?"cut":"+input")};Js(t.doc,f),Ri(t,"inputRead",t,f)}e&&!a&&Ga(t,e),ro(t),t.curOp.updateInput<2&&(t.curOp.updateInput=h),t.curOp.typing=!0,t.state.pasteIncoming=t.state.cutIncoming=-1}function $a(t,e){var i=t.clipboardData&&t.clipboardData.getData("Text");if(i)return t.preventDefault(),e.isReadOnly()||e.options.disableInput||Ao(e,(function(){return Wa(e,i,0,null,"paste")})),!0}function Ga(t,e){if(t.options.electricChars&&t.options.smartIndent)for(var i=t.doc.sel,n=i.ranges.length-1;n>=0;n--){var o=i.ranges[n];if(!(o.head.ch>100||n&&i.ranges[n-1].head.line==o.head.line)){var s=t.getModeAt(o.head),r=!1;if(s.electricChars){for(var a=0;a<s.electricChars.length;a++)if(e.indexOf(s.electricChars.charAt(a))>-1){r=Ha(t,o.head.line,"smart");break}}else s.electricInput&&s.electricInput.test(Kt(t.doc,o.head.line).text.slice(0,o.head.ch))&&(r=Ha(t,o.head.line,"smart"));r&&Ri(t,"electricInput",t,o.head.line)}}}function qa(t){for(var e=[],i=[],n=0;n<t.doc.sel.ranges.length;n++){var o=t.doc.sel.ranges[n].head.line,s={anchor:oe(o,0),head:oe(o+1,0)};i.push(s),e.push(t.getRange(s.anchor,s.head))}return{text:e,ranges:i}}function za(t,e,i,n){t.setAttribute("autocorrect",i?"":"off"),t.setAttribute("autocapitalize",n?"":"off"),t.setAttribute("spellcheck",!!e)}function Xa(){var t=x("textarea",null,null,"position: absolute; bottom: -1em; padding: 0; width: 1px; height: 1em; outline: none"),e=x("div",[t],null,"overflow: hidden; position: relative; width: 3px; height: 0px;");return l?t.style.width="1000px":t.setAttribute("wrap","off"),g&&(t.style.border="1px solid black"),za(t),e}function Ya(t){var e=t.optionHandlers,i=t.helpers={};t.prototype={constructor:t,focus:function(){window.focus(),this.display.input.focus()},setOption:function(t,i){var n=this.options,o=n[t];n[t]==i&&"mode"!=t||(n[t]=i,e.hasOwnProperty(t)&&Mo(this,e[t])(this,i,o),mt(this,"optionChange",this,t))},getOption:function(t){return this.options[t]},getDoc:function(){return this.doc},addKeyMap:function(t,e){this.state.keyMaps[e?"push":"unshift"](Gr(t))},removeKeyMap:function(t){for(var e=this.state.keyMaps,i=0;i<e.length;++i)if(e[i]==t||e[i].name==t)return e.splice(i,1),!0},addOverlay:No((function(e,i){var n=e.token?e:t.getMode(this.options,e);if(n.startState)throw new Error("Overlays may not be stateful.");J(this.state.overlays,{mode:n,modeSpec:e,opaque:i&&i.opaque,priority:i&&i.priority||0},(function(t){return t.priority})),this.state.modeGen++,Bn(this)})),removeOverlay:No((function(t){for(var e=this,i=this.state.overlays,n=0;n<i.length;++n){var o=i[n].modeSpec;if(o==t||"string"==typeof t&&o.name==t)return i.splice(n,1),e.state.modeGen++,void Bn(e)}})),indentLine:No((function(t,e,i){"string"!=typeof e&&"number"!=typeof e&&(e=null==e?this.options.smartIndent?"smart":"prev":e?"add":"subtract"),ie(this.doc,t)&&Ha(this,t,e,i)})),indentSelection:No((function(t){for(var e=this,i=this.doc.sel.ranges,n=-1,o=0;o<i.length;o++){var s=i[o];if(s.empty())s.head.line>n&&(Ha(e,s.head.line,t,!0),n=s.head.line,o==e.doc.sel.primIndex&&ro(e));else{var r=s.from(),a=s.to(),l=Math.max(n,r.line);n=Math.min(e.lastLine(),a.line-(a.ch?0:1))+1;for(var c=l;c<n;++c)Ha(e,c,t);var u=e.doc.sel.ranges;0==r.ch&&i.length==u.length&&u[o].from().ch>0&&Ps(e.doc,o,new ss(r,u[o].to()),$)}}})),getTokenAt:function(t,e){return Se(this,t,e)},getLineTokens:function(t,e){return Se(this,oe(t),e,!0)},getTokenTypeAt:function(t){t=he(this.doc,t);var e,i=me(this,Kt(this.doc,t.line)),n=0,o=(i.length-1)/2,s=t.ch;if(0==s)e=i[2];else for(;;){var r=n+o>>1;if((r?i[2*r-1]:0)>=s)o=r;else{if(!(i[2*r+1]<s)){e=i[2*r+2];break}n=r+1}}var a=e?e.indexOf("overlay "):-1;return a<0?e:0==a?null:e.slice(0,a-1)},getModeAt:function(e){var i=this.doc.mode;return i.innerMode?t.innerMode(i,this.getTokenAt(e).state).mode:i},getHelper:function(t,e){return this.getHelpers(t,e)[0]},getHelpers:function(t,e){var n=this,o=[];if(!i.hasOwnProperty(e))return o;var s=i[e],r=this.getModeAt(t);if("string"==typeof r[e])s[r[e]]&&o.push(s[r[e]]);else if(r[e])for(var a=0;a<r[e].length;a++){var l=s[r[e][a]];l&&o.push(l)}else r.helperType&&s[r.helperType]?o.push(s[r.helperType]):s[r.name]&&o.push(s[r.name]);for(var c=0;c<s._global.length;c++){var u=s._global[c];u.pred(r,n)&&-1==V(o,u.val)&&o.push(u.val)}return o},getStateAfter:function(t,e){var i=this.doc;return t=ue(i,null==t?i.first+i.size-1:t),ve(this,t+1,e).state},cursorCoords:function(t,e){var i,n=this.doc.sel.primary();return i=null==t?n.head:"object"==typeof t?he(this.doc,t):t?n.from():n.to(),vn(this,i,e||"page")},charCoords:function(t,e){return mn(this,he(this.doc,t),e||"page")},coordsChar:function(t,e){return t=fn(this,t,e||"page"),Tn(this,t.left,t.top)},lineAtHeight:function(t,e){return t=fn(this,{top:t,left:0},e||"page").top,ee(this.doc,t+this.display.viewOffset)},heightAtLine:function(t,e,i){var n,o=!1;if("number"==typeof t){var s=this.doc.first+this.doc.size-1;t<this.doc.first?t=this.doc.first:t>s&&(t=s,o=!0),n=Kt(this.doc,t)}else n=t;return gn(this,n,{top:0,left:0},e||"page",i||o).top+(o?this.doc.height-oi(n):0)},defaultTextHeight:function(){return In(this.display)},defaultCharWidth:function(){return xn(this.display)},getViewport:function(){return{from:this.display.viewFrom,to:this.display.viewTo}},addWidget:function(t,e,i,n,o){var s=this.display;t=vn(this,he(this.doc,t));var r=t.bottom,a=t.left;if(e.style.position="absolute",e.setAttribute("cm-ignore-events","true"),this.display.input.setUneditable(e),s.sizer.appendChild(e),"over"==n)r=t.top;else if("above"==n||"near"==n){var l=Math.max(s.wrapper.clientHeight,this.doc.height),c=Math.max(s.sizer.clientWidth,s.lineSpace.clientWidth);("above"==n||t.bottom+e.offsetHeight>l)&&t.top>e.offsetHeight?r=t.top-e.offsetHeight:t.bottom+e.offsetHeight<=l&&(r=t.bottom),a+e.offsetWidth>c&&(a=c-e.offsetWidth)}e.style.top=r+"px",e.style.left=e.style.right="","right"==o?(a=s.sizer.clientWidth-e.offsetWidth,e.style.right="0px"):("left"==o?a=0:"middle"==o&&(a=(s.sizer.clientWidth-e.offsetWidth)/2),e.style.left=a+"px"),i&&no(this,{left:a,top:r,right:a+e.offsetWidth,bottom:r+e.offsetHeight})},triggerOnKeyDown:No(la),triggerOnKeyPress:No(ha),triggerOnKeyUp:ua,triggerOnMouseDown:No(ma),execCommand:function(t){if(Kr.hasOwnProperty(t))return Kr[t].call(null,this)},triggerElectric:No((function(t){Ga(this,t)})),findPosH:function(t,e,i,n){var o=this,s=1;e<0&&(s=-1,e=-e);for(var r=he(this.doc,t),a=0;a<e;++a)if(r=ja(o.doc,r,s,i,n),r.hitSide)break;return r},moveH:No((function(t,e){var i=this;this.extendSelectionsBy((function(n){return i.display.shift||i.doc.extend||n.empty()?ja(i.doc,n.head,t,e,i.options.rtlMoveVisually):t<0?n.from():n.to()}),q)})),deleteH:No((function(t,e){var i=this.doc.sel,n=this.doc;i.somethingSelected()?n.replaceSelection("",null,"+delete"):qr(this,(function(i){var o=ja(n,i.head,t,e,!1);return t<0?{from:o,to:i.head}:{from:i.head,to:o}}))})),findPosV:function(t,e,i,n){var o=this,s=1,r=n;e<0&&(s=-1,e=-e);for(var a=he(this.doc,t),l=0;l<e;++l){var c=vn(o,a,"div");if(null==r?r=c.left:c.left=r,a=Ka(o,c,s,i),a.hitSide)break}return a},moveV:No((function(t,e){var i=this,n=this.doc,o=[],s=!this.display.shift&&!n.extend&&n.sel.somethingSelected();if(n.extendSelectionsBy((function(r){if(s)return t<0?r.from():r.to();var a=vn(i,r.head,"div");null!=r.goalColumn&&(a.left=r.goalColumn),o.push(a.left);var l=Ka(i,a,t,e);return"page"==e&&r==n.sel.primary()&&so(i,mn(i,l,"div").top-a.top),l}),q),o.length)for(var r=0;r<n.sel.ranges.length;r++)n.sel.ranges[r].goalColumn=o[r]})),findWordAt:function(t){var e=this.doc,i=Kt(e,t.line).text,n=t.ch,o=t.ch;if(i){var s=this.getHelper(t,"wordChars");"before"!=t.sticky&&o!=i.length||!n?++o:--n;var r=i.charAt(n),a=it(r,s)?function(t){return it(t,s)}:/\s/.test(r)?function(t){return/\s/.test(t)}:function(t){return!/\s/.test(t)&&!it(t)};while(n>0&&a(i.charAt(n-1)))--n;while(o<i.length&&a(i.charAt(o)))++o}return new ss(oe(t.line,n),oe(t.line,o))},toggleOverwrite:function(t){null!=t&&t==this.state.overwrite||((this.state.overwrite=!this.state.overwrite)?N(this.display.cursorDiv,"CodeMirror-overwrite"):w(this.display.cursorDiv,"CodeMirror-overwrite"),mt(this,"overwriteToggle",this,this.state.overwrite))},hasFocus:function(){return this.display.input.getField()==M()},isReadOnly:function(){return!(!this.options.readOnly&&!this.doc.cantEdit)},scrollTo:No((function(t,e){ao(this,t,e)})),getScrollInfo:function(){var t=this.display.scroller;return{left:t.scrollLeft,top:t.scrollTop,height:t.scrollHeight-zi(this)-this.display.barHeight,width:t.scrollWidth-zi(this)-this.display.barWidth,clientHeight:Yi(this),clientWidth:Xi(this)}},scrollIntoView:No((function(t,e){null==t?(t={from:this.doc.sel.primary().head,to:null},null==e&&(e=this.options.cursorScrollMargin)):"number"==typeof t?t={from:oe(t,0),to:null}:null==t.from&&(t={from:t,to:null}),t.to||(t.to=t.from),t.margin=e||0,null!=t.from.line?lo(this,t):uo(this,t.from,t.to,t.margin)})),setSize:No((function(t,e){var i=this,n=function(t){return"number"==typeof t||/^\d+$/.test(String(t))?t+"px":t};null!=t&&(this.display.wrapper.style.width=n(t)),null!=e&&(this.display.wrapper.style.height=n(e)),this.options.lineWrapping&&un(this);var o=this.display.viewFrom;this.doc.iter(o,this.display.viewTo,(function(t){if(t.widgets)for(var e=0;e<t.widgets.length;e++)if(t.widgets[e].noHScroll){Pn(i,o,"widget");break}++o})),this.curOp.forceUpdate=!0,mt(this,"refresh",this)})),operation:function(t){return Ao(this,t)},startOperation:function(){return So(this)},endOperation:function(){return Co(this)},refresh:No((function(){var t=this.display.cachedTextHeight;Bn(this),this.curOp.forceUpdate=!0,hn(this),ao(this,this.doc.scrollLeft,this.doc.scrollTop),qo(this.display),(null==t||Math.abs(t-In(this.display))>.5)&&Nn(this),mt(this,"refresh",this)})),swapDoc:No((function(t){var e=this.doc;return e.cm=null,this.state.selectingText&&this.state.selectingText(),vs(this,t),hn(this),this.display.input.reset(),ao(this,t.scrollLeft,t.scrollTop),this.curOp.forceScroll=!0,Ri(this,"swapDoc",this,e),e})),phrase:function(t){var e=this.options.phrases;return e&&Object.prototype.hasOwnProperty.call(e,t)?e[t]:t},getInputField:function(){return this.display.input.getField()},getWrapperElement:function(){return this.display.wrapper},getScrollerElement:function(){return this.display.scroller},getGutterElement:function(){return this.display.gutters}},Tt(t),t.registerHelper=function(e,n,o){i.hasOwnProperty(e)||(i[e]=t[e]={_global:[]}),i[e][n]=o},t.registerGlobalHelper=function(e,n,o,s){t.registerHelper(e,n,s),i[e]._global.push({pred:o,val:s})}}function ja(t,e,i,n,o){var s=e,r=i,a=Kt(t,e.line);function l(){var n=e.line+i;return!(n<t.first||n>=t.first+t.size)&&(e=new oe(n,e.ch,e.sticky),a=Kt(t,n))}function c(n){var s;if(s=o?jr(t.cm,a,e,i):Xr(a,e,i),null==s){if(n||!l())return!1;e=Yr(o,t.cm,a,e.line,i)}else e=s;return!0}if("char"==n)c();else if("column"==n)c(!0);else if("word"==n||"group"==n)for(var u=null,h="group"==n,d=t.cm&&t.cm.getHelper(e,"wordChars"),p=!0;;p=!1){if(i<0&&!c(!p))break;var _=a.text.charAt(e.ch)||"\n",g=it(_,d)?"w":h&&"\n"==_?"n":!h||/\s/.test(_)?null:"p";if(!h||p||g||(g="s"),u&&u!=g){i<0&&(i=1,c(),e.sticky="after");break}if(g&&(u=g),i>0&&!c(!p))break}var f=Xs(t,e,s,r,!0);return re(s,f)&&(f.hitSide=!0),f}function Ka(t,e,i,n){var o,s,r=t.doc,a=e.left;if("page"==n){var l=Math.min(t.display.wrapper.clientHeight,window.innerHeight||document.documentElement.clientHeight),c=Math.max(l-.5*In(t.display),3);o=(i>0?e.bottom:e.top)+i*c}else"line"==n&&(o=i>0?e.bottom+3:e.top-3);for(;;){if(s=Tn(t,a,o),!s.outside)break;if(i<0?o<=0:o>=r.height){s.hitSide=!0;break}o+=5*i}return s}var Ja=function(t){this.cm=t,this.lastAnchorNode=this.lastAnchorOffset=this.lastFocusNode=this.lastFocusOffset=null,this.polling=new H,this.composing=null,this.gracePeriod=!1,this.readDOMTimeout=null};function Qa(t,e){var i=Zi(t,e.line);if(!i||i.hidden)return null;var n=Kt(t.doc,e.line),o=Ki(i,n,e.line),s=dt(n,t.doc.direction),r="left";if(s){var a=ut(s,e.ch);r=a%2?"right":"left"}var l=sn(o.map,e.ch,r);return l.offset="right"==l.collapse?l.end:l.start,l}function Za(t){for(var e=t;e;e=e.parentNode)if(/CodeMirror-gutter-wrapper/.test(e.className))return!0;return!1}function tl(t,e){return e&&(t.bad=!0),t}function el(t,e,i,n,o){var s="",r=!1,a=t.doc.lineSeparator(),l=!1;function c(t){return function(e){return e.id==t}}function u(){r&&(s+=a,l&&(s+=a),r=l=!1)}function h(t){t&&(u(),s+=t)}function d(e){if(1==e.nodeType){var i=e.getAttribute("cm-text");if(i)return void h(i);var s,p=e.getAttribute("cm-marker");if(p){var _=t.findMarks(oe(n,0),oe(o+1,0),c(+p));return void(_.length&&(s=_[0].find(0))&&h(Jt(t.doc,s.from,s.to).join(a)))}if("false"==e.getAttribute("contenteditable"))return;var g=/^(pre|div|p|li|table|br)$/i.test(e.nodeName);if(!/^br$/i.test(e.nodeName)&&0==e.textContent.length)return;g&&u();for(var f=0;f<e.childNodes.length;f++)d(e.childNodes[f]);/^(pre|p)$/i.test(e.nodeName)&&(l=!0),g&&(r=!0)}else 3==e.nodeType&&h(e.nodeValue.replace(/\u200b/g,"").replace(/\u00a0/g," "))}for(;;){if(d(e),e==i)break;e=e.nextSibling,l=!1}return s}function il(t,e,i){var n;if(e==t.display.lineDiv){if(n=t.display.lineDiv.childNodes[i],!n)return tl(t.clipPos(oe(t.display.viewTo-1)),!0);e=null,i=0}else for(n=e;;n=n.parentNode){if(!n||n==t.display.lineDiv)return null;if(n.parentNode&&n.parentNode==t.display.lineDiv)break}for(var o=0;o<t.display.view.length;o++){var s=t.display.view[o];if(s.node==n)return nl(s,e,i)}}function nl(t,e,i){var n=t.text.firstChild,o=!1;if(!e||!A(n,e))return tl(oe(te(t.line),0),!0);if(e==n&&(o=!0,e=n.childNodes[i],i=0,!e)){var s=t.rest?j(t.rest):t.line;return tl(oe(te(s),s.text.length),o)}var r=3==e.nodeType?e:null,a=e;r||1!=e.childNodes.length||3!=e.firstChild.nodeType||(r=e.firstChild,i&&(i=r.nodeValue.length));while(a.parentNode!=n)a=a.parentNode;var l=t.measure,c=l.maps;function u(e,i,n){for(var o=-1;o<(c?c.length:0);o++)for(var s=o<0?l.map:c[o],r=0;r<s.length;r+=3){var a=s[r+2];if(a==e||a==i){var u=te(o<0?t.line:t.rest[o]),h=s[r]+n;return(n<0||a!=e)&&(h=s[r+(n?1:0)]),oe(u,h)}}}var h=u(r,a,i);if(h)return tl(h,o);for(var d=a.nextSibling,p=r?r.nodeValue.length-i:0;d;d=d.nextSibling){if(h=u(d,d.firstChild,0),h)return tl(oe(h.line,h.ch-p),o);p+=d.textContent.length}for(var _=a.previousSibling,g=i;_;_=_.previousSibling){if(h=u(_,_.firstChild,-1),h)return tl(oe(h.line,h.ch+g),o);g+=_.textContent.length}}Ja.prototype.init=function(t){var e=this,i=this,n=i.cm,o=i.div=t.lineDiv;function s(t){if(!vt(n,t)){if(n.somethingSelected())Ua({lineWise:!1,text:n.getSelections()}),"cut"==t.type&&n.replaceSelection("",null,"cut");else{if(!n.options.lineWiseCopyCut)return;var e=qa(n);Ua({lineWise:!0,text:e.text}),"cut"==t.type&&n.operation((function(){n.setSelections(e.ranges,0,$),n.replaceSelection("",null,"cut")}))}if(t.clipboardData){t.clipboardData.clearData();var s=Va.text.join("\n");if(t.clipboardData.setData("Text",s),t.clipboardData.getData("Text")==s)return void t.preventDefault()}var r=Xa(),a=r.firstChild;n.display.lineSpace.insertBefore(r,n.display.lineSpace.firstChild),a.value=Va.text.join("\n");var l=document.activeElement;D(a),setTimeout((function(){n.display.lineSpace.removeChild(r),l.focus(),l==o&&i.showPrimarySelection()}),50)}}za(o,n.options.spellcheck,n.options.autocorrect,n.options.autocapitalize),_t(o,"paste",(function(t){vt(n,t)||$a(t,n)||a<=11&&setTimeout(Mo(n,(function(){return e.updateFromDOM()})),20)})),_t(o,"compositionstart",(function(t){e.composing={data:t.data,done:!1}})),_t(o,"compositionupdate",(function(t){e.composing||(e.composing={data:t.data,done:!1})})),_t(o,"compositionend",(function(t){e.composing&&(t.data!=e.composing.data&&e.readFromDOMSoon(),e.composing.done=!0)})),_t(o,"touchstart",(function(){return i.forceCompositionEnd()})),_t(o,"input",(function(){e.composing||e.readFromDOMSoon()})),_t(o,"copy",s),_t(o,"cut",s)},Ja.prototype.prepareSelection=function(){var t=$n(this.cm,!1);return t.focus=this.cm.state.focused,t},Ja.prototype.showSelection=function(t,e){t&&this.cm.display.view.length&&((t.focus||e)&&this.showPrimarySelection(),this.showMultipleSelections(t))},Ja.prototype.getSelection=function(){return this.cm.display.wrapper.ownerDocument.getSelection()},Ja.prototype.showPrimarySelection=function(){var t=this.getSelection(),e=this.cm,n=e.doc.sel.primary(),o=n.from(),s=n.to();if(e.display.viewTo==e.display.viewFrom||o.line>=e.display.viewTo||s.line<e.display.viewFrom)t.removeAllRanges();else{var r=il(e,t.anchorNode,t.anchorOffset),a=il(e,t.focusNode,t.focusOffset);if(!r||r.bad||!a||a.bad||0!=se(ce(r,a),o)||0!=se(le(r,a),s)){var l=e.display.view,c=o.line>=e.display.viewFrom&&Qa(e,o)||{node:l[0].measure.map[2],offset:0},u=s.line<e.display.viewTo&&Qa(e,s);if(!u){var h=l[l.length-1].measure,d=h.maps?h.maps[h.maps.length-1]:h.map;u={node:d[d.length-1],offset:d[d.length-2]-d[d.length-3]}}if(c&&u){var p,_=t.rangeCount&&t.getRangeAt(0);try{p=k(c.node,c.offset,u.offset,u.node)}catch(g){}p&&(!i&&e.state.focused?(t.collapse(c.node,c.offset),p.collapsed||(t.removeAllRanges(),t.addRange(p))):(t.removeAllRanges(),t.addRange(p)),_&&null==t.anchorNode?t.addRange(_):i&&this.startGracePeriod()),this.rememberSelection()}else t.removeAllRanges()}}},Ja.prototype.startGracePeriod=function(){var t=this;clearTimeout(this.gracePeriod),this.gracePeriod=setTimeout((function(){t.gracePeriod=!1,t.selectionChanged()&&t.cm.operation((function(){return t.cm.curOp.selectionChanged=!0}))}),20)},Ja.prototype.showMultipleSelections=function(t){I(this.cm.display.cursorDiv,t.cursors),I(this.cm.display.selectionDiv,t.selection)},Ja.prototype.rememberSelection=function(){var t=this.getSelection();this.lastAnchorNode=t.anchorNode,this.lastAnchorOffset=t.anchorOffset,this.lastFocusNode=t.focusNode,this.lastFocusOffset=t.focusOffset},Ja.prototype.selectionInEditor=function(){var t=this.getSelection();if(!t.rangeCount)return!1;var e=t.getRangeAt(0).commonAncestorContainer;return A(this.div,e)},Ja.prototype.focus=function(){"nocursor"!=this.cm.options.readOnly&&(this.selectionInEditor()||this.showSelection(this.prepareSelection(),!0),this.div.focus())},Ja.prototype.blur=function(){this.div.blur()},Ja.prototype.getField=function(){return this.div},Ja.prototype.supportsTouch=function(){return!0},Ja.prototype.receivedFocus=function(){var t=this;function e(){t.cm.state.focused&&(t.pollSelection(),t.polling.set(t.cm.options.pollInterval,e))}this.selectionInEditor()?this.pollSelection():Ao(this.cm,(function(){return t.cm.curOp.selectionChanged=!0})),this.polling.set(this.cm.options.pollInterval,e)},Ja.prototype.selectionChanged=function(){var t=this.getSelection();return t.anchorNode!=this.lastAnchorNode||t.anchorOffset!=this.lastAnchorOffset||t.focusNode!=this.lastFocusNode||t.focusOffset!=this.lastFocusOffset},Ja.prototype.pollSelection=function(){if(null==this.readDOMTimeout&&!this.gracePeriod&&this.selectionChanged()){var t=this.getSelection(),e=this.cm;if(f&&u&&this.cm.display.gutterSpecs.length&&Za(t.anchorNode))return this.cm.triggerOnKeyDown({type:"keydown",keyCode:8,preventDefault:Math.abs}),this.blur(),void this.focus();if(!this.composing){this.rememberSelection();var i=il(e,t.anchorNode,t.anchorOffset),n=il(e,t.focusNode,t.focusOffset);i&&n&&Ao(e,(function(){Us(e.doc,as(i,n),$),(i.bad||n.bad)&&(e.curOp.selectionChanged=!0)}))}}},Ja.prototype.pollContent=function(){null!=this.readDOMTimeout&&(clearTimeout(this.readDOMTimeout),this.readDOMTimeout=null);var t,e,i,n=this.cm,o=n.display,s=n.doc.sel.primary(),r=s.from(),a=s.to();if(0==r.ch&&r.line>n.firstLine()&&(r=oe(r.line-1,Kt(n.doc,r.line-1).length)),a.ch==Kt(n.doc,a.line).text.length&&a.line<n.lastLine()&&(a=oe(a.line+1,0)),r.line<o.viewFrom||a.line>o.viewTo-1)return!1;r.line==o.viewFrom||0==(t=Dn(n,r.line))?(e=te(o.view[0].line),i=o.view[0].node):(e=te(o.view[t].line),i=o.view[t-1].node.nextSibling);var l,c,u=Dn(n,a.line);if(u==o.view.length-1?(l=o.viewTo-1,c=o.lineDiv.lastChild):(l=te(o.view[u+1].line)-1,c=o.view[u+1].node.previousSibling),!i)return!1;var h=n.doc.splitLines(el(n,i,c,e,l)),d=Jt(n.doc,oe(e,0),oe(l,Kt(n.doc,l).text.length));while(h.length>1&&d.length>1)if(j(h)==j(d))h.pop(),d.pop(),l--;else{if(h[0]!=d[0])break;h.shift(),d.shift(),e++}var p=0,_=0,g=h[0],f=d[0],m=Math.min(g.length,f.length);while(p<m&&g.charCodeAt(p)==f.charCodeAt(p))++p;var v=j(h),b=j(d),y=Math.min(v.length-(1==h.length?p:0),b.length-(1==d.length?p:0));while(_<y&&v.charCodeAt(v.length-_-1)==b.charCodeAt(b.length-_-1))++_;if(1==h.length&&1==d.length&&e==r.line)while(p&&p>r.ch&&v.charCodeAt(v.length-_-1)==b.charCodeAt(b.length-_-1))p--,_++;h[h.length-1]=v.slice(0,v.length-_).replace(/^\u200b+/,""),h[0]=h[0].slice(p).replace(/\u200b+$/,"");var T=oe(e,p),E=oe(l,d.length?j(d).length-_:0);return h.length>1||h[0]||se(T,E)?(nr(n.doc,h,T,E,"+input"),!0):void 0},Ja.prototype.ensurePolled=function(){this.forceCompositionEnd()},Ja.prototype.reset=function(){this.forceCompositionEnd()},Ja.prototype.forceCompositionEnd=function(){this.composing&&(clearTimeout(this.readDOMTimeout),this.composing=null,this.updateFromDOM(),this.div.blur(),this.div.focus())},Ja.prototype.readFromDOMSoon=function(){var t=this;null==this.readDOMTimeout&&(this.readDOMTimeout=setTimeout((function(){if(t.readDOMTimeout=null,t.composing){if(!t.composing.done)return;t.composing=null}t.updateFromDOM()}),80))},Ja.prototype.updateFromDOM=function(){var t=this;!this.cm.isReadOnly()&&this.pollContent()||Ao(this.cm,(function(){return Bn(t.cm)}))},Ja.prototype.setUneditable=function(t){t.contentEditable="false"},Ja.prototype.onKeyPress=function(t){0==t.charCode||this.composing||(t.preventDefault(),this.cm.isReadOnly()||Mo(this.cm,Wa)(this.cm,String.fromCharCode(null==t.charCode?t.keyCode:t.charCode),0))},Ja.prototype.readOnlyChanged=function(t){this.div.contentEditable=String("nocursor"!=t)},Ja.prototype.onContextMenu=function(){},Ja.prototype.resetPosition=function(){},Ja.prototype.needsContentAttribute=!0;var ol=function(t){this.cm=t,this.prevInput="",this.pollingFast=!1,this.polling=new H,this.hasSelection=!1,this.composing=null};function sl(t,e){if(e=e?P(e):{},e.value=t.value,!e.tabindex&&t.tabIndex&&(e.tabindex=t.tabIndex),!e.placeholder&&t.placeholder&&(e.placeholder=t.placeholder),null==e.autofocus){var i=M();e.autofocus=i==t||null!=t.getAttribute("autofocus")&&i==document.body}function n(){t.value=a.getValue()}var o;if(t.form&&(_t(t.form,"submit",n),!e.leaveSubmitMethodAlone)){var s=t.form;o=s.submit;try{var r=s.submit=function(){n(),s.submit=o,s.submit(),s.submit=r}}catch(l){}}e.finishInit=function(i){i.save=n,i.getTextArea=function(){return t},i.toTextArea=function(){i.toTextArea=isNaN,n(),t.parentNode.removeChild(i.getWrapperElement()),t.style.display="",t.form&&(ft(t.form,"submit",n),e.leaveSubmitMethodAlone||"function"!=typeof t.form.submit||(t.form.submit=o))}},t.style.display="none";var a=Ba((function(e){return t.parentNode.insertBefore(e,t.nextSibling)}),e);return a}function rl(t){t.off=ft,t.on=_t,t.wheelEventPixels=is,t.Doc=Er,t.splitLines=Nt,t.countColumn=F,t.findColumn=z,t.isWordChar=et,t.Pass=W,t.signal=mt,t.Line=ai,t.changeEnd=ls,t.scrollbarModel=yo,t.Pos=oe,t.cmpPos=se,t.modes=Ft,t.mimeModes=Ht,t.resolveMode=Wt,t.getMode=$t,t.modeExtensions=Gt,t.extendMode=qt,t.copyState=zt,t.startState=Yt,t.innerMode=Xt,t.commands=Kr,t.keyMap=Pr,t.keyName=$r,t.isModifierKey=Ur,t.lookupKey=Vr,t.normalizeKeyMap=Hr,t.StringStream=jt,t.SharedTextMarker=fr,t.TextMarker=_r,t.LineWidget=ur,t.e_preventDefault=Et,t.e_stopPropagation=St,t.e_stop=kt,t.addClass=N,t.contains=A,t.rmClass=w,t.keyNames=Nr}ol.prototype.init=function(t){var e=this,i=this,n=this.cm;this.createField(t);var o=this.textarea;function s(t){if(!vt(n,t)){if(n.somethingSelected())Ua({lineWise:!1,text:n.getSelections()});else{if(!n.options.lineWiseCopyCut)return;var e=qa(n);Ua({lineWise:!0,text:e.text}),"cut"==t.type?n.setSelections(e.ranges,null,$):(i.prevInput="",o.value=e.text.join("\n"),D(o))}"cut"==t.type&&(n.state.cutIncoming=+new Date)}}t.wrapper.insertBefore(this.wrapper,t.wrapper.firstChild),g&&(o.style.width="0px"),_t(o,"input",(function(){r&&a>=9&&e.hasSelection&&(e.hasSelection=null),i.poll()})),_t(o,"paste",(function(t){vt(n,t)||$a(t,n)||(n.state.pasteIncoming=+new Date,i.fastPoll())})),_t(o,"cut",s),_t(o,"copy",s),_t(t.scroller,"paste",(function(e){if(!Wi(t,e)&&!vt(n,e)){if(!o.dispatchEvent)return n.state.pasteIncoming=+new Date,void i.focus();var s=new Event("paste");s.clipboardData=e.clipboardData,o.dispatchEvent(s)}})),_t(t.lineSpace,"selectstart",(function(e){Wi(t,e)||Et(e)})),_t(o,"compositionstart",(function(){var t=n.getCursor("from");i.composing&&i.composing.range.clear(),i.composing={start:t,range:n.markText(t,n.getCursor("to"),{className:"CodeMirror-composing"})}})),_t(o,"compositionend",(function(){i.composing&&(i.poll(),i.composing.range.clear(),i.composing=null)}))},ol.prototype.createField=function(t){this.wrapper=Xa(),this.textarea=this.wrapper.firstChild},ol.prototype.prepareSelection=function(){var t=this.cm,e=t.display,i=t.doc,n=$n(t);if(t.options.moveInputWithCursor){var o=vn(t,i.sel.primary().head,"div"),s=e.wrapper.getBoundingClientRect(),r=e.lineDiv.getBoundingClientRect();n.teTop=Math.max(0,Math.min(e.wrapper.clientHeight-10,o.top+r.top-s.top)),n.teLeft=Math.max(0,Math.min(e.wrapper.clientWidth-10,o.left+r.left-s.left))}return n},ol.prototype.showSelection=function(t){var e=this.cm,i=e.display;I(i.cursorDiv,t.cursors),I(i.selectionDiv,t.selection),null!=t.teTop&&(this.wrapper.style.top=t.teTop+"px",this.wrapper.style.left=t.teLeft+"px")},ol.prototype.reset=function(t){if(!this.contextMenuPending&&!this.composing){var e=this.cm;if(e.somethingSelected()){this.prevInput="";var i=e.getSelection();this.textarea.value=i,e.state.focused&&D(this.textarea),r&&a>=9&&(this.hasSelection=i)}else t||(this.prevInput=this.textarea.value="",r&&a>=9&&(this.hasSelection=null))}},ol.prototype.getField=function(){return this.textarea},ol.prototype.supportsTouch=function(){return!1},ol.prototype.focus=function(){if("nocursor"!=this.cm.options.readOnly&&(!m||M()!=this.textarea))try{this.textarea.focus()}catch(t){}},ol.prototype.blur=function(){this.textarea.blur()},ol.prototype.resetPosition=function(){this.wrapper.style.top=this.wrapper.style.left=0},ol.prototype.receivedFocus=function(){this.slowPoll()},ol.prototype.slowPoll=function(){var t=this;this.pollingFast||this.polling.set(this.cm.options.pollInterval,(function(){t.poll(),t.cm.state.focused&&t.slowPoll()}))},ol.prototype.fastPoll=function(){var t=!1,e=this;function i(){var n=e.poll();n||t?(e.pollingFast=!1,e.slowPoll()):(t=!0,e.polling.set(60,i))}e.pollingFast=!0,e.polling.set(20,i)},ol.prototype.poll=function(){var t=this,e=this.cm,i=this.textarea,n=this.prevInput;if(this.contextMenuPending||!e.state.focused||Lt(i)&&!n&&!this.composing||e.isReadOnly()||e.options.disableInput||e.state.keySeq)return!1;var o=i.value;if(o==n&&!e.somethingSelected())return!1;if(r&&a>=9&&this.hasSelection===o||v&&/[\uf700-\uf7ff]/.test(o))return e.display.input.reset(),!1;if(e.doc.sel==e.display.selForContextMenu){var s=o.charCodeAt(0);if(8203!=s||n||(n="​"),8666==s)return this.reset(),this.cm.execCommand("undo")}var l=0,c=Math.min(n.length,o.length);while(l<c&&n.charCodeAt(l)==o.charCodeAt(l))++l;return Ao(e,(function(){Wa(e,o.slice(l),n.length-l,null,t.composing?"*compose":null),o.length>1e3||o.indexOf("\n")>-1?i.value=t.prevInput="":t.prevInput=o,t.composing&&(t.composing.range.clear(),t.composing.range=e.markText(t.composing.start,e.getCursor("to"),{className:"CodeMirror-composing"}))})),!0},ol.prototype.ensurePolled=function(){this.pollingFast&&this.poll()&&(this.pollingFast=!1)},ol.prototype.onKeyPress=function(){r&&a>=9&&(this.hasSelection=null),this.fastPoll()},ol.prototype.onContextMenu=function(t){var e=this,i=e.cm,n=i.display,o=e.textarea;e.contextMenuPending&&e.contextMenuPending();var s=Ln(i,t),c=n.scroller.scrollTop;if(s&&!h){var u=i.options.resetSelectionOnContextMenu;u&&-1==i.doc.sel.contains(s)&&Mo(i,Us)(i.doc,as(s),$);var d,p=o.style.cssText,_=e.wrapper.style.cssText,g=e.wrapper.offsetParent.getBoundingClientRect();if(e.wrapper.style.cssText="position: static",o.style.cssText="position: absolute; width: 30px; height: 30px;\n      top: "+(t.clientY-g.top-5)+"px; left: "+(t.clientX-g.left-5)+"px;\n      z-index: 1000; background: "+(r?"rgba(255, 255, 255, .05)":"transparent")+";\n      outline: none; border-width: 0; outline: none; overflow: hidden; opacity: .05; filter: alpha(opacity=5);",l&&(d=window.scrollY),n.input.focus(),l&&window.scrollTo(null,d),n.input.reset(),i.somethingSelected()||(o.value=e.prevInput=" "),e.contextMenuPending=v,n.selForContextMenu=i.doc.sel,clearTimeout(n.detectingSelectAll),r&&a>=9&&m(),S){kt(t);var f=function(){ft(window,"mouseup",f),setTimeout(v,20)};_t(window,"mouseup",f)}else setTimeout(v,50)}function m(){if(null!=o.selectionStart){var t=i.somethingSelected(),s="​"+(t?o.value:"");o.value="⇚",o.value=s,e.prevInput=t?"":"​",o.selectionStart=1,o.selectionEnd=s.length,n.selForContextMenu=i.doc.sel}}function v(){if(e.contextMenuPending==v&&(e.contextMenuPending=!1,e.wrapper.style.cssText=_,o.style.cssText=p,r&&a<9&&n.scrollbars.setScrollTop(n.scroller.scrollTop=c),null!=o.selectionStart)){(!r||r&&a<9)&&m();var t=0,s=function(){n.selForContextMenu==i.doc.sel&&0==o.selectionStart&&o.selectionEnd>0&&"​"==e.prevInput?Mo(i,js)(i):t++<10?n.detectingSelectAll=setTimeout(s,500):(n.selForContextMenu=null,n.input.reset())};n.detectingSelectAll=setTimeout(s,200)}}},ol.prototype.readOnlyChanged=function(t){t||this.reset(),this.textarea.disabled="nocursor"==t},ol.prototype.setUneditable=function(){},ol.prototype.needsContentAttribute=!1,Na(Ba),Ya(Ba);var al="iter insert remove copy getEditor constructor".split(" ");for(var ll in Er.prototype)Er.prototype.hasOwnProperty(ll)&&V(al,ll)<0&&(Ba.prototype[ll]=function(t){return function(){return t.apply(this.doc,arguments)}}(Er.prototype[ll]));return Tt(Er),Ba.inputStyles={textarea:ol,contenteditable:Ja},Ba.defineMode=function(t){Ba.defaults.mode||"null"==t||(Ba.defaults.mode=t),Vt.apply(this,arguments)},Ba.defineMIME=Ut,Ba.defineMode("null",(function(){return{token:function(t){return t.skipToEnd()}}})),Ba.defineMIME("text/plain","null"),Ba.defineExtension=function(t,e){Ba.prototype[t]=e},Ba.defineDocExtension=function(t,e){Er.prototype[t]=e},Ba.fromTextArea=sl,rl(Ba),Ba.version="5.49.2",Ba}))},"6a51":function(t,e){t.exports=function(t){var e="getpwent getservent quotemeta msgrcv scalar kill dbmclose undef lc ma syswrite tr send umask sysopen shmwrite vec qx utime local oct semctl localtime readpipe do return format read sprintf dbmopen pop getpgrp not getpwnam rewinddir qqfileno qw endprotoent wait sethostent bless s|0 opendir continue each sleep endgrent shutdown dump chomp connect getsockname die socketpair close flock exists index shmgetsub for endpwent redo lstat msgctl setpgrp abs exit select print ref gethostbyaddr unshift fcntl syscall goto getnetbyaddr join gmtime symlink semget splice x|0 getpeername recv log setsockopt cos last reverse gethostbyname getgrnam study formline endhostent times chop length gethostent getnetent pack getprotoent getservbyname rand mkdir pos chmod y|0 substr endnetent printf next open msgsnd readdir use unlink getsockopt getpriority rindex wantarray hex system getservbyport endservent int chr untie rmdir prototype tell listen fork shmread ucfirst setprotoent else sysseek link getgrgid shmctl waitpid unpack getnetbyname reset chdir grep split require caller lcfirst until warn while values shift telldir getpwuid my getprotobynumber delete and sort uc defined srand accept package seekdir getprotobyname semop our rename seek if q|0 chroot sysread setpwent no crypt getc chown sqrt write setnetent setpriority foreach tie sin msgget map stat getlogin unless elsif truncate exec keys glob tied closedirioctl socket readlink eval xor readline binmode setservent eof ord bind alarm pipe atan2 getgrent exp time push setgrent gt lt or ne m|0 break given say state when",i={className:"subst",begin:"[$@]\\{",end:"\\}",keywords:e},n={begin:"->{",end:"}"},o={variants:[{begin:/\$\d/},{begin:/[\$%@](\^\w\b|#\w+(::\w+)*|{\w+}|\w+(::\w*)*)/},{begin:/[\$%@][^\s\w{]/,relevance:0}]},s=[t.BACKSLASH_ESCAPE,i,o],r=[o,t.HASH_COMMENT_MODE,t.COMMENT("^\\=\\w","\\=cut",{endsWithParent:!0}),n,{className:"string",contains:s,variants:[{begin:"q[qwxr]?\\s*\\(",end:"\\)",relevance:5},{begin:"q[qwxr]?\\s*\\[",end:"\\]",relevance:5},{begin:"q[qwxr]?\\s*\\{",end:"\\}",relevance:5},{begin:"q[qwxr]?\\s*\\|",end:"\\|",relevance:5},{begin:"q[qwxr]?\\s*\\<",end:"\\>",relevance:5},{begin:"qw\\s+q",end:"q",relevance:5},{begin:"'",end:"'",contains:[t.BACKSLASH_ESCAPE]},{begin:'"',end:'"'},{begin:"`",end:"`",contains:[t.BACKSLASH_ESCAPE]},{begin:"{\\w+}",contains:[],relevance:0},{begin:"-?\\w+\\s*\\=\\>",contains:[],relevance:0}]},{className:"number",begin:"(\\b0[0-7_]+)|(\\b0x[0-9a-fA-F_]+)|(\\b[1-9][0-9_]*(\\.[0-9_]+)?)|[0_]\\b",relevance:0},{begin:"(\\/\\/|"+t.RE_STARTERS_RE+"|\\b(split|return|print|reverse|grep)\\b)\\s*",keywords:"split return print reverse grep",relevance:0,contains:[t.HASH_COMMENT_MODE,{className:"regexp",begin:"(s|tr|y)/(\\\\.|[^/])*/(\\\\.|[^/])*/[a-z]*",relevance:10},{className:"regexp",begin:"(m|qr)?/",end:"/[a-z]*",contains:[t.BACKSLASH_ESCAPE],relevance:0}]},{className:"function",beginKeywords:"sub",end:"(\\s*\\(.*?\\))?[;{]",excludeEnd:!0,relevance:5,contains:[t.TITLE_MODE]},{begin:"-\\w\\b",relevance:0},{begin:"^__DATA__$",end:"^__END__$",subLanguage:"mojolicious",contains:[{begin:"^@@.*",end:"$",className:"comment"}]}];return i.contains=r,n.contains=r,{aliases:["pl","pm"],lexemes:/[\w\.]+/,keywords:e,contains:r}}},"6ba3":function(t,e,i){var n=i("0801"),o=i("3e68");t.exports=n("v5",80,o)},7393:function(t,e,i){},"82cb":function(t,e){t.exports=function(t){var e="[a-zA-Z_]\\w*[!?=]?|[-+~]\\@|<<|>>|=~|===?|<=>|[<>]=?|\\*\\*|[-/+%^&*~`|]|\\[\\]=?",i={keyword:"and then defined module in return redo if BEGIN retry end for self when next until do begin unless END rescue else break undef not super class case require yield alias while ensure elsif or include attr_reader attr_writer attr_accessor",literal:"true false nil"},n={className:"doctag",begin:"@[A-Za-z]+"},o={begin:"#<",end:">"},s=[t.COMMENT("#","$",{contains:[n]}),t.COMMENT("^\\=begin","^\\=end",{contains:[n],relevance:10}),t.COMMENT("^__END__","\\n$")],r={className:"subst",begin:"#\\{",end:"}",keywords:i},a={className:"string",contains:[t.BACKSLASH_ESCAPE,r],variants:[{begin:/'/,end:/'/},{begin:/"/,end:/"/},{begin:/`/,end:/`/},{begin:"%[qQwWx]?\\(",end:"\\)"},{begin:"%[qQwWx]?\\[",end:"\\]"},{begin:"%[qQwWx]?{",end:"}"},{begin:"%[qQwWx]?<",end:">"},{begin:"%[qQwWx]?/",end:"/"},{begin:"%[qQwWx]?%",end:"%"},{begin:"%[qQwWx]?-",end:"-"},{begin:"%[qQwWx]?\\|",end:"\\|"},{begin:/\B\?(\\\d{1,3}|\\x[A-Fa-f0-9]{1,2}|\\u[A-Fa-f0-9]{4}|\\?\S)\b/},{begin:/<<[-~]?'?(\w+)(?:.|\n)*?\n\s*\1\b/,returnBegin:!0,contains:[{begin:/<<[-~]?'?/},{begin:/\w+/,endSameAsBegin:!0,contains:[t.BACKSLASH_ESCAPE,r]}]}]},l={className:"params",begin:"\\(",end:"\\)",endsParent:!0,keywords:i},c=[a,o,{className:"class",beginKeywords:"class module",end:"$|;",illegal:/=/,contains:[t.inherit(t.TITLE_MODE,{begin:"[A-Za-z_]\\w*(::\\w+)*(\\?|\\!)?"}),{begin:"<\\s*",contains:[{begin:"("+t.IDENT_RE+"::)?"+t.IDENT_RE}]}].concat(s)},{className:"function",beginKeywords:"def",end:"$|;",contains:[t.inherit(t.TITLE_MODE,{begin:e}),l].concat(s)},{begin:t.IDENT_RE+"::"},{className:"symbol",begin:t.UNDERSCORE_IDENT_RE+"(\\!|\\?)?:",relevance:0},{className:"symbol",begin:":(?!\\s)",contains:[a,{begin:e}],relevance:0},{className:"number",begin:"(\\b0[0-7_]+)|(\\b0x[0-9a-fA-F_]+)|(\\b[1-9][0-9_]*(\\.[0-9_]+)?)|[0_]\\b",relevance:0},{begin:"(\\$\\W)|((\\$|\\@\\@?)(\\w+))"},{className:"params",begin:/\|/,end:/\|/,keywords:i},{begin:"("+t.RE_STARTERS_RE+"|unless)\\s*",keywords:"unless",contains:[o,{className:"regexp",contains:[t.BACKSLASH_ESCAPE,r],illegal:/\n/,variants:[{begin:"/",end:"/[a-z]*"},{begin:"%r{",end:"}[a-z]*"},{begin:"%r\\(",end:"\\)[a-z]*"},{begin:"%r!",end:"![a-z]*"},{begin:"%r\\[",end:"\\][a-z]*"}]}].concat(s),relevance:0}].concat(s);r.contains=c,l.contains=c;var u="[>?]>",h="[\\w#]+\\(\\w+\\):\\d+:\\d+>",d="(\\w+-)?\\d+\\.\\d+\\.\\d(p\\d+)?[^>]+>",p=[{begin:/^\s*=>/,starts:{end:"$",contains:c}},{className:"meta",begin:"^("+u+"|"+h+"|"+d+")",starts:{end:"$",contains:c}}];return{aliases:["rb","gemspec","podspec","thor","irb"],keywords:i,illegal:/\/\*/,contains:s.concat(p).concat(c)}}},8536:function(t,e,i){(function(t){t(i("56b3"))})((function(t){"use strict";t.defineMode("ruby",(function(e){function i(t){for(var e={},i=0,n=t.length;i<n;++i)e[t[i]]=!0;return e}var n,o=i(["alias","and","BEGIN","begin","break","case","class","def","defined?","do","else","elsif","END","end","ensure","false","for","if","in","module","next","not","or","redo","rescue","retry","return","self","super","then","true","undef","unless","until","when","while","yield","nil","raise","throw","catch","fail","loop","callcc","caller","lambda","proc","public","protected","private","require","load","require_relative","extend","autoload","__END__","__FILE__","__LINE__","__dir__"]),s=i(["def","class","case","for","while","until","module","then","catch","loop","proc","begin"]),r=i(["end","until"]),a={"[":"]","{":"}","(":")"},l={"]":"[","}":"{",")":"("};function c(t,e,i){return i.tokenize.push(t),t(e,i)}function u(t,e){if(t.sol()&&t.match("=begin")&&t.eol())return e.tokenize.push(f),"comment";if(t.eatSpace())return null;var i,o=t.next();if("`"==o||"'"==o||'"'==o)return c(_(o,"string",'"'==o||"`"==o),t,e);if("/"==o)return h(t)?c(_(o,"string-2",!0),t,e):"operator";if("%"==o){var s="string",r=!0;t.eat("s")?s="atom":t.eat(/[WQ]/)?s="string":t.eat(/[r]/)?s="string-2":t.eat(/[wxq]/)&&(s="string",r=!1);var l=t.eat(/[^\w\s=]/);return l?(a.propertyIsEnumerable(l)&&(l=a[l]),c(_(l,s,r,!0),t,e)):"operator"}if("#"==o)return t.skipToEnd(),"comment";if("<"==o&&(i=t.match(/^<([-~])[\`\"\']?([a-zA-Z_?]\w*)[\`\"\']?(?:;|$)/)))return c(g(i[2],i[1]),t,e);if("0"==o)return t.eat("x")?t.eatWhile(/[\da-fA-F]/):t.eat("b")?t.eatWhile(/[01]/):t.eatWhile(/[0-7]/),"number";if(/\d/.test(o))return t.match(/^[\d_]*(?:\.[\d_]+)?(?:[eE][+\-]?[\d_]+)?/),"number";if("?"==o){while(t.match(/^\\[CM]-/));return t.eat("\\")?t.eatWhile(/\w/):t.next(),"string"}if(":"==o)return t.eat("'")?c(_("'","atom",!1),t,e):t.eat('"')?c(_('"',"atom",!0),t,e):t.eat(/[\<\>]/)?(t.eat(/[\<\>]/),"atom"):t.eat(/[\+\-\*\/\&\|\:\!]/)?"atom":t.eat(/[a-zA-Z$@_\xa1-\uffff]/)?(t.eatWhile(/[\w$\xa1-\uffff]/),t.eat(/[\?\!\=]/),"atom"):"operator";if("@"==o&&t.match(/^@?[a-zA-Z_\xa1-\uffff]/))return t.eat("@"),t.eatWhile(/[\w\xa1-\uffff]/),"variable-2";if("$"==o)return t.eat(/[a-zA-Z_]/)?t.eatWhile(/[\w]/):t.eat(/\d/)?t.eat(/\d/):t.next(),"variable-3";if(/[a-zA-Z_\xa1-\uffff]/.test(o))return t.eatWhile(/[\w\xa1-\uffff]/),t.eat(/[\?\!]/),t.eat(":")?"atom":"ident";if("|"!=o||!e.varList&&"{"!=e.lastTok&&"do"!=e.lastTok){if(/[\(\)\[\]{}\\;]/.test(o))return n=o,null;if("-"==o&&t.eat(">"))return"arrow";if(/[=+\-\/*:\.^%<>~|]/.test(o)){var u=t.eatWhile(/[=+\-\/*:\.^%<>~|]/);return"."!=o||u||(n="."),"operator"}return null}return n="|",null}function h(t){var e,i=t.pos,n=0,o=!1,s=!1;while(null!=(e=t.next()))if(s)s=!1;else{if("[{(".indexOf(e)>-1)n++;else if("]})".indexOf(e)>-1){if(n--,n<0)break}else if("/"==e&&0==n){o=!0;break}s="\\"==e}return t.backUp(t.pos-i),o}function d(t){return t||(t=1),function(e,i){if("}"==e.peek()){if(1==t)return i.tokenize.pop(),i.tokenize[i.tokenize.length-1](e,i);i.tokenize[i.tokenize.length-1]=d(t-1)}else"{"==e.peek()&&(i.tokenize[i.tokenize.length-1]=d(t+1));return u(e,i)}}function p(){var t=!1;return function(e,i){return t?(i.tokenize.pop(),i.tokenize[i.tokenize.length-1](e,i)):(t=!0,u(e,i))}}function _(t,e,i,n){return function(o,s){var r,a=!1;"read-quoted-paused"===s.context.type&&(s.context=s.context.prev,o.eat("}"));while(null!=(r=o.next())){if(r==t&&(n||!a)){s.tokenize.pop();break}if(i&&"#"==r&&!a){if(o.eat("{")){"}"==t&&(s.context={prev:s.context,type:"read-quoted-paused"}),s.tokenize.push(d());break}if(/[@\$]/.test(o.peek())){s.tokenize.push(p());break}}a=!a&&"\\"==r}return e}}function g(t,e){return function(i,n){return e&&i.eatSpace(),i.match(t)?n.tokenize.pop():i.skipToEnd(),"string"}}function f(t,e){return t.sol()&&t.match("=end")&&t.eol()&&e.tokenize.pop(),t.skipToEnd(),"comment"}return{startState:function(){return{tokenize:[u],indented:0,context:{type:"top",indented:-e.indentUnit},continuedLine:!1,lastTok:null,varList:!1}},token:function(t,e){n=null,t.sol()&&(e.indented=t.indentation());var i,a=e.tokenize[e.tokenize.length-1](t,e),l=n;if("ident"==a){var c=t.current();a="."==e.lastTok?"property":o.propertyIsEnumerable(t.current())?"keyword":/^[A-Z]/.test(c)?"tag":"def"==e.lastTok||"class"==e.lastTok||e.varList?"def":"variable","keyword"==a&&(l=c,s.propertyIsEnumerable(c)?i="indent":r.propertyIsEnumerable(c)?i="dedent":"if"!=c&&"unless"!=c||t.column()!=t.indentation()?"do"==c&&e.context.indented<e.indented&&(i="indent"):i="indent")}return(n||a&&"comment"!=a)&&(e.lastTok=l),"|"==n&&(e.varList=!e.varList),"indent"==i||/[\(\[\{]/.test(n)?e.context={prev:e.context,type:n||a,indented:e.indented}:("dedent"==i||/[\)\]\}]/.test(n))&&e.context.prev&&(e.context=e.context.prev),t.eol()&&(e.continuedLine="\\"==n||"operator"==a),a},indent:function(i,n){if(i.tokenize[i.tokenize.length-1]!=u)return t.Pass;var o=n&&n.charAt(0),s=i.context,r=s.type==l[o]||"keyword"==s.type&&/^(?:end|until|else|elsif|when|rescue)\b/.test(n);return s.indented+(r?0:e.indentUnit)+(i.continuedLine?e.indentUnit:0)},electricInput:/^\s*(?:end|rescue|elsif|else|\})$/,lineComment:"#",fold:"indent"}})),t.defineMIME("text/x-ruby","ruby")}))},"8c06":function(t,e,i){},"8c1d":function(t,e,i){(function(i){var n,o,s;(function(i,r){o=[],n=r,s="function"===typeof n?n.apply(e,o):n,void 0===s||(t.exports=s)})(0,(function(){"use strict";var t={};return t.Blocks=Object.create(null),t.utils={},t.utils.global=function(){return"object"===typeof self?self:"object"===typeof window?window:"object"===typeof i?i:this}(),t.Msg={},t.utils.global.Blockly||(t.utils.global.Blockly={}),t.utils.global.Blockly.Msg||(t.utils.global.Blockly.Msg=t.Msg),t.utils.Coordinate=function(t,e){this.x=t,this.y=e},t.utils.Coordinate.equals=function(t,e){return t==e||!(!t||!e)&&(t.x==e.x&&t.y==e.y)},t.utils.Coordinate.distance=function(t,e){var i=t.x-e.x,n=t.y-e.y;return Math.sqrt(i*i+n*n)},t.utils.Coordinate.magnitude=function(t){return Math.sqrt(t.x*t.x+t.y*t.y)},t.utils.Coordinate.difference=function(e,i){return new t.utils.Coordinate(e.x-i.x,e.y-i.y)},t.utils.Coordinate.sum=function(e,i){return new t.utils.Coordinate(e.x+i.x,e.y+i.y)},t.utils.Coordinate.prototype.scale=function(t){return this.x*=t,this.y*=t,this},t.utils.Coordinate.prototype.translate=function(t,e){return this.x+=t,this.y+=e,this},t.utils.string={},t.utils.string.startsWith=function(t,e){return 0==t.lastIndexOf(e,0)},t.utils.string.shortestStringLength=function(t){return t.length?t.reduce((function(t,e){return t.length<e.length?t:e})).length:0},t.utils.string.commonWordPrefix=function(e,i){if(!e.length)return 0;if(1==e.length)return e[0].length;for(var n=0,o=i||t.utils.string.shortestStringLength(e),s=0;s<o;s++){for(var r=e[0][s],a=1;a<e.length;a++)if(r!=e[a][s])return n;" "==r&&(n=s+1)}for(a=1;a<e.length;a++)if((r=e[a][s])&&" "!=r)return n;return o},t.utils.string.commonWordSuffix=function(e,i){if(!e.length)return 0;if(1==e.length)return e[0].length;for(var n=0,o=i||t.utils.string.shortestStringLength(e),s=0;s<o;s++){for(var r=e[0].substr(-s-1,1),a=1;a<e.length;a++)if(r!=e[a].substr(-s-1,1))return n;" "==r&&(n=s+1)}for(a=1;a<e.length;a++)if((r=e[a].charAt(e[a].length-s-1))&&" "!=r)return n;return o},t.utils.string.wrap=function(e,i){for(var n=e.split("\n"),o=0;o<n.length;o++)n[o]=t.utils.string.wrapLine_(n[o],i);return n.join("\n")},t.utils.string.wrapLine_=function(e,i){if(e.length<=i)return e;for(var n=e.trim().split(/\s+/),o=0;o<n.length;o++)n[o].length>i&&(i=n[o].length);o=-1/0;var s=1;do{var r=o,a=e,l=[],c=n.length/s,u=1;for(o=0;o<n.length-1;o++)u<(o+1.5)/c?(u++,l[o]=!0):l[o]=!1;l=t.utils.string.wrapMutate_(n,l,i),o=t.utils.string.wrapScore_(n,l,i),e=t.utils.string.wrapToText_(n,l),s++}while(o>r);return a},t.utils.string.wrapScore_=function(t,e,i){for(var n=[0],o=[],s=0;s<t.length;s++)n[n.length-1]+=t[s].length,!0===e[s]?(n.push(0),o.push(t[s].charAt(t[s].length-1))):!1===e[s]&&n[n.length-1]++;for(t=Math.max.apply(Math,n),s=e=0;s<n.length;s++)e-=2*Math.pow(Math.abs(i-n[s]),1.5),e-=Math.pow(t-n[s],1.5),-1!=".?!".indexOf(o[s])?e+=i/3:-1!=",;)]}".indexOf(o[s])&&(e+=i/4);return 1<n.length&&n[n.length-1]<=n[n.length-2]&&(e+=.5),e},t.utils.string.wrapMutate_=function(e,i,n){for(var o,s=t.utils.string.wrapScore_(e,i,n),r=0;r<i.length-1;r++)if(i[r]!=i[r+1]){var a=[].concat(i);a[r]=!a[r],a[r+1]=!a[r+1];var l=t.utils.string.wrapScore_(e,a,n);l>s&&(s=l,o=a)}return o?t.utils.string.wrapMutate_(e,o,n):i},t.utils.string.wrapToText_=function(t,e){for(var i=[],n=0;n<t.length;n++)i.push(t[n]),void 0!==e[n]&&i.push(e[n]?"\n":" ");return i.join("")},t.utils.Size=function(t,e){this.width=t,this.height=e},t.utils.Size.equals=function(t,e){return t==e||!(!t||!e)&&(t.width==e.width&&t.height==e.height)},t.utils.style={},t.utils.style.getSize=function(e){if("none"!=t.utils.style.getStyle_(e,"display"))return t.utils.style.getSizeWithDisplay_(e);var i=e.style,n=i.display,o=i.visibility,s=i.position;i.visibility="hidden",i.position="absolute",i.display="inline";var r=e.offsetWidth;return e=e.offsetHeight,i.display=n,i.position=s,i.visibility=o,new t.utils.Size(r,e)},t.utils.style.getSizeWithDisplay_=function(e){return new t.utils.Size(e.offsetWidth,e.offsetHeight)},t.utils.style.getStyle_=function(e,i){return t.utils.style.getComputedStyle(e,i)||t.utils.style.getCascadedStyle(e,i)||e.style&&e.style[i]},t.utils.style.getComputedStyle=function(t,e){if(document.defaultView&&document.defaultView.getComputedStyle){var i=document.defaultView.getComputedStyle(t,null);if(i)return i[e]||i.getPropertyValue(e)||""}return""},t.utils.style.getCascadedStyle=function(t,e){return t.currentStyle?t.currentStyle[e]:null},t.utils.style.getPageOffset=function(e){var i=new t.utils.Coordinate(0,0);e=e.getBoundingClientRect();var n=document.documentElement;return n=new t.utils.Coordinate(window.pageXOffset||n.scrollLeft,window.pageYOffset||n.scrollTop),i.x=e.left+n.x,i.y=e.top+n.y,i},t.utils.style.getViewportPageOffset=function(){var e=document.body,i=document.documentElement;return new t.utils.Coordinate(e.scrollLeft||i.scrollLeft,e.scrollTop||i.scrollTop)},t.utils.style.setElementShown=function(t,e){t.style.display=e?"":"none"},t.utils.style.isRightToLeft=function(e){return"rtl"==t.utils.style.getStyle_(e,"direction")},t.utils.style.getBorderBox=function(e){var i=t.utils.style.getComputedStyle(e,"borderLeftWidth"),n=t.utils.style.getComputedStyle(e,"borderRightWidth"),o=t.utils.style.getComputedStyle(e,"borderTopWidth");return e=t.utils.style.getComputedStyle(e,"borderBottomWidth"),{top:parseFloat(o),right:parseFloat(n),bottom:parseFloat(e),left:parseFloat(i)}},t.utils.style.scrollIntoContainerView=function(e,i,n){e=t.utils.style.getContainerOffsetToScrollInto(e,i,n),i.scrollLeft=e.x,i.scrollTop=e.y},t.utils.style.getContainerOffsetToScrollInto=function(e,i,n){var o=t.utils.style.getPageOffset(e),s=t.utils.style.getPageOffset(i),r=t.utils.style.getBorderBox(i),a=o.x-s.x-r.left;return o=o.y-s.y-r.top,s=t.utils.style.getSizeWithDisplay_(e),e=i.clientWidth-s.width,s=i.clientHeight-s.height,r=i.scrollLeft,i=i.scrollTop,n?(r+=a-e/2,i+=o-s/2):(r+=Math.min(a,Math.max(a-e,0)),i+=Math.min(o,Math.max(o-s,0))),new t.utils.Coordinate(r,i)},t.utils.userAgent={},function(e){function i(t){return-1!=n.indexOf(t.toUpperCase())}t.utils.userAgent.raw=e;var n=t.utils.userAgent.raw.toUpperCase();t.utils.userAgent.IE=i("Trident")||i("MSIE"),t.utils.userAgent.EDGE=i("Edge"),t.utils.userAgent.JAVA_FX=i("JavaFX"),t.utils.userAgent.WEBKIT=i("WebKit")&&!t.utils.userAgent.EDGE,t.utils.userAgent.GECKO=i("Gecko")&&!t.utils.userAgent.WEBKIT&&!t.utils.userAgent.IE&&!t.utils.userAgent.EDGE,t.utils.userAgent.ANDROID=i("Android"),t.utils.userAgent.IPAD=i("iPad"),t.utils.userAgent.IPOD=i("iPod"),t.utils.userAgent.IPHONE=i("iPhone")&&!t.utils.userAgent.IPAD&&!t.utils.userAgent.IPOD,t.utils.userAgent.MAC=i("Macintosh"),t.utils.userAgent.TABLET=t.utils.userAgent.IPAD||t.utils.userAgent.ANDROID&&!i("Mobile")||i("Silk"),t.utils.userAgent.MOBILE=!t.utils.userAgent.TABLET&&(t.utils.userAgent.IPOD||t.utils.userAgent.IPHONE||t.utils.userAgent.ANDROID||i("IEMobile"))}(t.utils.global.navigator&&t.utils.global.navigator.userAgent||""),t.utils.noEvent=function(t){t.preventDefault(),t.stopPropagation()},t.utils.isTargetInput=function(t){return"textarea"==t.target.type||"text"==t.target.type||"number"==t.target.type||"email"==t.target.type||"password"==t.target.type||"search"==t.target.type||"tel"==t.target.type||"url"==t.target.type||t.target.isContentEditable},t.utils.getRelativeXY=function(e){var i=new t.utils.Coordinate(0,0),n=e.getAttribute("x");return n&&(i.x=parseInt(n,10)),(n=e.getAttribute("y"))&&(i.y=parseInt(n,10)),(n=(n=e.getAttribute("transform"))&&n.match(t.utils.getRelativeXY.XY_REGEX_))&&(i.x+=Number(n[1]),n[3]&&(i.y+=Number(n[3]))),(e=e.getAttribute("style"))&&-1<e.indexOf("translate")&&(e=e.match(t.utils.getRelativeXY.XY_STYLE_REGEX_))&&(i.x+=Number(e[1]),e[3]&&(i.y+=Number(e[3]))),i},t.utils.getInjectionDivXY_=function(e){for(var i=0,n=0;e;){var o=t.utils.getRelativeXY(e);if(i+=o.x,n+=o.y,-1!=(" "+(e.getAttribute("class")||"")+" ").indexOf(" injectionDiv "))break;e=e.parentNode}return new t.utils.Coordinate(i,n)},t.utils.getRelativeXY.XY_REGEX_=/translate\(\s*([-+\d.e]+)([ ,]\s*([-+\d.e]+)\s*)?/,t.utils.getRelativeXY.XY_STYLE_REGEX_=/transform:\s*translate(?:3d)?\(\s*([-+\d.e]+)\s*px([ ,]\s*([-+\d.e]+)\s*px)?/,t.utils.isRightButton=function(e){return!(!e.ctrlKey||!t.utils.userAgent.MAC)||2==e.button},t.utils.mouseToSvg=function(t,e,i){var n=e.createSVGPoint();return n.x=t.clientX,n.y=t.clientY,i||(i=e.getScreenCTM().inverse()),n.matrixTransform(i)},t.utils.getScrollDeltaPixels=function(e){switch(e.deltaMode){case 0:return{x:e.deltaX,y:e.deltaY};case 1:return{x:e.deltaX*t.LINE_MODE_MULTIPLIER,y:e.deltaY*t.LINE_MODE_MULTIPLIER};case 2:return{x:e.deltaX*t.PAGE_MODE_MULTIPLIER,y:e.deltaY*t.PAGE_MODE_MULTIPLIER}}},t.utils.tokenizeInterpolation=function(e){return t.utils.tokenizeInterpolation_(e,!0)},t.utils.replaceMessageReferences=function(e){return"string"!=typeof e?e:(e=t.utils.tokenizeInterpolation_(e,!1),e.length?e[0]:"")},t.utils.checkMessageReferences=function(e){for(var i=!0,n=t.Msg,o=e.match(/%{BKY_[A-Z]\w*}/gi),s=0;s<o.length;s++){var r=o[s].toUpperCase();void 0==n[r.slice(6,-1)]&&(console.log("WARNING: No message string for "+o[s]+" in "+e),i=!1)}return i},t.utils.tokenizeInterpolation_=function(e,i){var n=[],o=e.split("");o.push("");for(var s=0,r=[],a=null,l=0;l<o.length;l++){var c=o[l];0==s?"%"==c?((c=r.join(""))&&n.push(c),r.length=0,s=1):r.push(c):1==s?"%"==c?(r.push(c),s=0):i&&"0"<=c&&"9">=c?(s=2,a=c,(c=r.join(""))&&n.push(c),r.length=0):"{"==c?s=3:(r.push("%",c),s=0):2==s?"0"<=c&&"9">=c?a+=c:(n.push(parseInt(a,10)),l--,s=0):3==s&&(""==c?(r.splice(0,0,"%{"),l--,s=0):"}"!=c?r.push(c):(s=r.join(""),/[A-Z]\w*/i.test(s)?(c=s.toUpperCase(),(c=t.utils.string.startsWith(c,"BKY_")?c.substring(4):null)&&c in t.Msg?(s=t.Msg[c],"string"==typeof s?Array.prototype.push.apply(n,t.utils.tokenizeInterpolation_(s,i)):i?n.push(String(s)):n.push(s)):n.push("%{"+s+"}")):n.push("%{"+s+"}"),s=r.length=0))}for((c=r.join(""))&&n.push(c),o=[],l=r.length=0;l<n.length;++l)"string"==typeof n[l]?r.push(n[l]):((c=r.join(""))&&o.push(c),r.length=0,o.push(n[l]));return(c=r.join(""))&&o.push(c),r.length=0,o},t.utils.genUid=function(){for(var e=t.utils.genUid.soup_.length,i=[],n=0;20>n;n++)i[n]=t.utils.genUid.soup_.charAt(Math.random()*e);return i.join("")},t.utils.genUid.soup_="!#$%()*+,-./:;=?@[]^_`{|}~ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t.utils.is3dSupported=function(){if(void 0!==t.utils.is3dSupported.cached_)return t.utils.is3dSupported.cached_;if(!t.utils.global.getComputedStyle)return!1;var e=document.createElement("p"),i="none",n={webkitTransform:"-webkit-transform",OTransform:"-o-transform",msTransform:"-ms-transform",MozTransform:"-moz-transform",transform:"transform"};for(var o in document.body.insertBefore(e,null),n)if(void 0!==e.style[o]){if(e.style[o]="translate3d(1px,1px,1px)",i=t.utils.global.getComputedStyle(e),!i)return document.body.removeChild(e),!1;i=i.getPropertyValue(n[o])}return document.body.removeChild(e),t.utils.is3dSupported.cached_="none"!==i,t.utils.is3dSupported.cached_},t.utils.runAfterPageLoad=function(t){if("object"!=typeof document)throw Error("Blockly.utils.runAfterPageLoad() requires browser document.");if("complete"==document.readyState)t();else var e=setInterval((function(){"complete"==document.readyState&&(clearInterval(e),t())}),10)},t.utils.getViewportBBox=function(){var e=t.utils.style.getViewportPageOffset();return{right:document.documentElement.clientWidth+e.x,bottom:document.documentElement.clientHeight+e.y,top:e.y,left:e.x}},t.utils.arrayRemove=function(t,e){var i=t.indexOf(e);return-1!=i&&(t.splice(i,1),!0)},t.utils.getDocumentScroll=function(){var e=document.documentElement,i=window;return t.utils.userAgent.IE&&i.pageYOffset!=e.scrollTop?new t.utils.Coordinate(e.scrollLeft,e.scrollTop):new t.utils.Coordinate(i.pageXOffset||e.scrollLeft,i.pageYOffset||e.scrollTop)},t.utils.getBlockTypeCounts=function(t,e){var i,n=Object.create(null),o=t.getDescendants(!0);if(e){var s=t.getNextBlock();s&&(s=o.indexOf(s),o.splice(s,o.length-s))}for(s=0;i=o[s];s++)n[i.type]?n[i.type]++:n[i.type]=1;return n},t.utils.screenToWsCoordinates=function(e,i){var n=i.x,o=i.y,s=e.getInjectionDiv().getBoundingClientRect();return n=new t.utils.Coordinate(n-s.left,o-s.top),o=e.getOriginOffsetInPixels(),t.utils.Coordinate.difference(n,o).scale(1/e.scale)},t.Events={},t.Events.group_="",t.Events.recordUndo=!0,t.Events.disabled_=0,t.Events.CREATE="create",t.Events.BLOCK_CREATE=t.Events.CREATE,t.Events.DELETE="delete",t.Events.BLOCK_DELETE=t.Events.DELETE,t.Events.CHANGE="change",t.Events.BLOCK_CHANGE=t.Events.CHANGE,t.Events.MOVE="move",t.Events.BLOCK_MOVE=t.Events.MOVE,t.Events.VAR_CREATE="var_create",t.Events.VAR_DELETE="var_delete",t.Events.VAR_RENAME="var_rename",t.Events.UI="ui",t.Events.COMMENT_CREATE="comment_create",t.Events.COMMENT_DELETE="comment_delete",t.Events.COMMENT_CHANGE="comment_change",t.Events.COMMENT_MOVE="comment_move",t.Events.FINISHED_LOADING="finished_loading",t.Events.BUMP_EVENTS=[t.Events.BLOCK_CREATE,t.Events.BLOCK_MOVE,t.Events.COMMENT_CREATE,t.Events.COMMENT_MOVE],t.Events.FIRE_QUEUE_=[],t.Events.fire=function(e){t.Events.isEnabled()&&(t.Events.FIRE_QUEUE_.length||setTimeout(t.Events.fireNow_,0),t.Events.FIRE_QUEUE_.push(e))},t.Events.fireNow_=function(){for(var e,i=t.Events.filter(t.Events.FIRE_QUEUE_,!0),n=t.Events.FIRE_QUEUE_.length=0;e=i[n];n++)if(e.workspaceId){var o=t.Workspace.getById(e.workspaceId);o&&o.fireChangeListener(e)}},t.Events.filter=function(e,i){var n=e.slice();i||n.reverse();for(var o,s=[],r=Object.create(null),a=0;o=n[a];a++)if(!o.isNull()){var l=[o.type,o.blockId,o.workspaceId].join(" "),c=r[l],u=c?c.event:null;c?o.type==t.Events.MOVE&&c.index==a-1?(u.newParentId=o.newParentId,u.newInputName=o.newInputName,u.newCoordinate=o.newCoordinate,c.index=a):o.type==t.Events.CHANGE&&o.element==u.element&&o.name==u.name?u.newValue=o.newValue:(o.type!=t.Events.UI||"click"!=o.element||"commentOpen"!=u.element&&"mutatorOpen"!=u.element&&"warningOpen"!=u.element)&&(r[l]={event:o,index:1},s.push(o)):(r[l]={event:o,index:a},s.push(o))}for(n=s.filter((function(t){return!t.isNull()})),i||n.reverse(),a=1;o=n[a];a++)o.type==t.Events.CHANGE&&"mutation"==o.element&&n.unshift(n.splice(a,1)[0]);return n},t.Events.clearPendingUndo=function(){for(var e,i=0;e=t.Events.FIRE_QUEUE_[i];i++)e.recordUndo=!1},t.Events.disable=function(){t.Events.disabled_++},t.Events.enable=function(){t.Events.disabled_--},t.Events.isEnabled=function(){return 0==t.Events.disabled_},t.Events.getGroup=function(){return t.Events.group_},t.Events.setGroup=function(e){t.Events.group_="boolean"==typeof e?e?t.utils.genUid():"":e},t.Events.getDescendantIds=function(t){var e=[];t=t.getDescendants(!1);for(var i,n=0;i=t[n];n++)e[n]=i.id;return e},t.Events.fromJson=function(e,i){switch(e.type){case t.Events.CREATE:var n=new t.Events.Create(null);break;case t.Events.DELETE:n=new t.Events.Delete(null);break;case t.Events.CHANGE:n=new t.Events.Change(null,"","","","");break;case t.Events.MOVE:n=new t.Events.Move(null);break;case t.Events.VAR_CREATE:n=new t.Events.VarCreate(null);break;case t.Events.VAR_DELETE:n=new t.Events.VarDelete(null);break;case t.Events.VAR_RENAME:n=new t.Events.VarRename(null,"");break;case t.Events.UI:n=new t.Events.Ui(null,"","","");break;case t.Events.COMMENT_CREATE:n=new t.Events.CommentCreate(null);break;case t.Events.COMMENT_CHANGE:n=new t.Events.CommentChange(null,"","");break;case t.Events.COMMENT_MOVE:n=new t.Events.CommentMove(null);break;case t.Events.COMMENT_DELETE:n=new t.Events.CommentDelete(null);break;default:throw Error("Unknown event type.")}return n.fromJson(e),n.workspaceId=i.id,n},t.Events.disableOrphans=function(e){if((e.type==t.Events.MOVE||e.type==t.Events.CREATE)&&e.workspaceId){var i=t.Workspace.getById(e.workspaceId);if(e=i.getBlockById(e.blockId)){var n=e.getParent();if(n&&n.isEnabled())for(i=e.getDescendants(!1),e=0;n=i[e];e++)n.setEnabled(!0);else if((e.outputConnection||e.previousConnection)&&!i.isDragging())do{e.setEnabled(!1),e=e.getNextBlock()}while(e)}}},t.Events.Abstract=function(){this.workspaceId=void 0,this.group=t.Events.getGroup(),this.recordUndo=t.Events.recordUndo},t.Events.Abstract.prototype.toJson=function(){var t={type:this.type};return this.group&&(t.group=this.group),t},t.Events.Abstract.prototype.fromJson=function(t){this.group=t.group},t.Events.Abstract.prototype.isNull=function(){return!1},t.Events.Abstract.prototype.run=function(t){},t.Events.Abstract.prototype.getEventWorkspace_=function(){if(this.workspaceId)var e=t.Workspace.getById(this.workspaceId);if(!e)throw Error("Workspace is null. Event must have been generated from real Blockly events.");return e},t.utils.object={},t.utils.object.inherits=function(t,e){t.superClass_=e.prototype,t.prototype=Object.create(e.prototype),t.prototype.constructor=t},t.utils.object.mixin=function(t,e){for(var i in e)t[i]=e[i]},t.utils.object.values=function(t){return Object.values?Object.values(t):Object.keys(t).map((function(e){return t[e]}))},t.utils.xml={},t.utils.xml.NAME_SPACE="https://developers.google.com/blockly/xml",t.utils.xml.document=function(){return document},t.utils.xml.createElement=function(e){return t.utils.xml.document().createElementNS(t.utils.xml.NAME_SPACE,e)},t.utils.xml.createTextNode=function(e){return t.utils.xml.document().createTextNode(e)},t.utils.xml.textToDomDocument=function(t){return(new DOMParser).parseFromString(t,"text/xml")},t.utils.xml.domToText=function(t){return(new XMLSerializer).serializeToString(t)},t.Events.BlockBase=function(e){t.Events.BlockBase.superClass_.constructor.call(this),this.blockId=e.id,this.workspaceId=e.workspace.id},t.utils.object.inherits(t.Events.BlockBase,t.Events.Abstract),t.Events.BlockBase.prototype.toJson=function(){var e=t.Events.BlockBase.superClass_.toJson.call(this);return e.blockId=this.blockId,e},t.Events.BlockBase.prototype.fromJson=function(e){t.Events.BlockBase.superClass_.fromJson.call(this,e),this.blockId=e.blockId},t.Events.Change=function(e,i,n,o,s){e&&(t.Events.Change.superClass_.constructor.call(this,e),this.element=i,this.name=n,this.oldValue=o,this.newValue=s)},t.utils.object.inherits(t.Events.Change,t.Events.BlockBase),t.Events.BlockChange=t.Events.Change,t.Events.Change.prototype.type=t.Events.CHANGE,t.Events.Change.prototype.toJson=function(){var e=t.Events.Change.superClass_.toJson.call(this);return e.element=this.element,this.name&&(e.name=this.name),e.newValue=this.newValue,e},t.Events.Change.prototype.fromJson=function(e){t.Events.Change.superClass_.fromJson.call(this,e),this.element=e.element,this.name=e.name,this.newValue=e.newValue},t.Events.Change.prototype.isNull=function(){return this.oldValue==this.newValue},t.Events.Change.prototype.run=function(e){var i=this.getEventWorkspace_().getBlockById(this.blockId);if(i)switch(i.mutator&&i.mutator.setVisible(!1),e=e?this.newValue:this.oldValue,this.element){case"field":(i=i.getField(this.name))?i.setValue(e):console.warn("Can't set non-existent field: "+this.name);break;case"comment":i.setCommentText(e||null);break;case"collapsed":i.setCollapsed(!!e);break;case"disabled":i.setEnabled(!e);break;case"inline":i.setInputsInline(!!e);break;case"mutation":var n="";if(i.mutationToDom&&(n=(n=i.mutationToDom())&&t.Xml.domToText(n)),i.domToMutation){var o=t.Xml.textToDom(e||"<mutation/>");i.domToMutation(o)}t.Events.fire(new t.Events.Change(i,"mutation",null,n,e));break;default:console.warn("Unknown change type: "+this.element)}else console.warn("Can't change non-existent block: "+this.blockId)},t.Events.Create=function(e){e&&(t.Events.Create.superClass_.constructor.call(this,e),this.xml=e.workspace.rendered?t.Xml.blockToDomWithXY(e):t.Xml.blockToDom(e),this.ids=t.Events.getDescendantIds(e))},t.utils.object.inherits(t.Events.Create,t.Events.BlockBase),t.Events.BlockCreate=t.Events.Create,t.Events.Create.prototype.type=t.Events.CREATE,t.Events.Create.prototype.toJson=function(){var e=t.Events.Create.superClass_.toJson.call(this);return e.xml=t.Xml.domToText(this.xml),e.ids=this.ids,e},t.Events.Create.prototype.fromJson=function(e){t.Events.Create.superClass_.fromJson.call(this,e),this.xml=t.Xml.textToDom(e.xml),this.ids=e.ids},t.Events.Create.prototype.run=function(e){var i=this.getEventWorkspace_();if(e)e=t.utils.xml.createElement("xml"),e.appendChild(this.xml),t.Xml.domToWorkspace(e,i);else{e=0;for(var n;n=this.ids[e];e++){var o=i.getBlockById(n);o?o.dispose(!1):n==this.blockId&&console.warn("Can't uncreate non-existent block: "+n)}}},t.Events.Delete=function(e){if(e){if(e.getParent())throw Error("Connected blocks cannot be deleted.");t.Events.Delete.superClass_.constructor.call(this,e),this.oldXml=e.workspace.rendered?t.Xml.blockToDomWithXY(e):t.Xml.blockToDom(e),this.ids=t.Events.getDescendantIds(e)}},t.utils.object.inherits(t.Events.Delete,t.Events.BlockBase),t.Events.BlockDelete=t.Events.Delete,t.Events.Delete.prototype.type=t.Events.DELETE,t.Events.Delete.prototype.toJson=function(){var e=t.Events.Delete.superClass_.toJson.call(this);return e.ids=this.ids,e},t.Events.Delete.prototype.fromJson=function(e){t.Events.Delete.superClass_.fromJson.call(this,e),this.ids=e.ids},t.Events.Delete.prototype.run=function(e){var i=this.getEventWorkspace_();if(e){e=0;for(var n;n=this.ids[e];e++){var o=i.getBlockById(n);o?o.dispose(!1):n==this.blockId&&console.warn("Can't delete non-existent block: "+n)}}else e=t.utils.xml.createElement("xml"),e.appendChild(this.oldXml),t.Xml.domToWorkspace(e,i)},t.Events.Move=function(e){e&&(t.Events.Move.superClass_.constructor.call(this,e),e=this.currentLocation_(),this.oldParentId=e.parentId,this.oldInputName=e.inputName,this.oldCoordinate=e.coordinate)},t.utils.object.inherits(t.Events.Move,t.Events.BlockBase),t.Events.BlockMove=t.Events.Move,t.Events.Move.prototype.type=t.Events.MOVE,t.Events.Move.prototype.toJson=function(){var e=t.Events.Move.superClass_.toJson.call(this);return this.newParentId&&(e.newParentId=this.newParentId),this.newInputName&&(e.newInputName=this.newInputName),this.newCoordinate&&(e.newCoordinate=Math.round(this.newCoordinate.x)+","+Math.round(this.newCoordinate.y)),e},t.Events.Move.prototype.fromJson=function(e){t.Events.Move.superClass_.fromJson.call(this,e),this.newParentId=e.newParentId,this.newInputName=e.newInputName,e.newCoordinate&&(e=e.newCoordinate.split(","),this.newCoordinate=new t.utils.Coordinate(Number(e[0]),Number(e[1])))},t.Events.Move.prototype.recordNew=function(){var t=this.currentLocation_();this.newParentId=t.parentId,this.newInputName=t.inputName,this.newCoordinate=t.coordinate},t.Events.Move.prototype.currentLocation_=function(){var t=this.getEventWorkspace_().getBlockById(this.blockId),e={},i=t.getParent();return i?(e.parentId=i.id,(t=i.getInputWithBlock(t))&&(e.inputName=t.name)):e.coordinate=t.getRelativeToSurfaceXY(),e},t.Events.Move.prototype.isNull=function(){return this.oldParentId==this.newParentId&&this.oldInputName==this.newInputName&&t.utils.Coordinate.equals(this.oldCoordinate,this.newCoordinate)},t.Events.Move.prototype.run=function(e){var i=this.getEventWorkspace_(),n=i.getBlockById(this.blockId);if(n){var o=e?this.newParentId:this.oldParentId,s=e?this.newInputName:this.oldInputName;e=e?this.newCoordinate:this.oldCoordinate;var r=null;if(o&&(r=i.getBlockById(o),!r))return void console.warn("Can't connect to non-existent block: "+o);if(n.getParent()&&n.unplug(),e)s=n.getRelativeToSurfaceXY(),n.moveBy(e.x-s.x,e.y-s.y);else{if(n=n.outputConnection||n.previousConnection,s){if(i=r.getInput(s))var a=i.connection}else n.type==t.PREVIOUS_STATEMENT&&(a=r.nextConnection);a?n.connect(a):console.warn("Can't connect to non-existent input: "+s)}}else console.warn("Can't move non-existent block: "+this.blockId)},t.Events.FinishedLoading=function(e){this.workspaceId=e.id,this.group=t.Events.getGroup(),this.recordUndo=!1},t.utils.object.inherits(t.Events.FinishedLoading,t.Events.Abstract),t.Events.FinishedLoading.prototype.type=t.Events.FINISHED_LOADING,t.Events.FinishedLoading.prototype.toJson=function(){var t={type:this.type};return this.group&&(t.group=this.group),this.workspaceId&&(t.workspaceId=this.workspaceId),t},t.Events.FinishedLoading.prototype.fromJson=function(t){this.workspaceId=t.workspaceId,this.group=t.group},t.Events.VarBase=function(e){t.Events.VarBase.superClass_.constructor.call(this),this.varId=e.getId(),this.workspaceId=e.workspace.id},t.utils.object.inherits(t.Events.VarBase,t.Events.Abstract),t.Events.VarBase.prototype.toJson=function(){var e=t.Events.VarBase.superClass_.toJson.call(this);return e.varId=this.varId,e},t.Events.VarBase.prototype.fromJson=function(e){t.Events.VarBase.superClass_.toJson.call(this),this.varId=e.varId},t.Events.VarCreate=function(e){e&&(t.Events.VarCreate.superClass_.constructor.call(this,e),this.varType=e.type,this.varName=e.name)},t.utils.object.inherits(t.Events.VarCreate,t.Events.VarBase),t.Events.VarCreate.prototype.type=t.Events.VAR_CREATE,t.Events.VarCreate.prototype.toJson=function(){var e=t.Events.VarCreate.superClass_.toJson.call(this);return e.varType=this.varType,e.varName=this.varName,e},t.Events.VarCreate.prototype.fromJson=function(e){t.Events.VarCreate.superClass_.fromJson.call(this,e),this.varType=e.varType,this.varName=e.varName},t.Events.VarCreate.prototype.run=function(t){var e=this.getEventWorkspace_();t?e.createVariable(this.varName,this.varType,this.varId):e.deleteVariableById(this.varId)},t.Events.VarDelete=function(e){e&&(t.Events.VarDelete.superClass_.constructor.call(this,e),this.varType=e.type,this.varName=e.name)},t.utils.object.inherits(t.Events.VarDelete,t.Events.VarBase),t.Events.VarDelete.prototype.type=t.Events.VAR_DELETE,t.Events.VarDelete.prototype.toJson=function(){var e=t.Events.VarDelete.superClass_.toJson.call(this);return e.varType=this.varType,e.varName=this.varName,e},t.Events.VarDelete.prototype.fromJson=function(e){t.Events.VarDelete.superClass_.fromJson.call(this,e),this.varType=e.varType,this.varName=e.varName},t.Events.VarDelete.prototype.run=function(t){var e=this.getEventWorkspace_();t?e.deleteVariableById(this.varId):e.createVariable(this.varName,this.varType,this.varId)},t.Events.VarRename=function(e,i){e&&(t.Events.VarRename.superClass_.constructor.call(this,e),this.oldName=e.name,this.newName=i)},t.utils.object.inherits(t.Events.VarRename,t.Events.VarBase),t.Events.VarRename.prototype.type=t.Events.VAR_RENAME,t.Events.VarRename.prototype.toJson=function(){var e=t.Events.VarRename.superClass_.toJson.call(this);return e.oldName=this.oldName,e.newName=this.newName,e},t.Events.VarRename.prototype.fromJson=function(e){t.Events.VarRename.superClass_.fromJson.call(this,e),this.oldName=e.oldName,this.newName=e.newName},t.Events.VarRename.prototype.run=function(t){var e=this.getEventWorkspace_();t?e.renameVariableById(this.varId,this.newName):e.renameVariableById(this.varId,this.oldName)},t.utils.dom={},t.utils.dom.SVG_NS="http://www.w3.org/2000/svg",t.utils.dom.HTML_NS="http://www.w3.org/1999/xhtml",t.utils.dom.XLINK_NS="http://www.w3.org/1999/xlink",t.utils.dom.Node={ELEMENT_NODE:1,TEXT_NODE:3,COMMENT_NODE:8,DOCUMENT_POSITION_CONTAINED_BY:16},t.utils.dom.cacheWidths_=null,t.utils.dom.cacheReference_=0,t.utils.dom.createSvgElement=function(e,i,n){for(var o in e=document.createElementNS(t.utils.dom.SVG_NS,e),i)e.setAttribute(o,i[o]);return document.body.runtimeStyle&&(e.runtimeStyle=e.currentStyle=e.style),n&&n.appendChild(e),e},t.utils.dom.addClass=function(t,e){var i=t.getAttribute("class")||"";return-1==(" "+i+" ").indexOf(" "+e+" ")&&(i&&(i+=" "),t.setAttribute("class",i+e),!0)},t.utils.dom.removeClass=function(t,e){var i=t.getAttribute("class");if(-1==(" "+i+" ").indexOf(" "+e+" "))return!1;i=i.split(/\s+/);for(var n=0;n<i.length;n++)i[n]&&i[n]!=e||(i.splice(n,1),n--);return i.length?t.setAttribute("class",i.join(" ")):t.removeAttribute("class"),!0},t.utils.dom.hasClass=function(t,e){return-1!=(" "+t.getAttribute("class")+" ").indexOf(" "+e+" ")},t.utils.dom.removeNode=function(t){return t&&t.parentNode?t.parentNode.removeChild(t):null},t.utils.dom.insertAfter=function(t,e){var i=e.nextSibling,n=e.parentNode;if(!n)throw Error("Reference node has no parent.");i?n.insertBefore(t,i):n.appendChild(t)},t.utils.dom.containsNode=function(e,i){return!!(e.compareDocumentPosition(i)&t.utils.dom.Node.DOCUMENT_POSITION_CONTAINED_BY)},t.utils.dom.setCssTransform=function(t,e){t.style.transform=e,t.style["-webkit-transform"]=e},t.utils.dom.startTextWidthCache=function(){t.utils.dom.cacheReference_++,t.utils.dom.cacheWidths_||(t.utils.dom.cacheWidths_={})},t.utils.dom.stopTextWidthCache=function(){t.utils.dom.cacheReference_--,t.utils.dom.cacheReference_||(t.utils.dom.cacheWidths_=null)},t.utils.dom.getTextWidth=function(e){var i,n=e.textContent+"\n"+e.className.baseVal;if(t.utils.dom.cacheWidths_&&(i=t.utils.dom.cacheWidths_[n]))return i;try{i=t.utils.userAgent.IE||t.utils.userAgent.EDGE?e.getBBox().width:e.getComputedTextLength()}catch(o){return 8*e.textContent.length}return t.utils.dom.cacheWidths_&&(t.utils.dom.cacheWidths_[n]=i),i},t.Xml={},t.Xml.workspaceToDom=function(e,i){var n=t.utils.xml.createElement("xml"),o=t.Xml.variablesToDom(t.Variables.allUsedVarModels(e));o.hasChildNodes()&&n.appendChild(o);var s,r=e.getTopComments(!0);for(o=0;s=r[o];o++)n.appendChild(s.toXmlWithXY(i));for(r=e.getTopBlocks(!0),o=0;s=r[o];o++)n.appendChild(t.Xml.blockToDomWithXY(s,i));return n},t.Xml.variablesToDom=function(e){for(var i,n=t.utils.xml.createElement("variables"),o=0;i=e[o];o++){var s=t.utils.xml.createElement("variable");s.appendChild(t.utils.xml.createTextNode(i.name)),i.type&&s.setAttribute("type",i.type),s.id=i.getId(),n.appendChild(s)}return n},t.Xml.blockToDomWithXY=function(e,i){var n;e.workspace.RTL&&(n=e.workspace.getWidth());var o=t.Xml.blockToDom(e,i),s=e.getRelativeToSurfaceXY();return o.setAttribute("x",Math.round(e.workspace.RTL?n-s.x:s.x)),o.setAttribute("y",Math.round(s.y)),o},t.Xml.fieldToDom_=function(e){if(e.isSerializable()){var i=t.utils.xml.createElement("field");return i.setAttribute("name",e.name),e.toXml(i)}return null},t.Xml.allFieldsToDom_=function(e,i){for(var n,o=0;n=e.inputList[o];o++)for(var s,r=0;s=n.fieldRow[r];r++)(s=t.Xml.fieldToDom_(s))&&i.appendChild(s)},t.Xml.blockToDom=function(e,i){var n=t.utils.xml.createElement(e.isShadow()?"shadow":"block");if(n.setAttribute("type",e.type),i||(n.id=e.id),e.mutationToDom){var o=e.mutationToDom();o&&(o.hasChildNodes()||o.hasAttributes())&&n.appendChild(o)}if(t.Xml.allFieldsToDom_(e,n),o=e.getCommentText()){var s=e.commentModel.size,r=e.commentModel.pinned,a=t.utils.xml.createElement("comment");a.appendChild(t.utils.xml.createTextNode(o)),a.setAttribute("pinned",r),a.setAttribute("h",s.height),a.setAttribute("w",s.width),n.appendChild(a)}for(e.data&&(o=t.utils.xml.createElement("data"),o.appendChild(t.utils.xml.createTextNode(e.data)),n.appendChild(o)),s=0;r=e.inputList[s];s++){var l;if(a=!0,r.type!=t.DUMMY_INPUT){var c=r.connection.targetBlock();r.type==t.INPUT_VALUE?l=t.utils.xml.createElement("value"):r.type==t.NEXT_STATEMENT&&(l=t.utils.xml.createElement("statement")),o=r.connection.getShadowDom(),!o||c&&c.isShadow()||l.appendChild(t.Xml.cloneShadow_(o,i)),c&&(l.appendChild(t.Xml.blockToDom(c,i)),a=!1),l.setAttribute("name",r.name),a||n.appendChild(l)}}return void 0!=e.inputsInline&&e.inputsInline!=e.inputsInlineDefault&&n.setAttribute("inline",e.inputsInline),e.isCollapsed()&&n.setAttribute("collapsed",!0),e.isEnabled()||n.setAttribute("disabled",!0),e.isDeletable()||e.isShadow()||n.setAttribute("deletable",!1),e.isMovable()||e.isShadow()||n.setAttribute("movable",!1),e.isEditable()||n.setAttribute("editable",!1),(s=e.getNextBlock())&&(l=t.utils.xml.createElement("next"),l.appendChild(t.Xml.blockToDom(s,i)),n.appendChild(l)),o=e.nextConnection&&e.nextConnection.getShadowDom(),!o||s&&s.isShadow()||l.appendChild(t.Xml.cloneShadow_(o,i)),n},t.Xml.cloneShadow_=function(e,i){for(var n,o=e=e.cloneNode(!0);o;)if(i&&"shadow"==o.nodeName&&o.removeAttribute("id"),o.firstChild)o=o.firstChild;else{for(;o&&!o.nextSibling;)n=o,o=o.parentNode,n.nodeType==t.utils.dom.Node.TEXT_NODE&&""==n.data.trim()&&o.firstChild!=n&&t.utils.dom.removeNode(n);o&&(n=o,o=o.nextSibling,n.nodeType==t.utils.dom.Node.TEXT_NODE&&""==n.data.trim()&&t.utils.dom.removeNode(n))}return e},t.Xml.domToText=function(e){e=t.utils.xml.domToText(e);var i=/(<[^/](?:[^>]*[^/])?>[^<]*)\n([^<]*<\/)/;do{var n=e;e=e.replace(i,"$1&#10;$2")}while(e!=n);return e},t.Xml.domToPrettyText=function(e){e=t.Xml.domToText(e).split("<");for(var i="",n=1;n<e.length;n++){var o=e[n];"/"==o[0]&&(i=i.substring(2)),e[n]=i+"<"+o,"/"!=o[0]&&"/>"!=o.slice(-2)&&(i+="  ")}return e=e.join("\n"),e=e.replace(/(<(\w+)\b[^>]*>[^\n]*)\n *<\/\2>/g,"$1</$2>"),e.replace(/^\n/,"")},t.Xml.textToDom=function(e){var i=t.utils.xml.textToDomDocument(e);if(!i||!i.documentElement||i.getElementsByTagName("parsererror").length)throw Error("textToDom was unable to parse: "+e);return i.documentElement},t.Xml.clearWorkspaceAndLoadFromXml=function(e,i){i.setResizesEnabled(!1),i.clear();var n=t.Xml.domToWorkspace(e,i);return i.setResizesEnabled(!0),n},t.Xml.domToWorkspace=function(e,i){if(e instanceof t.Workspace){var n=e;e=i,i=n,console.warn("Deprecated call to Blockly.Xml.domToWorkspace, swap the arguments.")}var o;i.RTL&&(o=i.getWidth()),n=[],t.utils.dom.startTextWidthCache();var s=e.childNodes.length,r=t.Events.getGroup();r||t.Events.setGroup(!0),i.setResizesEnabled&&i.setResizesEnabled(!1);var a=!0;try{for(var l=0;l<s;l++){var c=e.childNodes[l],u=c.nodeName.toLowerCase();if("block"==u||"shadow"==u&&!t.Events.recordUndo){var h=t.Xml.domToBlock(c,i);n.push(h.id);var d=c.hasAttribute("x")?parseInt(c.getAttribute("x"),10):10,p=c.hasAttribute("y")?parseInt(c.getAttribute("y"),10):10;isNaN(d)||isNaN(p)||h.moveBy(i.RTL?o-d:d,p),a=!1}else{if("shadow"==u)throw TypeError("Shadow block cannot be a top-level block.");if("comment"==u)i.rendered?t.WorkspaceCommentSvg?t.WorkspaceCommentSvg.fromXml(c,i,o):console.warn("Missing require for Blockly.WorkspaceCommentSvg, ignoring workspace comment."):t.WorkspaceComment?t.WorkspaceComment.fromXml(c,i):console.warn("Missing require for Blockly.WorkspaceComment, ignoring workspace comment.");else if("variables"==u){if(!a)throw Error("'variables' tag must exist once before block and shadow tag elements in the workspace XML, but it was found in another location.");t.Xml.domToVariables(c,i),a=!1}}}}finally{r||t.Events.setGroup(!1),t.utils.dom.stopTextWidthCache()}return i.setResizesEnabled&&i.setResizesEnabled(!0),t.Events.fire(new t.Events.FinishedLoading(i)),n},t.Xml.appendDomToWorkspace=function(e,i){if(i.hasOwnProperty("scale")){var n=t.BlockSvg.TAB_WIDTH;try{t.BlockSvg.TAB_WIDTH=0;var o=i.getBlocksBoundingBox()}finally{t.BlockSvg.TAB_WIDTH=n}}if(n=t.Xml.domToWorkspace(e,i),o&&o.top!=o.bottom){var s,r=o.bottom,a=o.left,l=1/0,c=1/0;for(o=0;o<n.length;o++){var u=i.getBlockById(n[o]).getRelativeToSurfaceXY();u.y<c&&(c=u.y),u.x<l&&(l=u.x)}for(r=r-c+t.BlockSvg.SEP_SPACE_Y,a-=l,i.RTL&&(s=i.getWidth()),o=0;o<n.length;o++)i.getBlockById(n[o]).moveBy(i.RTL?s-a:a,r)}return n},t.Xml.domToBlock=function(e,i){if(e instanceof t.Workspace){var n=e;e=i,i=n,console.warn("Deprecated call to Blockly.Xml.domToBlock, swap the arguments.")}t.Events.disable(),n=i.getAllVariables();try{var o=t.Xml.domToBlockHeadless_(e,i),s=o.getDescendants(!1);if(i.rendered){o.setConnectionsHidden(!0);for(var r=s.length-1;0<=r;r--)s[r].initSvg();for(r=s.length-1;0<=r;r--)s[r].render(!1);setTimeout((function(){o.workspace&&o.setConnectionsHidden(!1)}),1),o.updateDisabled(),i.resizeContents()}else for(r=s.length-1;0<=r;r--)s[r].initModel()}finally{t.Events.enable()}if(t.Events.isEnabled()){for(s=t.Variables.getAddedVariables(i,n),r=0;r<s.length;r++)t.Events.fire(new t.Events.VarCreate(s[r]));t.Events.fire(new t.Events.BlockCreate(o))}return o},t.Xml.domToVariables=function(e,i){for(var n,o=0;n=e.childNodes[o];o++)if(n.nodeType==t.utils.dom.Node.ELEMENT_NODE){var s=n.getAttribute("type"),r=n.getAttribute("id");i.createVariable(n.textContent,s,r)}},t.Xml.domToBlockHeadless_=function(e,i){var n=null,o=e.getAttribute("type");if(!o)throw TypeError("Block type unspecified: "+e.outerHTML);var s=e.getAttribute("id");n=i.newBlock(o,s);var r,a=null;for(s=0;r=e.childNodes[s];s++)if(r.nodeType!=t.utils.dom.Node.TEXT_NODE){for(var l,c=a=null,u=0;l=r.childNodes[u];u++)l.nodeType==t.utils.dom.Node.ELEMENT_NODE&&("block"==l.nodeName.toLowerCase()?a=l:"shadow"==l.nodeName.toLowerCase()&&(c=l));switch(!a&&c&&(a=c),u=r.getAttribute("name"),r.nodeName.toLowerCase()){case"mutation":n.domToMutation&&(n.domToMutation(r),n.initSvg&&n.initSvg());break;case"comment":if(!t.Comment){console.warn("Missing require for Blockly.Comment, ignoring block comment.");break}a=r.textContent,c="true"==r.getAttribute("pinned"),u=parseInt(r.getAttribute("w"),10),r=parseInt(r.getAttribute("h"),10),n.setCommentText(a),n.commentModel.pinned=c,isNaN(u)||isNaN(r)||(n.commentModel.size=new t.utils.Size(u,r)),c&&n.getCommentIcon&&!n.isInFlyout&&setTimeout((function(){n.getCommentIcon().setVisible(!0)}),1);break;case"data":n.data=r.textContent;break;case"title":case"field":t.Xml.domToField_(n,u,r);break;case"value":case"statement":if(r=n.getInput(u),!r){console.warn("Ignoring non-existent input "+u+" in block "+o);break}if(c&&r.connection.setShadowDom(c),a)if(a=t.Xml.domToBlockHeadless_(a,i),a.outputConnection)r.connection.connect(a.outputConnection);else{if(!a.previousConnection)throw TypeError("Child block does not have output or previous statement.");r.connection.connect(a.previousConnection)}break;case"next":if(c&&n.nextConnection&&n.nextConnection.setShadowDom(c),a){if(!n.nextConnection)throw TypeError("Next statement does not exist.");if(n.nextConnection.isConnected())throw TypeError("Next statement is already connected.");if(a=t.Xml.domToBlockHeadless_(a,i),!a.previousConnection)throw TypeError("Next block does not have previous statement.");n.nextConnection.connect(a.previousConnection)}break;default:console.warn("Ignoring unknown tag: "+r.nodeName)}}if((s=e.getAttribute("inline"))&&n.setInputsInline("true"==s),(s=e.getAttribute("disabled"))&&n.setEnabled("true"!=s&&"disabled"!=s),(s=e.getAttribute("deletable"))&&n.setDeletable("true"==s),(s=e.getAttribute("movable"))&&n.setMovable("true"==s),(s=e.getAttribute("editable"))&&n.setEditable("true"==s),(s=e.getAttribute("collapsed"))&&n.setCollapsed("true"==s),"shadow"==e.nodeName.toLowerCase()){for(o=n.getChildren(!1),s=0;r=o[s];s++)if(!r.isShadow())throw TypeError("Shadow block not allowed non-shadow child.");if(n.getVarModels().length)throw TypeError("Shadow blocks cannot have variable references.");n.setShadow(!0)}return n},t.Xml.domToField_=function(t,e,i){var n=t.getField(e);n?n.fromXml(i):console.warn("Ignoring non-existent field "+e+" in block "+t.type)},t.Xml.deleteNext=function(t){for(var e,i=0;e=t.childNodes[i];i++)if("next"==e.nodeName.toLowerCase()){t.removeChild(e);break}},t.Connection=function(t,e){this.sourceBlock_=t,this.type=e},t.Connection.CAN_CONNECT=0,t.Connection.REASON_SELF_CONNECTION=1,t.Connection.REASON_WRONG_TYPE=2,t.Connection.REASON_TARGET_NULL=3,t.Connection.REASON_CHECKS_FAILED=4,t.Connection.REASON_DIFFERENT_WORKSPACES=5,t.Connection.REASON_SHADOW_PARENT=6,t.Connection.prototype.targetConnection=null,t.Connection.prototype.disposed=!1,t.Connection.prototype.check_=null,t.Connection.prototype.shadowDom_=null,t.Connection.prototype.x_=0,t.Connection.prototype.y_=0,t.Connection.prototype.connect_=function(e){var i,n=this,o=n.getSourceBlock(),s=e.getSourceBlock();if(e.isConnected()&&e.disconnect(),n.isConnected()){var r=n.targetBlock(),a=n.getShadowDom();if(n.setShadowDom(null),r.isShadow())a=t.Xml.blockToDom(r),r.dispose(),r=null;else if(n.type==t.INPUT_VALUE){if(!r.outputConnection)throw Error("Orphan block does not have an output connection.");var l=t.Connection.lastConnectionInRow_(s,r);l&&(r.outputConnection.connect(l),r=null)}else if(n.type==t.NEXT_STATEMENT){if(!r.previousConnection)throw Error("Orphan block does not have a previous connection.");for(l=s;l.nextConnection;){var c=l.getNextBlock();if(!c||c.isShadow()){r.previousConnection.checkType_(l.nextConnection)&&(l.nextConnection.connect(r.previousConnection),r=null);break}l=c}}if(r&&(n.disconnect(),t.Events.recordUndo)){var u=t.Events.getGroup();setTimeout((function(){r.workspace&&!r.getParent()&&(t.Events.setGroup(u),r.outputConnection?r.outputConnection.onFailedConnect(n):r.previousConnection&&r.previousConnection.onFailedConnect(n),t.Events.setGroup(!1))}),t.BUMP_DELAY)}n.setShadowDom(a)}t.Events.isEnabled()&&(i=new t.Events.BlockMove(s)),t.Connection.connectReciprocally_(n,e),s.setParent(o),i&&(i.recordNew(),t.Events.fire(i))},t.Connection.prototype.dispose=function(){if(this.isConnected()){this.setShadowDom(null);var t=this.targetBlock();t.isShadow()?t.dispose():t.unplug()}this.disposed=!0},t.Connection.prototype.getSourceBlock=function(){return this.sourceBlock_},t.Connection.prototype.isSuperior=function(){return this.type==t.INPUT_VALUE||this.type==t.NEXT_STATEMENT},t.Connection.prototype.isConnected=function(){return!!this.targetConnection},t.Connection.prototype.canConnectWithReason_=function(e){if(!e)return t.Connection.REASON_TARGET_NULL;if(this.isSuperior())var i=this.sourceBlock_,n=e.getSourceBlock();else n=this.sourceBlock_,i=e.getSourceBlock();return i&&i==n?t.Connection.REASON_SELF_CONNECTION:e.type!=t.OPPOSITE_TYPE[this.type]?t.Connection.REASON_WRONG_TYPE:i&&n&&i.workspace!==n.workspace?t.Connection.REASON_DIFFERENT_WORKSPACES:this.checkType_(e)?i.isShadow()&&!n.isShadow()?t.Connection.REASON_SHADOW_PARENT:t.Connection.CAN_CONNECT:t.Connection.REASON_CHECKS_FAILED},t.Connection.prototype.checkConnection_=function(e){switch(this.canConnectWithReason_(e)){case t.Connection.CAN_CONNECT:break;case t.Connection.REASON_SELF_CONNECTION:throw Error("Attempted to connect a block to itself.");case t.Connection.REASON_DIFFERENT_WORKSPACES:throw Error("Blocks not on same workspace.");case t.Connection.REASON_WRONG_TYPE:throw Error("Attempt to connect incompatible types.");case t.Connection.REASON_TARGET_NULL:throw Error("Target connection is null.");case t.Connection.REASON_CHECKS_FAILED:throw Error("Connection checks failed. "+this+" expected "+this.check_+", found "+e.check_);case t.Connection.REASON_SHADOW_PARENT:throw Error("Connecting non-shadow to shadow block.");default:throw Error("Unknown connection failure: this should never happen!")}},t.Connection.prototype.canConnectToPrevious_=function(e){return!this.targetConnection&&-1==t.draggingConnections_.indexOf(e)&&(!e.targetConnection||(e=e.targetBlock(),!!e.isInsertionMarker()&&!e.getPreviousBlock()))},t.Connection.prototype.isConnectionAllowed=function(e){if(e.sourceBlock_.isInsertionMarker()||this.canConnectWithReason_(e)!=t.Connection.CAN_CONNECT)return!1;switch(e.type){case t.PREVIOUS_STATEMENT:return this.canConnectToPrevious_(e);case t.OUTPUT_VALUE:if(e.isConnected()&&!e.targetBlock().isInsertionMarker()||this.isConnected())return!1;break;case t.INPUT_VALUE:if(e.isConnected()&&!e.targetBlock().isMovable()&&!e.targetBlock().isShadow())return!1;break;case t.NEXT_STATEMENT:if(e.isConnected()&&!this.sourceBlock_.nextConnection&&!e.targetBlock().isShadow()&&e.targetBlock().nextConnection)return!1;break;default:throw Error("Unknown connection type in isConnectionAllowed")}return-1==t.draggingConnections_.indexOf(e)},t.Connection.prototype.onFailedConnect=function(t){},t.Connection.prototype.connect=function(e){if(this.targetConnection!=e){this.checkConnection_(e);var i=t.Events.getGroup();i||t.Events.setGroup(!0),this.isSuperior()?this.connect_(e):e.connect_(this),i||t.Events.setGroup(!1)}},t.Connection.connectReciprocally_=function(t,e){if(!t||!e)throw Error("Cannot connect null connections.");t.targetConnection=e,e.targetConnection=t},t.Connection.singleConnection_=function(e,i){for(var n=!1,o=0;o<e.inputList.length;o++){var s=e.inputList[o].connection;if(s&&s.type==t.INPUT_VALUE&&i.outputConnection.checkType_(s)){if(n)return null;n=s}}return n},t.Connection.lastConnectionInRow_=function(e,i){for(var n,o=e;n=t.Connection.singleConnection_(o,i);)if(o=n.targetBlock(),!o||o.isShadow())return n;return null},t.Connection.prototype.disconnect=function(){var e=this.targetConnection;if(!e)throw Error("Source connection not connected.");if(e.targetConnection!=this)throw Error("Target connection not connected to source connection.");if(this.isSuperior()){var i=this.sourceBlock_,n=e.getSourceBlock();e=this}else i=e.getSourceBlock(),n=this.sourceBlock_;var o=t.Events.getGroup();o||t.Events.setGroup(!0),this.disconnectInternal_(i,n),e.respawnShadow_(),o||t.Events.setGroup(!1)},t.Connection.prototype.disconnectInternal_=function(e,i){var n;t.Events.isEnabled()&&(n=new t.Events.BlockMove(i)),this.targetConnection=this.targetConnection.targetConnection=null,i.setParent(null),n&&(n.recordNew(),t.Events.fire(n))},t.Connection.prototype.respawnShadow_=function(){var e=this.getSourceBlock(),i=this.getShadowDom();if(e.workspace&&i&&t.Events.recordUndo)if(e=t.Xml.domToBlock(i,e.workspace),e.outputConnection)this.connect(e.outputConnection);else{if(!e.previousConnection)throw Error("Child block does not have output or previous statement.");this.connect(e.previousConnection)}},t.Connection.prototype.targetBlock=function(){return this.isConnected()?this.targetConnection.getSourceBlock():null},t.Connection.prototype.checkType_=function(t){if(!this.check_||!t.check_)return!0;for(var e=0;e<this.check_.length;e++)if(-1!=t.check_.indexOf(this.check_[e]))return!0;return!1},t.Connection.prototype.onCheckChanged_=function(){this.isConnected()&&!this.checkType_(this.targetConnection)&&(this.isSuperior()?this.targetBlock():this.sourceBlock_).unplug()},t.Connection.prototype.setCheck=function(t){return t?(Array.isArray(t)||(t=[t]),this.check_=t,this.onCheckChanged_()):this.check_=null,this},t.Connection.prototype.getCheck=function(){return this.check_},t.Connection.prototype.setShadowDom=function(t){this.shadowDom_=t},t.Connection.prototype.getShadowDom=function(){return this.shadowDom_},t.Connection.prototype.neighbours_=function(t){return[]},t.Connection.prototype.getParentInput=function(){for(var t=null,e=this.sourceBlock_,i=e.inputList,n=0;n<e.inputList.length;n++)if(i[n].connection===this){t=i[n];break}return t},t.Connection.prototype.toString=function(){var t=this.sourceBlock_;if(!t)return"Orphan Connection";if(t.outputConnection==this)var e="Output Connection of ";else if(t.previousConnection==this)e="Previous Connection of ";else if(t.nextConnection==this)e="Next Connection of ";else{e=null;for(var i,n=0;i=t.inputList[n];n++)if(i.connection==this){e=i;break}if(!e)return console.warn("Connection not actually connected to sourceBlock_"),"Orphan Connection";e='Input "'+e.name+'" connection on '}return e+t.toDevString()},t.Extensions={},t.Extensions.ALL_={},t.Extensions.register=function(e,i){if("string"!=typeof e||""==e.trim())throw Error('Error: Invalid extension name "'+e+'"');if(t.Extensions.ALL_[e])throw Error('Error: Extension "'+e+'" is already registered.');if("function"!=typeof i)throw Error('Error: Extension "'+e+'" must be a function');t.Extensions.ALL_[e]=i},t.Extensions.registerMixin=function(e,i){if(!i||"object"!=typeof i)throw Error('Error: Mixin "'+e+'" must be a object');t.Extensions.register(e,(function(){this.mixin(i)}))},t.Extensions.registerMutator=function(e,i,n,o){var s='Error when registering mutator "'+e+'": ';t.Extensions.checkHasFunction_(s,i.domToMutation,"domToMutation"),t.Extensions.checkHasFunction_(s,i.mutationToDom,"mutationToDom");var r=t.Extensions.checkMutatorDialog_(i,s);if(n&&"function"!=typeof n)throw Error('Extension "'+e+'" is not a function');t.Extensions.register(e,(function(){if(r){if(!t.Mutator)throw Error(s+"Missing require for Blockly.Mutator");this.setMutator(new t.Mutator(o))}this.mixin(i),n&&n.apply(this)}))},t.Extensions.unregister=function(e){t.Extensions.ALL_[e]?delete t.Extensions.ALL_[e]:console.warn('No extension mapping for name "'+e+'" found to unregister')},t.Extensions.apply=function(e,i,n){var o=t.Extensions.ALL_[e];if("function"!=typeof o)throw Error('Error: Extension "'+e+'" not found.');if(n)t.Extensions.checkNoMutatorProperties_(e,i);else var s=t.Extensions.getMutatorProperties_(i);if(o.apply(i),n)t.Extensions.checkBlockHasMutatorProperties_('Error after applying mutator "'+e+'": ',i);else if(!t.Extensions.mutatorPropertiesMatch_(s,i))throw Error('Error when applying extension "'+e+'": mutation properties changed when applying a non-mutator extension.')},t.Extensions.checkHasFunction_=function(t,e,i){if(!e)throw Error(t+'missing required property "'+i+'"');if("function"!=typeof e)throw Error(t+'" required property "'+i+'" must be a function')},t.Extensions.checkNoMutatorProperties_=function(e,i){if(t.Extensions.getMutatorProperties_(i).length)throw Error('Error: tried to apply mutation "'+e+'" to a block that already has mutator functions.  Block id: '+i.id)},t.Extensions.checkMutatorDialog_=function(t,e){var i=void 0!==t.compose,n=void 0!==t.decompose;if(i&&n){if("function"!=typeof t.compose)throw Error(e+"compose must be a function.");if("function"!=typeof t.decompose)throw Error(e+"decompose must be a function.");return!0}if(i||n)throw Error(e+'Must have both or neither of "compose" and "decompose"');return!1},t.Extensions.checkBlockHasMutatorProperties_=function(e,i){if("function"!=typeof i.domToMutation)throw Error(e+'Applying a mutator didn\'t add "domToMutation"');if("function"!=typeof i.mutationToDom)throw Error(e+'Applying a mutator didn\'t add "mutationToDom"');t.Extensions.checkMutatorDialog_(i,e)},t.Extensions.getMutatorProperties_=function(t){var e=[];return void 0!==t.domToMutation&&e.push(t.domToMutation),void 0!==t.mutationToDom&&e.push(t.mutationToDom),void 0!==t.compose&&e.push(t.compose),void 0!==t.decompose&&e.push(t.decompose),e},t.Extensions.mutatorPropertiesMatch_=function(e,i){var n=t.Extensions.getMutatorProperties_(i);if(n.length!=e.length)return!1;for(var o=0;o<n.length;o++)if(e[o]!=n[o])return!1;return!0},t.Extensions.buildTooltipForDropdown=function(e,i){var n=[];return"object"==typeof document&&t.utils.runAfterPageLoad((function(){for(var e in i)t.utils.checkMessageReferences(i[e])})),function(){this.type&&-1==n.indexOf(this.type)&&(t.Extensions.checkDropdownOptionsInTable_(this,e,i),n.push(this.type)),this.setTooltip(function(){var o=this.getFieldValue(e),s=i[o];return null==s?-1==n.indexOf(this.type)&&(o="No tooltip mapping for value "+o+" of field "+e,null!=this.type&&(o+=" of block type "+this.type),console.warn(o+".")):s=t.utils.replaceMessageReferences(s),s}.bind(this))}},t.Extensions.checkDropdownOptionsInTable_=function(t,e,i){var n=t.getField(e);if(!n.isOptionListDynamic()){n=n.getOptions();for(var o=0;o<n.length;++o){var s=n[o][1];null==i[s]&&console.warn("No tooltip mapping for value "+s+" of field "+e+" of block type "+t.type)}}},t.Extensions.buildTooltipWithFieldText=function(e,i){return"object"==typeof document&&t.utils.runAfterPageLoad((function(){t.utils.checkMessageReferences(e)})),function(){this.setTooltip(function(){var n=this.getField(i);return t.utils.replaceMessageReferences(e).replace("%1",n?n.getText():"")}.bind(this))}},t.Extensions.extensionParentTooltip_=function(){this.tooltipWhenNotConnected_=this.tooltip,this.setTooltip(function(){var t=this.getParent();return t&&t.getInputsInline()&&t.tooltip||this.tooltipWhenNotConnected_}.bind(this))},t.Extensions.register("parent_tooltip_when_inline",t.Extensions.extensionParentTooltip_),t.blockAnimations={},t.blockAnimations.disconnectPid_=0,t.blockAnimations.disconnectGroup_=null,t.blockAnimations.disposeUiEffect=function(e){var i=e.workspace,n=e.getSvgRoot();i.getAudioManager().play("delete"),e=i.getSvgXY(n),n=n.cloneNode(!0),n.translateX_=e.x,n.translateY_=e.y,n.setAttribute("transform","translate("+e.x+","+e.y+")"),i.getParentSvg().appendChild(n),n.bBox_=n.getBBox(),t.blockAnimations.disposeUiStep_(n,i.RTL,new Date,i.scale)},t.blockAnimations.disposeUiStep_=function(e,i,n,o){var s=(new Date-n)/150;1<s?t.utils.dom.removeNode(e):(e.setAttribute("transform","translate("+(e.translateX_+(i?-1:1)*e.bBox_.width*o/2*s)+","+(e.translateY_+e.bBox_.height*o*s)+") scale("+(1-s)*o+")"),setTimeout(t.blockAnimations.disposeUiStep_,10,e,i,n,o))},t.blockAnimations.connectionUiEffect=function(e){var i=e.workspace,n=i.scale;if(i.getAudioManager().play("click"),!(1>n)){var o=i.getSvgXY(e.getSvgRoot());e.outputConnection?(o.x+=(e.RTL?3:-3)*n,o.y+=13*n):e.previousConnection&&(o.x+=(e.RTL?-23:23)*n,o.y+=3*n),e=t.utils.dom.createSvgElement("circle",{cx:o.x,cy:o.y,r:0,fill:"none",stroke:"#888","stroke-width":10},i.getParentSvg()),t.blockAnimations.connectionUiStep_(e,new Date,n)}},t.blockAnimations.connectionUiStep_=function(e,i,n){var o=(new Date-i)/150;1<o?t.utils.dom.removeNode(e):(e.setAttribute("r",25*o*n),e.style.opacity=1-o,t.blockAnimations.disconnectPid_=setTimeout(t.blockAnimations.connectionUiStep_,10,e,i,n))},t.blockAnimations.disconnectUiEffect=function(e){if(e.workspace.getAudioManager().play("disconnect"),!(1>e.workspace.scale)){var i=e.getHeightWidth().height;i=Math.atan(10/i)/Math.PI*180,e.RTL||(i*=-1),t.blockAnimations.disconnectUiStep_(e.getSvgRoot(),i,new Date)}},t.blockAnimations.disconnectUiStep_=function(e,i,n){var o=(new Date-n)/200;1<o?e.skew_="":(e.skew_="skewX("+Math.round(Math.sin(o*Math.PI*3)*(1-o)*i)+")",t.blockAnimations.disconnectGroup_=e,t.blockAnimations.disconnectPid_=setTimeout(t.blockAnimations.disconnectUiStep_,10,e,i,n)),e.setAttribute("transform",e.translate_+e.skew_)},t.blockAnimations.disconnectUiStop=function(){if(t.blockAnimations.disconnectGroup_){clearTimeout(t.blockAnimations.disconnectPid_);var e=t.blockAnimations.disconnectGroup_;e.skew_="",e.setAttribute("transform",e.translate_),t.blockAnimations.disconnectGroup_=null}},t.InsertionMarkerManager=function(e){this.topBlock_=t.selected=e,this.workspace_=e.workspace,this.lastMarker_=this.lastOnStack_=null,this.firstMarker_=this.createMarkerBlock_(this.topBlock_),this.localConnection_=this.closestConnection_=null,this.wouldDeleteBlock_=!1,this.markerConnection_=null,this.highlightingBlock_=!1,this.highlightedBlock_=null,this.availableConnections_=this.initAvailableConnections_()},t.InsertionMarkerManager.prototype.dispose=function(){this.workspace_=this.topBlock_=null,this.availableConnections_.length=0,this.localConnection_=this.closestConnection_=null,t.Events.disable();try{this.firstMarker_&&(this.firstMarker_.dispose(),this.firstMarker_=null),this.lastMarker_&&(this.lastMarker_.dispose(),this.lastMarker_=null)}finally{t.Events.enable()}this.highlightedBlock_=null},t.InsertionMarkerManager.prototype.wouldDeleteBlock=function(){return this.wouldDeleteBlock_},t.InsertionMarkerManager.prototype.wouldConnectBlock=function(){return!!this.closestConnection_},t.InsertionMarkerManager.prototype.applyConnections=function(){if(this.closestConnection_&&(t.Events.disable(),this.hidePreview_(),t.Events.enable(),this.localConnection_.connect(this.closestConnection_),this.topBlock_.rendered)){var e=this.localConnection_.isSuperior()?this.closestConnection_:this.localConnection_;t.blockAnimations.connectionUiEffect(e.getSourceBlock()),this.topBlock_.getRootBlock().bringToFront()}},t.InsertionMarkerManager.prototype.update=function(e,i){var n=this.getCandidate_(e);((this.wouldDeleteBlock_=this.shouldDelete_(n,i))||this.shouldUpdatePreviews_(n,e))&&(t.Events.disable(),this.maybeHidePreview_(n),this.maybeShowPreview_(n),t.Events.enable())},t.InsertionMarkerManager.prototype.createMarkerBlock_=function(e){var i=e.type;t.Events.disable();try{var n=this.workspace_.newBlock(i);if(n.setInsertionMarker(!0,e.width),n.setCollapsed(e.isCollapsed()),e.mutationToDom){var o=e.mutationToDom();o&&n.domToMutation(o)}for(i=0;i<e.inputList.length;i++){var s=e.inputList[i],r=n.inputList[i];for(o=0;o<s.fieldRow.length;o++)r.fieldRow[o].setValue(s.fieldRow[o].getValue())}n.initSvg(),n.getSvgRoot().setAttribute("visibility","hidden")}finally{t.Events.enable()}return n},t.InsertionMarkerManager.prototype.initAvailableConnections_=function(){var t=this.topBlock_.getConnections_(!1),e=this.topBlock_.lastConnectionInStack();return e&&e!=this.topBlock_.nextConnection&&(t.push(e),this.lastOnStack_=e,this.lastMarker_=this.createMarkerBlock_(e.sourceBlock_)),t},t.InsertionMarkerManager.prototype.shouldUpdatePreviews_=function(e,i){var n=e.local,o=e.closest,s=e.radius;if(!n||!o)return!(!this.localConnection_||!this.closestConnection_);if(this.localConnection_&&this.closestConnection_){if(this.closestConnection_==o&&this.localConnection_==n)return!1;n=this.localConnection_.x_+i.x-this.closestConnection_.x_;var r=this.localConnection_.y_+i.y-this.closestConnection_.y_;return n=Math.sqrt(n*n+r*r),!(o&&s>n-t.CURRENT_CONNECTION_PREFERENCE)}return!this.localConnection_&&!this.closestConnection_||(console.error("Only one of localConnection_ and closestConnection_ was set."),console.error("Returning true from shouldUpdatePreviews, but it's not clear why."),!0)},t.InsertionMarkerManager.prototype.getCandidate_=function(t){for(var e=this.getStartRadius_(),i=null,n=null,o=0;o<this.availableConnections_.length;o++){var s=this.availableConnections_[o],r=s.closest(e,t);r.connection&&(i=r.connection,n=s,e=r.radius)}return{closest:i,local:n,radius:e}},t.InsertionMarkerManager.prototype.getStartRadius_=function(){return this.closestConnection_&&this.localConnection_?t.CONNECTING_SNAP_RADIUS:t.SNAP_RADIUS},t.InsertionMarkerManager.prototype.shouldReplace_=function(){var e=this.closestConnection_,i=this.localConnection_;return i.type==t.OUTPUT_VALUE?!(!e.isConnected()||t.Connection.lastConnectionInRow_(this.topBlock_,e.targetConnection.getSourceBlock())):i!=i.sourceBlock_.getFirstStatementConnection()&&!(this.topBlock_.nextConnection||i.type!=t.PREVIOUS_STATEMENT||!e.isConnected())},t.InsertionMarkerManager.prototype.shouldDelete_=function(e,i){var n=e&&!!e.closest&&i!=t.DELETE_AREA_TOOLBOX;return!!i&&!this.topBlock_.getParent()&&this.topBlock_.isDeletable()&&!n},t.InsertionMarkerManager.prototype.maybeShowPreview_=function(t){if(!this.wouldDeleteBlock_){var e=t.closest;t=t.local,e&&(e==this.closestConnection_||e.sourceBlock_.isInsertionMarker()?console.log("Trying to connect to an insertion marker"):(this.closestConnection_=e,this.localConnection_=t,this.showPreview_()))}},t.InsertionMarkerManager.prototype.showPreview_=function(){this.shouldReplace_()?this.highlightBlock_():this.connectMarker_(),this.closestConnection_&&this.closestConnection_.highlight()},t.InsertionMarkerManager.prototype.maybeHidePreview_=function(t){if(t.closest){var e=this.closestConnection_!=t.closest;t=this.localConnection_!=t.local,this.closestConnection_&&this.localConnection_&&(e||t||this.wouldDeleteBlock_)&&this.hidePreview_()}else this.hidePreview_();this.localConnection_=this.closestConnection_=this.markerConnection_=null},t.InsertionMarkerManager.prototype.hidePreview_=function(){this.closestConnection_&&this.closestConnection_.unhighlight(),this.highlightingBlock_?this.unhighlightBlock_():this.markerConnection_&&this.disconnectMarker_()},t.InsertionMarkerManager.prototype.highlightBlock_=function(){var e=this.closestConnection_,i=this.localConnection_;e.targetBlock()?(this.highlightedBlock_=e.targetBlock(),e.targetBlock().highlightForReplacement(!0)):i.type==t.OUTPUT_VALUE&&(this.highlightedBlock_=e.sourceBlock_,e.sourceBlock_.highlightShapeForInput(e,!0)),this.highlightingBlock_=!0},t.InsertionMarkerManager.prototype.unhighlightBlock_=function(){var e=this.closestConnection_;e.type!=t.INPUT_VALUE||e.isConnected()?this.highlightedBlock_.highlightForReplacement(!1):this.highlightedBlock_.highlightShapeForInput(e,!1),this.highlightedBlock_=null,this.highlightingBlock_=!1},t.InsertionMarkerManager.prototype.disconnectMarker_=function(){if(this.markerConnection_){var e=this.markerConnection_,i=e.sourceBlock_,n=i.nextConnection,o=i.previousConnection,s=i.outputConnection;if(s=e.type==t.INPUT_VALUE&&!(s&&s.targetConnection),!(e!=n||o&&o.targetConnection)||s?e.targetBlock().unplug(!1):e.type==t.NEXT_STATEMENT&&e!=n?(n=e.targetConnection,n.sourceBlock_.unplug(!1),o=o?o.targetConnection:null,i.unplug(!0),o&&o.connect(n)):i.unplug(!0),e.targetConnection)throw Error("markerConnection_ still connected at the end of disconnectInsertionMarker");this.markerConnection_=null,i.getSvgRoot().setAttribute("visibility","hidden")}else console.log("No insertion marker connection to disconnect")},t.InsertionMarkerManager.prototype.connectMarker_=function(){var t=this.localConnection_,e=this.closestConnection_,i=this.lastOnStack_&&t==this.lastOnStack_?this.lastMarker_:this.firstMarker_;if(t=i.getMatchingConnection(t.sourceBlock_,t),t==this.markerConnection_)throw Error("Made it to connectMarker_ even though the marker isn't changing");i.render(),i.rendered=!0,i.getSvgRoot().setAttribute("visibility","visible"),i.positionNewBlock(i,t,e),t.connect(e),this.markerConnection_=t},t.InsertionMarkerManager.prototype.getInsertionMarkers=function(){var t=[];return this.firstMarker_&&t.push(this.firstMarker_),this.lastMarker_&&t.push(this.lastMarker_),t},t.BlockDragger=function(e,i){this.draggingBlock_=e,this.workspace_=i,this.draggedConnectionManager_=new t.InsertionMarkerManager(this.draggingBlock_),this.deleteArea_=null,this.wouldDeleteBlock_=!1,this.startXY_=this.draggingBlock_.getRelativeToSurfaceXY(),this.dragIconData_=t.BlockDragger.initIconData_(e)},t.BlockDragger.prototype.dispose=function(){this.startWorkspace_=this.workspace_=this.draggingBlock_=null,this.dragIconData_.length=0,this.draggedConnectionManager_&&(this.draggedConnectionManager_.dispose(),this.draggedConnectionManager_=null)},t.BlockDragger.initIconData_=function(t){var e=[];t=t.getDescendants(!1);for(var i,n=0;i=t[n];n++){i=i.getIcons();for(var o=0;o<i.length;o++){var s={location:i[o].getIconLocation(),icon:i[o]};e.push(s)}}return e},t.BlockDragger.prototype.startBlockDrag=function(e,i){if(t.Events.getGroup()||t.Events.setGroup(!0),this.workspace_.isMutator&&this.draggingBlock_.bringToFront(),t.utils.dom.startTextWidthCache(),this.workspace_.setResizesEnabled(!1),t.blockAnimations.disconnectUiStop(),this.draggingBlock_.getParent()||i&&this.draggingBlock_.nextConnection&&this.draggingBlock_.nextConnection.targetBlock()){this.draggingBlock_.unplug(i);var n=this.pixelsToWorkspaceUnits_(e);n=t.utils.Coordinate.sum(this.startXY_,n),this.draggingBlock_.translate(n.x,n.y),t.blockAnimations.disconnectUiEffect(this.draggingBlock_)}if(this.draggingBlock_.setDragging(!0),this.draggingBlock_.moveToDragSurface_(),n=this.workspace_.getToolbox()){var o=this.draggingBlock_.isDeletable()?"blocklyToolboxDelete":"blocklyToolboxGrab";n.addStyle(o)}},t.BlockDragger.prototype.dragBlock=function(e,i){var n=this.pixelsToWorkspaceUnits_(i),o=t.utils.Coordinate.sum(this.startXY_,n);this.draggingBlock_.moveDuringDrag(o),this.dragIcons_(n),this.deleteArea_=this.workspace_.isDeleteArea(e),this.draggedConnectionManager_.update(n,this.deleteArea_),this.updateCursorDuringBlockDrag_()},t.BlockDragger.prototype.endBlockDrag=function(e,i){this.dragBlock(e,i),this.dragIconData_=[],t.utils.dom.stopTextWidthCache(),t.blockAnimations.disconnectUiStop();var n=this.pixelsToWorkspaceUnits_(i),o=t.utils.Coordinate.sum(this.startXY_,n);this.draggingBlock_.moveOffDragSurface_(o),this.maybeDeleteBlock_()||(this.draggingBlock_.moveConnections_(n.x,n.y),this.draggingBlock_.setDragging(!1),this.fireMoveEvent_(),this.draggedConnectionManager_.wouldConnectBlock()?this.draggedConnectionManager_.applyConnections():this.draggingBlock_.render(),this.draggingBlock_.scheduleSnapAndBump()),this.workspace_.setResizesEnabled(!0),(n=this.workspace_.getToolbox())&&(o=this.draggingBlock_.isDeletable()?"blocklyToolboxDelete":"blocklyToolboxGrab",n.removeStyle(o)),t.Events.setGroup(!1)},t.BlockDragger.prototype.fireMoveEvent_=function(){var e=new t.Events.BlockMove(this.draggingBlock_);e.oldCoordinate=this.startXY_,e.recordNew(),t.Events.fire(e)},t.BlockDragger.prototype.maybeDeleteBlock_=function(){var t=this.workspace_.trashcan;return this.wouldDeleteBlock_?(t&&setTimeout(t.close.bind(t),100),this.fireMoveEvent_(),this.draggingBlock_.dispose(!1,!0)):t&&t.close(),this.wouldDeleteBlock_},t.BlockDragger.prototype.updateCursorDuringBlockDrag_=function(){this.wouldDeleteBlock_=this.draggedConnectionManager_.wouldDeleteBlock();var e=this.workspace_.trashcan;this.wouldDeleteBlock_?(this.draggingBlock_.setDeleteStyle(!0),this.deleteArea_==t.DELETE_AREA_TRASH&&e&&e.setOpen_(!0)):(this.draggingBlock_.setDeleteStyle(!1),e&&e.setOpen_(!1))},t.BlockDragger.prototype.pixelsToWorkspaceUnits_=function(e){return e=new t.utils.Coordinate(e.x/this.workspace_.scale,e.y/this.workspace_.scale),this.workspace_.isMutator&&e.scale(1/this.workspace_.options.parentWorkspace.scale),e},t.BlockDragger.prototype.dragIcons_=function(e){for(var i=0;i<this.dragIconData_.length;i++){var n=this.dragIconData_[i];n.icon.setIconLocation(t.utils.Coordinate.sum(n.location,e))}},t.BlockDragger.prototype.getInsertionMarkers=function(){return this.draggedConnectionManager_&&this.draggedConnectionManager_.getInsertionMarkers?this.draggedConnectionManager_.getInsertionMarkers():[]},t.Touch={},t.Touch.TOUCH_ENABLED="ontouchstart"in t.utils.global||!!(t.utils.global.document&&document.documentElement&&"ontouchstart"in document.documentElement)||!(!t.utils.global.navigator||!t.utils.global.navigator.maxTouchPoints&&!t.utils.global.navigator.msMaxTouchPoints),t.Touch.touchIdentifier_=null,t.Touch.TOUCH_MAP={},t.utils.global.PointerEvent?t.Touch.TOUCH_MAP={mousedown:["pointerdown"],mouseenter:["pointerenter"],mouseleave:["pointerleave"],mousemove:["pointermove"],mouseout:["pointerout"],mouseover:["pointerover"],mouseup:["pointerup","pointercancel"],touchend:["pointerup"],touchcancel:["pointercancel"]}:t.Touch.TOUCH_ENABLED&&(t.Touch.TOUCH_MAP={mousedown:["touchstart"],mousemove:["touchmove"],mouseup:["touchend","touchcancel"]}),t.longPid_=0,t.longStart_=function(e,i){t.longStop_(),e.changedTouches&&1!=e.changedTouches.length||(t.longPid_=setTimeout((function(){e.changedTouches&&(e.button=2,e.clientX=e.changedTouches[0].clientX,e.clientY=e.changedTouches[0].clientY),i&&i.handleRightClick(e)}),t.LONGPRESS))},t.longStop_=function(){t.longPid_&&(clearTimeout(t.longPid_),t.longPid_=0)},t.Touch.clearTouchIdentifier=function(){t.Touch.touchIdentifier_=null},t.Touch.shouldHandleEvent=function(e){return!t.Touch.isMouseOrTouchEvent(e)||t.Touch.checkTouchIdentifier(e)},t.Touch.getTouchIdentifierFromEvent=function(t){return void 0!=t.pointerId?t.pointerId:t.changedTouches&&t.changedTouches[0]&&void 0!==t.changedTouches[0].identifier&&null!==t.changedTouches[0].identifier?t.changedTouches[0].identifier:"mouse"},t.Touch.checkTouchIdentifier=function(e){var i=t.Touch.getTouchIdentifierFromEvent(e);return void 0!==t.Touch.touchIdentifier_&&null!==t.Touch.touchIdentifier_?t.Touch.touchIdentifier_==i:("mousedown"==e.type||"touchstart"==e.type||"pointerdown"==e.type)&&(t.Touch.touchIdentifier_=i,!0)},t.Touch.setClientFromTouch=function(e){if(t.utils.string.startsWith(e.type,"touch")){var i=e.changedTouches[0];e.clientX=i.clientX,e.clientY=i.clientY}},t.Touch.isMouseOrTouchEvent=function(e){return t.utils.string.startsWith(e.type,"touch")||t.utils.string.startsWith(e.type,"mouse")||t.utils.string.startsWith(e.type,"pointer")},t.Touch.isTouchEvent=function(e){return t.utils.string.startsWith(e.type,"touch")||t.utils.string.startsWith(e.type,"pointer")},t.Touch.splitEventByTouches=function(t){var e=[];if(t.changedTouches)for(var i=0;i<t.changedTouches.length;i++)e[i]={type:t.type,changedTouches:[t.changedTouches[i]],target:t.target,stopPropagation:function(){t.stopPropagation()},preventDefault:function(){t.preventDefault()}};else e.push(t);return e},t.ScrollbarPair=function(e){this.workspace_=e,this.hScroll=new t.Scrollbar(e,!0,!0,"blocklyMainWorkspaceScrollbar"),this.vScroll=new t.Scrollbar(e,!1,!0,"blocklyMainWorkspaceScrollbar"),this.corner_=t.utils.dom.createSvgElement("rect",{height:t.Scrollbar.scrollbarThickness,width:t.Scrollbar.scrollbarThickness,class:"blocklyScrollbarBackground"},null),t.utils.dom.insertAfter(this.corner_,e.getBubbleCanvas())},t.ScrollbarPair.prototype.oldHostMetrics_=null,t.ScrollbarPair.prototype.dispose=function(){t.utils.dom.removeNode(this.corner_),this.oldHostMetrics_=this.workspace_=this.corner_=null,this.hScroll.dispose(),this.hScroll=null,this.vScroll.dispose(),this.vScroll=null},t.ScrollbarPair.prototype.resize=function(){var t=this.workspace_.getMetrics();if(t){var e=!1,i=!1;this.oldHostMetrics_&&this.oldHostMetrics_.viewWidth==t.viewWidth&&this.oldHostMetrics_.viewHeight==t.viewHeight&&this.oldHostMetrics_.absoluteTop==t.absoluteTop&&this.oldHostMetrics_.absoluteLeft==t.absoluteLeft?(this.oldHostMetrics_&&this.oldHostMetrics_.contentWidth==t.contentWidth&&this.oldHostMetrics_.viewLeft==t.viewLeft&&this.oldHostMetrics_.contentLeft==t.contentLeft||(e=!0),this.oldHostMetrics_&&this.oldHostMetrics_.contentHeight==t.contentHeight&&this.oldHostMetrics_.viewTop==t.viewTop&&this.oldHostMetrics_.contentTop==t.contentTop||(i=!0)):i=e=!0,e&&this.hScroll.resize(t),i&&this.vScroll.resize(t),this.oldHostMetrics_&&this.oldHostMetrics_.viewWidth==t.viewWidth&&this.oldHostMetrics_.absoluteLeft==t.absoluteLeft||this.corner_.setAttribute("x",this.vScroll.position_.x),this.oldHostMetrics_&&this.oldHostMetrics_.viewHeight==t.viewHeight&&this.oldHostMetrics_.absoluteTop==t.absoluteTop||this.corner_.setAttribute("y",this.hScroll.position_.y),this.oldHostMetrics_=t}},t.ScrollbarPair.prototype.set=function(t,e){var i={},n=t*this.hScroll.ratio_,o=e*this.vScroll.ratio_,s=this.vScroll.scrollViewSize_;i.x=this.getRatio_(n,this.hScroll.scrollViewSize_),i.y=this.getRatio_(o,s),this.workspace_.setMetrics(i),this.hScroll.setHandlePosition(n),this.vScroll.setHandlePosition(o)},t.ScrollbarPair.prototype.getRatio_=function(t,e){var i=t/e;return isNaN(i)?0:i},t.Scrollbar=function(e,i,n,o){this.workspace_=e,this.pair_=n||!1,this.horizontal_=i,this.oldHostMetrics_=null,this.createDom_(o),this.position_=new t.utils.Coordinate(0,0),e=t.Scrollbar.scrollbarThickness,i?(this.svgBackground_.setAttribute("height",e),this.outerSvg_.setAttribute("height",e),this.svgHandle_.setAttribute("height",e-5),this.svgHandle_.setAttribute("y",2.5),this.lengthAttribute_="width",this.positionAttribute_="x"):(this.svgBackground_.setAttribute("width",e),this.outerSvg_.setAttribute("width",e),this.svgHandle_.setAttribute("width",e-5),this.svgHandle_.setAttribute("x",2.5),this.lengthAttribute_="height",this.positionAttribute_="y"),this.onMouseDownBarWrapper_=t.bindEventWithChecks_(this.svgBackground_,"mousedown",this,this.onMouseDownBar_),this.onMouseDownHandleWrapper_=t.bindEventWithChecks_(this.svgHandle_,"mousedown",this,this.onMouseDownHandle_)},t.Scrollbar.prototype.origin_=new t.utils.Coordinate(0,0),t.Scrollbar.prototype.startDragMouse_=0,t.Scrollbar.prototype.scrollViewSize_=0,t.Scrollbar.prototype.handleLength_=0,t.Scrollbar.prototype.handlePosition_=0,t.Scrollbar.prototype.isVisible_=!0,t.Scrollbar.prototype.containerVisible_=!0,t.Scrollbar.scrollbarThickness=15,t.Touch.TOUCH_ENABLED&&(t.Scrollbar.scrollbarThickness=25),t.Scrollbar.metricsAreEquivalent_=function(t,e){return!(!t||!e||t.viewWidth!=e.viewWidth||t.viewHeight!=e.viewHeight||t.viewLeft!=e.viewLeft||t.viewTop!=e.viewTop||t.absoluteTop!=e.absoluteTop||t.absoluteLeft!=e.absoluteLeft||t.contentWidth!=e.contentWidth||t.contentHeight!=e.contentHeight||t.contentLeft!=e.contentLeft||t.contentTop!=e.contentTop)},t.Scrollbar.prototype.dispose=function(){this.cleanUp_(),t.unbindEvent_(this.onMouseDownBarWrapper_),this.onMouseDownBarWrapper_=null,t.unbindEvent_(this.onMouseDownHandleWrapper_),this.onMouseDownHandleWrapper_=null,t.utils.dom.removeNode(this.outerSvg_),this.svgBackground_=this.svgGroup_=this.outerSvg_=null,this.svgHandle_&&(this.workspace_.getThemeManager().unsubscribe(this.svgHandle_),this.svgHandle_=null),this.workspace_=null},t.Scrollbar.prototype.setHandleLength_=function(t){this.handleLength_=t,this.svgHandle_.setAttribute(this.lengthAttribute_,this.handleLength_)},t.Scrollbar.prototype.setHandlePosition=function(t){this.handlePosition_=t,this.svgHandle_.setAttribute(this.positionAttribute_,this.handlePosition_)},t.Scrollbar.prototype.setScrollViewSize_=function(t){this.scrollViewSize_=t,this.outerSvg_.setAttribute(this.lengthAttribute_,this.scrollViewSize_),this.svgBackground_.setAttribute(this.lengthAttribute_,this.scrollViewSize_)},t.ScrollbarPair.prototype.setContainerVisible=function(t){this.hScroll.setContainerVisible(t),this.vScroll.setContainerVisible(t)},t.Scrollbar.prototype.setPosition_=function(e,i){this.position_.x=e,this.position_.y=i,t.utils.dom.setCssTransform(this.outerSvg_,"translate("+(this.position_.x+this.origin_.x)+"px,"+(this.position_.y+this.origin_.y)+"px)")},t.Scrollbar.prototype.resize=function(e){(e||(e=this.workspace_.getMetrics(),e))&&(t.Scrollbar.metricsAreEquivalent_(e,this.oldHostMetrics_)||(this.oldHostMetrics_=e,this.horizontal_?this.resizeHorizontal_(e):this.resizeVertical_(e),this.onScroll_()))},t.Scrollbar.prototype.resizeHorizontal_=function(t){this.resizeViewHorizontal(t)},t.Scrollbar.prototype.resizeViewHorizontal=function(e){var i=e.viewWidth-1;this.pair_&&(i-=t.Scrollbar.scrollbarThickness),this.setScrollViewSize_(Math.max(0,i)),i=e.absoluteLeft+.5,this.pair_&&this.workspace_.RTL&&(i+=t.Scrollbar.scrollbarThickness),this.setPosition_(i,e.absoluteTop+e.viewHeight-t.Scrollbar.scrollbarThickness-.5),this.resizeContentHorizontal(e)},t.Scrollbar.prototype.resizeContentHorizontal=function(t){this.pair_||this.setVisible(this.scrollViewSize_<t.contentWidth),this.ratio_=this.scrollViewSize_/t.contentWidth,(-1/0==this.ratio_||1/0==this.ratio_||isNaN(this.ratio_))&&(this.ratio_=0),this.setHandleLength_(Math.max(0,t.viewWidth*this.ratio_)),this.setHandlePosition(this.constrainHandle_((t.viewLeft-t.contentLeft)*this.ratio_))},t.Scrollbar.prototype.resizeVertical_=function(t){this.resizeViewVertical(t)},t.Scrollbar.prototype.resizeViewVertical=function(e){var i=e.viewHeight-1;this.pair_&&(i-=t.Scrollbar.scrollbarThickness),this.setScrollViewSize_(Math.max(0,i)),i=e.absoluteLeft+.5,this.workspace_.RTL||(i+=e.viewWidth-t.Scrollbar.scrollbarThickness-1),this.setPosition_(i,e.absoluteTop+.5),this.resizeContentVertical(e)},t.Scrollbar.prototype.resizeContentVertical=function(t){this.pair_||this.setVisible(this.scrollViewSize_<t.contentHeight),this.ratio_=this.scrollViewSize_/t.contentHeight,(-1/0==this.ratio_||1/0==this.ratio_||isNaN(this.ratio_))&&(this.ratio_=0),this.setHandleLength_(Math.max(0,t.viewHeight*this.ratio_)),this.setHandlePosition(this.constrainHandle_((t.viewTop-t.contentTop)*this.ratio_))},t.Scrollbar.prototype.createDom_=function(e){var i="blocklyScrollbar"+(this.horizontal_?"Horizontal":"Vertical");e&&(i+=" "+e),this.outerSvg_=t.utils.dom.createSvgElement("svg",{class:i},null),this.svgGroup_=t.utils.dom.createSvgElement("g",{},this.outerSvg_),this.svgBackground_=t.utils.dom.createSvgElement("rect",{class:"blocklyScrollbarBackground"},this.svgGroup_),e=Math.floor((t.Scrollbar.scrollbarThickness-5)/2),this.svgHandle_=t.utils.dom.createSvgElement("rect",{class:"blocklyScrollbarHandle",rx:e,ry:e},this.svgGroup_),this.workspace_.getThemeManager().subscribe(this.svgHandle_,"scrollbar","fill"),this.workspace_.getThemeManager().subscribe(this.svgHandle_,"scrollbarOpacity","fill-opacity"),t.utils.dom.insertAfter(this.outerSvg_,this.workspace_.getParentSvg())},t.Scrollbar.prototype.isVisible=function(){return this.isVisible_},t.Scrollbar.prototype.setContainerVisible=function(t){var e=t!=this.containerVisible_;this.containerVisible_=t,e&&this.updateDisplay_()},t.Scrollbar.prototype.setVisible=function(t){var e=t!=this.isVisible();if(this.pair_)throw Error("Unable to toggle visibility of paired scrollbars.");this.isVisible_=t,e&&this.updateDisplay_()},t.Scrollbar.prototype.updateDisplay_=function(){this.containerVisible_&&this.isVisible()?this.outerSvg_.setAttribute("display","block"):this.outerSvg_.setAttribute("display","none")},t.Scrollbar.prototype.onMouseDownBar_=function(e){if(this.workspace_.markFocused(),t.Touch.clearTouchIdentifier(),this.cleanUp_(),t.utils.isRightButton(e))e.stopPropagation();else{var i=t.utils.mouseToSvg(e,this.workspace_.getParentSvg(),this.workspace_.getInverseScreenCTM());i=this.horizontal_?i.x:i.y;var n=t.utils.getInjectionDivXY_(this.svgHandle_);n=this.horizontal_?n.x:n.y;var o=this.handlePosition_,s=.95*this.handleLength_;i<=n?o-=s:i>=n+this.handleLength_&&(o+=s),this.setHandlePosition(this.constrainHandle_(o)),this.onScroll_(),e.stopPropagation(),e.preventDefault()}},t.Scrollbar.prototype.onMouseDownHandle_=function(e){this.workspace_.markFocused(),this.cleanUp_(),t.utils.isRightButton(e)?e.stopPropagation():(this.startDragHandle=this.handlePosition_,this.workspace_.setupDragSurface(),this.startDragMouse_=this.horizontal_?e.clientX:e.clientY,t.Scrollbar.onMouseUpWrapper_=t.bindEventWithChecks_(document,"mouseup",this,this.onMouseUpHandle_),t.Scrollbar.onMouseMoveWrapper_=t.bindEventWithChecks_(document,"mousemove",this,this.onMouseMoveHandle_),e.stopPropagation(),e.preventDefault())},t.Scrollbar.prototype.onMouseMoveHandle_=function(t){this.setHandlePosition(this.constrainHandle_(this.startDragHandle+((this.horizontal_?t.clientX:t.clientY)-this.startDragMouse_))),this.onScroll_()},t.Scrollbar.prototype.onMouseUpHandle_=function(){this.workspace_.resetDragSurface(),t.Touch.clearTouchIdentifier(),this.cleanUp_()},t.Scrollbar.prototype.cleanUp_=function(){t.hideChaff(!0),t.Scrollbar.onMouseUpWrapper_&&(t.unbindEvent_(t.Scrollbar.onMouseUpWrapper_),t.Scrollbar.onMouseUpWrapper_=null),t.Scrollbar.onMouseMoveWrapper_&&(t.unbindEvent_(t.Scrollbar.onMouseMoveWrapper_),t.Scrollbar.onMouseMoveWrapper_=null)},t.Scrollbar.prototype.constrainHandle_=function(t){return 0>=t||isNaN(t)||this.scrollViewSize_<this.handleLength_?0:Math.min(t,this.scrollViewSize_-this.handleLength_)},t.Scrollbar.prototype.onScroll_=function(){var t=this.handlePosition_/this.scrollViewSize_;isNaN(t)&&(t=0);var e={};this.horizontal_?e.x=t:e.y=t,this.workspace_.setMetrics(e)},t.Scrollbar.prototype.set=function(t){this.setHandlePosition(this.constrainHandle_(t*this.ratio_)),this.onScroll_()},t.Scrollbar.prototype.setOrigin=function(e,i){this.origin_=new t.utils.Coordinate(e,i)},t.utils.math={},t.utils.math.toRadians=function(t){return t*Math.PI/180},t.utils.math.toDegrees=function(t){return 180*t/Math.PI},t.utils.math.clamp=function(t,e,i){if(i<t){var n=i;i=t,t=n}return Math.max(t,Math.min(e,i))},t.Cursor=function(){this.drawer_=this.curNode_=null},t.Cursor.prototype.setDrawer=function(t){this.drawer_=t},t.Cursor.prototype.getDrawer=function(){return this.drawer_},t.Cursor.prototype.getCurNode=function(){return this.curNode_},t.Cursor.prototype.setCurNode=function(t){this.curNode_=t,this.drawer_&&this.drawer_.draw(this.getCurNode())},t.Cursor.prototype.hide=function(){this.drawer_&&this.drawer_.hide()},t.Cursor.prototype.next=function(){var e=this.getCurNode();if(!e)return null;for(e=e.next();e&&e.next()&&(e.getType()==t.ASTNode.types.NEXT||e.getType()==t.ASTNode.types.BLOCK);)e=e.next();return e&&this.setCurNode(e),e},t.Cursor.prototype["in"]=function(){var e=this.getCurNode();return e?(e.getType()!=t.ASTNode.types.PREVIOUS&&e.getType()!=t.ASTNode.types.OUTPUT||(e=e.next()),(e=e["in"]())&&this.setCurNode(e),e):null},t.Cursor.prototype.prev=function(){var e=this.getCurNode();if(!e)return null;for(e=e.prev();e&&e.prev()&&(e.getType()==t.ASTNode.types.NEXT||e.getType()==t.ASTNode.types.BLOCK);)e=e.prev();return e&&this.setCurNode(e),e},t.Cursor.prototype.out=function(){var e=this.getCurNode();return e?((e=e.out())&&e.getType()==t.ASTNode.types.BLOCK&&(e=e.prev()||e),e&&this.setCurNode(e),e):null},t.MarkerCursor=function(){t.MarkerCursor.superClass_.constructor.call(this)},t.utils.object.inherits(t.MarkerCursor,t.Cursor),t.MarkerCursor.prototype.next=function(){return null},t.MarkerCursor.prototype["in"]=function(){return null},t.MarkerCursor.prototype.prev=function(){return null},t.MarkerCursor.prototype.out=function(){return null},t.Theme=function(t,e,i){this.blockStyles_=t,this.categoryStyles_=e,this.componentStyles_=i||Object.create(null)},t.Theme.prototype.setAllBlockStyles=function(t){for(var e in t)this.setBlockStyle(e,t[e])},t.Theme.prototype.getAllBlockStyles=function(){return this.blockStyles_},t.Theme.prototype.getBlockStyle=function(t){return this.blockStyles_[t]},t.Theme.prototype.setBlockStyle=function(t,e){this.blockStyles_[t]=e},t.Theme.prototype.getCategoryStyle=function(t){return this.categoryStyles_[t]},t.Theme.prototype.setCategoryStyle=function(t,e){this.categoryStyles_[t]=e},t.Theme.prototype.getComponentStyle=function(t){return(t=this.componentStyles_[t])&&"string"==typeof propertyValue&&this.getComponentStyle(t)?this.getComponentStyle(t):t?String(t):null},t.Theme.prototype.setComponentStyle=function(t,e){this.componentStyles_[t]=e},t.ThemeManager=function(t){this.theme_=t,this.subscribedWorkspaces_=[],this.componentDB_=Object.create(null)},t.ThemeManager.prototype.getTheme=function(){return this.theme_},t.ThemeManager.prototype.setTheme=function(t){if(this.theme_!==t){this.theme_=t,t=0;for(var e;e=this.subscribedWorkspaces_[t];t++)e.refreshTheme();t=0,e=Object.keys(this.componentDB_);for(var i;i=e[t];t++)for(var n,o=0;n=this.componentDB_[i][o];o++){var s=n.element;n=n.propertyName;var r=this.theme_&&this.theme_.getComponentStyle(i);s.style[n]=r||""}}},t.ThemeManager.prototype.subscribeWorkspace=function(t){this.subscribedWorkspaces_.push(t)},t.ThemeManager.prototype.unsubscribeWorkspace=function(t){if(t=this.subscribedWorkspaces_.indexOf(t),0>t)throw Error("Cannot unsubscribe a workspace that hasn't been subscribed.");this.subscribedWorkspaces_.splice(t,1)},t.ThemeManager.prototype.subscribe=function(t,e,i){this.componentDB_[e]||(this.componentDB_[e]=[]),this.componentDB_[e].push({element:t,propertyName:i}),e=this.theme_&&this.theme_.getComponentStyle(e),t.style[i]=e||""},t.ThemeManager.prototype.unsubscribe=function(t){if(t)for(var e,i=Object.keys(this.componentDB_),n=0;e=i[n];n++){for(var o=this.componentDB_[e],s=o.length-1;0<=s;s--)o[s].element===t&&o.splice(s,1);this.componentDB_[e].length||delete this.componentDB_[e]}},t.ThemeManager.prototype.dispose=function(){this.componentDB_=this.subscribedWorkspaces_=this.theme_=this.owner_=null},t.Themes={},t.Themes.Classic={},t.Themes.Classic.defaultBlockStyles={colour_blocks:{colourPrimary:"20"},list_blocks:{colourPrimary:"260"},logic_blocks:{colourPrimary:"210"},loop_blocks:{colourPrimary:"120"},math_blocks:{colourPrimary:"230"},procedure_blocks:{colourPrimary:"290"},text_blocks:{colourPrimary:"160"},variable_blocks:{colourPrimary:"330"},variable_dynamic_blocks:{colourPrimary:"310"},hat_blocks:{colourPrimary:"330",hat:"cap"}},t.Themes.Classic.categoryStyles={colour_category:{colour:"20"},list_category:{colour:"260"},logic_category:{colour:"210"},loop_category:{colour:"120"},math_category:{colour:"230"},procedure_category:{colour:"290"},text_category:{colour:"160"},variable_category:{colour:"330"},variable_dynamic_category:{colour:"310"}},t.Themes.Classic=new t.Theme(t.Themes.Classic.defaultBlockStyles,t.Themes.Classic.categoryStyles),t.VariableMap=function(t){this.variableMap_=Object.create(null),this.workspace=t},t.VariableMap.prototype.clear=function(){this.variableMap_=Object.create(null)},t.VariableMap.prototype.renameVariable=function(e,i){var n=this.getVariable(i,e.type),o=this.workspace.getAllBlocks(!1);t.Events.setGroup(!0);try{n&&n.getId()!=e.getId()?this.renameVariableWithConflict_(e,i,n,o):this.renameVariableAndUses_(e,i,o)}finally{t.Events.setGroup(!1)}},t.VariableMap.prototype.renameVariableById=function(t,e){var i=this.getVariableById(t);if(!i)throw Error("Tried to rename a variable that didn't exist. ID: "+t);this.renameVariable(i,e)},t.VariableMap.prototype.renameVariableAndUses_=function(e,i,n){for(t.Events.fire(new t.Events.VarRename(e,i)),e.name=i,i=0;i<n.length;i++)n[i].updateVarName(e)},t.VariableMap.prototype.renameVariableWithConflict_=function(e,i,n,o){var s=e.type;for(i!=n.name&&this.renameVariableAndUses_(n,i,o),i=0;i<o.length;i++)o[i].renameVarById(e.getId(),n.getId());t.Events.fire(new t.Events.VarDelete(e)),e=this.getVariablesOfType(s).indexOf(e),this.variableMap_[s].splice(e,1)},t.VariableMap.prototype.createVariable=function(e,i,n){var o=this.getVariable(e,i);if(o){if(n&&o.getId()!=n)throw Error('Variable "'+e+'" is already in use and its id is "'+o.getId()+'" which conflicts with the passed in id, "'+n+'".');return o}if(n&&this.getVariableById(n))throw Error('Variable id, "'+n+'", is already in use.');return o=n||t.utils.genUid(),i=i||"",o=new t.VariableModel(this.workspace,e,i,o),e=this.variableMap_[i]||[],e.push(o),delete this.variableMap_[i],this.variableMap_[i]=e,o},t.VariableMap.prototype.deleteVariable=function(e){for(var i,n=this.variableMap_[e.type],o=0;i=n[o];o++)if(i.getId()==e.getId()){n.splice(o,1),t.Events.fire(new t.Events.VarDelete(e));break}},t.VariableMap.prototype.deleteVariableById=function(e){var i=this.getVariableById(e);if(i){var n,o=i.name,s=this.getVariableUsesById(e);for(e=0;n=s[e];e++)if("procedures_defnoreturn"==n.type||"procedures_defreturn"==n.type)return e=n.getFieldValue("NAME"),o=t.Msg.CANNOT_DELETE_VARIABLE_PROCEDURE.replace("%1",o).replace("%2",e),void t.alert(o);var r=this;1<s.length?(o=t.Msg.DELETE_VARIABLE_CONFIRMATION.replace("%1",String(s.length)).replace("%2",o),t.confirm(o,(function(t){t&&r.deleteVariableInternal_(i,s)}))):r.deleteVariableInternal_(i,s)}else console.warn("Can't delete non-existent variable: "+e)},t.VariableMap.prototype.deleteVariableInternal_=function(e,i){var n=t.Events.getGroup();n||t.Events.setGroup(!0);try{for(var o=0;o<i.length;o++)i[o].dispose(!0,!1);this.deleteVariable(e)}finally{n||t.Events.setGroup(!1)}},t.VariableMap.prototype.getVariable=function(e,i){var n=this.variableMap_[i||""];if(n)for(var o,s=0;o=n[s];s++)if(t.Names.equals(o.name,e))return o;return null},t.VariableMap.prototype.getVariableById=function(t){for(var e=Object.keys(this.variableMap_),i=0;i<e.length;i++)for(var n,o=e[i],s=0;n=this.variableMap_[o][s];s++)if(n.getId()==t)return n;return null},t.VariableMap.prototype.getVariablesOfType=function(t){return(t=this.variableMap_[t||""])?t.slice():[]},t.VariableMap.prototype.getVariableTypes=function(t){var e=[];t&&t.getPotentialVariableMap()&&(e=Object.keys(t.getPotentialVariableMap().variableMap_)),t=Object.keys(this.variableMap_).concat(e),e=!1;for(var i=0;i<t.length;i++)""==t[i]&&(e=!0);return e||t.push(""),t},t.VariableMap.prototype.getAllVariables=function(){var t,e=[];for(t in this.variableMap_)e=e.concat(this.variableMap_[t]);return e},t.VariableMap.prototype.getVariableUsesById=function(t){for(var e=[],i=this.workspace.getAllBlocks(!1),n=0;n<i.length;n++){var o=i[n].getVarModels();if(o)for(var s=0;s<o.length;s++)o[s].getId()==t&&e.push(i[n])}return e},t.Workspace=function(e){this.id=t.utils.genUid(),t.Workspace.WorkspaceDB_[this.id]=this,this.options=e||{},this.RTL=!!this.options.RTL,this.horizontalLayout=!!this.options.horizontalLayout,this.toolboxPosition=this.options.toolboxPosition,this.topBlocks_=[],this.topComments_=[],this.commentDB_=Object.create(null),this.listeners_=[],this.undoStack_=[],this.redoStack_=[],this.blockDB_=Object.create(null),this.typedBlocksDB_=Object.create(null),this.variableMap_=new t.VariableMap(this),this.potentialVariableMap_=null,this.cursor_=new t.Cursor,this.marker_=new t.MarkerCursor,this.themeManager_=this.options.parentWorkspace?this.options.parentWorkspace.getThemeManager():new t.ThemeManager(this.options.theme||t.Themes.Classic),this.themeManager_.subscribeWorkspace(this)},t.Workspace.prototype.rendered=!1,t.Workspace.prototype.isClearing=!1,t.Workspace.prototype.MAX_UNDO=1024,t.Workspace.prototype.connectionDBList=null,t.Workspace.prototype.setCursor=function(t){this.cursor_=t},t.Workspace.prototype.setMarker=function(t){this.marker_=t},t.Workspace.prototype.getCursor=function(){return this.cursor_},t.Workspace.prototype.getMarker=function(){return this.marker_},t.Workspace.prototype.getTheme=function(){return this.themeManager_.getTheme()},t.Workspace.prototype.setTheme=function(e){e||(e=t.Themes.Classic),this.themeManager_.setTheme(e)},t.Workspace.prototype.refreshTheme=function(){this.updateBlockStyles_(this.getAllBlocks().filter((function(t){return void 0!==t.getStyleName()})));var e=new t.Events.Ui(null,"theme",null,null);e.workspaceId=this.id,t.Events.fire(e)},t.Workspace.prototype.updateBlockStyles_=function(t){for(var e,i=0;e=t[i];i++){var n=e.getStyleName();e.setStyle(n),e.mutator&&e.mutator.updateBlockStyle(n)}},t.Workspace.prototype.dispose=function(){this.listeners_.length=0,this.clear(),delete t.Workspace.WorkspaceDB_[this.id],this.themeManager_&&(this.themeManager_.unsubscribeWorkspace(this),this.themeManager_.unsubscribe(this.svgBackground_),this.options.parentWorkspace||(this.themeManager_.dispose(),this.themeManager_=null))},t.Workspace.SCAN_ANGLE=3,t.Workspace.prototype.sortObjects_=function(e,i){var n=e.getRelativeToSurfaceXY(),o=i.getRelativeToSurfaceXY();return n.y+t.Workspace.prototype.sortObjects_.offset*n.x-(o.y+t.Workspace.prototype.sortObjects_.offset*o.x)},t.Workspace.prototype.addTopBlock=function(t){this.topBlocks_.push(t)},t.Workspace.prototype.removeTopBlock=function(e){if(!t.utils.arrayRemove(this.topBlocks_,e))throw Error("Block not present in workspace's list of top-most blocks.")},t.Workspace.prototype.getTopBlocks=function(e){var i=[].concat(this.topBlocks_);return e&&1<i.length&&(this.sortObjects_.offset=Math.sin(t.utils.math.toRadians(t.Workspace.SCAN_ANGLE)),this.RTL&&(this.sortObjects_.offset*=-1),i.sort(this.sortObjects_)),i},t.Workspace.prototype.addTypedBlock=function(t){this.typedBlocksDB_[t.type]||(this.typedBlocksDB_[t.type]=[]),this.typedBlocksDB_[t.type].push(t)},t.Workspace.prototype.removeTypedBlock=function(t){this.typedBlocksDB_[t.type].splice(this.typedBlocksDB_[t.type].indexOf(t),1),this.typedBlocksDB_[t.type].length||delete this.typedBlocksDB_[t.type]},t.Workspace.prototype.getBlocksByType=function(e,i){if(!this.typedBlocksDB_[e])return[];var n=this.typedBlocksDB_[e].slice(0);return i&&1<n.length&&(this.sortObjects_.offset=Math.sin(t.utils.math.toRadians(t.Workspace.SCAN_ANGLE)),this.RTL&&(this.sortObjects_.offset*=-1),n.sort(this.sortObjects_)),n},t.Workspace.prototype.addTopComment=function(t){this.topComments_.push(t),this.commentDB_[t.id]&&console.warn('Overriding an existing comment on this workspace, with id "'+t.id+'"'),this.commentDB_[t.id]=t},t.Workspace.prototype.removeTopComment=function(e){if(!t.utils.arrayRemove(this.topComments_,e))throw Error("Comment not present in workspace's list of top-most comments.");delete this.commentDB_[e.id]},t.Workspace.prototype.getTopComments=function(e){var i=[].concat(this.topComments_);return e&&1<i.length&&(this.sortObjects_.offset=Math.sin(t.utils.math.toRadians(t.Workspace.SCAN_ANGLE)),this.RTL&&(this.sortObjects_.offset*=-1),i.sort(this.sortObjects_)),i},t.Workspace.prototype.getAllBlocks=function(t){if(t){t=this.getTopBlocks(!0);for(var e=[],i=0;i<t.length;i++)e.push.apply(e,t[i].getDescendants(!0))}else for(e=this.getTopBlocks(!1),i=0;i<e.length;i++)e.push.apply(e,e[i].getChildren(!1));return e.filter((function(t){return!t.isInsertionMarker()}))},t.Workspace.prototype.clear=function(){this.isClearing=!0;try{var e=t.Events.getGroup();for(e||t.Events.setGroup(!0);this.topBlocks_.length;)this.topBlocks_[0].dispose();for(;this.topComments_.length;)this.topComments_[this.topComments_.length-1].dispose();e||t.Events.setGroup(!1),this.variableMap_.clear(),this.potentialVariableMap_&&this.potentialVariableMap_.clear()}finally{this.isClearing=!1}},t.Workspace.prototype.renameVariableById=function(t,e){this.variableMap_.renameVariableById(t,e)},t.Workspace.prototype.createVariable=function(t,e,i){return this.variableMap_.createVariable(t,e,i)},t.Workspace.prototype.getVariableUsesById=function(t){return this.variableMap_.getVariableUsesById(t)},t.Workspace.prototype.deleteVariableById=function(t){this.variableMap_.deleteVariableById(t)},t.Workspace.prototype.deleteVariableInternal_=function(t,e){this.variableMap_.deleteVariableInternal_(t,e)},t.Workspace.prototype.variableIndexOf=function(t){return console.warn("Deprecated call to Blockly.Workspace.prototype.variableIndexOf"),-1},t.Workspace.prototype.getVariable=function(t,e){return this.variableMap_.getVariable(t,e)},t.Workspace.prototype.getVariableById=function(t){return this.variableMap_.getVariableById(t)},t.Workspace.prototype.getVariablesOfType=function(t){return this.variableMap_.getVariablesOfType(t)},t.Workspace.prototype.getVariableTypes=function(){return this.variableMap_.getVariableTypes(this)},t.Workspace.prototype.getAllVariables=function(){return this.variableMap_.getAllVariables()},t.Workspace.prototype.getWidth=function(){return 0},t.Workspace.prototype.newBlock=function(e,i){return new t.Block(this,e,i)},t.Workspace.prototype.remainingCapacity=function(){return isNaN(this.options.maxBlocks)?1/0:this.options.maxBlocks-this.getAllBlocks().length},t.Workspace.prototype.remainingCapacityOfType=function(t){return this.options.maxInstances?(this.options.maxInstances[t]||1/0)-this.getBlocksByType(t).length:1/0},t.Workspace.prototype.isCapacityAvailable=function(t){if(!this.hasBlockLimits())return!0;var e,i=0;for(e in t){if(t[e]>this.remainingCapacityOfType(e))return!1;i+=t[e]}return!(i>this.remainingCapacity())},t.Workspace.prototype.hasBlockLimits=function(){return 1/0!=this.options.maxBlocks||!!this.options.maxInstances},t.Workspace.prototype.undo=function(e){var i=e?this.redoStack_:this.undoStack_,n=e?this.undoStack_:this.redoStack_,o=i.pop();if(o){for(var s=[o];i.length&&o.group&&o.group==i[i.length-1].group;)s.push(i.pop());for(i=0;o=s[i];i++)n.push(o);s=t.Events.filter(s,e),t.Events.recordUndo=!1;try{for(i=0;o=s[i];i++)o.run(e)}finally{t.Events.recordUndo=!0}}},t.Workspace.prototype.clearUndo=function(){this.undoStack_.length=0,this.redoStack_.length=0,t.Events.clearPendingUndo()},t.Workspace.prototype.addChangeListener=function(t){return this.listeners_.push(t),t},t.Workspace.prototype.removeChangeListener=function(e){t.utils.arrayRemove(this.listeners_,e)},t.Workspace.prototype.fireChangeListener=function(t){if(t.recordUndo)for(this.undoStack_.push(t),this.redoStack_.length=0;this.undoStack_.length>this.MAX_UNDO&&0<=this.MAX_UNDO;)this.undoStack_.shift();for(var e,i=0;e=this.listeners_[i];i++)e(t)},t.Workspace.prototype.getBlockById=function(t){return this.blockDB_[t]||null},t.Workspace.prototype.getCommentById=function(t){return this.commentDB_[t]||null},t.Workspace.prototype.allInputsFilled=function(t){for(var e,i=this.getTopBlocks(!1),n=0;e=i[n];n++)if(!e.allInputsFilled(t))return!1;return!0},t.Workspace.prototype.getPotentialVariableMap=function(){return this.potentialVariableMap_},t.Workspace.prototype.createPotentialVariableMap=function(){this.potentialVariableMap_=new t.VariableMap(this)},t.Workspace.prototype.getVariableMap=function(){return this.variableMap_},t.Workspace.WorkspaceDB_=Object.create(null),t.Workspace.getById=function(e){return t.Workspace.WorkspaceDB_[e]||null},t.Workspace.getAll=function(){var e,i=[];for(e in t.Workspace.WorkspaceDB_)i.push(t.Workspace.WorkspaceDB_[e]);return i},t.Workspace.prototype.getThemeManager=function(){return this.themeManager_},t.Bubble=function(e,i,n,o,s,r){this.workspace_=e,this.content_=i,this.shape_=n,n=t.Bubble.ARROW_ANGLE,this.workspace_.RTL&&(n=-n),this.arrow_radians_=t.utils.math.toRadians(n),e.getBubbleCanvas().appendChild(this.createDom_(i,!(!s||!r))),this.setAnchorLocation(o),s&&r||(i=this.content_.getBBox(),s=i.width+2*t.Bubble.BORDER_WIDTH,r=i.height+2*t.Bubble.BORDER_WIDTH),this.setBubbleSize(s,r),this.positionBubble_(),this.renderArrow_(),this.rendered_=!0,e.options.readOnly||(t.bindEventWithChecks_(this.bubbleBack_,"mousedown",this,this.bubbleMouseDown_),this.resizeGroup_&&t.bindEventWithChecks_(this.resizeGroup_,"mousedown",this,this.resizeMouseDown_))},t.Bubble.BORDER_WIDTH=6,t.Bubble.ARROW_THICKNESS=5,t.Bubble.ARROW_ANGLE=20,t.Bubble.ARROW_BEND=4,t.Bubble.ANCHOR_RADIUS=8,t.Bubble.onMouseUpWrapper_=null,t.Bubble.onMouseMoveWrapper_=null,t.Bubble.prototype.resizeCallback_=null,t.Bubble.unbindDragEvents_=function(){t.Bubble.onMouseUpWrapper_&&(t.unbindEvent_(t.Bubble.onMouseUpWrapper_),t.Bubble.onMouseUpWrapper_=null),t.Bubble.onMouseMoveWrapper_&&(t.unbindEvent_(t.Bubble.onMouseMoveWrapper_),t.Bubble.onMouseMoveWrapper_=null)},t.Bubble.bubbleMouseUp_=function(){t.Touch.clearTouchIdentifier(),t.Bubble.unbindDragEvents_()},t.Bubble.prototype.rendered_=!1,t.Bubble.prototype.anchorXY_=null,t.Bubble.prototype.relativeLeft_=0,t.Bubble.prototype.relativeTop_=0,t.Bubble.prototype.width_=0,t.Bubble.prototype.height_=0,t.Bubble.prototype.autoLayout_=!0,t.Bubble.prototype.createDom_=function(e,i){this.bubbleGroup_=t.utils.dom.createSvgElement("g",{},null);var n={filter:"url(#"+this.workspace_.options.embossFilterId+")"};return t.utils.userAgent.JAVA_FX&&(n={}),n=t.utils.dom.createSvgElement("g",n,this.bubbleGroup_),this.bubbleArrow_=t.utils.dom.createSvgElement("path",{},n),this.bubbleBack_=t.utils.dom.createSvgElement("rect",{class:"blocklyDraggable",x:0,y:0,rx:t.Bubble.BORDER_WIDTH,ry:t.Bubble.BORDER_WIDTH},n),i?(this.resizeGroup_=t.utils.dom.createSvgElement("g",{class:this.workspace_.RTL?"blocklyResizeSW":"blocklyResizeSE"},this.bubbleGroup_),n=2*t.Bubble.BORDER_WIDTH,t.utils.dom.createSvgElement("polygon",{points:"0,x x,x x,0".replace(/x/g,n.toString())},this.resizeGroup_),t.utils.dom.createSvgElement("line",{class:"blocklyResizeLine",x1:n/3,y1:n-1,x2:n-1,y2:n/3},this.resizeGroup_),t.utils.dom.createSvgElement("line",{class:"blocklyResizeLine",x1:2*n/3,y1:n-1,x2:n-1,y2:2*n/3},this.resizeGroup_)):this.resizeGroup_=null,this.bubbleGroup_.appendChild(e),this.bubbleGroup_},t.Bubble.prototype.getSvgRoot=function(){return this.bubbleGroup_},t.Bubble.prototype.setSvgId=function(t){this.bubbleGroup_.dataset&&(this.bubbleGroup_.dataset.blockId=t)},t.Bubble.prototype.bubbleMouseDown_=function(t){var e=this.workspace_.getGesture(t);e&&e.handleBubbleStart(t,this)},t.Bubble.prototype.showContextMenu_=function(t){},t.Bubble.prototype.isDeletable=function(){return!1},t.Bubble.prototype.resizeMouseDown_=function(e){this.promote_(),t.Bubble.unbindDragEvents_(),t.utils.isRightButton(e)||(this.workspace_.startDrag(e,new t.utils.Coordinate(this.workspace_.RTL?-this.width_:this.width_,this.height_)),t.Bubble.onMouseUpWrapper_=t.bindEventWithChecks_(document,"mouseup",this,t.Bubble.bubbleMouseUp_),t.Bubble.onMouseMoveWrapper_=t.bindEventWithChecks_(document,"mousemove",this,this.resizeMouseMove_),t.hideChaff()),e.stopPropagation()},t.Bubble.prototype.resizeMouseMove_=function(t){this.autoLayout_=!1,t=this.workspace_.moveDrag(t),this.setBubbleSize(this.workspace_.RTL?-t.x:t.x,t.y),this.workspace_.RTL&&this.positionBubble_()},t.Bubble.prototype.registerResizeEvent=function(t){this.resizeCallback_=t},t.Bubble.prototype.promote_=function(){var t=this.bubbleGroup_.parentNode;return t.lastChild!==this.bubbleGroup_&&(t.appendChild(this.bubbleGroup_),!0)},t.Bubble.prototype.setAnchorLocation=function(t){this.anchorXY_=t,this.rendered_&&this.positionBubble_()},t.Bubble.prototype.layoutBubble_=function(){var e=this.workspace_.getMetrics();e.viewLeft/=this.workspace_.scale,e.viewWidth/=this.workspace_.scale,e.viewTop/=this.workspace_.scale,e.viewHeight/=this.workspace_.scale;var i=this.getOptimalRelativeLeft_(e),n=this.getOptimalRelativeTop_(e),o=this.shape_.getBBox(),s={x:i,y:-this.height_-t.BlockSvg.MIN_BLOCK_Y},r={x:-this.width_-30,y:n};n={x:o.width,y:n};var a={x:i,y:o.height};i=o.width<o.height?n:a,o=o.width<o.height?a:n,n=this.getOverlap_(s,e),a=this.getOverlap_(r,e);var l=this.getOverlap_(i,e);e=this.getOverlap_(o,e),e=Math.max(n,a,l,e),n==e?(this.relativeLeft_=s.x,this.relativeTop_=s.y):a==e?(this.relativeLeft_=r.x,this.relativeTop_=r.y):l==e?(this.relativeLeft_=i.x,this.relativeTop_=i.y):(this.relativeLeft_=o.x,this.relativeTop_=o.y)},t.Bubble.prototype.getOverlap_=function(t,e){var i=this.workspace_.RTL?this.anchorXY_.x-t.x-this.width_:t.x+this.anchorXY_.x,n=t.y+this.anchorXY_.y;return Math.max(0,Math.min(1,(Math.min(i+this.width_,e.viewLeft+e.viewWidth)-Math.max(i,e.viewLeft))*(Math.min(n+this.height_,e.viewTop+e.viewHeight)-Math.max(n,e.viewTop))/(this.width_*this.height_)))},t.Bubble.prototype.getOptimalRelativeLeft_=function(e){var i=-this.width_/4;if(this.width_>e.viewWidth)return i;if(this.workspace_.RTL)var n=this.anchorXY_.x-i,o=n-this.width_,s=e.viewLeft+e.viewWidth,r=e.viewLeft+t.Scrollbar.scrollbarThickness/this.workspace_.scale;else o=i+this.anchorXY_.x,n=o+this.width_,r=e.viewLeft,s=e.viewLeft+e.viewWidth-t.Scrollbar.scrollbarThickness/this.workspace_.scale;return this.workspace_.RTL?o<r?i=-(r-this.anchorXY_.x+this.width_):n>s&&(i=-(s-this.anchorXY_.x)):o<r?i=r-this.anchorXY_.x:n>s&&(i=s-this.anchorXY_.x-this.width_),i},t.Bubble.prototype.getOptimalRelativeTop_=function(e){var i=-this.height_/4;if(this.height_>e.viewHeight)return i;var n=this.anchorXY_.y+i,o=n+this.height_,s=e.viewTop;e=e.viewTop+e.viewHeight-t.Scrollbar.scrollbarThickness/this.workspace_.scale;var r=this.anchorXY_.y;return n<s?i=s-r:o>e&&(i=e-r-this.height_),i},t.Bubble.prototype.positionBubble_=function(){var t=this.anchorXY_.x;t=this.workspace_.RTL?t-(this.relativeLeft_+this.width_):t+this.relativeLeft_,this.moveTo(t,this.relativeTop_+this.anchorXY_.y)},t.Bubble.prototype.moveTo=function(t,e){this.bubbleGroup_.setAttribute("transform","translate("+t+","+e+")")},t.Bubble.prototype.getBubbleSize=function(){return new t.utils.Size(this.width_,this.height_)},t.Bubble.prototype.setBubbleSize=function(e,i){var n=2*t.Bubble.BORDER_WIDTH;e=Math.max(e,n+45),i=Math.max(i,n+20),this.width_=e,this.height_=i,this.bubbleBack_.setAttribute("width",e),this.bubbleBack_.setAttribute("height",i),this.resizeGroup_&&(this.workspace_.RTL?this.resizeGroup_.setAttribute("transform","translate("+2*t.Bubble.BORDER_WIDTH+","+(i-n)+") scale(-1 1)"):this.resizeGroup_.setAttribute("transform","translate("+(e-n)+","+(i-n)+")")),this.autoLayout_&&this.layoutBubble_(),this.positionBubble_(),this.renderArrow_(),this.resizeCallback_&&this.resizeCallback_()},t.Bubble.prototype.renderArrow_=function(){var e=[],i=this.width_/2,n=this.height_/2,o=-this.relativeLeft_,s=-this.relativeTop_;if(i==o&&n==s)e.push("M "+i+","+n);else{s-=n,o-=i,this.workspace_.RTL&&(o*=-1);var r=Math.sqrt(s*s+o*o),a=Math.acos(o/r);0>s&&(a=2*Math.PI-a);var l=a+Math.PI/2;l>2*Math.PI&&(l-=2*Math.PI);var c=Math.sin(l),u=Math.cos(l),h=this.getBubbleSize();l=(h.width+h.height)/t.Bubble.ARROW_THICKNESS,l=Math.min(l,h.width,h.height)/4,h=1-t.Bubble.ANCHOR_RADIUS/r,o=i+h*o,s=n+h*s,h=i+l*u;var d=n+l*c;i-=l*u,n-=l*c,c=a+this.arrow_radians_,c>2*Math.PI&&(c-=2*Math.PI),a=Math.sin(c)*r/t.Bubble.ARROW_BEND,r=Math.cos(c)*r/t.Bubble.ARROW_BEND,e.push("M"+h+","+d),e.push("C"+(h+r)+","+(d+a)+" "+o+","+s+" "+o+","+s),e.push("C"+o+","+s+" "+(i+r)+","+(n+a)+" "+i+","+n)}e.push("z"),this.bubbleArrow_.setAttribute("d",e.join(" "))},t.Bubble.prototype.setColour=function(t){this.bubbleBack_.setAttribute("fill",t),this.bubbleArrow_.setAttribute("fill",t)},t.Bubble.prototype.dispose=function(){t.Bubble.unbindDragEvents_(),t.utils.dom.removeNode(this.bubbleGroup_),this.shape_=this.content_=this.workspace_=this.resizeGroup_=this.bubbleBack_=this.bubbleArrow_=this.bubbleGroup_=null},t.Bubble.prototype.moveDuringDrag=function(t,e){t?t.translateSurface(e.x,e.y):this.moveTo(e.x,e.y),this.relativeLeft_=this.workspace_.RTL?this.anchorXY_.x-e.x-this.width_:e.x-this.anchorXY_.x,this.relativeTop_=e.y-this.anchorXY_.y,this.renderArrow_()},t.Bubble.prototype.getRelativeToSurfaceXY=function(){return new t.utils.Coordinate(this.anchorXY_.x+this.relativeLeft_,this.anchorXY_.y+this.relativeTop_)},t.Bubble.prototype.setAutoLayout=function(t){this.autoLayout_=t},t.Events.CommentBase=function(e){this.commentId=e.id,this.workspaceId=e.workspace.id,this.group=t.Events.getGroup(),this.recordUndo=t.Events.recordUndo},t.utils.object.inherits(t.Events.CommentBase,t.Events.Abstract),t.Events.CommentBase.prototype.toJson=function(){var e=t.Events.CommentBase.superClass_.toJson.call(this);return this.commentId&&(e.commentId=this.commentId),e},t.Events.CommentBase.prototype.fromJson=function(e){t.Events.CommentBase.superClass_.fromJson.call(this,e),this.commentId=e.commentId},t.Events.CommentChange=function(e,i,n){e&&(t.Events.CommentChange.superClass_.constructor.call(this,e),this.oldContents_=i,this.newContents_=n)},t.utils.object.inherits(t.Events.CommentChange,t.Events.CommentBase),t.Events.CommentChange.prototype.type=t.Events.COMMENT_CHANGE,t.Events.CommentChange.prototype.toJson=function(){var e=t.Events.CommentChange.superClass_.toJson.call(this);return e.newContents=this.newContents_,e},t.Events.CommentChange.prototype.fromJson=function(e){t.Events.CommentChange.superClass_.fromJson.call(this,e),this.newContents_=e.newValue},t.Events.CommentChange.prototype.isNull=function(){return this.oldContents_==this.newContents_},t.Events.CommentChange.prototype.run=function(t){var e=this.getEventWorkspace_().getCommentById(this.commentId);e?e.setContent(t?this.newContents_:this.oldContents_):console.warn("Can't change non-existent comment: "+this.commentId)},t.Events.CommentCreate=function(e){e&&(t.Events.CommentCreate.superClass_.constructor.call(this,e),this.xml=e.toXmlWithXY())},t.utils.object.inherits(t.Events.CommentCreate,t.Events.CommentBase),t.Events.CommentCreate.prototype.type=t.Events.COMMENT_CREATE,t.Events.CommentCreate.prototype.toJson=function(){var e=t.Events.CommentCreate.superClass_.toJson.call(this);return e.xml=t.Xml.domToText(this.xml),e},t.Events.CommentCreate.prototype.fromJson=function(e){t.Events.CommentCreate.superClass_.fromJson.call(this,e),this.xml=t.Xml.textToDom(e.xml)},t.Events.CommentCreate.prototype.run=function(e){t.Events.CommentCreateDeleteHelper(this,e)},t.Events.CommentCreateDeleteHelper=function(e,i){var n=e.getEventWorkspace_();if(i){var o=t.utils.xml.createElement("xml");o.appendChild(e.xml),t.Xml.domToWorkspace(o,n)}else(n=n.getCommentById(e.commentId))?n.dispose(!1,!1):console.warn("Can't uncreate non-existent comment: "+e.commentId)},t.Events.CommentDelete=function(e){e&&(t.Events.CommentDelete.superClass_.constructor.call(this,e),this.xml=e.toXmlWithXY())},t.utils.object.inherits(t.Events.CommentDelete,t.Events.CommentBase),t.Events.CommentDelete.prototype.type=t.Events.COMMENT_DELETE,t.Events.CommentDelete.prototype.toJson=function(){return t.Events.CommentDelete.superClass_.toJson.call(this)},t.Events.CommentDelete.prototype.fromJson=function(e){t.Events.CommentDelete.superClass_.fromJson.call(this,e)},t.Events.CommentDelete.prototype.run=function(e){t.Events.CommentCreateDeleteHelper(this,!e)},t.Events.CommentMove=function(e){e&&(t.Events.CommentMove.superClass_.constructor.call(this,e),this.comment_=e,this.oldCoordinate_=e.getXY(),this.newCoordinate_=null)},t.utils.object.inherits(t.Events.CommentMove,t.Events.CommentBase),t.Events.CommentMove.prototype.recordNew=function(){if(!this.comment_)throw Error("Tried to record the new position of a comment on the same event twice.");this.newCoordinate_=this.comment_.getXY(),this.comment_=null},t.Events.CommentMove.prototype.type=t.Events.COMMENT_MOVE,t.Events.CommentMove.prototype.setOldCoordinate=function(t){this.oldCoordinate_=t},t.Events.CommentMove.prototype.toJson=function(){var e=t.Events.CommentMove.superClass_.toJson.call(this);return this.newCoordinate_&&(e.newCoordinate=Math.round(this.newCoordinate_.x)+","+Math.round(this.newCoordinate_.y)),e},t.Events.CommentMove.prototype.fromJson=function(e){t.Events.CommentMove.superClass_.fromJson.call(this,e),e.newCoordinate&&(e=e.newCoordinate.split(","),this.newCoordinate_=new t.utils.Coordinate(Number(e[0]),Number(e[1])))},t.Events.CommentMove.prototype.isNull=function(){return t.utils.Coordinate.equals(this.oldCoordinate_,this.newCoordinate_)},t.Events.CommentMove.prototype.run=function(t){var e=this.getEventWorkspace_().getCommentById(this.commentId);if(e){t=t?this.newCoordinate_:this.oldCoordinate_;var i=e.getXY();e.moveBy(t.x-i.x,t.y-i.y)}else console.warn("Can't move non-existent comment: "+this.commentId)},t.BubbleDragger=function(e,i){this.draggingBubble_=e,this.workspace_=i,this.deleteArea_=null,this.wouldDeleteBubble_=!1,this.startXY_=this.draggingBubble_.getRelativeToSurfaceXY(),this.dragSurface_=t.utils.is3dSupported()&&i.getBlockDragSurface()?i.getBlockDragSurface():null},t.BubbleDragger.prototype.dispose=function(){this.dragSurface_=this.workspace_=this.draggingBubble_=null},t.BubbleDragger.prototype.startBubbleDrag=function(){t.Events.getGroup()||t.Events.setGroup(!0),this.workspace_.setResizesEnabled(!1),this.draggingBubble_.setAutoLayout(!1),this.dragSurface_&&this.moveToDragSurface_(),this.draggingBubble_.setDragging&&this.draggingBubble_.setDragging(!0);var e=this.workspace_.getToolbox();if(e){var i=this.draggingBubble_.isDeletable()?"blocklyToolboxDelete":"blocklyToolboxGrab";e.addStyle(i)}},t.BubbleDragger.prototype.dragBubble=function(e,i){var n=this.pixelsToWorkspaceUnits_(i);n=t.utils.Coordinate.sum(this.startXY_,n),this.draggingBubble_.moveDuringDrag(this.dragSurface_,n),this.draggingBubble_.isDeletable()&&(this.deleteArea_=this.workspace_.isDeleteArea(e),this.updateCursorDuringBubbleDrag_())},t.BubbleDragger.prototype.maybeDeleteBubble_=function(){var t=this.workspace_.trashcan;return this.wouldDeleteBubble_?(t&&setTimeout(t.close.bind(t),100),this.fireMoveEvent_(),this.draggingBubble_.dispose(!1,!0)):t&&t.close(),this.wouldDeleteBubble_},t.BubbleDragger.prototype.updateCursorDuringBubbleDrag_=function(){this.wouldDeleteBubble_=this.deleteArea_!=t.DELETE_AREA_NONE;var e=this.workspace_.trashcan;this.wouldDeleteBubble_?(this.draggingBubble_.setDeleteStyle(!0),this.deleteArea_==t.DELETE_AREA_TRASH&&e&&e.setOpen_(!0)):(this.draggingBubble_.setDeleteStyle(!1),e&&e.setOpen_(!1))},t.BubbleDragger.prototype.endBubbleDrag=function(e,i){this.dragBubble(e,i);var n=this.pixelsToWorkspaceUnits_(i);n=t.utils.Coordinate.sum(this.startXY_,n),this.draggingBubble_.moveTo(n.x,n.y),this.maybeDeleteBubble_()||(this.dragSurface_&&this.dragSurface_.clearAndHide(this.workspace_.getBubbleCanvas()),this.draggingBubble_.setDragging&&this.draggingBubble_.setDragging(!1),this.fireMoveEvent_()),this.workspace_.setResizesEnabled(!0),this.workspace_.toolbox_&&(n=this.draggingBubble_.isDeletable()?"blocklyToolboxDelete":"blocklyToolboxGrab",this.workspace_.toolbox_.removeStyle(n)),t.Events.setGroup(!1)},t.BubbleDragger.prototype.fireMoveEvent_=function(){if(this.draggingBubble_.isComment){var e=new t.Events.CommentMove(this.draggingBubble_);e.setOldCoordinate(this.startXY_),e.recordNew(),t.Events.fire(e)}},t.BubbleDragger.prototype.pixelsToWorkspaceUnits_=function(e){return e=new t.utils.Coordinate(e.x/this.workspace_.scale,e.y/this.workspace_.scale),this.workspace_.isMutator&&e.scale(1/this.workspace_.options.parentWorkspace.scale),e},t.BubbleDragger.prototype.moveToDragSurface_=function(){this.draggingBubble_.moveTo(0,0),this.dragSurface_.translateSurface(this.startXY_.x,this.startXY_.y),this.dragSurface_.setBlocksAndShow(this.draggingBubble_.getSvgRoot())},t.constants={},t.LINE_MODE_MULTIPLIER=40,t.PAGE_MODE_MULTIPLIER=125,t.DRAG_RADIUS=5,t.FLYOUT_DRAG_RADIUS=10,t.SNAP_RADIUS=28,t.CONNECTING_SNAP_RADIUS=t.SNAP_RADIUS,t.CURRENT_CONNECTION_PREFERENCE=8,t.INSERTION_MARKER_COLOUR="#000000",t.BUMP_DELAY=250,t.BUMP_RANDOMNESS=10,t.COLLAPSE_CHARS=30,t.LONGPRESS=750,t.SOUND_LIMIT=100,t.DRAG_STACK=!0,t.HSV_SATURATION=.45,t.HSV_VALUE=.65,t.SPRITE={width:96,height:124,url:"sprites.png"},t.INPUT_VALUE=1,t.OUTPUT_VALUE=2,t.NEXT_STATEMENT=3,t.PREVIOUS_STATEMENT=4,t.DUMMY_INPUT=5,t.ALIGN_LEFT=-1,t.ALIGN_CENTRE=0,t.ALIGN_RIGHT=1,t.DRAG_NONE=0,t.DRAG_STICKY=1,t.DRAG_BEGIN=1,t.DRAG_FREE=2,t.OPPOSITE_TYPE=[],t.OPPOSITE_TYPE[t.INPUT_VALUE]=t.OUTPUT_VALUE,t.OPPOSITE_TYPE[t.OUTPUT_VALUE]=t.INPUT_VALUE,t.OPPOSITE_TYPE[t.NEXT_STATEMENT]=t.PREVIOUS_STATEMENT,t.OPPOSITE_TYPE[t.PREVIOUS_STATEMENT]=t.NEXT_STATEMENT,t.TOOLBOX_AT_TOP=0,t.TOOLBOX_AT_BOTTOM=1,t.TOOLBOX_AT_LEFT=2,t.TOOLBOX_AT_RIGHT=3,t.DELETE_AREA_NONE=null,t.DELETE_AREA_TRASH=1,t.DELETE_AREA_TOOLBOX=2,t.VARIABLE_CATEGORY_NAME="VARIABLE",t.VARIABLE_DYNAMIC_CATEGORY_NAME="VARIABLE_DYNAMIC",t.PROCEDURE_CATEGORY_NAME="PROCEDURE",t.RENAME_VARIABLE_ID="RENAME_VARIABLE_ID",t.DELETE_VARIABLE_ID="DELETE_VARIABLE_ID",t.Events.Ui=function(e,i,n,o){t.Events.Ui.superClass_.constructor.call(this),this.blockId=e?e.id:null,this.workspaceId=e?e.workspace.id:void 0,this.element=i,this.oldValue=n,this.newValue=o,this.recordUndo=!1},t.utils.object.inherits(t.Events.Ui,t.Events.Abstract),t.Events.Ui.prototype.type=t.Events.UI,t.Events.Ui.prototype.toJson=function(){var e=t.Events.Ui.superClass_.toJson.call(this);return e.element=this.element,void 0!==this.newValue&&(e.newValue=this.newValue),this.blockId&&(e.blockId=this.blockId),e},t.Events.Ui.prototype.fromJson=function(e){t.Events.Ui.superClass_.fromJson.call(this,e),this.element=e.element,this.newValue=e.newValue,this.blockId=e.blockId},t.WorkspaceDragger=function(e){this.workspace_=e,this.startScrollXY_=new t.utils.Coordinate(e.scrollX,e.scrollY)},t.WorkspaceDragger.prototype.dispose=function(){this.workspace_=null},t.WorkspaceDragger.prototype.startDrag=function(){t.selected&&t.selected.unselect(),this.workspace_.setupDragSurface()},t.WorkspaceDragger.prototype.endDrag=function(t){this.drag(t),this.workspace_.resetDragSurface()},t.WorkspaceDragger.prototype.drag=function(e){e=t.utils.Coordinate.sum(this.startScrollXY_,e),this.workspace_.scroll(e.x,e.y)},t.FlyoutDragger=function(e){t.FlyoutDragger.superClass_.constructor.call(this,e.getWorkspace()),this.scrollbar_=e.scrollbar_,this.horizontalLayout_=e.horizontalLayout_},t.utils.object.inherits(t.FlyoutDragger,t.WorkspaceDragger),t.FlyoutDragger.prototype.drag=function(e){e=t.utils.Coordinate.sum(this.startScrollXY_,e),this.horizontalLayout_?this.scrollbar_.set(-e.x):this.scrollbar_.set(-e.y)},t.Tooltip={},t.Tooltip.visible=!1,t.Tooltip.blocked_=!1,t.Tooltip.LIMIT=50,t.Tooltip.mouseOutPid_=0,t.Tooltip.showPid_=0,t.Tooltip.lastX_=0,t.Tooltip.lastY_=0,t.Tooltip.element_=null,t.Tooltip.poisonedElement_=null,t.Tooltip.OFFSET_X=0,t.Tooltip.OFFSET_Y=10,t.Tooltip.RADIUS_OK=10,t.Tooltip.HOVER_MS=750,t.Tooltip.MARGINS=5,t.Tooltip.DIV=null,t.Tooltip.createDom=function(){t.Tooltip.DIV||(t.Tooltip.DIV=document.createElement("div"),t.Tooltip.DIV.className="blocklyTooltipDiv",document.body.appendChild(t.Tooltip.DIV))},t.Tooltip.bindMouseEvents=function(e){t.bindEvent_(e,"mouseover",null,t.Tooltip.onMouseOver_),t.bindEvent_(e,"mouseout",null,t.Tooltip.onMouseOut_),e.addEventListener("mousemove",t.Tooltip.onMouseMove_,!1)},t.Tooltip.onMouseOver_=function(e){if(!t.Tooltip.blocked_){for(e=e.currentTarget;"string"!=typeof e.tooltip&&"function"!=typeof e.tooltip;)e=e.tooltip;t.Tooltip.element_!=e&&(t.Tooltip.hide(),t.Tooltip.poisonedElement_=null,t.Tooltip.element_=e),clearTimeout(t.Tooltip.mouseOutPid_)}},t.Tooltip.onMouseOut_=function(e){t.Tooltip.blocked_||(t.Tooltip.mouseOutPid_=setTimeout((function(){t.Tooltip.element_=null,t.Tooltip.poisonedElement_=null,t.Tooltip.hide()}),1),clearTimeout(t.Tooltip.showPid_))},t.Tooltip.onMouseMove_=function(e){if(t.Tooltip.element_&&t.Tooltip.element_.tooltip&&!t.Tooltip.blocked_)if(t.Tooltip.visible){var i=t.Tooltip.lastX_-e.pageX;e=t.Tooltip.lastY_-e.pageY,Math.sqrt(i*i+e*e)>t.Tooltip.RADIUS_OK&&t.Tooltip.hide()}else t.Tooltip.poisonedElement_!=t.Tooltip.element_&&(clearTimeout(t.Tooltip.showPid_),t.Tooltip.lastX_=e.pageX,t.Tooltip.lastY_=e.pageY,t.Tooltip.showPid_=setTimeout(t.Tooltip.show_,t.Tooltip.HOVER_MS))},t.Tooltip.hide=function(){t.Tooltip.visible&&(t.Tooltip.visible=!1,t.Tooltip.DIV&&(t.Tooltip.DIV.style.display="none")),t.Tooltip.showPid_&&clearTimeout(t.Tooltip.showPid_)},t.Tooltip.block=function(){t.Tooltip.hide(),t.Tooltip.blocked_=!0},t.Tooltip.unblock=function(){t.Tooltip.blocked_=!1},t.Tooltip.show_=function(){if(!t.Tooltip.blocked_&&(t.Tooltip.poisonedElement_=t.Tooltip.element_,t.Tooltip.DIV)){t.Tooltip.DIV.innerHTML="";for(var e=t.Tooltip.element_.tooltip;"function"==typeof e;)e=e();e=t.utils.string.wrap(e,t.Tooltip.LIMIT),e=e.split("\n");for(var i=0;i<e.length;i++){var n=document.createElement("div");n.appendChild(document.createTextNode(e[i])),t.Tooltip.DIV.appendChild(n)}e=t.Tooltip.element_.RTL,i=document.documentElement.clientWidth,n=document.documentElement.clientHeight,t.Tooltip.DIV.style.direction=e?"rtl":"ltr",t.Tooltip.DIV.style.display="block",t.Tooltip.visible=!0;var o=t.Tooltip.lastX_;o=e?o-(t.Tooltip.OFFSET_X+t.Tooltip.DIV.offsetWidth):o+t.Tooltip.OFFSET_X;var s=t.Tooltip.lastY_+t.Tooltip.OFFSET_Y;s+t.Tooltip.DIV.offsetHeight>n+window.scrollY&&(s-=t.Tooltip.DIV.offsetHeight+2*t.Tooltip.OFFSET_Y),e?o=Math.max(t.Tooltip.MARGINS-window.scrollX,o):o+t.Tooltip.DIV.offsetWidth>i+window.scrollX-2*t.Tooltip.MARGINS&&(o=i-t.Tooltip.DIV.offsetWidth-2*t.Tooltip.MARGINS),t.Tooltip.DIV.style.top=s+"px",t.Tooltip.DIV.style.left=o+"px"}},t.Gesture=function(e,i){this.startWorkspace_=this.targetBlock_=this.startBlock_=this.startField_=this.startBubble_=this.currentDragDeltaXY_=this.mouseDownXY_=null,this.creatorWorkspace_=i,this.isDraggingBubble_=this.isDraggingBlock_=this.isDraggingWorkspace_=this.hasExceededDragRadius_=!1,this.mostRecentEvent_=e,this.flyout_=this.workspaceDragger_=this.blockDragger_=this.bubbleDragger_=this.onUpWrapper_=this.onMoveWrapper_=null,this.isEnding_=this.hasStarted_=this.calledUpdateIsDragging_=!1,this.healStack_=!t.DRAG_STACK},t.Gesture.prototype.dispose=function(){t.Touch.clearTouchIdentifier(),t.Tooltip.unblock(),this.creatorWorkspace_.clearGesture(),this.onMoveWrapper_&&t.unbindEvent_(this.onMoveWrapper_),this.onUpWrapper_&&t.unbindEvent_(this.onUpWrapper_),this.flyout_=this.startWorkspace_=this.targetBlock_=this.startBlock_=this.startField_=null,this.blockDragger_&&(this.blockDragger_.dispose(),this.blockDragger_=null),this.workspaceDragger_&&(this.workspaceDragger_.dispose(),this.workspaceDragger_=null),this.bubbleDragger_&&(this.bubbleDragger_.dispose(),this.bubbleDragger_=null)},t.Gesture.prototype.updateFromEvent_=function(e){var i=new t.utils.Coordinate(e.clientX,e.clientY);this.updateDragDelta_(i)&&(this.updateIsDragging_(),t.longStop_()),this.mostRecentEvent_=e},t.Gesture.prototype.updateDragDelta_=function(e){return this.currentDragDeltaXY_=t.utils.Coordinate.difference(e,this.mouseDownXY_),!this.hasExceededDragRadius_&&(this.hasExceededDragRadius_=t.utils.Coordinate.magnitude(this.currentDragDeltaXY_)>(this.flyout_?t.FLYOUT_DRAG_RADIUS:t.DRAG_RADIUS))},t.Gesture.prototype.updateIsDraggingFromFlyout_=function(){return!!this.flyout_.isBlockCreatable_(this.targetBlock_)&&(!(this.flyout_.isScrollable()&&!this.flyout_.isDragTowardWorkspace(this.currentDragDeltaXY_))&&(this.startWorkspace_=this.flyout_.targetWorkspace_,this.startWorkspace_.updateScreenCalculationsIfScrolled(),t.Events.getGroup()||t.Events.setGroup(!0),this.startBlock_=null,this.targetBlock_=this.flyout_.createBlock(this.targetBlock_),this.targetBlock_.select(),!0))},t.Gesture.prototype.updateIsDraggingBubble_=function(){return!!this.startBubble_&&(this.isDraggingBubble_=!0,this.startDraggingBubble_(),!0)},t.Gesture.prototype.updateIsDraggingBlock_=function(){return!!this.targetBlock_&&(this.flyout_?this.isDraggingBlock_=this.updateIsDraggingFromFlyout_():this.targetBlock_.isMovable()&&(this.isDraggingBlock_=!0),!!this.isDraggingBlock_&&(this.startDraggingBlock_(),!0))},t.Gesture.prototype.updateIsDraggingWorkspace_=function(){(this.flyout_?this.flyout_.isScrollable():this.startWorkspace_&&this.startWorkspace_.isDraggable())&&(this.workspaceDragger_=this.flyout_?new t.FlyoutDragger(this.flyout_):new t.WorkspaceDragger(this.startWorkspace_),this.isDraggingWorkspace_=!0,this.workspaceDragger_.startDrag())},t.Gesture.prototype.updateIsDragging_=function(){if(this.calledUpdateIsDragging_)throw Error("updateIsDragging_ should only be called once per gesture.");this.calledUpdateIsDragging_=!0,this.updateIsDraggingBubble_()||this.updateIsDraggingBlock_()||this.updateIsDraggingWorkspace_()},t.Gesture.prototype.startDraggingBlock_=function(){this.blockDragger_=new t.BlockDragger(this.targetBlock_,this.startWorkspace_),this.blockDragger_.startBlockDrag(this.currentDragDeltaXY_,this.healStack_),this.blockDragger_.dragBlock(this.mostRecentEvent_,this.currentDragDeltaXY_)},t.Gesture.prototype.startDraggingBubble_=function(){this.bubbleDragger_=new t.BubbleDragger(this.startBubble_,this.startWorkspace_),this.bubbleDragger_.startBubbleDrag(),this.bubbleDragger_.dragBubble(this.mostRecentEvent_,this.currentDragDeltaXY_)},t.Gesture.prototype.doStart=function(e){t.utils.isTargetInput(e)?this.cancel():(this.hasStarted_=!0,t.blockAnimations.disconnectUiStop(),this.startWorkspace_.updateScreenCalculationsIfScrolled(),this.startWorkspace_.isMutator&&this.startWorkspace_.resize(),this.startWorkspace_.markFocused(),this.mostRecentEvent_=e,t.hideChaff(!!this.flyout_),t.Tooltip.block(),this.targetBlock_&&(!this.targetBlock_.isInFlyout&&e.shiftKey?(t.navigation.enableKeyboardAccessibility(),this.creatorWorkspace_.getCursor().setCurNode(t.navigation.getTopNode(this.targetBlock_))):this.targetBlock_.select()),t.utils.isRightButton(e)?this.handleRightClick(e):("touchstart"!=e.type.toLowerCase()&&"pointerdown"!=e.type.toLowerCase()||"mouse"==e.pointerType||t.longStart_(e,this),this.mouseDownXY_=new t.utils.Coordinate(e.clientX,e.clientY),this.healStack_=e.altKey||e.ctrlKey||e.metaKey,this.bindMouseEvents(e)))},t.Gesture.prototype.bindMouseEvents=function(e){this.onMoveWrapper_=t.bindEventWithChecks_(document,"mousemove",null,this.handleMove.bind(this)),this.onUpWrapper_=t.bindEventWithChecks_(document,"mouseup",null,this.handleUp.bind(this)),e.preventDefault(),e.stopPropagation()},t.Gesture.prototype.handleMove=function(t){this.updateFromEvent_(t),this.isDraggingWorkspace_?this.workspaceDragger_.drag(this.currentDragDeltaXY_):this.isDraggingBlock_?this.blockDragger_.dragBlock(this.mostRecentEvent_,this.currentDragDeltaXY_):this.isDraggingBubble_&&this.bubbleDragger_.dragBubble(this.mostRecentEvent_,this.currentDragDeltaXY_),t.preventDefault(),t.stopPropagation()},t.Gesture.prototype.handleUp=function(e){this.updateFromEvent_(e),t.longStop_(),this.isEnding_?console.log("Trying to end a gesture recursively."):(this.isEnding_=!0,this.isDraggingBubble_?this.bubbleDragger_.endBubbleDrag(e,this.currentDragDeltaXY_):this.isDraggingBlock_?this.blockDragger_.endBlockDrag(e,this.currentDragDeltaXY_):this.isDraggingWorkspace_?this.workspaceDragger_.endDrag(this.currentDragDeltaXY_):this.isBubbleClick_()?this.doBubbleClick_():this.isFieldClick_()?this.doFieldClick_():this.isBlockClick_()?this.doBlockClick_():this.isWorkspaceClick_()&&this.doWorkspaceClick_(e),e.preventDefault(),e.stopPropagation(),this.dispose())},t.Gesture.prototype.cancel=function(){this.isEnding_||(t.longStop_(),this.isDraggingBubble_?this.bubbleDragger_.endBubbleDrag(this.mostRecentEvent_,this.currentDragDeltaXY_):this.isDraggingBlock_?this.blockDragger_.endBlockDrag(this.mostRecentEvent_,this.currentDragDeltaXY_):this.isDraggingWorkspace_&&this.workspaceDragger_.endDrag(this.currentDragDeltaXY_),this.dispose())},t.Gesture.prototype.handleRightClick=function(e){this.targetBlock_?(this.bringBlockToFront_(),t.hideChaff(this.flyout_),this.targetBlock_.showContextMenu_(e)):this.startBubble_?this.startBubble_.showContextMenu_(e):this.startWorkspace_&&!this.flyout_&&(t.hideChaff(),this.startWorkspace_.showContextMenu_(e)),e.preventDefault(),e.stopPropagation(),this.dispose()},t.Gesture.prototype.handleWsStart=function(e,i){if(this.hasStarted_)throw Error("Tried to call gesture.handleWsStart, but the gesture had already been started.");this.setStartWorkspace_(i),this.mostRecentEvent_=e,this.doStart(e),t.keyboardAccessibilityMode&&t.navigation.setState(t.navigation.STATE_WS)},t.Gesture.prototype.handleFlyoutStart=function(t,e){if(this.hasStarted_)throw Error("Tried to call gesture.handleFlyoutStart, but the gesture had already been started.");this.setStartFlyout_(e),this.handleWsStart(t,e.getWorkspace())},t.Gesture.prototype.handleBlockStart=function(t,e){if(this.hasStarted_)throw Error("Tried to call gesture.handleBlockStart, but the gesture had already been started.");this.setStartBlock(e),this.mostRecentEvent_=t},t.Gesture.prototype.handleBubbleStart=function(t,e){if(this.hasStarted_)throw Error("Tried to call gesture.handleBubbleStart, but the gesture had already been started.");this.setStartBubble(e),this.mostRecentEvent_=t},t.Gesture.prototype.doBubbleClick_=function(){this.startBubble_.setFocus&&this.startBubble_.setFocus(),this.startBubble_.select&&this.startBubble_.select()},t.Gesture.prototype.doFieldClick_=function(){this.startField_.showEditor_(),this.bringBlockToFront_()},t.Gesture.prototype.doBlockClick_=function(){this.flyout_&&this.flyout_.autoClose?this.targetBlock_.isEnabled()&&(t.Events.getGroup()||t.Events.setGroup(!0),this.flyout_.createBlock(this.targetBlock_).scheduleSnapAndBump()):t.Events.fire(new t.Events.Ui(this.startBlock_,"click",void 0,void 0)),this.bringBlockToFront_(),t.Events.setGroup(!1)},t.Gesture.prototype.doWorkspaceClick_=function(e){var i=this.creatorWorkspace_;e.shiftKey?(t.navigation.enableKeyboardAccessibility(),e=new t.utils.Coordinate(e.clientX,e.clientY),e=t.utils.screenToWsCoordinates(i,e),e=t.ASTNode.createWorkspaceNode(i,e),i.getCursor().setCurNode(e)):t.selected&&t.selected.unselect()},t.Gesture.prototype.bringBlockToFront_=function(){this.targetBlock_&&!this.flyout_&&this.targetBlock_.bringToFront()},t.Gesture.prototype.setStartField=function(t){if(this.hasStarted_)throw Error("Tried to call gesture.setStartField, but the gesture had already been started.");this.startField_||(this.startField_=t)},t.Gesture.prototype.setStartBubble=function(t){this.startBubble_||(this.startBubble_=t)},t.Gesture.prototype.setStartBlock=function(t){this.startBlock_||this.startBubble_||(this.startBlock_=t,t.isInFlyout&&t!=t.getRootBlock()?this.setTargetBlock_(t.getRootBlock()):this.setTargetBlock_(t))},t.Gesture.prototype.setTargetBlock_=function(t){t.isShadow()?this.setTargetBlock_(t.getParent()):this.targetBlock_=t},t.Gesture.prototype.setStartWorkspace_=function(t){this.startWorkspace_||(this.startWorkspace_=t)},t.Gesture.prototype.setStartFlyout_=function(t){this.flyout_||(this.flyout_=t)},t.Gesture.prototype.isBubbleClick_=function(){return!!this.startBubble_&&!this.hasExceededDragRadius_},t.Gesture.prototype.isBlockClick_=function(){return!!this.startBlock_&&!this.hasExceededDragRadius_&&!this.isFieldClick_()},t.Gesture.prototype.isFieldClick_=function(){return!!this.startField_&&this.startField_.isClickable()&&!this.hasExceededDragRadius_&&(!this.flyout_||!this.flyout_.autoClose)},t.Gesture.prototype.isWorkspaceClick_=function(){return!this.startBlock_&&!this.startBubble_&&!this.startField_&&!this.hasExceededDragRadius_},t.Gesture.prototype.isDragging=function(){return this.isDraggingWorkspace_||this.isDraggingBlock_||this.isDraggingBubble_},t.Gesture.prototype.hasStarted=function(){return this.hasStarted_},t.Gesture.prototype.getInsertionMarkers=function(){return this.blockDragger_?this.blockDragger_.getInsertionMarkers():[]},t.Gesture.inProgress=function(){for(var e,i=t.Workspace.getAll(),n=0;e=i[n];n++)if(e.currentGesture_)return!0;return!1},t.Field=function(e,i,n){this.tooltip_=this.validator_=this.value_=null,this.size_=new t.utils.Size(0,0),this.markerSvg_=this.cursorSvg_=null,n&&this.configure_(n),this.setValue(e),i&&this.setValidator(i)},t.Field.BORDER_RECT_DEFAULT_HEIGHT=16,t.Field.TEXT_DEFAULT_HEIGHT=12.5,t.Field.X_PADDING=10,t.Field.Y_PADDING=10,t.Field.DEFAULT_TEXT_OFFSET=t.Field.X_PADDING/2,t.Field.prototype.name=void 0,t.Field.prototype.disposed=!1,t.Field.prototype.maxDisplayLength=50,t.Field.prototype.sourceBlock_=null,t.Field.prototype.isDirty_=!0,t.Field.prototype.visible_=!0,t.Field.prototype.clickTarget_=null,t.Field.NBSP=" ",t.Field.prototype.EDITABLE=!0,t.Field.prototype.SERIALIZABLE=!1,t.Field.prototype.configure_=function(e){var i=e.tooltip;"string"==typeof i&&(i=t.utils.replaceMessageReferences(e.tooltip)),i&&this.setTooltip(i)},t.Field.prototype.setSourceBlock=function(t){if(this.sourceBlock_)throw Error("Field already bound to a block.");this.sourceBlock_=t},t.Field.prototype.getSourceBlock=function(){return this.sourceBlock_},t.Field.prototype.init=function(){this.fieldGroup_||(this.fieldGroup_=t.utils.dom.createSvgElement("g",{},null),this.isVisible()||(this.fieldGroup_.style.display="none"),this.sourceBlock_.getSvgRoot().appendChild(this.fieldGroup_),this.initView(),this.updateEditable(),this.setTooltip(this.tooltip_),this.bindEvents_(),this.initModel())},t.Field.prototype.initView=function(){this.createBorderRect_(),this.createTextElement_()},t.Field.prototype.initModel=function(){},t.Field.prototype.createBorderRect_=function(){this.size_.height=Math.max(this.size_.height,t.Field.BORDER_RECT_DEFAULT_HEIGHT),this.size_.width=Math.max(this.size_.width,t.Field.X_PADDING),this.borderRect_=t.utils.dom.createSvgElement("rect",{rx:4,ry:4,x:0,y:0,height:this.size_.height,width:this.size_.width},this.fieldGroup_)},t.Field.prototype.createTextElement_=function(){this.textElement_=t.utils.dom.createSvgElement("text",{class:"blocklyText",y:t.Field.TEXT_DEFAULT_HEIGHT,x:this.borderRect_?t.Field.DEFAULT_TEXT_OFFSET:0},this.fieldGroup_),this.textContent_=document.createTextNode(""),this.textElement_.appendChild(this.textContent_)},t.Field.prototype.bindEvents_=function(){t.Tooltip.bindMouseEvents(this.getClickTarget_()),this.mouseDownWrapper_=t.bindEventWithChecks_(this.getClickTarget_(),"mousedown",this,this.onMouseDown_)},t.Field.prototype.fromXml=function(t){this.setValue(t.textContent)},t.Field.prototype.toXml=function(t){return t.textContent=this.getValue(),t},t.Field.prototype.dispose=function(){t.DropDownDiv.hideIfOwner(this),t.WidgetDiv.hideIfOwner(this),this.mouseDownWrapper_&&t.unbindEvent_(this.mouseDownWrapper_),t.utils.dom.removeNode(this.fieldGroup_),this.disposed=!0},t.Field.prototype.updateEditable=function(){var e=this.getClickTarget_();this.EDITABLE&&e&&(this.sourceBlock_.isEditable()?(t.utils.dom.addClass(e,"blocklyEditableText"),t.utils.dom.removeClass(e,"blocklyNonEditableText"),e.style.cursor=this.CURSOR):(t.utils.dom.addClass(e,"blocklyNonEditableText"),t.utils.dom.removeClass(e,"blocklyEditableText"),e.style.cursor=""))},t.Field.prototype.isClickable=function(){return!!this.sourceBlock_&&this.sourceBlock_.isEditable()&&!!this.showEditor_&&"function"===typeof this.showEditor_},t.Field.prototype.isCurrentlyEditable=function(){return this.EDITABLE&&!!this.sourceBlock_&&this.sourceBlock_.isEditable()},t.Field.prototype.isSerializable=function(){var t=!1;return this.name&&(this.SERIALIZABLE?t=!0:this.EDITABLE&&(console.warn("Detected an editable field that was not serializable. Please define SERIALIZABLE property as true on all editable custom fields. Proceeding with serialization."),t=!0)),t},t.Field.prototype.isVisible=function(){return this.visible_},t.Field.prototype.setVisible=function(t){if(this.visible_!=t){this.visible_=t;var e=this.getSvgRoot();e&&(e.style.display=t?"block":"none")}},t.Field.prototype.setValidator=function(t){this.validator_=t},t.Field.prototype.getValidator=function(){return this.validator_},t.Field.prototype.classValidator=function(t){return t},t.Field.prototype.callValidator=function(t){var e=this.classValidator(t);if(null===e)return null;if(void 0!==e&&(t=e),e=this.getValidator()){if(e=e.call(this,t),null===e)return null;void 0!==e&&(t=e)}return t},t.Field.prototype.getSvgRoot=function(){return this.fieldGroup_},t.Field.prototype.updateColour=function(){},t.Field.prototype.render_=function(){this.textContent_&&(this.textContent_.nodeValue=this.getDisplayText_(),this.updateSize_())},t.Field.prototype.updateWidth=function(){console.warn("Deprecated call to updateWidth, call Blockly.Field.updateSize_ to force an update to the size of the field, or Blockly.utils.dom.getTextWidth() to check the size of the field."),this.updateSize_()},t.Field.prototype.updateSize_=function(){var e=t.utils.dom.getTextWidth(this.textElement_);this.borderRect_&&(e+=t.Field.X_PADDING,this.borderRect_.setAttribute("width",e)),this.size_.width=e},t.Field.prototype.getSize=function(){return this.isVisible()?(this.isDirty_?(this.render_(),this.isDirty_=!1):this.visible_&&0==this.size_.width&&(console.warn("Deprecated use of setting size_.width to 0 to rerender a field. Set field.isDirty_ to true instead."),this.render_()),this.size_):new t.utils.Size(0,0)},t.Field.prototype.getScaledBBox_=function(){var t=this.borderRect_.getBBox(),e=t.height*this.sourceBlock_.workspace.scale;t=t.width*this.sourceBlock_.workspace.scale;var i=this.getAbsoluteXY_();return{top:i.y,bottom:i.y+e,left:i.x,right:i.x+t}},t.Field.prototype.getDisplayText_=function(){var e=this.getText();return e?(e.length>this.maxDisplayLength&&(e=e.substring(0,this.maxDisplayLength-2)+"…"),e=e.replace(/\s/g,t.Field.NBSP),this.sourceBlock_&&this.sourceBlock_.RTL&&(e+="‏"),e):t.Field.NBSP},t.Field.prototype.getText=function(){if(this.getText_){var t=this.getText_.call(this);if(null!==t)return String(t)}return String(this.getValue())},t.Field.prototype.setText=function(t){throw Error("setText method is deprecated")},t.Field.prototype.markDirty=function(){this.isDirty_=!0},t.Field.prototype.forceRerender=function(){this.isDirty_=!0,this.sourceBlock_&&this.sourceBlock_.rendered&&(this.sourceBlock_.render(),this.sourceBlock_.bumpNeighbours())},t.Field.prototype.setValue=function(e){if(null!==e){var i=this.doClassValidation_(e);if(e=this.processValidation_(e,i),!(e instanceof Error)){if((i=this.getValidator())&&(i=i.call(this,e),e=this.processValidation_(e,i),e instanceof Error))return;i=this.getValue(),i!==e&&(this.sourceBlock_&&t.Events.isEnabled()&&t.Events.fire(new t.Events.BlockChange(this.sourceBlock_,"field",this.name||null,i,e)),this.doValueUpdate_(e),this.isDirty_&&this.forceRerender())}}},t.Field.prototype.processValidation_=function(t,e){return null===e?(this.doValueInvalid_(t),this.isDirty_&&this.forceRerender(),Error()):(void 0!==e&&(t=e),t)},t.Field.prototype.getValue=function(){return this.value_},t.Field.prototype.doClassValidation_=function(t){return null===t||void 0===t?null:t=this.classValidator(t)},t.Field.prototype.doValueUpdate_=function(t){this.value_=t,this.isDirty_=!0},t.Field.prototype.doValueInvalid_=function(t){},t.Field.prototype.onMouseDown_=function(t){this.sourceBlock_&&this.sourceBlock_.workspace&&(t=this.sourceBlock_.workspace.getGesture(t))&&t.setStartField(this)},t.Field.prototype.setTooltip=function(t){var e=this.getClickTarget_();e?e.tooltip=t||""===t?t:this.sourceBlock_:this.tooltip_=t},t.Field.prototype.getClickTarget_=function(){return this.clickTarget_||this.getSvgRoot()},t.Field.prototype.getAbsoluteXY_=function(){return t.utils.style.getPageOffset(this.borderRect_)},t.Field.prototype.referencesVariables=function(){return!1},t.Field.prototype.getParentInput=function(){for(var t=null,e=this.sourceBlock_,i=e.inputList,n=0;n<e.inputList.length;n++)for(var o=i[n],s=o.fieldRow,r=0;r<s.length;r++)if(s[r]===this){t=o;break}return t},t.Field.prototype.getFlipRtl=function(){return!1},t.Field.prototype.isTabNavigable=function(){return!1},t.Field.prototype.onBlocklyAction=function(t){return!1},t.Field.prototype.setCursorSvg=function(t){t?(this.fieldGroup_.appendChild(t),this.cursorSvg_=t):this.cursorSvg_=null},t.Field.prototype.setMarkerSvg=function(t){t?(this.fieldGroup_.appendChild(t),this.markerSvg_=t):this.markerSvg_=null},t.fieldRegistry={},t.fieldRegistry.typeMap_={},t.fieldRegistry.register=function(e,i){if("string"!=typeof e||""==e.trim())throw Error('Invalid field type "'+e+'". The type must be a non-empty string.');if(t.fieldRegistry.typeMap_[e])throw Error('Error: Field "'+e+'" is already registered.');if(!i||"function"!=typeof i.fromJson)throw Error('Field "'+i+'" must have a fromJson function');e=e.toLowerCase(),t.fieldRegistry.typeMap_[e]=i},t.fieldRegistry.unregister=function(e){t.fieldRegistry.typeMap_[e]?delete t.fieldRegistry.typeMap_[e]:console.warn('No field mapping for type "'+e+'" found to unregister')},t.fieldRegistry.fromJson=function(e){var i=e.type.toLowerCase();return i=t.fieldRegistry.typeMap_[i],i?i.fromJson(e):(console.warn("Blockly could not create a field of type "+e.type+". The field is probably not being registered. This could be because the file is not loaded, the field does not register itself (Issue #1584), or the registration is not being reached."),null)},t.FieldLabel=function(e,i,n){this.class_=null,null==e&&(e=""),t.FieldLabel.superClass_.constructor.call(this,e,null,n),n||(this.class_=i||null),this.size_=new t.utils.Size(0,t.Field.TEXT_DEFAULT_HEIGHT)},t.utils.object.inherits(t.FieldLabel,t.Field),t.FieldLabel.fromJson=function(e){var i=t.utils.replaceMessageReferences(e.text);return new t.FieldLabel(i,void 0,e)},t.FieldLabel.prototype.EDITABLE=!1,t.FieldLabel.prototype.configure_=function(e){t.FieldLabel.superClass_.configure_.call(this,e),this.class_=e["class"]},t.FieldLabel.prototype.initView=function(){this.createTextElement_(),this.textElement_.setAttribute("y",this.size_.height),this.class_&&t.utils.dom.addClass(this.textElement_,this.class_)},t.FieldLabel.prototype.doClassValidation_=function(t){return null===t||void 0===t?null:String(t)},t.FieldLabel.prototype.setClass=function(e){this.textElement_&&(this.class_&&t.utils.dom.removeClass(this.textElement_,this.class_),e&&t.utils.dom.addClass(this.textElement_,e)),this.class_=e},t.fieldRegistry.register("field_label",t.FieldLabel),t.Input=function(e,i,n,o){if(e!=t.DUMMY_INPUT&&!i)throw Error("Value inputs and statement inputs must have non-empty name.");this.type=e,this.name=i,this.sourceBlock_=n,this.connection=o,this.fieldRow=[]},t.Input.prototype.align=t.ALIGN_LEFT,t.Input.prototype.visible_=!0,t.Input.prototype.getSourceBlock=function(){return this.sourceBlock_},t.Input.prototype.appendField=function(t,e){return this.insertFieldAt(this.fieldRow.length,t,e),this},t.Input.prototype.insertFieldAt=function(e,i,n){if(0>e||e>this.fieldRow.length)throw Error("index "+e+" out of bounds.");return i||""==i&&n?("string"==typeof i&&(i=new t.FieldLabel(i)),i.setSourceBlock(this.sourceBlock_),this.sourceBlock_.rendered&&i.init(),i.name=n,i.prefixField&&(e=this.insertFieldAt(e,i.prefixField)),this.fieldRow.splice(e,0,i),++e,i.suffixField&&(e=this.insertFieldAt(e,i.suffixField)),this.sourceBlock_.rendered&&(this.sourceBlock_.render(),this.sourceBlock_.bumpNeighbours()),e):e},t.Input.prototype.removeField=function(t){for(var e,i=0;e=this.fieldRow[i];i++)if(e.name===t)return e.dispose(),this.fieldRow.splice(i,1),void(this.sourceBlock_.rendered&&(this.sourceBlock_.render(),this.sourceBlock_.bumpNeighbours()));throw Error('Field "%s" not found.',t)},t.Input.prototype.isVisible=function(){return this.visible_},t.Input.prototype.setVisible=function(t){var e=[];if(this.visible_==t)return e;for(var i,n=(this.visible_=t)?"block":"none",o=0;i=this.fieldRow[o];o++)i.setVisible(t);return this.connection&&(t?e=this.connection.unhideAll():this.connection.hideAll(),o=this.connection.targetBlock())&&(o.getSvgRoot().style.display=n,t||(o.rendered=!1)),e},t.Input.prototype.markDirty=function(){for(var t,e=0;t=this.fieldRow[e];e++)t.markDirty()},t.Input.prototype.setCheck=function(t){if(!this.connection)throw Error("This input does not have a connection.");return this.connection.setCheck(t),this},t.Input.prototype.setAlign=function(t){return this.align=t,this.sourceBlock_.rendered&&this.sourceBlock_.render(),this},t.Input.prototype.init=function(){if(this.sourceBlock_.workspace.rendered)for(var t=0;t<this.fieldRow.length;t++)this.fieldRow[t].init()},t.Input.prototype.dispose=function(){for(var t,e=0;t=this.fieldRow[e];e++)t.dispose();this.connection&&this.connection.dispose(),this.sourceBlock_=null},t.utils.colour={},t.utils.colour.parse=function(e){e=String(e).toLowerCase().trim();var i=t.utils.colour.names[e];if(i)return i;if(i="#"==e[0]?e:"#"+e,/^#[0-9a-f]{6}$/.test(i))return i;if(/^#[0-9a-f]{3}$/.test(i))return["#",i[1],i[1],i[2],i[2],i[3],i[3]].join("");var n=e.match(/^(?:rgb)?\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)$/);return n&&(e=Number(n[1]),i=Number(n[2]),n=Number(n[3]),0<=e&&256>e&&0<=i&&256>i&&0<=n&&256>n)?t.utils.colour.rgbToHex(e,i,n):null},t.utils.colour.rgbToHex=function(t,e,i){return e=t<<16|e<<8|i,16>t?"#"+(16777216|e).toString(16).substr(1):"#"+e.toString(16)},t.utils.colour.hexToRgb=function(t){return t=parseInt(t.substr(1),16),[t>>16,t>>8&255,255&t]},t.utils.colour.hsvToHex=function(e,i,n){var o=0,s=0,r=0;if(0==i)r=s=o=n;else{var a=Math.floor(e/60),l=e/60-a;e=n*(1-i);var c=n*(1-i*l);switch(i=n*(1-i*(1-l)),a){case 1:o=c,s=n,r=e;break;case 2:o=e,s=n,r=i;break;case 3:o=e,s=c,r=n;break;case 4:o=i,s=e,r=n;break;case 5:o=n,s=e,r=c;break;case 6:case 0:o=n,s=i,r=e}}return t.utils.colour.rgbToHex(Math.floor(o),Math.floor(s),Math.floor(r))},t.utils.colour.blend=function(e,i,n){return e=t.utils.colour.hexToRgb(t.utils.colour.parse(e)),i=t.utils.colour.hexToRgb(t.utils.colour.parse(i)),t.utils.colour.rgbToHex(Math.round(i[0]+n*(e[0]-i[0])),Math.round(i[1]+n*(e[1]-i[1])),Math.round(i[2]+n*(e[2]-i[2])))},t.utils.colour.names={aqua:"#00ffff",black:"#000000",blue:"#0000ff",fuchsia:"#ff00ff",gray:"#808080",green:"#008000",lime:"#00ff00",maroon:"#800000",navy:"#000080",olive:"#808000",purple:"#800080",red:"#ff0000",silver:"#c0c0c0",teal:"#008080",white:"#ffffff",yellow:"#ffff00"},t.Block=function(e,i,n){if(t.Generator&&"undefined"!=typeof t.Generator.prototype[i])throw Error('Block prototypeName "'+i+'" conflicts with Blockly.Generator members.');if(this.id=n&&!e.getBlockById(n)?n:t.utils.genUid(),e.blockDB_[this.id]=this,this.previousConnection=this.nextConnection=this.outputConnection=null,this.inputList=[],this.inputsInline=void 0,this.disabled=!1,this.tooltip="",this.contextMenu=!0,this.parentBlock_=null,this.childBlocks_=[],this.editable_=this.movable_=this.deletable_=!0,this.collapsed_=this.isShadow_=!1,this.comment=null,this.commentModel={text:null,pinned:!1,size:new t.utils.Size(160,80)},this.xy_=new t.utils.Coordinate(0,0),this.workspace=e,this.isInFlyout=e.isFlyout,this.isInMutator=e.isMutator,this.RTL=e.RTL,this.isInsertionMarker_=!1,this.hat=void 0,i){if(this.type=i,n=t.Blocks[i],!n||"object"!=typeof n)throw TypeError("Unknown block type: "+i);t.utils.object.mixin(this,n)}if(e.addTopBlock(this),e.addTypedBlock(this),"function"==typeof this.init&&this.init(),this.inputsInlineDefault=this.inputsInline,t.Events.isEnabled()){(e=t.Events.getGroup())||t.Events.setGroup(!0);try{t.Events.fire(new t.Events.BlockCreate(this))}finally{e||t.Events.setGroup(!1)}}"function"==typeof this.onchange&&this.setOnChange(this.onchange)},t.Block.prototype.data=null,t.Block.prototype.disposed=!1,t.Block.prototype.hue_=null,t.Block.prototype.colour_="#000000",t.Block.prototype.colourSecondary_=null,t.Block.prototype.colourTertiary_=null,t.Block.prototype.styleName_=null,t.Block.prototype.dispose=function(e){if(this.workspace){this.onchangeWrapper_&&this.workspace.removeChangeListener(this.onchangeWrapper_),t.keyboardAccessibilityMode&&t.navigation.moveCursorOnBlockDelete(this),this.unplug(e),t.Events.isEnabled()&&t.Events.fire(new t.Events.BlockDelete(this)),t.Events.disable();try{this.workspace&&(this.workspace.removeTopBlock(this),this.workspace.removeTypedBlock(this),delete this.workspace.blockDB_[this.id],this.workspace=null),t.selected==this&&(t.selected=null);for(var i=this.childBlocks_.length-1;0<=i;i--)this.childBlocks_[i].dispose(!1);i=0;for(var n;n=this.inputList[i];i++)n.dispose();this.inputList.length=0;var o,s=this.getConnections_(!0);for(i=0;o=s[i];i++)o.dispose()}finally{t.Events.enable(),this.disposed=!0}}},t.Block.prototype.initModel=function(){for(var t,e=0;t=this.inputList[e];e++)for(var i,n=0;i=t.fieldRow[n];n++)i.initModel&&i.initModel()},t.Block.prototype.unplug=function(t){this.outputConnection?this.unplugFromRow_(t):this.previousConnection&&this.unplugFromStack_(t)},t.Block.prototype.unplugFromRow_=function(t){var e=null;this.outputConnection.isConnected()&&(e=this.outputConnection.targetConnection,this.outputConnection.disconnect()),e&&t&&(t=this.getOnlyValueConnection_())&&t.isConnected()&&!t.targetBlock().isShadow()&&(t=t.targetConnection,t.disconnect(),t.checkType_(e)?e.connect(t):t.onFailedConnect(e))},t.Block.prototype.getOnlyValueConnection_=function(){for(var e=null,i=0;i<this.inputList.length;i++){var n=this.inputList[i].connection;if(n&&n.type==t.INPUT_VALUE&&n.targetConnection){if(e)return null;e=n}}return e},t.Block.prototype.unplugFromStack_=function(t){var e=null;this.previousConnection.isConnected()&&(e=this.previousConnection.targetConnection,this.previousConnection.disconnect());var i=this.getNextBlock();t&&i&&!i.isShadow()&&(t=this.nextConnection.targetConnection,t.disconnect(),e&&e.checkType_(t)&&e.connect(t))},t.Block.prototype.getConnections_=function(t){t=[],this.outputConnection&&t.push(this.outputConnection),this.previousConnection&&t.push(this.previousConnection),this.nextConnection&&t.push(this.nextConnection);for(var e,i=0;e=this.inputList[i];i++)e.connection&&t.push(e.connection);return t},t.Block.prototype.lastConnectionInStack=function(){for(var t=this.nextConnection;t;){var e=t.targetBlock();if(!e)return t;t=e.nextConnection}return null},t.Block.prototype.bumpNeighbours=function(){console.warn("Not expected to reach Block.bumpNeighbours function. BlockSvg.bumpNeighbours was expected to be called instead.")},t.Block.prototype.getParent=function(){return this.parentBlock_},t.Block.prototype.getInputWithBlock=function(t){for(var e,i=0;e=this.inputList[i];i++)if(e.connection&&e.connection.targetBlock()==t)return e;return null},t.Block.prototype.getSurroundParent=function(){var t=this;do{var e=t;if(t=t.getParent(),!t)return null}while(t.getNextBlock()==e);return t},t.Block.prototype.getNextBlock=function(){return this.nextConnection&&this.nextConnection.targetBlock()},t.Block.prototype.getPreviousBlock=function(){return this.previousConnection&&this.previousConnection.targetBlock()},t.Block.prototype.getFirstStatementConnection=function(){for(var e,i=0;e=this.inputList[i];i++)if(e.connection&&e.connection.type==t.NEXT_STATEMENT)return e.connection;return null},t.Block.prototype.getRootBlock=function(){var t=this;do{var e=t;t=e.parentBlock_}while(t);return e},t.Block.prototype.getTopStackBlock=function(){var t=this;do{var e=t.getPreviousBlock()}while(e&&e.getNextBlock()==t&&(t=e));return t},t.Block.prototype.getChildren=function(t){if(!t)return this.childBlocks_;t=[];for(var e,i=0;e=this.inputList[i];i++)e.connection&&(e=e.connection.targetBlock())&&t.push(e);return(i=this.getNextBlock())&&t.push(i),t},t.Block.prototype.setParent=function(e){if(e!=this.parentBlock_){if(this.parentBlock_){if(t.utils.arrayRemove(this.parentBlock_.childBlocks_,this),this.previousConnection&&this.previousConnection.isConnected())throw Error("Still connected to previous block.");if(this.outputConnection&&this.outputConnection.isConnected())throw Error("Still connected to parent block.");this.parentBlock_=null}else this.workspace.removeTopBlock(this);(this.parentBlock_=e)?e.childBlocks_.push(this):this.workspace.addTopBlock(this)}},t.Block.prototype.getDescendants=function(t){for(var e,i=[this],n=this.getChildren(t),o=0;e=n[o];o++)i.push.apply(i,e.getDescendants(t));return i},t.Block.prototype.isDeletable=function(){return this.deletable_&&!this.isShadow_&&!(this.workspace&&this.workspace.options.readOnly)},t.Block.prototype.setDeletable=function(t){this.deletable_=t},t.Block.prototype.isMovable=function(){return this.movable_&&!this.isShadow_&&!(this.workspace&&this.workspace.options.readOnly)},t.Block.prototype.setMovable=function(t){this.movable_=t},t.Block.prototype.isDuplicatable=function(){return!this.workspace.hasBlockLimits()||this.workspace.isCapacityAvailable(t.utils.getBlockTypeCounts(this,!0))},t.Block.prototype.isShadow=function(){return this.isShadow_},t.Block.prototype.setShadow=function(t){this.isShadow_=t},t.Block.prototype.isInsertionMarker=function(){return this.isInsertionMarker_},t.Block.prototype.setInsertionMarker=function(t){this.isInsertionMarker_=t},t.Block.prototype.isEditable=function(){return this.editable_&&!(this.workspace&&this.workspace.options.readOnly)},t.Block.prototype.setEditable=function(t){this.editable_=t,t=0;for(var e;e=this.inputList[t];t++)for(var i,n=0;i=e.fieldRow[n];n++)i.updateEditable()},t.Block.prototype.getMatchingConnection=function(t,e){var i=this.getConnections_(!0),n=t.getConnections_(!0);if(i.length!=n.length)throw Error("Connection lists did not match in length.");for(var o=0;o<n.length;o++)if(n[o]==e)return i[o];return null},t.Block.prototype.setHelpUrl=function(t){this.helpUrl=t},t.Block.prototype.setTooltip=function(t){this.tooltip=t},t.Block.prototype.getColour=function(){return this.colour_},t.Block.prototype.getColourSecondary=function(){return this.colourSecondary_},t.Block.prototype.getColourTertiary=function(){return this.colourTertiary_},t.Block.prototype.getColourShadow=function(){var e=this.getColourSecondary();return e||t.utils.colour.blend("#fff",this.getColour(),.6)},t.Block.prototype.getColourBorder=function(){var e=this.getColourTertiary();return e?{colourBorder:e,colourLight:null,colourDark:null}:(e=this.getColour(),{colourBorder:null,colourLight:t.utils.colour.blend("#fff",e,.3),colourDark:t.utils.colour.blend("#000",e,.2)})},t.Block.prototype.getStyleName=function(){return this.styleName_},t.Block.prototype.getHue=function(){return this.hue_},t.Block.prototype.setColour=function(e){var i="string"==typeof e?t.utils.replaceMessageReferences(e):e,n=Number(i);if(!isNaN(n)&&0<=n&&360>=n)this.hue_=n,this.colour_=t.hueToHex(n);else{if(!(n=t.utils.colour.parse(i)))throw n='Invalid colour: "'+i+'"',e!=i&&(n+=' (from "'+e+'")'),Error(n);this.colour_=n,this.hue_=null}},t.Block.prototype.setStyle=function(t){var e=this.workspace.getTheme().getBlockStyle(t);if(this.styleName_=t,!e)throw Error("Invalid style name: "+t);this.colourSecondary_=e.colourSecondary,this.colourTertiary_=e.colourTertiary,this.hat=e.hat,this.setColour(e.colourPrimary)},t.Block.prototype.setOnChange=function(t){if(t&&"function"!=typeof t)throw Error("onchange must be a function.");this.onchangeWrapper_&&this.workspace.removeChangeListener(this.onchangeWrapper_),(this.onchange=t)&&(this.onchangeWrapper_=t.bind(this),this.workspace.addChangeListener(this.onchangeWrapper_))},t.Block.prototype.getField=function(t){for(var e,i=0;e=this.inputList[i];i++)for(var n,o=0;n=e.fieldRow[o];o++)if(n.name==t)return n;return null},t.Block.prototype.getVars=function(){for(var t,e=[],i=0;t=this.inputList[i];i++)for(var n,o=0;n=t.fieldRow[o];o++)n.referencesVariables()&&e.push(n.getValue());return e},t.Block.prototype.getVarModels=function(){for(var t,e=[],i=0;t=this.inputList[i];i++)for(var n,o=0;n=t.fieldRow[o];o++)n.referencesVariables()&&(n=this.workspace.getVariableById(n.getValue()))&&e.push(n);return e},t.Block.prototype.updateVarName=function(t){for(var e,i=0;e=this.inputList[i];i++)for(var n,o=0;n=e.fieldRow[o];o++)n.referencesVariables()&&t.getId()==n.getValue()&&n.refreshVariableName()},t.Block.prototype.renameVarById=function(t,e){for(var i,n=0;i=this.inputList[n];n++)for(var o,s=0;o=i.fieldRow[s];s++)o.referencesVariables()&&t==o.getValue()&&o.setValue(e)},t.Block.prototype.getFieldValue=function(t){return(t=this.getField(t))?t.getValue():null},t.Block.prototype.setFieldValue=function(t,e){var i=this.getField(e);if(!i)throw Error('Field "'+e+'" not found.');i.setValue(t)},t.Block.prototype.setPreviousStatement=function(e,i){if(e){if(void 0===i&&(i=null),!this.previousConnection){if(this.outputConnection)throw Error("Remove output connection prior to adding previous connection.");this.previousConnection=this.makeConnection_(t.PREVIOUS_STATEMENT)}this.previousConnection.setCheck(i)}else if(this.previousConnection){if(this.previousConnection.isConnected())throw Error("Must disconnect previous statement before removing connection.");this.previousConnection.dispose(),this.previousConnection=null}},t.Block.prototype.setNextStatement=function(e,i){if(e)void 0===i&&(i=null),this.nextConnection||(this.nextConnection=this.makeConnection_(t.NEXT_STATEMENT)),this.nextConnection.setCheck(i);else if(this.nextConnection){if(this.nextConnection.isConnected())throw Error("Must disconnect next statement before removing connection.");this.nextConnection.dispose(),this.nextConnection=null}},t.Block.prototype.setOutput=function(e,i){if(e){if(void 0===i&&(i=null),!this.outputConnection){if(this.previousConnection)throw Error("Remove previous connection prior to adding output connection.");this.outputConnection=this.makeConnection_(t.OUTPUT_VALUE)}this.outputConnection.setCheck(i)}else if(this.outputConnection){if(this.outputConnection.isConnected())throw Error("Must disconnect output value before removing connection.");this.outputConnection.dispose(),this.outputConnection=null}},t.Block.prototype.setInputsInline=function(e){this.inputsInline!=e&&(t.Events.fire(new t.Events.BlockChange(this,"inline",null,this.inputsInline,e)),this.inputsInline=e)},t.Block.prototype.getInputsInline=function(){if(void 0!=this.inputsInline)return this.inputsInline;for(var e=1;e<this.inputList.length;e++)if(this.inputList[e-1].type==t.DUMMY_INPUT&&this.inputList[e].type==t.DUMMY_INPUT)return!1;for(e=1;e<this.inputList.length;e++)if(this.inputList[e-1].type==t.INPUT_VALUE&&this.inputList[e].type==t.DUMMY_INPUT)return!0;return!1},t.Block.prototype.setDisabled=function(t){console.warn("Deprecated call to Blockly.Block.prototype.setDisabled, use Blockly.Block.prototype.setEnabled instead."),this.setEnabled(!t)},t.Block.prototype.isEnabled=function(){return!this.disabled},t.Block.prototype.setEnabled=function(e){this.isEnabled()!=e&&(t.Events.fire(new t.Events.BlockChange(this,"disabled",null,this.disabled,!e)),this.disabled=!e)},t.Block.prototype.getInheritedDisabled=function(){for(var t=this.getSurroundParent();t;){if(t.disabled)return!0;t=t.getSurroundParent()}return!1},t.Block.prototype.isCollapsed=function(){return this.collapsed_},t.Block.prototype.setCollapsed=function(e){this.collapsed_!=e&&(t.Events.fire(new t.Events.BlockChange(this,"collapsed",null,this.collapsed_,e)),this.collapsed_=e)},t.Block.prototype.toString=function(t,e){var i=[],n=e||"?";if(this.collapsed_)i.push(this.getInput("_TEMP_COLLAPSED_INPUT").fieldRow[0].getText());else for(var o,s=0;o=this.inputList[s];s++){for(var r,a=0;r=o.fieldRow[a];a++)i.push(r.getText());o.connection&&((o=o.connection.targetBlock())?i.push(o.toString(void 0,e)):i.push(n))}return i=i.join(" ").trim()||"???",t&&i.length>t&&(i=i.substring(0,t-3)+"..."),i},t.Block.prototype.appendValueInput=function(e){return this.appendInput_(t.INPUT_VALUE,e)},t.Block.prototype.appendStatementInput=function(e){return this.appendInput_(t.NEXT_STATEMENT,e)},t.Block.prototype.appendDummyInput=function(e){return this.appendInput_(t.DUMMY_INPUT,e||"")},t.Block.prototype.jsonInit=function(e){var i=e.type?'Block "'+e.type+'": ':"";if(e.output&&e.previousStatement)throw Error(i+"Must not have both an output and a previousStatement.");if(e.style&&e.style.hat&&(this.hat=e.style.hat,e.style=null),e.style&&e.colour)throw Error(i+"Must not have both a colour and a style.");e.style?this.jsonInitStyle_(e,i):this.jsonInitColour_(e,i);for(var n=0;void 0!==e["message"+n];)this.interpolate_(e["message"+n],e["args"+n]||[],e["lastDummyAlign"+n]),n++;if(void 0!==e.inputsInline&&this.setInputsInline(e.inputsInline),void 0!==e.output&&this.setOutput(!0,e.output),void 0!==e.previousStatement&&this.setPreviousStatement(!0,e.previousStatement),void 0!==e.nextStatement&&this.setNextStatement(!0,e.nextStatement),void 0!==e.tooltip&&(n=e.tooltip,n=t.utils.replaceMessageReferences(n),this.setTooltip(n)),void 0!==e.enableContextMenu&&(n=e.enableContextMenu,this.contextMenu=!!n),void 0!==e.helpUrl&&(n=e.helpUrl,n=t.utils.replaceMessageReferences(n),this.setHelpUrl(n)),"string"==typeof e.extensions&&(console.warn(i+"JSON attribute 'extensions' should be an array of strings. Found raw string in JSON for '"+e.type+"' block."),e.extensions=[e.extensions]),void 0!==e.mutator&&t.Extensions.apply(e.mutator,this,!0),Array.isArray(e.extensions))for(e=e.extensions,i=0;i<e.length;++i)t.Extensions.apply(e[i],this,!1)},t.Block.prototype.jsonInitColour_=function(t,e){if("colour"in t)if(void 0===t.colour)console.warn(e+"Undefined colour value.");else{var i=t.colour;try{this.setColour(i)}catch(n){console.warn(e+"Illegal colour value: ",i)}}},t.Block.prototype.jsonInitStyle_=function(t,e){var i=t.style;try{this.setStyle(i)}catch(n){console.warn(e+"Style does not exist: ",i)}},t.Block.prototype.mixin=function(e,i){if(void 0!==i&&"boolean"!=typeof i)throw Error("opt_disableCheck must be a boolean if provided");if(!i){var n,o=[];for(n in e)void 0!==this[n]&&o.push(n);if(o.length)throw Error("Mixin will overwrite block members: "+JSON.stringify(o))}t.utils.object.mixin(this,e)},t.Block.prototype.interpolate_=function(e,i,n){var o=t.utils.tokenizeInterpolation(e),s=[],r=0;e=[];for(var a=0;a<o.length;a++){var l=o[a];if("number"==typeof l){if(0>=l||l>i.length)throw Error('Block "'+this.type+'": Message index %'+l+" out of range.");if(s[l])throw Error('Block "'+this.type+'": Message index %'+l+" duplicated.");s[l]=!0,r++,e.push(i[l-1])}else(l=l.trim())&&e.push(l)}if(r!=i.length)throw Error('Block "'+this.type+'": Message does not reference all '+i.length+" arg(s).");for(e.length&&("string"==typeof e[e.length-1]||t.utils.string.startsWith(e[e.length-1].type,"field_"))&&(a={type:"input_dummy"},n&&(a.align=n),e.push(a)),n={LEFT:t.ALIGN_LEFT,RIGHT:t.ALIGN_RIGHT,CENTRE:t.ALIGN_CENTRE},i=[],a=0;a<e.length;a++)if(s=e[a],"string"==typeof s)i.push([s,void 0]);else{o=r=null;do{if(l=!1,"string"==typeof s)r=new t.FieldLabel(s);else switch(s.type){case"input_value":o=this.appendValueInput(s.name);break;case"input_statement":o=this.appendStatementInput(s.name);break;case"input_dummy":o=this.appendDummyInput(s.name);break;default:r=t.fieldRegistry.fromJson(s),!r&&s.alt&&(s=s.alt,l=!0)}}while(l);if(r)i.push([r,s.name]);else if(o){for(s.check&&o.setCheck(s.check),s.align&&o.setAlign(n[s.align]),s=0;s<i.length;s++)o.appendField(i[s][0],i[s][1]);i.length=0}}},t.Block.prototype.appendInput_=function(e,i){var n=null;return e!=t.INPUT_VALUE&&e!=t.NEXT_STATEMENT||(n=this.makeConnection_(e)),n=new t.Input(e,i,this,n),this.inputList.push(n),n},t.Block.prototype.moveInputBefore=function(t,e){if(t!=e){for(var i,n=-1,o=e?-1:this.inputList.length,s=0;i=this.inputList[s];s++)if(i.name==t){if(n=s,-1!=o)break}else if(e&&i.name==e&&(o=s,-1!=n))break;if(-1==n)throw Error('Named input "'+t+'" not found.');if(-1==o)throw Error('Reference input "'+e+'" not found.');this.moveNumberedInputBefore(n,o)}},t.Block.prototype.moveNumberedInputBefore=function(t,e){if(t==e)throw Error("Can't move input to itself.");if(t>=this.inputList.length)throw RangeError("Input index "+t+" out of bounds.");if(e>this.inputList.length)throw RangeError("Reference input "+e+" out of bounds.");var i=this.inputList[t];this.inputList.splice(t,1),t<e&&e--,this.inputList.splice(e,0,i)},t.Block.prototype.removeInput=function(t,e){for(var i,n=0;i=this.inputList[n];n++)if(i.name==t)return i.dispose(),void this.inputList.splice(n,1);if(!e)throw Error("Input not found: "+t)},t.Block.prototype.getInput=function(t){for(var e,i=0;e=this.inputList[i];i++)if(e.name==t)return e;return null},t.Block.prototype.getInputTargetBlock=function(t){return(t=this.getInput(t))&&t.connection&&t.connection.targetBlock()},t.Block.prototype.getCommentText=function(){return this.commentModel.text},t.Block.prototype.setCommentText=function(e){this.commentModel.text!=e&&(t.Events.fire(new t.Events.BlockChange(this,"comment",null,this.commentModel.text,e)),this.comment=this.commentModel.text=e)},t.Block.prototype.setWarningText=function(t,e){},t.Block.prototype.setMutator=function(t){},t.Block.prototype.getRelativeToSurfaceXY=function(){return this.xy_},t.Block.prototype.moveBy=function(e,i){if(this.parentBlock_)throw Error("Block has parent.");var n=new t.Events.BlockMove(this);this.xy_.translate(e,i),n.recordNew(),t.Events.fire(n)},t.Block.prototype.makeConnection_=function(e){return new t.Connection(this,e)},t.Block.prototype.allInputsFilled=function(t){if(void 0===t&&(t=!0),!t&&this.isShadow())return!1;for(var e,i=0;e=this.inputList[i];i++)if(e.connection&&(e=e.connection.targetBlock(),!e||!e.allInputsFilled(t)))return!1;return!(i=this.getNextBlock())||i.allInputsFilled(t)},t.Block.prototype.toDevString=function(){var t=this.type?'"'+this.type+'" block':"Block";return this.id&&(t+=' (id="'+this.id+'")'),t},t.BlockDragSurfaceSvg=function(t){this.container_=t,this.createDom()},t.BlockDragSurfaceSvg.prototype.SVG_=null,t.BlockDragSurfaceSvg.prototype.dragGroup_=null,t.BlockDragSurfaceSvg.prototype.container_=null,t.BlockDragSurfaceSvg.prototype.scale_=1,t.BlockDragSurfaceSvg.prototype.surfaceXY_=null,t.BlockDragSurfaceSvg.prototype.createDom=function(){this.SVG_||(this.SVG_=t.utils.dom.createSvgElement("svg",{xmlns:t.utils.dom.SVG_NS,"xmlns:html":t.utils.dom.HTML_NS,"xmlns:xlink":t.utils.dom.XLINK_NS,version:"1.1",class:"blocklyBlockDragSurface"},this.container_),this.dragGroup_=t.utils.dom.createSvgElement("g",{},this.SVG_))},t.BlockDragSurfaceSvg.prototype.setBlocksAndShow=function(e){if(this.dragGroup_.childNodes.length)throw Error("Already dragging a block.");this.dragGroup_.appendChild(e),this.SVG_.style.display="block",this.surfaceXY_=new t.utils.Coordinate(0,0)},t.BlockDragSurfaceSvg.prototype.translateAndScaleGroup=function(t,e,i){this.scale_=i,t=t.toFixed(0),e=e.toFixed(0),this.dragGroup_.setAttribute("transform","translate("+t+","+e+") scale("+i+")")},t.BlockDragSurfaceSvg.prototype.translateSurfaceInternal_=function(){var e=this.surfaceXY_.x,i=this.surfaceXY_.y;e=e.toFixed(0),i=i.toFixed(0),this.SVG_.style.display="block",t.utils.dom.setCssTransform(this.SVG_,"translate3d("+e+"px, "+i+"px, 0px)")},t.BlockDragSurfaceSvg.prototype.translateSurface=function(e,i){this.surfaceXY_=new t.utils.Coordinate(e*this.scale_,i*this.scale_),this.translateSurfaceInternal_()},t.BlockDragSurfaceSvg.prototype.getSurfaceTranslation=function(){var e=t.utils.getRelativeXY(this.SVG_);return new t.utils.Coordinate(e.x/this.scale_,e.y/this.scale_)},t.BlockDragSurfaceSvg.prototype.getGroup=function(){return this.dragGroup_},t.BlockDragSurfaceSvg.prototype.getCurrentBlock=function(){return this.dragGroup_.firstChild},t.BlockDragSurfaceSvg.prototype.clearAndHide=function(t){if(t?t.appendChild(this.getCurrentBlock()):this.dragGroup_.removeChild(this.getCurrentBlock()),this.SVG_.style.display="none",this.dragGroup_.childNodes.length)throw Error("Drag group was not cleared.");this.surfaceXY_=null},t.blockRendering={},t.blockRendering.IPathObject=function(t){},t.blockRendering.PathObject=function(e){this.svgRoot=e,this.svgPath=t.utils.dom.createSvgElement("path",{class:"blocklyPath"},this.svgRoot),this.svgPathLight=t.utils.dom.createSvgElement("path",{class:"blocklyPathLight"},this.svgRoot),this.svgPathDark=t.utils.dom.createSvgElement("path",{class:"blocklyPathDark",transform:"translate(1,1)"},this.svgRoot)},t.blockRendering.PathObject.prototype.setPaths=function(t){this.svgPath.setAttribute("d",t),this.svgPathLight.style.display="none",this.svgPathDark.style.display="none"},t.blockRendering.PathObject.prototype.flipRTL=function(){this.svgPath.setAttribute("transform","scale(-1 1)")},t.utils.IdGenerator={},t.utils.IdGenerator.nextId_=0,t.utils.IdGenerator.getNextUniqueId=function(){return"blockly:"+(t.utils.IdGenerator.nextId_++).toString(36)},t.Component=function(){this.rightToLeft_=t.Component.defaultRightToLeft,this.id_=null,this.inDocument_=!1,this.parent_=this.element_=null,this.children_=[],this.childIndex_={}},t.Component.defaultRightToLeft=!1,t.Component.Error={ALREADY_RENDERED:"Component already rendered",PARENT_UNABLE_TO_BE_SET:"Unable to set parent component",CHILD_INDEX_OUT_OF_BOUNDS:"Child component index out of bounds"},t.Component.prototype.getId=function(){return this.id_||(this.id_=t.utils.IdGenerator.getNextUniqueId())},t.Component.prototype.getElement=function(){return this.element_},t.Component.prototype.setElementInternal=function(t){this.element_=t},t.Component.prototype.setParent=function(e){if(this==e)throw Error(t.Component.Error.PARENT_UNABLE_TO_BE_SET);if(e&&this.parent_&&this.id_&&this.parent_.getChild(this.id_)&&this.parent_!=e)throw Error(t.Component.Error.PARENT_UNABLE_TO_BE_SET);this.parent_=e},t.Component.prototype.getParent=function(){return this.parent_},t.Component.prototype.isInDocument=function(){return this.inDocument_},t.Component.prototype.createDom=function(){this.element_=document.createElement("div")},t.Component.prototype.render=function(t){this.render_(t)},t.Component.prototype.renderBefore=function(t){this.render_(t.parentNode,t)},t.Component.prototype.render_=function(e,i){if(this.inDocument_)throw Error(t.Component.Error.ALREADY_RENDERED);this.element_||this.createDom(),e?e.insertBefore(this.element_,i||null):document.body.appendChild(this.element_),this.parent_&&!this.parent_.isInDocument()||this.enterDocument()},t.Component.prototype.enterDocument=function(){this.inDocument_=!0,this.forEachChild((function(t){!t.isInDocument()&&t.getElement()&&t.enterDocument()}))},t.Component.prototype.exitDocument=function(){this.forEachChild((function(t){t.isInDocument()&&t.exitDocument()})),this.inDocument_=!1},t.Component.prototype.dispose=function(){this.disposed_||(this.disposed_=!0,this.disposeInternal())},t.Component.prototype.disposeInternal=function(){this.inDocument_&&this.exitDocument(),this.forEachChild((function(t){t.dispose()})),this.element_&&t.utils.dom.removeNode(this.element_),this.parent_=this.element_=this.childIndex_=this.children_=null},t.Component.prototype.addChild=function(t,e){this.addChildAt(t,this.getChildCount(),e)},t.Component.prototype.addChildAt=function(e,i,n){if(e.inDocument_&&(n||!this.inDocument_))throw Error(t.Component.Error.ALREADY_RENDERED);if(0>i||i>this.getChildCount())throw Error(t.Component.Error.CHILD_INDEX_OUT_OF_BOUNDS);if(this.childIndex_[e.getId()]=e,e.getParent()==this){var o=this.children_.indexOf(e);-1<o&&this.children_.splice(o,1)}e.setParent(this),this.children_.splice(i,0,e),e.inDocument_&&this.inDocument_&&e.getParent()==this?(n=this.getContentElement(),i=n.childNodes[i]||null,i!=e.getElement()&&n.insertBefore(e.getElement(),i)):n?(this.element_||this.createDom(),i=this.getChildAt(i+1),e.render_(this.getContentElement(),i?i.element_:null)):this.inDocument_&&!e.inDocument_&&e.element_&&e.element_.parentNode&&e.element_.parentNode.nodeType==t.utils.dom.Node.ELEMENT_NODE&&e.enterDocument()},t.Component.prototype.getContentElement=function(){return this.element_},t.Component.prototype.isRightToLeft=function(){return this.rightToLeft_},t.Component.prototype.setRightToLeft=function(e){if(this.inDocument_)throw Error(t.Component.Error.ALREADY_RENDERED);this.rightToLeft_=e},t.Component.prototype.hasChildren=function(){return 0!=this.children_.length},t.Component.prototype.getChildCount=function(){return this.children_.length},t.Component.prototype.getChild=function(t){return t&&this.childIndex_[t]||null},t.Component.prototype.getChildAt=function(t){return this.children_[t]||null},t.Component.prototype.forEachChild=function(t,e){for(var i=0;i<this.children_.length;i++)t.call(e,this.children_[i],i)},t.Component.prototype.indexOfChild=function(t){return this.children_.indexOf(t)},t.utils.aria={},t.utils.aria.ARIA_PREFIX_="aria-",t.utils.aria.ROLE_ATTRIBUTE_="role",t.utils.aria.Role={ALERT:"alert",ALERTDIALOG:"alertdialog",APPLICATION:"application",ARTICLE:"article",BANNER:"banner",BUTTON:"button",CHECKBOX:"checkbox",COLUMNHEADER:"columnheader",COMBOBOX:"combobox",COMPLEMENTARY:"complementary",CONTENTINFO:"contentinfo",DEFINITION:"definition",DIALOG:"dialog",DIRECTORY:"directory",DOCUMENT:"document",FORM:"form",GRID:"grid",GRIDCELL:"gridcell",GROUP:"group",HEADING:"heading",IMG:"img",LINK:"link",LIST:"list",LISTBOX:"listbox",LISTITEM:"listitem",LOG:"log",MAIN:"main",MARQUEE:"marquee",MATH:"math",MENU:"menu",MENUBAR:"menubar",MENUITEM:"menuitem",MENUITEMCHECKBOX:"menuitemcheckbox",MENUITEMRADIO:"menuitemradio",NAVIGATION:"navigation",NOTE:"note",OPTION:"option",PRESENTATION:"presentation",PROGRESSBAR:"progressbar",RADIO:"radio",RADIOGROUP:"radiogroup",REGION:"region",ROW:"row",ROWGROUP:"rowgroup",ROWHEADER:"rowheader",SCROLLBAR:"scrollbar",SEARCH:"search",SEPARATOR:"separator",SLIDER:"slider",SPINBUTTON:"spinbutton",STATUS:"status",TAB:"tab",TABLE:"table",TABLIST:"tablist",TABPANEL:"tabpanel",TEXTBOX:"textbox",TEXTINFO:"textinfo",TIMER:"timer",TOOLBAR:"toolbar",TOOLTIP:"tooltip",TREE:"tree",TREEGRID:"treegrid",TREEITEM:"treeitem"},t.utils.aria.State={ACTIVEDESCENDANT:"activedescendant",ATOMIC:"atomic",AUTOCOMPLETE:"autocomplete",BUSY:"busy",CHECKED:"checked",COLINDEX:"colindex",CONTROLS:"controls",DESCRIBEDBY:"describedby",DISABLED:"disabled",DROPEFFECT:"dropeffect",EXPANDED:"expanded",FLOWTO:"flowto",GRABBED:"grabbed",HASPOPUP:"haspopup",HIDDEN:"hidden",INVALID:"invalid",LABEL:"label",LABELLEDBY:"labelledby",LEVEL:"level",LIVE:"live",MULTILINE:"multiline",MULTISELECTABLE:"multiselectable",ORIENTATION:"orientation",OWNS:"owns",POSINSET:"posinset",PRESSED:"pressed",READONLY:"readonly",RELEVANT:"relevant",REQUIRED:"required",ROWINDEX:"rowindex",SELECTED:"selected",SETSIZE:"setsize",SORT:"sort",VALUEMAX:"valuemax",VALUEMIN:"valuemin",VALUENOW:"valuenow",VALUETEXT:"valuetext"},t.utils.aria.setRole=function(e,i){i?e.setAttribute(t.utils.aria.ROLE_ATTRIBUTE_,i):t.utils.aria.removeRole(e)},t.utils.aria.getRole=function(e){return e.getAttribute(t.utils.aria.ROLE_ATTRIBUTE_)||null},t.utils.aria.removeRole=function(e){e.removeAttribute(t.utils.aria.ROLE_ATTRIBUTE_)},t.utils.aria.setState=function(e,i,n){Array.isArray(n)&&(n=n.join(" ")),i=t.utils.aria.getAriaAttributeName_(i),e.setAttribute(i,n)},t.utils.aria.getAriaAttributeName_=function(e){return t.utils.aria.ARIA_PREFIX_+e},t.Menu=function(){t.Component.call(this),this.highlightedIndex_=-1},t.utils.object.inherits(t.Menu,t.Component),t.Menu.prototype.createDom=function(){var e=document.createElement("div");e.id=this.getId(),this.setElementInternal(e),e.className="goog-menu goog-menu-vertical blocklyNonSelectable",e.tabIndex=0,t.utils.aria.setRole(e,this.roleName_||t.utils.aria.Role.MENU)},t.Menu.prototype.focus=function(){var e=this.getElement();e&&(e.focus(),t.utils.dom.addClass(e,"focused"))},t.Menu.prototype.blur=function(){var e=this.getElement();e&&(e.blur(),t.utils.dom.removeClass(e,"focused"))},t.Menu.prototype.setRole=function(t){this.roleName_=t},t.Menu.prototype.enterDocument=function(){t.Menu.superClass_.enterDocument.call(this),this.forEachChild((function(t){t.isInDocument()&&this.registerChildId_(t)}),this),this.attachEvents_()},t.Menu.prototype.exitDocument=function(){this.setHighlightedIndex(-1),t.Menu.superClass_.exitDocument.call(this)},t.Menu.prototype.disposeInternal=function(){t.Menu.superClass_.disposeInternal.call(this),this.detachEvents_()},t.Menu.prototype.attachEvents_=function(){var e=this.getElement();this.mouseOverHandler_=t.bindEventWithChecks_(e,"mouseover",this,this.handleMouseOver_,!0),this.clickHandler_=t.bindEventWithChecks_(e,"click",this,this.handleClick_,!0),this.mouseEnterHandler_=t.bindEventWithChecks_(e,"mouseenter",this,this.handleMouseEnter_,!0),this.mouseLeaveHandler_=t.bindEventWithChecks_(e,"mouseleave",this,this.handleMouseLeave_,!0),this.onKeyDownWrapper_=t.bindEventWithChecks_(e,"keydown",this,this.handleKeyEvent)},t.Menu.prototype.detachEvents_=function(){t.unbindEvent_(this.mouseOverHandler_),t.unbindEvent_(this.clickHandler_),t.unbindEvent_(this.mouseEnterHandler_),t.unbindEvent_(this.mouseLeaveHandler_),t.unbindEvent_(this.onKeyDownWrapper_)},t.Menu.prototype.childElementIdMap_=null,t.Menu.prototype.registerChildId_=function(t){var e=t.getElement();e=e.id||(e.id=t.getId()),this.childElementIdMap_||(this.childElementIdMap_={}),this.childElementIdMap_[e]=t},t.Menu.prototype.getMenuItem=function(t){if(this.childElementIdMap_)for(var e=this.getElement();t&&t!==e;){var i=t.id;if(i in this.childElementIdMap_)return this.childElementIdMap_[i];t=t.parentNode}return null},t.Menu.prototype.unhighlightCurrent=function(){var t=this.getHighlighted();t&&t.setHighlighted(!1)},t.Menu.prototype.clearHighlighted=function(){this.unhighlightCurrent(),this.setHighlightedIndex(-1)},t.Menu.prototype.getHighlighted=function(){return this.getChildAt(this.highlightedIndex_)},t.Menu.prototype.setHighlightedIndex=function(e){var i=this.getChildAt(e);i?(i.setHighlighted(!0),this.highlightedIndex_=e):-1<this.highlightedIndex_&&(this.getHighlighted().setHighlighted(!1),this.highlightedIndex_=-1),i&&t.utils.style.scrollIntoContainerView(i.getElement(),this.getElement())},t.Menu.prototype.setHighlighted=function(t){this.setHighlightedIndex(this.indexOfChild(t))},t.Menu.prototype.highlightNext=function(){this.unhighlightCurrent(),this.highlightHelper((function(t,e){return(t+1)%e}),this.highlightedIndex_)},t.Menu.prototype.highlightPrevious=function(){this.unhighlightCurrent(),this.highlightHelper((function(t,e){return t--,0>t?e-1:t}),this.highlightedIndex_)},t.Menu.prototype.highlightHelper=function(t,e){var i=0>e?-1:e,n=this.getChildCount();i=t.call(this,i,n);for(var o=0;o<=n;){var s=this.getChildAt(i);if(s&&this.canHighlightItem(s))return this.setHighlightedIndex(i),!0;o++,i=t.call(this,i,n)}return!1},t.Menu.prototype.canHighlightItem=function(t){return t.isEnabled()},t.Menu.prototype.handleMouseOver_=function(t){(t=this.getMenuItem(t.target))&&t.isEnabled()&&this.getHighlighted()!==t&&(this.unhighlightCurrent(),this.setHighlighted(t))},t.Menu.prototype.handleClick_=function(t){var e=this.getMenuItem(t.target);e&&e.handleClick(t)&&t.preventDefault()},t.Menu.prototype.handleMouseEnter_=function(t){this.focus()},t.Menu.prototype.handleMouseLeave_=function(t){this.getElement()&&(this.blur(),this.clearHighlighted())},t.Menu.prototype.handleKeyEvent=function(t){return!(0==this.getChildCount()||!this.handleKeyEventInternal(t))&&(t.preventDefault(),t.stopPropagation(),!0)},t.Menu.prototype.handleKeyEventInternal=function(e){var i=this.getHighlighted();if(i&&"function"==typeof i.handleKeyEvent&&i.handleKeyEvent(e))return!0;if(e.shiftKey||e.ctrlKey||e.metaKey||e.altKey)return!1;switch(e.keyCode){case t.utils.KeyCodes.ENTER:i&&i.performActionInternal(e);break;case t.utils.KeyCodes.UP:this.highlightPrevious();break;case t.utils.KeyCodes.DOWN:this.highlightNext();break;default:return!1}return!0},t.MenuItem=function(e,i){t.Component.call(this),this.setContentInternal(e),this.setValue(i),this.enabled_=!0},t.utils.object.inherits(t.MenuItem,t.Component),t.MenuItem.prototype.createDom=function(){var e=document.createElement("div");e.id=this.getId(),this.setElementInternal(e),e.className="goog-menuitem goog-option "+(this.enabled_?"":"goog-menuitem-disabled ")+(this.checked_?"goog-option-selected ":"")+(this.isRightToLeft()?"goog-menuitem-rtl ":"");var i=this.getContentWrapperDom();e.appendChild(i);var n=this.getCheckboxDom();n&&i.appendChild(n),i.appendChild(this.getContentDom()),t.utils.aria.setRole(e,this.roleName_||(this.checkable_?t.utils.aria.Role.MENUITEMCHECKBOX:t.utils.aria.Role.MENUITEM)),t.utils.aria.setState(e,t.utils.aria.State.SELECTED,this.checkable_&&this.checked_||!1)},t.MenuItem.prototype.getCheckboxDom=function(){if(!this.checkable_)return null;var t=document.createElement("div");return t.className="goog-menuitem-checkbox",t},t.MenuItem.prototype.getContentDom=function(){var t=this.content_;return"string"===typeof t&&(t=document.createTextNode(t)),t},t.MenuItem.prototype.getContentWrapperDom=function(){var t=document.createElement("div");return t.className="goog-menuitem-content",t},t.MenuItem.prototype.setContentInternal=function(t){this.content_=t},t.MenuItem.prototype.setValue=function(t){this.value_=t},t.MenuItem.prototype.getValue=function(){return this.value_},t.MenuItem.prototype.setRole=function(t){this.roleName_=t},t.MenuItem.prototype.setCheckable=function(t){this.checkable_=t},t.MenuItem.prototype.setChecked=function(e){if(this.checkable_){this.checked_=e;var i=this.getElement();i&&this.isEnabled()&&(e?(t.utils.dom.addClass(i,"goog-option-selected"),t.utils.aria.setState(i,t.utils.aria.State.SELECTED,!0)):(t.utils.dom.removeClass(i,"goog-option-selected"),t.utils.aria.setState(i,t.utils.aria.State.SELECTED,!1)))}},t.MenuItem.prototype.setHighlighted=function(e){this.highlight_=e;var i=this.getElement();i&&this.isEnabled()&&(e?t.utils.dom.addClass(i,"goog-menuitem-highlight"):t.utils.dom.removeClass(i,"goog-menuitem-highlight"))},t.MenuItem.prototype.isEnabled=function(){return this.enabled_},t.MenuItem.prototype.setEnabled=function(e){this.enabled_=e,(e=this.getElement())&&(this.enabled_?t.utils.dom.removeClass(e,"goog-menuitem-disabled"):t.utils.dom.addClass(e,"goog-menuitem-disabled"))},t.MenuItem.prototype.handleClick=function(t){this.isEnabled()&&(this.setHighlighted(!0),this.performActionInternal())},t.MenuItem.prototype.performActionInternal=function(){this.checkable_&&this.setChecked(!this.checked_),this.actionHandler_&&this.actionHandler_.call(this.actionHandlerObj_,this)},t.MenuItem.prototype.onAction=function(t,e){this.actionHandler_=t,this.actionHandlerObj_=e},t.utils.uiMenu={},t.utils.uiMenu.getSize=function(e){e=e.getElement();var i=t.utils.style.getSize(e);return i.height=e.scrollHeight,i},t.utils.uiMenu.adjustBBoxesForRTL=function(t,e,i){e.left+=i.width,e.right+=i.width,t.left+=i.width,t.right+=i.width},t.ContextMenu={},t.ContextMenu.currentBlock=null,t.ContextMenu.eventWrapper_=null,t.ContextMenu.show=function(e,i,n){if(t.WidgetDiv.show(t.ContextMenu,n,null),i.length){var o=t.ContextMenu.populate_(i,n);t.ContextMenu.position_(o,e,n),setTimeout((function(){o.getElement().focus()}),1),t.ContextMenu.currentBlock=null}else t.ContextMenu.hide()},t.ContextMenu.populate_=function(e,i){var n=new t.Menu;n.setRightToLeft(i);for(var o,s=0;o=e[s];s++){var r=new t.MenuItem(o.text);r.setRightToLeft(i),n.addChild(r,!0),r.setEnabled(o.enabled),o.enabled&&r.onAction((function(){t.ContextMenu.hide(),this.callback()}),o)}return n},t.ContextMenu.position_=function(e,i,n){var o=t.utils.getViewportBBox();i={top:i.clientY+o.top,bottom:i.clientY+o.top,left:i.clientX+o.left,right:i.clientX+o.left},t.ContextMenu.createWidget_(e);var s=t.utils.uiMenu.getSize(e);n&&t.utils.uiMenu.adjustBBoxesForRTL(o,i,s),t.WidgetDiv.positionWithAnchor(o,i,s,n),e.getElement().focus()},t.ContextMenu.createWidget_=function(e){e.render(t.WidgetDiv.DIV);var i=e.getElement();t.utils.dom.addClass(i,"blocklyContextMenu"),t.bindEventWithChecks_(i,"contextmenu",null,t.utils.noEvent),e.focus()},t.ContextMenu.hide=function(){t.WidgetDiv.hideIfOwner(t.ContextMenu),t.ContextMenu.currentBlock=null,t.ContextMenu.eventWrapper_&&t.unbindEvent_(t.ContextMenu.eventWrapper_)},t.ContextMenu.callbackFactory=function(e,i){return function(){t.Events.disable();try{var n=t.Xml.domToBlock(i,e.workspace),o=e.getRelativeToSurfaceXY();o.x=e.RTL?o.x-t.SNAP_RADIUS:o.x+t.SNAP_RADIUS,o.y+=2*t.SNAP_RADIUS,n.moveBy(o.x,o.y)}finally{t.Events.enable()}t.Events.isEnabled()&&!n.isShadow()&&t.Events.fire(new t.Events.BlockCreate(n)),n.select()}},t.ContextMenu.blockDeleteOption=function(e){var i=e.getDescendants(!1).length,n=e.getNextBlock();return n&&(i-=n.getDescendants(!1).length),{text:1==i?t.Msg.DELETE_BLOCK:t.Msg.DELETE_X_BLOCKS.replace("%1",String(i)),enabled:!0,callback:function(){t.Events.setGroup(!0),e.dispose(!0,!0),t.Events.setGroup(!1)}}},t.ContextMenu.blockHelpOption=function(e){return{enabled:!("function"==typeof e.helpUrl?!e.helpUrl():!e.helpUrl),text:t.Msg.HELP,callback:function(){e.showHelp_()}}},t.ContextMenu.blockDuplicateOption=function(e){var i=e.isDuplicatable();return{text:t.Msg.DUPLICATE_BLOCK,enabled:i,callback:function(){t.duplicate_(e)}}},t.ContextMenu.blockCommentOption=function(e){var i={enabled:!t.utils.userAgent.IE};return e.comment?(i.text=t.Msg.REMOVE_COMMENT,i.callback=function(){e.setCommentText(null)}):(i.text=t.Msg.ADD_COMMENT,i.callback=function(){e.setCommentText("")}),i},t.ContextMenu.commentDeleteOption=function(e){return{text:t.Msg.REMOVE_COMMENT,enabled:!0,callback:function(){t.Events.setGroup(!0),e.dispose(!0,!0),t.Events.setGroup(!1)}}},t.ContextMenu.commentDuplicateOption=function(e){return{text:t.Msg.DUPLICATE_COMMENT,enabled:!0,callback:function(){t.duplicate_(e)}}},t.ContextMenu.workspaceCommentOption=function(e,i){if(!t.WorkspaceCommentSvg)throw Error("Missing require for Blockly.WorkspaceCommentSvg");var n={enabled:!t.utils.userAgent.IE};return n.text=t.Msg.ADD_COMMENT,n.callback=function(){var n=new t.WorkspaceCommentSvg(e,t.Msg.WORKSPACE_COMMENT_DEFAULT_TEXT,t.WorkspaceCommentSvg.DEFAULT_SIZE,t.WorkspaceCommentSvg.DEFAULT_SIZE),o=e.getInjectionDiv().getBoundingClientRect();o=new t.utils.Coordinate(i.clientX-o.left,i.clientY-o.top);var s=e.getOriginOffsetInPixels();o=t.utils.Coordinate.difference(o,s),o.scale(1/e.scale),n.moveBy(o.x,o.y),e.rendered&&(n.initSvg(),n.render(),n.select())},n},t.RenderedConnection=function(e,i){t.RenderedConnection.superClass_.constructor.call(this,e,i),this.db_=e.workspace.connectionDBList[i],this.dbOpposite_=e.workspace.connectionDBList[t.OPPOSITE_TYPE[i]],this.offsetInBlock_=new t.utils.Coordinate(0,0),this.inDB_=!1,this.hidden_=!this.db_},t.utils.object.inherits(t.RenderedConnection,t.Connection),t.RenderedConnection.prototype.dispose=function(){t.RenderedConnection.superClass_.dispose.call(this),this.inDB_&&this.db_.removeConnection_(this)},t.RenderedConnection.prototype.distanceFrom=function(t){var e=this.x_-t.x_;return t=this.y_-t.y_,Math.sqrt(e*e+t*t)},t.RenderedConnection.prototype.bumpAwayFrom_=function(e){if(!this.sourceBlock_.workspace.isDragging()){var i=this.sourceBlock_.getRootBlock();if(!i.isInFlyout){var n=!1;if(!i.isMovable()){if(i=e.getSourceBlock().getRootBlock(),!i.isMovable())return;e=this,n=!0}var o=t.selected==i;o||i.addSelect();var s=e.x_+t.SNAP_RADIUS+Math.floor(Math.random()*t.BUMP_RANDOMNESS)-this.x_,r=e.y_+t.SNAP_RADIUS+Math.floor(Math.random()*t.BUMP_RANDOMNESS)-this.y_;n&&(r=-r),i.RTL&&(s=e.x_-t.SNAP_RADIUS-Math.floor(Math.random()*t.BUMP_RANDOMNESS)-this.x_),i.moveBy(s,r),o||i.removeSelect()}}},t.RenderedConnection.prototype.moveTo=function(t,e){this.inDB_&&this.db_.removeConnection_(this),this.x_=t,this.y_=e,this.hidden_||this.db_.addConnection(this)},t.RenderedConnection.prototype.moveBy=function(t,e){this.moveTo(this.x_+t,this.y_+e)},t.RenderedConnection.prototype.moveToOffset=function(t){this.moveTo(t.x+this.offsetInBlock_.x,t.y+this.offsetInBlock_.y)},t.RenderedConnection.prototype.setOffsetInBlock=function(t,e){this.offsetInBlock_.x=t,this.offsetInBlock_.y=e},t.RenderedConnection.prototype.getOffsetInBlock=function(){return this.offsetInBlock_},t.RenderedConnection.prototype.tighten_=function(){var e=this.targetConnection.x_-this.x_,i=this.targetConnection.y_-this.y_;if(0!=e||0!=i){var n=this.targetBlock(),o=n.getSvgRoot();if(!o)throw Error("block is not rendered.");o=t.utils.getRelativeXY(o),n.getSvgRoot().setAttribute("transform","translate("+(o.x-e)+","+(o.y-i)+")"),n.moveConnections_(-e,-i)}},t.RenderedConnection.prototype.closest=function(t,e){return this.dbOpposite_.searchForClosest(this,t,e)},t.RenderedConnection.prototype.highlight=function(){var e=this.sourceBlock_.workspace.getRenderer().getConstants();e=this.type==t.INPUT_VALUE||this.type==t.OUTPUT_VALUE?t.utils.svgPaths.moveBy(0,-5)+t.utils.svgPaths.lineOnAxis("v",5)+e.PUZZLE_TAB.pathDown+t.utils.svgPaths.lineOnAxis("v",5):t.utils.svgPaths.moveBy(-5,0)+t.utils.svgPaths.lineOnAxis("h",5)+e.NOTCH.pathLeft+t.utils.svgPaths.lineOnAxis("h",5);var i=this.sourceBlock_.getRelativeToSurfaceXY();t.Connection.highlightedPath_=t.utils.dom.createSvgElement("path",{class:"blocklyHighlightedConnectionPath",d:e,transform:"translate("+(this.x_-i.x)+","+(this.y_-i.y)+")"+(this.sourceBlock_.RTL?" scale(-1 1)":"")},this.sourceBlock_.getSvgRoot())},t.RenderedConnection.prototype.unhideAll=function(){this.setHidden(!1);var e=[];if(this.type!=t.INPUT_VALUE&&this.type!=t.NEXT_STATEMENT)return e;var i=this.targetBlock();if(i){if(i.isCollapsed()){var n=[];i.outputConnection&&n.push(i.outputConnection),i.nextConnection&&n.push(i.nextConnection),i.previousConnection&&n.push(i.previousConnection)}else n=i.getConnections_(!0);for(var o=0;o<n.length;o++)e.push.apply(e,n[o].unhideAll());e.length||(e[0]=i)}return e},t.RenderedConnection.prototype.unhighlight=function(){t.utils.dom.removeNode(t.Connection.highlightedPath_),delete t.Connection.highlightedPath_},t.RenderedConnection.prototype.setHidden=function(t){(this.hidden_=t)&&this.inDB_?this.db_.removeConnection_(this):t||this.inDB_||this.db_.addConnection(this)},t.RenderedConnection.prototype.hideAll=function(){if(this.setHidden(!0),this.targetConnection)for(var t=this.targetBlock().getDescendants(!1),e=0;e<t.length;e++){for(var i=t[e],n=i.getConnections_(!0),o=0;o<n.length;o++)n[o].setHidden(!0);for(i=i.getIcons(),o=0;o<i.length;o++)i[o].setVisible(!1)}},t.RenderedConnection.prototype.isConnectionAllowed=function(e,i){return!(this.distanceFrom(e)>i)&&t.RenderedConnection.superClass_.isConnectionAllowed.call(this,e)},t.RenderedConnection.prototype.onFailedConnect=function(t){this.bumpAwayFrom_(t)},t.RenderedConnection.prototype.disconnectInternal_=function(e,i){t.RenderedConnection.superClass_.disconnectInternal_.call(this,e,i),e.rendered&&e.render(),i.rendered&&(i.updateDisabled(),i.render())},t.RenderedConnection.prototype.respawnShadow_=function(){var e=this.getSourceBlock(),i=this.getShadowDom();if(e.workspace&&i&&t.Events.recordUndo){if(t.RenderedConnection.superClass_.respawnShadow_.call(this),i=this.targetBlock(),!i)throw Error("Couldn't respawn the shadow block that should exist here.");i.initSvg(),i.render(!1),e.rendered&&e.render()}},t.RenderedConnection.prototype.neighbours_=function(t){return this.dbOpposite_.getNeighbours(this,t)},t.RenderedConnection.prototype.connect_=function(e){t.RenderedConnection.superClass_.connect_.call(this,e);var i=this.getSourceBlock();e=e.getSourceBlock(),i.rendered&&i.updateDisabled(),e.rendered&&e.updateDisabled(),i.rendered&&e.rendered&&(this.type==t.NEXT_STATEMENT||this.type==t.PREVIOUS_STATEMENT?e.render():i.render())},t.RenderedConnection.prototype.onCheckChanged_=function(){this.isConnected()&&!this.checkType_(this.targetConnection)&&((this.isSuperior()?this.targetBlock():this.sourceBlock_).unplug(),this.sourceBlock_.bumpNeighbours())},t.utils.Rect=function(t,e,i,n){this.top=t,this.bottom=e,this.left=i,this.right=n},t.utils.Rect.prototype.contains=function(t,e){return t>=this.left&&t<=this.right&&e>=this.top&&e<=this.bottom},t.Icon=function(t){this.block_=t},t.Icon.prototype.collapseHidden=!0,t.Icon.prototype.SIZE=17,t.Icon.prototype.bubble_=null,t.Icon.prototype.iconXY_=null,t.Icon.prototype.createIcon=function(){this.iconGroup_||(this.iconGroup_=t.utils.dom.createSvgElement("g",{class:"blocklyIconGroup"},null),this.block_.isInFlyout&&t.utils.dom.addClass(this.iconGroup_,"blocklyIconGroupReadonly"),this.drawIcon_(this.iconGroup_),this.block_.getSvgRoot().appendChild(this.iconGroup_),t.bindEventWithChecks_(this.iconGroup_,"mouseup",this,this.iconClick_),this.updateEditable())},t.Icon.prototype.dispose=function(){t.utils.dom.removeNode(this.iconGroup_),this.iconGroup_=null,this.setVisible(!1),this.block_=null},t.Icon.prototype.updateEditable=function(){},t.Icon.prototype.isVisible=function(){return!!this.bubble_},t.Icon.prototype.iconClick_=function(e){this.block_.workspace.isDragging()||this.block_.isInFlyout||t.utils.isRightButton(e)||this.setVisible(!this.isVisible())},t.Icon.prototype.updateColour=function(){this.isVisible()&&this.bubble_.setColour(this.block_.getColour())},t.Icon.prototype.setIconLocation=function(t){this.iconXY_=t,this.isVisible()&&this.bubble_.setAnchorLocation(t)},t.Icon.prototype.computeIconLocation=function(){var e=this.block_.getRelativeToSurfaceXY(),i=t.utils.getRelativeXY(this.iconGroup_);e=new t.utils.Coordinate(e.x+i.x+this.SIZE/2,e.y+i.y+this.SIZE/2),t.utils.Coordinate.equals(this.getIconLocation(),e)||this.setIconLocation(e)},t.Icon.prototype.getIconLocation=function(){return this.iconXY_},t.Icon.prototype.getCorrectedSize=function(){return new t.utils.Size(t.Icon.prototype.SIZE,t.Icon.prototype.SIZE-2)},t.Warning=function(e){t.Warning.superClass_.constructor.call(this,e),this.createIcon(),this.text_={}},t.utils.object.inherits(t.Warning,t.Icon),t.Warning.prototype.collapseHidden=!1,t.Warning.prototype.drawIcon_=function(e){t.utils.dom.createSvgElement("path",{class:"blocklyIconShape",d:"M2,15Q-1,15 0.5,12L6.5,1.7Q8,-1 9.5,1.7L15.5,12Q17,15 14,15z"},e),t.utils.dom.createSvgElement("path",{class:"blocklyIconSymbol",d:"m7,4.8v3.16l0.27,2.27h1.46l0.27,-2.27v-3.16z"},e),t.utils.dom.createSvgElement("rect",{class:"blocklyIconSymbol",x:"7",y:"11",height:"2",width:"2"},e)},t.Warning.textToDom_=function(e){var i=t.utils.dom.createSvgElement("text",{class:"blocklyText blocklyBubbleText",y:t.Bubble.BORDER_WIDTH},null);e=e.split("\n");for(var n=0;n<e.length;n++){var o=t.utils.dom.createSvgElement("tspan",{dy:"1em",x:t.Bubble.BORDER_WIDTH},i),s=document.createTextNode(e[n]);o.appendChild(s)}return i},t.Warning.prototype.setVisible=function(e){e!=this.isVisible()&&(t.Events.fire(new t.Events.Ui(this.block_,"warningOpen",!e,e)),e?this.createBubble():this.disposeBubble())},t.Warning.prototype.createBubble=function(){if(this.paragraphElement_=t.Warning.textToDom_(this.getText()),this.bubble_=new t.Bubble(this.block_.workspace,this.paragraphElement_,this.block_.svgPath_,this.iconXY_,null,null),this.bubble_.setSvgId(this.block_.id),this.block_.RTL)for(var e,i=this.paragraphElement_.getBBox().width,n=0;e=this.paragraphElement_.childNodes[n];n++)e.setAttribute("text-anchor","end"),e.setAttribute("x",i+t.Bubble.BORDER_WIDTH);this.updateColour()},t.Warning.prototype.disposeBubble=function(){this.bubble_.dispose(),this.paragraphElement_=this.body_=this.bubble_=null},t.Warning.prototype.bodyFocus_=function(t){this.bubble_.promote_()},t.Warning.prototype.setText=function(t,e){this.text_[e]!=t&&(t?this.text_[e]=t:delete this.text_[e],this.isVisible()&&(this.setVisible(!1),this.setVisible(!0)))},t.Warning.prototype.getText=function(){var t,e=[];for(t in this.text_)e.push(this.text_[t]);return e.join("\n")},t.Warning.prototype.dispose=function(){this.block_.warning=null,t.Icon.prototype.dispose.call(this)},t.BlockSvg=function(e,i,n){this.svgGroup_=t.utils.dom.createSvgElement("g",{},null),this.svgGroup_.translate_="",this.pathObject=e.getRenderer().makePathObject(this.svgGroup_),this.svgPathDark_=this.pathObject.svgPathDark||null,this.svgPath_=this.pathObject.svgPath||null,this.svgPathLight_=this.pathObject.svgPathLight||null,this.svgPath_.tooltip=this,this.rendered=!1,this.useDragSurface_=t.utils.is3dSupported()&&!!e.blockDragSurface_,t.Tooltip.bindMouseEvents(this.svgPath_),t.BlockSvg.superClass_.constructor.call(this,e,i,n),this.svgGroup_.dataset&&(this.svgGroup_.dataset.id=this.id),this.markerSvg_=this.cursorSvg_=null},t.utils.object.inherits(t.BlockSvg,t.Block),t.BlockSvg.prototype.height=0,t.BlockSvg.prototype.width=0,t.BlockSvg.prototype.dragStartXY_=null,t.BlockSvg.prototype.warningTextDb_=null,t.BlockSvg.INLINE=-1,t.BlockSvg.COLLAPSED_WARNING_ID="TEMP_COLLAPSED_WARNING_",t.BlockSvg.SEP_SPACE_Y=10,t.BlockSvg.MIN_BLOCK_Y=25,t.BlockSvg.TAB_WIDTH=8,t.BlockSvg.START_HAT=!1,t.BlockSvg.prototype.initSvg=function(){if(!this.workspace.rendered)throw TypeError("Workspace is headless.");for(var e,i=0;e=this.inputList[i];i++)e.init();for(e=this.getIcons(),i=0;i<e.length;i++)e[i].createIcon();this.updateColour(),this.updateMovable(),this.workspace.options.readOnly||this.eventsInit_||t.bindEventWithChecks_(this.getSvgRoot(),"mousedown",this,this.onMouseDown_),this.eventsInit_=!0,this.getSvgRoot().parentNode||this.workspace.getCanvas().appendChild(this.getSvgRoot())},t.BlockSvg.prototype.select=function(){if(this.isShadow()&&this.getParent())this.getParent().select();else if(t.selected!=this){var e=null;if(t.selected){e=t.selected.id,t.Events.disable();try{t.selected.unselect()}finally{t.Events.enable()}}e=new t.Events.Ui(null,"selected",e,this.id),e.workspaceId=this.workspace.id,t.Events.fire(e),t.selected=this,this.addSelect()}},t.BlockSvg.prototype.unselect=function(){if(t.selected==this){var e=new t.Events.Ui(null,"selected",this.id,null);e.workspaceId=this.workspace.id,t.Events.fire(e),t.selected=null,this.removeSelect()}},t.BlockSvg.prototype.mutator=null,t.BlockSvg.prototype.comment=null,t.BlockSvg.prototype.commentIcon_=null,t.BlockSvg.prototype.warning=null,t.BlockSvg.prototype.getIcons=function(){var t=[];return this.mutator&&t.push(this.mutator),this.commentIcon_&&t.push(this.commentIcon_),this.warning&&t.push(this.warning),t},t.BlockSvg.prototype.setParent=function(e){var i=this.parentBlock_;if(e!=i){t.utils.dom.startTextWidthCache(),t.BlockSvg.superClass_.setParent.call(this,e),t.utils.dom.stopTextWidthCache();var n=this.getSvgRoot();if(!this.workspace.isClearing&&n){var o=this.getRelativeToSurfaceXY();e?(e.getSvgRoot().appendChild(n),e=this.getRelativeToSurfaceXY(),this.moveConnections_(e.x-o.x,e.y-o.y)):i&&(this.workspace.getCanvas().appendChild(n),this.translate(o.x,o.y))}}},t.BlockSvg.prototype.getRelativeToSurfaceXY=function(){var e=0,i=0,n=this.useDragSurface_?this.workspace.blockDragSurface_.getGroup():null,o=this.getSvgRoot();if(o)do{var s=t.utils.getRelativeXY(o);e+=s.x,i+=s.y,this.useDragSurface_&&this.workspace.blockDragSurface_.getCurrentBlock()==o&&(s=this.workspace.blockDragSurface_.getSurfaceTranslation(),e+=s.x,i+=s.y),o=o.parentNode}while(o&&o!=this.workspace.getCanvas()&&o!=n);return new t.utils.Coordinate(e,i)},t.BlockSvg.prototype.moveBy=function(e,i){if(this.parentBlock_)throw Error("Block has parent.");var n=t.Events.isEnabled();if(n)var o=new t.Events.BlockMove(this);var s=this.getRelativeToSurfaceXY();this.translate(s.x+e,s.y+i),this.moveConnections_(e,i),n&&(o.recordNew(),t.Events.fire(o)),this.workspace.resizeContents()},t.BlockSvg.prototype.translate=function(t,e){this.getSvgRoot().setAttribute("transform","translate("+t+","+e+")")},t.BlockSvg.prototype.moveToDragSurface_=function(){if(this.useDragSurface_){var t=this.getRelativeToSurfaceXY();this.clearTransformAttributes_(),this.workspace.blockDragSurface_.translateSurface(t.x,t.y),this.workspace.blockDragSurface_.setBlocksAndShow(this.getSvgRoot())}},t.BlockSvg.prototype.moveTo=function(t){var e=this.getRelativeToSurfaceXY();this.moveBy(t.x-e.x,t.y-e.y)},t.BlockSvg.prototype.moveOffDragSurface_=function(t){this.useDragSurface_&&(this.translate(t.x,t.y),this.workspace.blockDragSurface_.clearAndHide(this.workspace.getCanvas()))},t.BlockSvg.prototype.moveDuringDrag=function(t){this.useDragSurface_?this.workspace.blockDragSurface_.translateSurface(t.x,t.y):(this.svgGroup_.translate_="translate("+t.x+","+t.y+")",this.svgGroup_.setAttribute("transform",this.svgGroup_.translate_+this.svgGroup_.skew_))},t.BlockSvg.prototype.clearTransformAttributes_=function(){this.getSvgRoot().removeAttribute("transform")},t.BlockSvg.prototype.snapToGrid=function(){if(this.workspace&&!this.workspace.isDragging()&&!this.getParent()&&!this.isInFlyout){var t=this.workspace.getGrid();if(t&&t.shouldSnap()){var e=t.getSpacing(),i=e/2,n=this.getRelativeToSurfaceXY();t=Math.round((n.x-i)/e)*e+i-n.x,e=Math.round((n.y-i)/e)*e+i-n.y,t=Math.round(t),e=Math.round(e),0==t&&0==e||this.moveBy(t,e)}}},t.BlockSvg.prototype.getBoundingRectangle=function(){var e=this.getRelativeToSurfaceXY(this),i=this.outputConnection?t.BlockSvg.TAB_WIDTH:0,n=this.getHeightWidth(),o=e.y,s=e.y+n.height;if(this.RTL){var r=e.x-(n.width-i);e=e.x+i}else r=e.x-i,e=e.x+n.width-i;return new t.utils.Rect(o,s,r,e)},t.BlockSvg.prototype.markDirty=function(){for(var t,e=0;t=this.inputList[e];e++)t.markDirty()},t.BlockSvg.prototype.setCollapsed=function(e){if(this.collapsed_!=e){for(var i,n=[],o=0;i=this.inputList[o];o++)n.push.apply(n,i.setVisible(!e));if(e){for(i=this.getIcons(),o=0;o<i.length;o++)i[o].setVisible(!1);o=this.toString(t.COLLAPSE_CHARS),this.appendDummyInput("_TEMP_COLLAPSED_INPUT").appendField(o).init(),i=this.getDescendants(!0),(o=this.getNextBlock())&&(o=i.indexOf(o),i.splice(o,i.length-o)),o=1;for(var s;s=i[o];o++)if(s.warning){this.setWarningText(t.Msg.COLLAPSED_WARNINGS_WARNING,t.BlockSvg.COLLAPSED_WARNING_ID);break}}else this.removeInput("_TEMP_COLLAPSED_INPUT"),this.warning&&(this.warning.setText("",t.BlockSvg.COLLAPSED_WARNING_ID),Object.keys(this.warning.text_).length||this.setWarningText(null));if(t.BlockSvg.superClass_.setCollapsed.call(this,e),n.length||(n[0]=this),this.rendered)for(o=0;s=n[o];o++)s.render()}},t.BlockSvg.prototype.tab=function(e,i){var n=this.createTabList_(),o=n.indexOf(e);-1==o&&(o=i?-1:n.length),(n=n[i?o+1:o-1])?n instanceof t.Field?n.showEditor_():n.tab(null,i):(n=this.getParent())&&n.tab(this,i)},t.BlockSvg.prototype.createTabList_=function(){for(var t,e=[],i=0;t=this.inputList[i];i++){for(var n,o=0;n=t.fieldRow[o];o++)n.isTabNavigable()&&n.isVisible()&&e.push(n);t.connection&&(t=t.connection.targetBlock())&&e.push(t)}return e},t.BlockSvg.prototype.onMouseDown_=function(t){var e=this.workspace&&this.workspace.getGesture(t);e&&e.handleBlockStart(t,this)},t.BlockSvg.prototype.showHelp_=function(){var t="function"==typeof this.helpUrl?this.helpUrl():this.helpUrl;t&&window.open(t)},t.BlockSvg.prototype.generateContextMenu=function(){if(this.workspace.options.readOnly||!this.contextMenu)return null;var e=this,i=[];if(!this.isInFlyout){if(this.isDeletable()&&this.isMovable()&&i.push(t.ContextMenu.blockDuplicateOption(e)),this.workspace.options.comments&&!this.collapsed_&&this.isEditable()&&i.push(t.ContextMenu.blockCommentOption(e)),this.isMovable())if(this.collapsed_)this.workspace.options.collapse&&(n={enabled:!0},n.text=t.Msg.EXPAND_BLOCK,n.callback=function(){e.setCollapsed(!1)},i.push(n));else{for(var n=1;n<this.inputList.length;n++)if(this.inputList[n-1].type!=t.NEXT_STATEMENT&&this.inputList[n].type!=t.NEXT_STATEMENT){n={enabled:!0};var o=this.getInputsInline();n.text=o?t.Msg.EXTERNAL_INPUTS:t.Msg.INLINE_INPUTS,n.callback=function(){e.setInputsInline(!o)},i.push(n);break}this.workspace.options.collapse&&(n={enabled:!0},n.text=t.Msg.COLLAPSE_BLOCK,n.callback=function(){e.setCollapsed(!0)},i.push(n))}this.workspace.options.disable&&this.isEditable()&&(n={text:this.isEnabled()?t.Msg.DISABLE_BLOCK:t.Msg.ENABLE_BLOCK,enabled:!this.getInheritedDisabled(),callback:function(){var i=t.Events.getGroup();i||t.Events.setGroup(!0),e.setEnabled(!e.isEnabled()),i||t.Events.setGroup(!1)}},i.push(n)),this.isDeletable()&&i.push(t.ContextMenu.blockDeleteOption(e))}return i.push(t.ContextMenu.blockHelpOption(e)),this.customContextMenu&&this.customContextMenu(i),i},t.BlockSvg.prototype.showContextMenu_=function(e){var i=this.generateContextMenu();i&&i.length&&(t.ContextMenu.show(e,i,this.RTL),t.ContextMenu.currentBlock=this)},t.BlockSvg.prototype.moveConnections_=function(t,e){if(this.rendered){for(var i=this.getConnections_(!1),n=0;n<i.length;n++)i[n].moveBy(t,e);for(i=this.getIcons(),n=0;n<i.length;n++)i[n].computeIconLocation();for(n=0;n<this.childBlocks_.length;n++)this.childBlocks_[n].moveConnections_(t,e)}},t.BlockSvg.prototype.setDragging=function(e){if(e){var i=this.getSvgRoot();i.translate_="",i.skew_="",t.draggingConnections_=t.draggingConnections_.concat(this.getConnections_(!0)),t.utils.dom.addClass(this.svgGroup_,"blocklyDragging")}else t.draggingConnections_=[],t.utils.dom.removeClass(this.svgGroup_,"blocklyDragging");for(i=0;i<this.childBlocks_.length;i++)this.childBlocks_[i].setDragging(e)},t.BlockSvg.prototype.updateMovable=function(){this.isMovable()?t.utils.dom.addClass(this.svgGroup_,"blocklyDraggable"):t.utils.dom.removeClass(this.svgGroup_,"blocklyDraggable")},t.BlockSvg.prototype.setMovable=function(e){t.BlockSvg.superClass_.setMovable.call(this,e),this.updateMovable()},t.BlockSvg.prototype.setEditable=function(e){t.BlockSvg.superClass_.setEditable.call(this,e),e=this.getIcons();for(var i=0;i<e.length;i++)e[i].updateEditable()},t.BlockSvg.prototype.setShadow=function(e){t.BlockSvg.superClass_.setShadow.call(this,e),this.updateColour()},t.BlockSvg.prototype.setInsertionMarker=function(e){this.isInsertionMarker_!=e&&(this.isInsertionMarker_=e)&&(this.setColour(t.INSERTION_MARKER_COLOUR),t.utils.dom.addClass(this.svgGroup_,"blocklyInsertionMarker"))},t.BlockSvg.prototype.getSvgRoot=function(){return this.svgGroup_},t.BlockSvg.prototype.dispose=function(e,i){if(this.workspace){t.Tooltip.hide(),t.utils.dom.startTextWidthCache();var n=this.workspace;if(t.selected==this&&(this.unselect(),this.workspace.cancelCurrentGesture()),t.ContextMenu.currentBlock==this&&t.ContextMenu.hide(),t.keyboardAccessibilityMode&&t.navigation.moveCursorOnBlockDelete(this),i&&this.rendered&&(this.unplug(e),t.blockAnimations.disposeUiEffect(this)),this.rendered=!1,this.warningTextDb_){for(var o in this.warningTextDb_)clearTimeout(this.warningTextDb_[o]);this.warningTextDb_=null}o=this.getIcons();for(var s=0;s<o.length;s++)o[s].dispose();t.BlockSvg.superClass_.dispose.call(this,e),t.utils.dom.removeNode(this.svgGroup_),n.resizeContents(),this.svgPathDark_=this.svgPathLight_=this.svgPath_=this.svgGroup_=null,t.utils.dom.stopTextWidthCache()}},t.BlockSvg.prototype.updateColour=function(){if(this.isEnabled()){this.isShadow()?this.setShadowColour_():(this.setBorderColour_(),this.svgPath_.setAttribute("fill",this.getColour()));for(var t=this.getIcons(),e=0;e<t.length;e++)t[e].updateColour();for(t=0;e=this.inputList[t];t++)for(var i,n=0;i=e.fieldRow[n];n++)i.updateColour()}},t.BlockSvg.prototype.setBorderColour_=function(){var t=this.getColourBorder();t.colourBorder?(this.svgPathLight_.style.display="none",this.svgPathDark_.style.display="none",this.svgPath_.setAttribute("stroke",t.colourBorder)):(this.svgPathLight_.style.display="",this.svgPathDark_.style.display="",this.svgPath_.setAttribute("stroke","none"),this.svgPathLight_.setAttribute("stroke",t.colourLight),this.svgPathDark_.setAttribute("fill",t.colourDark))},t.BlockSvg.prototype.setShadowColour_=function(){var t=this.getColourShadow();return this.svgPathLight_.style.display="none",this.svgPathDark_.setAttribute("fill",t),this.svgPath_.setAttribute("stroke","none"),this.svgPath_.setAttribute("fill",t),t},t.BlockSvg.prototype.updateDisabled=function(){!this.isEnabled()||this.getInheritedDisabled()?t.utils.dom.addClass(this.svgGroup_,"blocklyDisabled")&&this.svgPath_.setAttribute("fill","url(#"+this.workspace.options.disabledPatternId+")"):t.utils.dom.removeClass(this.svgGroup_,"blocklyDisabled")&&this.updateColour();for(var e,i=this.getChildren(!1),n=0;e=i[n];n++)e.updateDisabled()},t.BlockSvg.prototype.getCommentIcon=function(){return this.commentIcon_},t.BlockSvg.prototype.setCommentText=function(e){if(!t.Comment)throw Error("Missing require for Blockly.Comment");this.commentModel.text!=e&&(t.BlockSvg.superClass_.setCommentText.call(this,e),e=null!=e,!!this.commentIcon_==e?this.commentIcon_.updateText():(e?this.comment=this.commentIcon_=new t.Comment(this):(this.commentIcon_.dispose(),this.comment=this.commentIcon_=null),this.rendered&&(this.render(),this.bumpNeighbours())))},t.BlockSvg.prototype.setWarningText=function(e,i){this.warningTextDb_||(this.warningTextDb_=Object.create(null));var n=i||"";if(n)this.warningTextDb_[n]&&(clearTimeout(this.warningTextDb_[n]),delete this.warningTextDb_[n]);else for(var o in this.warningTextDb_)clearTimeout(this.warningTextDb_[o]),delete this.warningTextDb_[o];if(this.workspace.isDragging()){var s=this;this.warningTextDb_[n]=setTimeout((function(){s.workspace&&(delete s.warningTextDb_[n],s.setWarningText(e,n))}),100)}else{this.isInFlyout&&(e=null),o=this.getSurroundParent();for(var r=null;o;)o.isCollapsed()&&(r=o),o=o.getSurroundParent();r&&r.setWarningText(t.Msg.COLLAPSED_WARNINGS_WARNING,t.BlockSvg.COLLAPSED_WARNING_ID),o=!1,"string"==typeof e?(this.warning||(this.warning=new t.Warning(this),o=!0),this.warning.setText(e,n)):this.warning&&!n?(this.warning.dispose(),o=!0):this.warning&&(o=this.warning.getText(),this.warning.setText("",n),(r=this.warning.getText())||this.warning.dispose(),o=o!=r),o&&this.rendered&&(this.render(),this.bumpNeighbours())}},t.BlockSvg.prototype.setMutator=function(t){this.mutator&&this.mutator!==t&&this.mutator.dispose(),t&&(t.block_=this,this.mutator=t,t.createIcon())},t.BlockSvg.prototype.setDisabled=function(t){console.warn("Deprecated call to Blockly.BlockSvg.prototype.setDisabled, use Blockly.BlockSvg.prototype.setEnabled instead."),this.setEnabled(!t)},t.BlockSvg.prototype.setEnabled=function(e){this.isEnabled()!=e&&(t.BlockSvg.superClass_.setEnabled.call(this,e),this.rendered&&this.updateDisabled())},t.BlockSvg.prototype.setHighlighted=function(t){this.rendered&&(t?(this.svgPath_.setAttribute("filter","url(#"+this.workspace.options.embossFilterId+")"),this.svgPathLight_.style.display="none"):(this.svgPath_.setAttribute("filter","none"),this.svgPathLight_.style.display="inline"))},t.BlockSvg.prototype.addSelect=function(){t.utils.dom.addClass(this.svgGroup_,"blocklySelected")},t.BlockSvg.prototype.removeSelect=function(){t.utils.dom.removeClass(this.svgGroup_,"blocklySelected")},t.BlockSvg.prototype.setDeleteStyle=function(e){e?t.utils.dom.addClass(this.svgGroup_,"blocklyDraggingDelete"):t.utils.dom.removeClass(this.svgGroup_,"blocklyDraggingDelete")},t.BlockSvg.prototype.setColour=function(e){t.BlockSvg.superClass_.setColour.call(this,e),this.rendered&&this.updateColour()},t.BlockSvg.prototype.bringToFront=function(){var t=this;do{var e=t.getSvgRoot();e.parentNode.appendChild(e),t=t.getParent()}while(t)},t.BlockSvg.prototype.setPreviousStatement=function(e,i){t.BlockSvg.superClass_.setPreviousStatement.call(this,e,i),this.rendered&&(this.render(),this.bumpNeighbours())},t.BlockSvg.prototype.setNextStatement=function(e,i){t.BlockSvg.superClass_.setNextStatement.call(this,e,i),this.rendered&&(this.render(),this.bumpNeighbours())},t.BlockSvg.prototype.setOutput=function(e,i){t.BlockSvg.superClass_.setOutput.call(this,e,i),this.rendered&&(this.render(),this.bumpNeighbours())},t.BlockSvg.prototype.setInputsInline=function(e){t.BlockSvg.superClass_.setInputsInline.call(this,e),this.rendered&&(this.render(),this.bumpNeighbours())},t.BlockSvg.prototype.removeInput=function(e,i){t.BlockSvg.superClass_.removeInput.call(this,e,i),this.rendered&&(this.render(),this.bumpNeighbours())},t.BlockSvg.prototype.moveNumberedInputBefore=function(e,i){t.BlockSvg.superClass_.moveNumberedInputBefore.call(this,e,i),this.rendered&&(this.render(),this.bumpNeighbours())},t.BlockSvg.prototype.appendInput_=function(e,i){var n=t.BlockSvg.superClass_.appendInput_.call(this,e,i);return this.rendered&&(this.render(),this.bumpNeighbours()),n},t.BlockSvg.prototype.setConnectionsHidden=function(t){if(!t&&this.isCollapsed()){if(this.outputConnection&&this.outputConnection.setHidden(t),this.previousConnection&&this.previousConnection.setHidden(t),this.nextConnection){this.nextConnection.setHidden(t);var e=this.nextConnection.targetBlock();e&&e.setConnectionsHidden(t)}}else for(var i=this.getConnections_(!0),n=0;e=i[n];n++)e.setHidden(t),e.isSuperior()&&(e=e.targetBlock())&&e.setConnectionsHidden(t)},t.BlockSvg.prototype.getConnections_=function(t){var e=[];if((t||this.rendered)&&(this.outputConnection&&e.push(this.outputConnection),this.previousConnection&&e.push(this.previousConnection),this.nextConnection&&e.push(this.nextConnection),t||!this.collapsed_)){t=0;for(var i;i=this.inputList[t];t++)i.connection&&e.push(i.connection)}return e},t.BlockSvg.prototype.makeConnection_=function(e){return new t.RenderedConnection(this,e)},t.BlockSvg.prototype.bumpNeighbours=function(){if(this.workspace&&!this.workspace.isDragging()){var e=this.getRootBlock();if(!e.isInFlyout)for(var i,n=this.getConnections_(!1),o=0;i=n[o];o++){i.isConnected()&&i.isSuperior()&&i.targetBlock().bumpNeighbours();for(var s,r=i.neighbours_(t.SNAP_RADIUS),a=0;s=r[a];a++)i.isConnected()&&s.isConnected()||s.getSourceBlock().getRootBlock()!=e&&(i.isSuperior()?s.bumpAwayFrom_(i):i.bumpAwayFrom_(s))}}},t.BlockSvg.prototype.scheduleSnapAndBump=function(){var e=this,i=t.Events.getGroup();setTimeout((function(){t.Events.setGroup(i),e.snapToGrid(),t.Events.setGroup(!1)}),t.BUMP_DELAY/2),setTimeout((function(){t.Events.setGroup(i),e.bumpNeighbours(),t.Events.setGroup(!1)}),t.BUMP_DELAY)},t.BlockSvg.prototype.positionNearConnection=function(e,i){e.type!=t.NEXT_STATEMENT&&e.type!=t.INPUT_VALUE||this.moveBy(i.x_-e.x_,i.y_-e.y_)},t.BlockSvg.prototype.render=function(e){t.utils.dom.startTextWidthCache(),this.rendered=!0,this.workspace.getRenderer().render(this),this.updateConnectionLocations_(),!1!==e&&((e=this.getParent())?e.render(!0):this.workspace.resizeContents()),t.utils.dom.stopTextWidthCache()},t.BlockSvg.prototype.updateConnectionLocations_=function(){var t=this.getRelativeToSurfaceXY();this.previousConnection&&this.previousConnection.moveToOffset(t),this.outputConnection&&this.outputConnection.moveToOffset(t);for(var e=0;e<this.inputList.length;e++){var i=this.inputList[e].connection;i&&(i.moveToOffset(t),i.isConnected()&&i.tighten_())}this.nextConnection&&(this.nextConnection.moveToOffset(t),this.nextConnection.isConnected()&&this.nextConnection.tighten_())},t.BlockSvg.prototype.setCursorSvg=function(t){t?(this.svgGroup_.appendChild(t),this.cursorSvg_=t):this.cursorSvg_=null},t.BlockSvg.prototype.setMarkerSvg=function(t){t?(this.cursorSvg_?this.svgGroup_.insertBefore(t,this.cursorSvg_):this.svgGroup_.appendChild(t),this.markerSvg_=t):this.markerSvg_=null},t.BlockSvg.prototype.getHeightWidth=function(){var t=this.height,e=this.width,i=this.getNextBlock();return i&&(i=i.getHeightWidth(),t+=i.height-4,e=Math.max(e,i.width)),{height:t,width:e}},t.BlockSvg.prototype.positionNewBlock=function(e,i,n){i.type!=t.NEXT_STATEMENT&&i.type!=t.INPUT_VALUE||e.moveBy(n.x_-i.x_,n.y_-i.y_)},t.BlockSvg.prototype.highlightForReplacement=function(e){e?t.utils.dom.addClass(this.svgGroup_,"blocklyReplaceable"):t.utils.dom.removeClass(this.svgGroup_,"blocklyReplaceable")},t.Css={},t.Css.injected_=!1,t.Css.register=function(e){if(t.Css.injected_)throw Error("CSS already injected");Array.prototype.push.apply(t.Css.CONTENT,e),e.length=0},t.Css.inject=function(e,i){if(!t.Css.injected_){t.Css.injected_=!0;var n=t.Css.CONTENT.join("\n");if(t.Css.CONTENT.length=0,e){var o=i.replace(/[\\/]$/,"");n=n.replace(/<<<PATH>>>/g,o),o=document.createElement("style"),n=document.createTextNode(n),o.appendChild(n),document.head.insertBefore(o,document.head.firstChild)}}},t.Css.setCursor=function(t){console.warn("Deprecated call to Blockly.Css.setCursor. See https://github.com/google/blockly/issues/981 for context")},t.Css.CONTENT=[".blocklySvg {","background-color: #fff;","outline: none;","overflow: hidden;","position: absolute;","display: block;","}",".blocklyWidgetDiv {","display: none;","position: absolute;","z-index: 99999;","}",".injectionDiv {","height: 100%;","position: relative;","overflow: hidden;","touch-action: none;","}",".blocklyNonSelectable {","user-select: none;","-ms-user-select: none;","-webkit-user-select: none;","}",".blocklyWsDragSurface {","display: none;","position: absolute;","top: 0;","left: 0;","}",".blocklyWsDragSurface.blocklyOverflowVisible {","overflow: visible;","}",".blocklyBlockDragSurface {","display: none;","position: absolute;","top: 0;","left: 0;","right: 0;","bottom: 0;","overflow: visible !important;","z-index: 50;","}",".blocklyBlockCanvas.blocklyCanvasTransitioning,",".blocklyBubbleCanvas.blocklyCanvasTransitioning {","transition: transform .5s;","}",".blocklyTooltipDiv {","background-color: #ffffc7;","border: 1px solid #ddc;","box-shadow: 4px 4px 20px 1px rgba(0,0,0,.15);","color: #000;","display: none;","font-family: sans-serif;","font-size: 9pt;","opacity: .9;","padding: 2px;","position: absolute;","z-index: 100000;","}",".blocklyDropDownDiv {","position: fixed;","left: 0;","top: 0;","z-index: 1000;","display: none;","border: 1px solid;","border-radius: 2px;","padding: 4px;","box-shadow: 0px 0px 3px 1px rgba(0,0,0,.3);","}",".blocklyDropDownDiv.focused {","box-shadow: 0px 0px 6px 1px rgba(0,0,0,.3);","}",".blocklyDropDownContent {","max-height: 300px;","overflow: auto;","overflow-x: hidden;","}",".blocklyDropDownArrow {","position: absolute;","left: 0;","top: 0;","width: 16px;","height: 16px;","z-index: -1;","background-color: inherit;","border-color: inherit;","}",".blocklyDropDownButton {","display: inline-block;","float: left;","padding: 0;","margin: 4px;","border-radius: 4px;","outline: none;","border: 1px solid;","transition: box-shadow .1s;","cursor: pointer;","}",".arrowTop {","border-top: 1px solid;","border-left: 1px solid;","border-top-left-radius: 4px;","border-color: inherit;","}",".arrowBottom {","border-bottom: 1px solid;","border-right: 1px solid;","border-bottom-right-radius: 4px;","border-color: inherit;","}",".blocklyResizeSE {","cursor: se-resize;","fill: #aaa;","}",".blocklyResizeSW {","cursor: sw-resize;","fill: #aaa;","}",".blocklyResizeLine {","stroke: #515A5A;","stroke-width: 1;","}",".blocklyHighlightedConnectionPath {","fill: none;","stroke: #fc3;","stroke-width: 4px;","}",".blocklyPathLight {","fill: none;","stroke-linecap: round;","stroke-width: 1;","}",".blocklySelected>.blocklyPath {","stroke: #fc3;","stroke-width: 3px;","}",".blocklySelected>.blocklyPathLight {","display: none;","}",".blocklyDraggable {",'cursor: url("<<<PATH>>>/handopen.cur"), auto;',"cursor: grab;","cursor: -webkit-grab;","}",".blocklyDragging {",'cursor: url("<<<PATH>>>/handclosed.cur"), auto;',"cursor: grabbing;","cursor: -webkit-grabbing;","}",".blocklyDraggable:active {",'cursor: url("<<<PATH>>>/handclosed.cur"), auto;',"cursor: grabbing;","cursor: -webkit-grabbing;","}",".blocklyBlockDragSurface .blocklyDraggable {",'cursor: url("<<<PATH>>>/handclosed.cur"), auto;',"cursor: grabbing;","cursor: -webkit-grabbing;","}",".blocklyDragging.blocklyDraggingDelete {",'cursor: url("<<<PATH>>>/handdelete.cur"), auto;',"}",".blocklyDragging>.blocklyPath,",".blocklyDragging>.blocklyPathLight {","fill-opacity: .8;","stroke-opacity: .8;","}",".blocklyDragging>.blocklyPathDark {","display: none;","}",".blocklyDisabled>.blocklyPath {","fill-opacity: .5;","stroke-opacity: .5;","}",".blocklyDisabled>.blocklyPathLight,",".blocklyDisabled>.blocklyPathDark {","display: none;","}",".blocklyInsertionMarker>.blocklyPath,",".blocklyInsertionMarker>.blocklyPathLight,",".blocklyInsertionMarker>.blocklyPathDark {","fill-opacity: .2;","stroke: none","}",".blocklyReplaceable .blocklyPath {","fill-opacity: .5;","}",".blocklyReplaceable .blocklyPathLight,",".blocklyReplaceable .blocklyPathDark {","display: none;","}",".blocklyText {","cursor: default;","fill: #fff;","font-family: sans-serif;","font-size: 11pt;","}",".blocklyMultilineText {","font-family: monospace;","}",".blocklyNonEditableText>text {","pointer-events: none;","}",".blocklyNonEditableText>rect,",".blocklyEditableText>rect {","fill: #fff;","fill-opacity: .6;","}",".blocklyNonEditableText>text,",".blocklyEditableText>text {","fill: #000;","}",".blocklyEditableText:hover>rect {","stroke: #fff;","stroke-width: 2;","}",".blocklyBubbleText {","fill: #000;","}",".blocklyFlyout {","position: absolute;","z-index: 20;","}",".blocklySvg text, .blocklyBlockDragSurface text {","user-select: none;","-ms-user-select: none;","-webkit-user-select: none;","cursor: inherit;","}",".blocklyHidden {","display: none;","}",".blocklyFieldDropdown:not(.blocklyHidden) {","display: block;","}",".blocklyIconGroup {","cursor: default;","}",".blocklyIconGroup:not(:hover),",".blocklyIconGroupReadonly {","opacity: .6;","}",".blocklyIconShape {","fill: #00f;","stroke: #fff;","stroke-width: 1px;","}",".blocklyIconSymbol {","fill: #fff;","}",".blocklyMinimalBody {","margin: 0;","padding: 0;","}",".blocklyCommentForeignObject {","position: relative;","z-index: 0;","}",".blocklyCommentRect {","fill: #E7DE8E;","stroke: #bcA903;","stroke-width: 1px","}",".blocklyCommentTarget {","fill: transparent;","stroke: #bcA903;","}",".blocklyCommentTargetFocused {","fill: none;","}",".blocklyCommentHandleTarget {","fill: none;","}",".blocklyCommentHandleTargetFocused {","fill: transparent;","}",".blocklyFocused>.blocklyCommentRect {","fill: #B9B272;","stroke: #B9B272;","}",".blocklySelected>.blocklyCommentTarget {","stroke: #fc3;","stroke-width: 3px;","}",".blocklyCommentTextarea {","background-color: #fef49c;","border: 0;","outline: 0;","margin: 0;","padding: 3px;","resize: none;","display: block;","overflow: hidden;","}",".blocklyCommentDeleteIcon {","cursor: pointer;","fill: #000;","display: none","}",".blocklySelected > .blocklyCommentDeleteIcon {","display: block","}",".blocklyDeleteIconShape {","fill: #000;","stroke: #000;","stroke-width: 1px;","}",".blocklyDeleteIconShape.blocklyDeleteIconHighlighted {","stroke: #fc3;","}",".blocklyHtmlInput {","border: none;","border-radius: 4px;","font-family: sans-serif;","height: 100%;","margin: 0;","outline: none;","padding: 0;","width: 100%;","text-align: center;","}",".blocklyHtmlInput::-ms-clear {","display: none;","}",".blocklyMainBackground {","stroke-width: 1;","stroke: #c6c6c6;","}",".blocklyMutatorBackground {","fill: #fff;","stroke: #ddd;","stroke-width: 1;","}",".blocklyFlyoutBackground {","fill: #ddd;","fill-opacity: .8;","}",".blocklyMainWorkspaceScrollbar {","z-index: 20;","}",".blocklyFlyoutScrollbar {","z-index: 30;","}",".blocklyScrollbarHorizontal, .blocklyScrollbarVertical {","position: absolute;","outline: none;","}",".blocklyScrollbarBackground {","opacity: 0;","}",".blocklyScrollbarHandle {","fill: #ccc;","}",".blocklyScrollbarBackground:hover+.blocklyScrollbarHandle,",".blocklyScrollbarHandle:hover {","fill: #bbb;","}",".blocklyFlyout .blocklyScrollbarHandle {","fill: #bbb;","}",".blocklyFlyout .blocklyScrollbarBackground:hover+.blocklyScrollbarHandle,",".blocklyFlyout .blocklyScrollbarHandle:hover {","fill: #aaa;","}",".blocklyInvalidInput {","background: #faa;","}",".blocklyContextMenu {","border-radius: 4px;","max-height: 100%;","}",".blocklyDropdownMenu {","border-radius: 2px;","padding: 0 !important;","}",".blocklyWidgetDiv .blocklyDropdownMenu .goog-menuitem,",".blocklyDropDownDiv .blocklyDropdownMenu .goog-menuitem {","padding-left: 28px;","}",".blocklyWidgetDiv .blocklyDropdownMenu .goog-menuitem.goog-menuitem-rtl,",".blocklyDropDownDiv .blocklyDropdownMenu .goog-menuitem.goog-menuitem-rtl {","padding-left: 5px;","padding-right: 28px;","}",".blocklyVerticalCursor {","stroke-width: 3px;","fill: rgba(255,255,255,.5);","}",".blocklyWidgetDiv .goog-option-selected .goog-menuitem-checkbox,",".blocklyWidgetDiv .goog-option-selected .goog-menuitem-icon,",".blocklyDropDownDiv .goog-option-selected .goog-menuitem-checkbox,",".blocklyDropDownDiv .goog-option-selected .goog-menuitem-icon {","background: url(<<<PATH>>>/sprites.png) no-repeat -48px -16px;","}",".blocklyWidgetDiv .goog-menu {","background: #fff;","border-color: transparent;","border-style: solid;","border-width: 1px;","cursor: default;","font: normal 13px Arial, sans-serif;","margin: 0;","outline: none;","padding: 4px 0;","position: absolute;","overflow-y: auto;","overflow-x: hidden;","max-height: 100%;","z-index: 20000;","box-shadow: 0px 0px 3px 1px rgba(0,0,0,.3);","}",".blocklyWidgetDiv .goog-menu.focused {","box-shadow: 0px 0px 6px 1px rgba(0,0,0,.3);","}",".blocklyDropDownDiv .goog-menu {","cursor: default;",'font: normal 13px "Helvetica Neue", Helvetica, sans-serif;',"outline: none;","z-index: 20000;","}",".blocklyWidgetDiv .goog-menuitem,",".blocklyDropDownDiv .goog-menuitem {","color: #000;","font: normal 13px Arial, sans-serif;","list-style: none;","margin: 0;","min-width: 7em;","border: none;","padding: 6px 15px;","white-space: nowrap;","cursor: pointer;","}",".blocklyWidgetDiv .goog-menu-nocheckbox .goog-menuitem,",".blocklyWidgetDiv .goog-menu-noicon .goog-menuitem,",".blocklyDropDownDiv .goog-menu-nocheckbox .goog-menuitem,",".blocklyDropDownDiv .goog-menu-noicon .goog-menuitem {","padding-left: 12px;","}",".blocklyWidgetDiv .goog-menuitem-content,",".blocklyDropDownDiv .goog-menuitem-content {","font: normal 13px Arial, sans-serif;","}",".blocklyWidgetDiv .goog-menuitem-content {","color: #000;","}",".blocklyDropDownDiv .goog-menuitem-content {","color: #000;","}",".blocklyWidgetDiv .goog-menuitem-disabled,",".blocklyDropDownDiv .goog-menuitem-disabled {","cursor: inherit;","}",".blocklyWidgetDiv .goog-menuitem-disabled .goog-menuitem-content,",".blocklyDropDownDiv .goog-menuitem-disabled .goog-menuitem-content {","color: #ccc !important;","}",".blocklyWidgetDiv .goog-menuitem-disabled .goog-menuitem-icon,",".blocklyDropDownDiv .goog-menuitem-disabled .goog-menuitem-icon {","opacity: .3;","filter: alpha(opacity=30);","}",".blocklyWidgetDiv .goog-menuitem-highlight ,",".blocklyDropDownDiv .goog-menuitem-highlight {","background-color: rgba(0,0,0,.1);","}",".blocklyWidgetDiv .goog-menuitem-checkbox,",".blocklyWidgetDiv .goog-menuitem-icon,",".blocklyDropDownDiv .goog-menuitem-checkbox,",".blocklyDropDownDiv .goog-menuitem-icon {","background-repeat: no-repeat;","height: 16px;","left: 6px;","position: absolute;","right: auto;","vertical-align: middle;","width: 16px;","}",".blocklyWidgetDiv .goog-menuitem-rtl .goog-menuitem-checkbox,",".blocklyWidgetDiv .goog-menuitem-rtl .goog-menuitem-icon,",".blocklyDropDownDiv .goog-menuitem-rtl .goog-menuitem-checkbox,",".blocklyDropDownDiv .goog-menuitem-rtl .goog-menuitem-icon {","left: auto;","right: 6px;","}",".blocklyWidgetDiv .goog-option-selected .goog-menuitem-checkbox,",".blocklyWidgetDiv .goog-option-selected .goog-menuitem-icon,",".blocklyDropDownDiv .goog-option-selected .goog-menuitem-checkbox,",".blocklyDropDownDiv .goog-option-selected .goog-menuitem-icon {","position: static;","float: left;","margin-left: -24px;","}",".blocklyWidgetDiv .goog-menuitem-rtl .goog-menuitem-checkbox,",".blocklyWidgetDiv .goog-menuitem-rtl .goog-menuitem-icon,",".blocklyDropDownDiv .goog-menuitem-rtl .goog-menuitem-checkbox,",".blocklyDropDownDiv .goog-menuitem-rtl .goog-menuitem-icon {","float: right;","margin-right: -24px;","}"],t.DropDownDiv=function(){},t.DropDownDiv.DIV_=null,t.DropDownDiv.boundsElement_=null,t.DropDownDiv.owner_=null,t.DropDownDiv.positionToField_=null,t.DropDownDiv.ARROW_SIZE=16,t.DropDownDiv.BORDER_SIZE=1,t.DropDownDiv.ARROW_HORIZONTAL_PADDING=12,t.DropDownDiv.PADDING_Y=16,t.DropDownDiv.ANIMATION_TIME=.25,t.DropDownDiv.DEFAULT_DROPDOWN_BORDER_COLOR="#dadce0",t.DropDownDiv.DEFAULT_DROPDOWN_COLOR="#fff",t.DropDownDiv.animateOutTimer_=null,t.DropDownDiv.onHide_=null,t.DropDownDiv.createDom=function(){if(!t.DropDownDiv.DIV_){var e=document.createElement("div");e.className="blocklyDropDownDiv",e.style.backgroundColor=t.DropDownDiv.DEFAULT_DROPDOWN_COLOR,e.style.borderColor=t.DropDownDiv.DEFAULT_DROPDOWN_BORDER_COLOR,document.body.appendChild(e),t.DropDownDiv.DIV_=e;var i=document.createElement("div");i.className="blocklyDropDownContent",e.appendChild(i),t.DropDownDiv.content_=i,i=document.createElement("div"),i.className="blocklyDropDownArrow",e.appendChild(i),t.DropDownDiv.arrow_=i,t.DropDownDiv.DIV_.style.opacity=0,t.DropDownDiv.DIV_.style.transition="transform "+t.DropDownDiv.ANIMATION_TIME+"s, opacity "+t.DropDownDiv.ANIMATION_TIME+"s",e.addEventListener("focusin",(function(){t.utils.dom.addClass(e,"focused")})),e.addEventListener("focusout",(function(){t.utils.dom.removeClass(e,"focused")}))}},t.DropDownDiv.setBoundsElement=function(e){t.DropDownDiv.boundsElement_=e},t.DropDownDiv.getContentDiv=function(){return t.DropDownDiv.content_},t.DropDownDiv.clearContent=function(){t.DropDownDiv.content_.innerHTML="",t.DropDownDiv.content_.style.width=""},t.DropDownDiv.setColour=function(e,i){t.DropDownDiv.DIV_.style.backgroundColor=e,t.DropDownDiv.DIV_.style.borderColor=i},t.DropDownDiv.setCategory=function(e){t.DropDownDiv.DIV_.setAttribute("data-category",e)},t.DropDownDiv.showPositionedByBlock=function(e,i,n,o){var s=i.workspace.scale,r=i.width,a=i.height;return r*=s,a*=s,s=i.getSvgRoot().getBoundingClientRect(),r=s.left+r/2,a=s.top+a,s=s.top,o&&(s+=o),t.DropDownDiv.setBoundsElement(i.workspace.getParentSvg().parentNode),t.DropDownDiv.show(e,i.RTL,r,a,r,s,n)},t.DropDownDiv.showPositionedByField=function(e,i,n){var o=e.getSvgRoot().getBoundingClientRect(),s=o.left+o.width/2,r=o.bottom;return o=o.top,n&&(o+=n),n=e.getSourceBlock(),t.DropDownDiv.positionToField_=!0,t.DropDownDiv.setBoundsElement(n.workspace.getParentSvg().parentNode),t.DropDownDiv.show(e,n.RTL,s,r,s,o,i)},t.DropDownDiv.show=function(e,i,n,o,s,r,a){return t.DropDownDiv.owner_=e,t.DropDownDiv.onHide_=a||null,e=t.DropDownDiv.getPositionMetrics(n,o,s,r),e.arrowVisible?(t.DropDownDiv.arrow_.style.display="",t.DropDownDiv.arrow_.style.transform="translate("+e.arrowX+"px,"+e.arrowY+"px) rotate(45deg)",t.DropDownDiv.arrow_.setAttribute("class",e.arrowAtTop?"blocklyDropDownArrow arrowTop":"blocklyDropDownArrow arrowBottom")):t.DropDownDiv.arrow_.style.display="none",t.DropDownDiv.DIV_.style.direction=i?"rtl":"ltr",t.DropDownDiv.positionInternal_(e.initialX,e.initialY,e.finalX,e.finalY),e.arrowAtTop},t.DropDownDiv.getBoundsInfo_=function(){var e=t.DropDownDiv.boundsElement_.getBoundingClientRect(),i=t.utils.style.getSize(t.DropDownDiv.boundsElement_);return{left:e.left,right:e.left+i.width,top:e.top,bottom:e.top+i.height,width:i.width,height:i.height}},t.DropDownDiv.getPositionMetrics=function(e,i,n,o){var s=t.DropDownDiv.getBoundsInfo_(),r=t.utils.style.getSize(t.DropDownDiv.DIV_);return i+r.height<s.bottom?t.DropDownDiv.getPositionBelowMetrics(e,i,s,r):o-r.height>s.top?t.DropDownDiv.getPositionAboveMetrics(n,o,s,r):i+r.height<document.documentElement.clientHeight?t.DropDownDiv.getPositionBelowMetrics(e,i,s,r):o-r.height>document.documentElement.clientTop?t.DropDownDiv.getPositionAboveMetrics(n,o,s,r):t.DropDownDiv.getPositionTopOfPageMetrics(e,s,r)},t.DropDownDiv.getPositionBelowMetrics=function(e,i,n,o){return e=t.DropDownDiv.getPositionX(e,n.left,n.right,o.width),{initialX:e.divX,initialY:i,finalX:e.divX,finalY:i+t.DropDownDiv.PADDING_Y,arrowX:e.arrowX,arrowY:-(t.DropDownDiv.ARROW_SIZE/2+t.DropDownDiv.BORDER_SIZE),arrowAtTop:!0,arrowVisible:!0}},t.DropDownDiv.getPositionAboveMetrics=function(e,i,n,o){return e=t.DropDownDiv.getPositionX(e,n.left,n.right,o.width),{initialX:e.divX,initialY:i-o.height,finalX:e.divX,finalY:i-o.height-t.DropDownDiv.PADDING_Y,arrowX:e.arrowX,arrowY:o.height-2*t.DropDownDiv.BORDER_SIZE-t.DropDownDiv.ARROW_SIZE/2,arrowAtTop:!1,arrowVisible:!0}},t.DropDownDiv.getPositionTopOfPageMetrics=function(e,i,n){return e=t.DropDownDiv.getPositionX(e,i.left,i.right,n.width),{initialX:e.divX,initialY:0,finalX:e.divX,finalY:0,arrowVisible:!1}},t.DropDownDiv.getPositionX=function(e,i,n,o){var s=e;return e=t.utils.math.clamp(i,e-o/2,n-o),s-=t.DropDownDiv.ARROW_SIZE/2,i=t.DropDownDiv.ARROW_HORIZONTAL_PADDING,o=t.utils.math.clamp(i,s-e,o-i-t.DropDownDiv.ARROW_SIZE),{arrowX:o,divX:e}},t.DropDownDiv.isVisible=function(){return!!t.DropDownDiv.owner_},t.DropDownDiv.hideIfOwner=function(e,i){return t.DropDownDiv.owner_===e&&(i?t.DropDownDiv.hideWithoutAnimation():t.DropDownDiv.hide(),!0)},t.DropDownDiv.hide=function(){var e=t.DropDownDiv.DIV_;e.style.transform="translate(0, 0)",e.style.opacity=0,t.DropDownDiv.animateOutTimer_=setTimeout((function(){t.DropDownDiv.hideWithoutAnimation()}),1e3*t.DropDownDiv.ANIMATION_TIME),t.DropDownDiv.onHide_&&(t.DropDownDiv.onHide_(),t.DropDownDiv.onHide_=null)},t.DropDownDiv.hideWithoutAnimation=function(){if(t.DropDownDiv.isVisible()){t.DropDownDiv.animateOutTimer_&&clearTimeout(t.DropDownDiv.animateOutTimer_);var e=t.DropDownDiv.DIV_;e.style.transform="",e.style.left="",e.style.top="",e.style.opacity=0,e.style.display="none",e.style.backgroundColor=t.DropDownDiv.DEFAULT_DROPDOWN_COLOR,e.style.borderColor=t.DropDownDiv.DEFAULT_DROPDOWN_BORDER_COLOR,t.DropDownDiv.onHide_&&(t.DropDownDiv.onHide_(),t.DropDownDiv.onHide_=null),t.DropDownDiv.clearContent(),t.DropDownDiv.owner_=null}},t.DropDownDiv.positionInternal_=function(e,i,n,o){e=Math.floor(e),i=Math.floor(i),n=Math.floor(n),o=Math.floor(o);var s=t.DropDownDiv.DIV_;s.style.left=e+"px",s.style.top=i+"px",s.style.display="block",s.style.opacity=1,s.style.transform="translate("+(n-e)+"px,"+(o-i)+"px)"},t.DropDownDiv.repositionForWindowResize=function(){if(t.DropDownDiv.owner_){var e=t.DropDownDiv.owner_.getSourceBlock(),i=e.workspace.scale,n=t.DropDownDiv.positionToField_?t.DropDownDiv.owner_.size_.width:e.width,o=t.DropDownDiv.positionToField_?t.DropDownDiv.owner_.size_.height:e.height;n*=i,o*=i,e=t.DropDownDiv.positionToField_?t.DropDownDiv.owner_.fieldGroup_.getBoundingClientRect():e.getSvgRoot().getBoundingClientRect(),n=e.left+n/2,o=t.DropDownDiv.getPositionMetrics(n,e.top+o,n,e.top),t.DropDownDiv.positionInternal_(o.initialX,o.initialY,o.finalX,o.finalY)}else t.DropDownDiv.hide()},t.Grid=function(t,e){this.gridPattern_=t,this.spacing_=e.spacing,this.length_=e.length,this.line2_=(this.line1_=t.firstChild)&&this.line1_.nextSibling,this.snapToGrid_=e.snap},t.Grid.prototype.scale_=1,t.Grid.prototype.dispose=function(){this.gridPattern_=null},t.Grid.prototype.shouldSnap=function(){return this.snapToGrid_},t.Grid.prototype.getSpacing=function(){return this.spacing_},t.Grid.prototype.getPatternId=function(){return this.gridPattern_.id},t.Grid.prototype.update=function(t){this.scale_=t;var e=this.spacing_*t||100;this.gridPattern_.setAttribute("width",e),this.gridPattern_.setAttribute("height",e),e=Math.floor(this.spacing_/2)+.5;var i=e-this.length_/2,n=e+this.length_/2;e*=t,i*=t,n*=t,this.setLineAttributes_(this.line1_,t,i,n,e,e),this.setLineAttributes_(this.line2_,t,e,e,i,n)},t.Grid.prototype.setLineAttributes_=function(t,e,i,n,o,s){t&&(t.setAttribute("stroke-width",e),t.setAttribute("x1",i),t.setAttribute("y1",o),t.setAttribute("x2",n),t.setAttribute("y2",s))},t.Grid.prototype.moveTo=function(e,i){this.gridPattern_.setAttribute("x",e),this.gridPattern_.setAttribute("y",i),(t.utils.userAgent.IE||t.utils.userAgent.EDGE)&&this.update(this.scale_)},t.Grid.createDom=function(e,i,n){return e=t.utils.dom.createSvgElement("pattern",{id:"blocklyGridPattern"+e,patternUnits:"userSpaceOnUse"},n),0<i.length&&0<i.spacing?(t.utils.dom.createSvgElement("line",{stroke:i.colour},e),1<i.length&&t.utils.dom.createSvgElement("line",{stroke:i.colour},e)):t.utils.dom.createSvgElement("line",{},e),e},t.Options=function(e){var i=!!e.readOnly;if(i)var n=null,o=!1,s=!1,r=!1,a=!1,l=!1,c=!1;else{n=t.Options.parseToolboxTree(e.toolbox||null),o=!(!n||!n.getElementsByTagName("category").length),s=e.trashcan,void 0===s&&(s=o);var u=e.maxTrashcanContents;s?void 0===u&&(u=32):u=0,r=e.collapse,void 0===r&&(r=o),a=e.comments,void 0===a&&(a=o),l=e.disable,void 0===l&&(l=o),c=e.sounds,void 0===c&&(c=!0)}var h=!!e.rtl,d=e.horizontalLayout;void 0===d&&(d=!1);var p=e.toolboxPosition;p="end"!==p,p=d?p?t.TOOLBOX_AT_TOP:t.TOOLBOX_AT_BOTTOM:p==h?t.TOOLBOX_AT_RIGHT:t.TOOLBOX_AT_LEFT;var _=e.css;void 0===_&&(_=!0);var g="https://blockly-demo.appspot.com/static/media/";e.media?g=e.media:e.path&&(g=e.path+"media/");var f=void 0===e.oneBasedIndex||!!e.oneBasedIndex,m=e.theme,v=e.keyMap||t.user.keyMap.createDefaultKeyMap(),b=e.renderer||"geras";this.RTL=h,this.oneBasedIndex=f,this.collapse=r,this.comments=a,this.disable=l,this.readOnly=i,this.maxBlocks=e.maxBlocks||1/0,this.maxInstances=e.maxInstances,this.pathToMedia=g,this.hasCategories=o,this.moveOptions=t.Options.parseMoveOptions(e,o),this.hasScrollbars=this.moveOptions.scrollbars,this.hasTrashcan=s,this.maxTrashcanContents=u,this.hasSounds=c,this.hasCss=_,this.horizontalLayout=d,this.languageTree=n,this.gridOptions=t.Options.parseGridOptions_(e),this.zoomOptions=t.Options.parseZoomOptions_(e),this.toolboxPosition=p,this.theme=m,this.keyMap=v,this.renderer=b},t.Options.prototype.parentWorkspace=null,t.Options.prototype.setMetrics=null,t.Options.prototype.getMetrics=null,t.Options.parseMoveOptions=function(t,e){var i=t.move||{},n={};return n.scrollbars=void 0===i.scrollbars&&void 0===t.scrollbars?e:!!i.scrollbars||!!t.scrollbars,n.wheel=!(!n.scrollbars||void 0===i.wheel)&&!!i.wheel,n.drag=!!n.scrollbars&&(void 0===i.drag||!!i.drag),n},t.Options.parseZoomOptions_=function(t){t=t.zoom||{};var e={};return e.controls=void 0!==t.controls&&!!t.controls,e.wheel=void 0!==t.wheel&&!!t.wheel,e.startScale=void 0===t.startScale?1:Number(t.startScale),e.maxScale=void 0===t.maxScale?3:Number(t.maxScale),e.minScale=void 0===t.minScale?.3:Number(t.minScale),e.scaleSpeed=void 0===t.scaleSpeed?1.2:Number(t.scaleSpeed),e},t.Options.parseGridOptions_=function(t){t=t.grid||{};var e={};return e.spacing=Number(t.spacing)||0,e.colour=t.colour||"#888",e.length=Number(t.length)||1,e.snap=0<e.spacing&&!!t.snap,e},t.Options.parseToolboxTree=function(e){if(e){if("string"!=typeof e&&(t.utils.userAgent.IE&&e.outerHTML?e=e.outerHTML:e instanceof Element||(e=null)),"string"==typeof e&&(e=t.Xml.textToDom(e),"xml"!=e.nodeName.toLowerCase()))throw TypeError("Toolbox should be an <xml> document.")}else e=null;return e},t.WorkspaceDragSurfaceSvg=function(t){this.container_=t,this.createDom()},t.WorkspaceDragSurfaceSvg.prototype.SVG_=null,t.WorkspaceDragSurfaceSvg.prototype.dragGroup_=null,t.WorkspaceDragSurfaceSvg.prototype.container_=null,t.WorkspaceDragSurfaceSvg.prototype.createDom=function(){this.SVG_||(this.SVG_=t.utils.dom.createSvgElement("svg",{xmlns:t.utils.dom.SVG_NS,"xmlns:html":t.utils.dom.HTML_NS,"xmlns:xlink":t.utils.dom.XLINK_NS,version:"1.1",class:"blocklyWsDragSurface blocklyOverflowVisible"},null),this.container_.appendChild(this.SVG_))},t.WorkspaceDragSurfaceSvg.prototype.translateSurface=function(e,i){var n=e.toFixed(0),o=i.toFixed(0);this.SVG_.style.display="block",t.utils.dom.setCssTransform(this.SVG_,"translate3d("+n+"px, "+o+"px, 0px)")},t.WorkspaceDragSurfaceSvg.prototype.getSurfaceTranslation=function(){return t.utils.getRelativeXY(this.SVG_)},t.WorkspaceDragSurfaceSvg.prototype.clearAndHide=function(e){if(!e)throw Error("Couldn't clear and hide the drag surface: missing new surface.");var i=this.SVG_.childNodes[0],n=this.SVG_.childNodes[1];if(!(i&&n&&t.utils.dom.hasClass(i,"blocklyBlockCanvas")&&t.utils.dom.hasClass(n,"blocklyBubbleCanvas")))throw Error("Couldn't clear and hide the drag surface. A node was missing.");if(null!=this.previousSibling_?t.utils.dom.insertAfter(i,this.previousSibling_):e.insertBefore(i,e.firstChild),t.utils.dom.insertAfter(n,i),this.SVG_.style.display="none",this.SVG_.childNodes.length)throw Error("Drag surface was not cleared.");t.utils.dom.setCssTransform(this.SVG_,""),this.previousSibling_=null},t.WorkspaceDragSurfaceSvg.prototype.setContentsAndShow=function(t,e,i,n,o,s){if(this.SVG_.childNodes.length)throw Error("Already dragging a block.");this.previousSibling_=i,t.setAttribute("transform","translate(0, 0) scale("+s+")"),e.setAttribute("transform","translate(0, 0) scale("+s+")"),this.SVG_.setAttribute("width",n),this.SVG_.setAttribute("height",o),this.SVG_.appendChild(t),this.SVG_.appendChild(e),this.SVG_.style.display="block"},t.blockRendering.rendererMap_={},t.blockRendering.useDebugger=!1,t.blockRendering.register=function(e,i){if(t.blockRendering.rendererMap_[e])throw Error("Renderer has already been registered.");t.blockRendering.rendererMap_[e]=i},t.blockRendering.unregister=function(e){t.blockRendering.rendererMap_[e]?delete t.blockRendering.rendererMap_[e]:console.warn('No renderer mapping for name "'+e+'" found to unregister')},t.blockRendering.startDebugger=function(){t.blockRendering.useDebugger=!0},t.blockRendering.stopDebugger=function(){t.blockRendering.useDebugger=!1},t.blockRendering.init=function(e){if(!t.blockRendering.rendererMap_[e])throw Error("Renderer not registered: ",e);var i=function(){i.superClass_.constructor.call(this)};return t.utils.object.inherits(i,t.blockRendering.rendererMap_[e]),e=new i,e.init(),e},t.ConnectionDB=function(){this.connections_=[]},t.ConnectionDB.prototype.addConnection=function(t){if(t.inDB_)throw Error("Connection already in database.");if(!t.getSourceBlock().isInFlyout){var e=this.findPositionForConnection_(t);this.connections_.splice(e,0,t),t.inDB_=!0}},t.ConnectionDB.prototype.findConnection=function(t){if(!this.connections_.length)return-1;var e=this.findPositionForConnection_(t);if(e>=this.connections_.length)return-1;for(var i=t.y_,n=e;0<=n&&this.connections_[n].y_==i;){if(this.connections_[n]==t)return n;n--}for(;e<this.connections_.length&&this.connections_[e].y_==i;){if(this.connections_[e]==t)return e;e++}return-1},t.ConnectionDB.prototype.findPositionForConnection_=function(t){if(!this.connections_.length)return 0;for(var e=0,i=this.connections_.length;e<i;){var n=Math.floor((e+i)/2);if(this.connections_[n].y_<t.y_)e=n+1;else{if(!(this.connections_[n].y_>t.y_)){e=n;break}i=n}}return e},t.ConnectionDB.prototype.removeConnection_=function(t){if(!t.inDB_)throw Error("Connection not in database.");var e=this.findConnection(t);if(-1==e)throw Error("Unable to find connection in connectionDB.");t.inDB_=!1,this.connections_.splice(e,1)},t.ConnectionDB.prototype.getNeighbours=function(t,e){function i(t){var i=o-n[t].x_,r=s-n[t].y_;return Math.sqrt(i*i+r*r)<=e&&c.push(n[t]),r<e}for(var n=this.connections_,o=t.x_,s=t.y_,r=0,a=n.length-2,l=a;r<l;)n[l].y_<s?r=l:a=l,l=Math.floor((r+a)/2);var c=[];if(a=r=l,n.length){for(;0<=r&&i(r);)r--;do{a++}while(a<n.length&&i(a))}return c},t.ConnectionDB.prototype.isInYRange_=function(t,e,i){return Math.abs(this.connections_[t].y_-e)<=i},t.ConnectionDB.prototype.searchForClosest=function(t,e,i){if(!this.connections_.length)return{connection:null,radius:e};var n=t.y_,o=t.x_;t.x_=o+i.x,t.y_=n+i.y;var s=this.findPositionForConnection_(t);i=null;for(var r,a=e,l=s-1;0<=l&&this.isInYRange_(l,t.y_,e);)r=this.connections_[l],t.isConnectionAllowed(r,a)&&(i=r,a=r.distanceFrom(t)),l--;for(;s<this.connections_.length&&this.isInYRange_(s,t.y_,e);)r=this.connections_[s],t.isConnectionAllowed(r,a)&&(i=r,a=r.distanceFrom(t)),s++;return t.x_=o,t.y_=n,{connection:i,radius:a}},t.ConnectionDB.init=function(){var e=[];return e[t.INPUT_VALUE]=new t.ConnectionDB,e[t.OUTPUT_VALUE]=new t.ConnectionDB,e[t.NEXT_STATEMENT]=new t.ConnectionDB,e[t.PREVIOUS_STATEMENT]=new t.ConnectionDB,e},t.TouchGesture=function(e,i){t.TouchGesture.superClass_.constructor.call(this,e,i),this.isMultiTouch_=!1,this.cachedPoints_={},this.startDistance_=this.previousScale_=0,this.onStartWrapper_=null},t.utils.object.inherits(t.TouchGesture,t.Gesture),t.TouchGesture.ZOOM_IN_MULTIPLIER=5,t.TouchGesture.ZOOM_OUT_MULTIPLIER=6,t.TouchGesture.prototype.doStart=function(e){t.TouchGesture.superClass_.doStart.call(this,e),!this.isEnding_&&t.Touch.isTouchEvent(e)&&this.handleTouchStart(e)},t.TouchGesture.prototype.bindMouseEvents=function(e){this.onStartWrapper_=t.bindEventWithChecks_(document,"mousedown",null,this.handleStart.bind(this),!0),this.onMoveWrapper_=t.bindEventWithChecks_(document,"mousemove",null,this.handleMove.bind(this),!0),this.onUpWrapper_=t.bindEventWithChecks_(document,"mouseup",null,this.handleUp.bind(this),!0),e.preventDefault(),e.stopPropagation()},t.TouchGesture.prototype.handleStart=function(e){!this.isDragging()&&t.Touch.isTouchEvent(e)&&(this.handleTouchStart(e),this.isMultiTouch()&&t.longStop_())},t.TouchGesture.prototype.handleMove=function(e){this.isDragging()?t.Touch.shouldHandleEvent(e)&&t.TouchGesture.superClass_.handleMove.call(this,e):this.isMultiTouch()?(t.Touch.isTouchEvent(e)&&this.handleTouchMove(e),t.longStop_()):t.TouchGesture.superClass_.handleMove.call(this,e)},t.TouchGesture.prototype.handleUp=function(e){t.Touch.isTouchEvent(e)&&!this.isDragging()&&this.handleTouchEnd(e),!this.isMultiTouch()||this.isDragging()?t.Touch.shouldHandleEvent(e)&&t.TouchGesture.superClass_.handleUp.call(this,e):(e.preventDefault(),e.stopPropagation(),this.dispose())},t.TouchGesture.prototype.isMultiTouch=function(){return this.isMultiTouch_},t.TouchGesture.prototype.dispose=function(){t.TouchGesture.superClass_.dispose.call(this),this.onStartWrapper_&&t.unbindEvent_(this.onStartWrapper_)},t.TouchGesture.prototype.handleTouchStart=function(e){var i=t.Touch.getTouchIdentifierFromEvent(e);this.cachedPoints_[i]=this.getTouchPoint(e),i=Object.keys(this.cachedPoints_),2==i.length&&(this.startDistance_=t.utils.Coordinate.distance(this.cachedPoints_[i[0]],this.cachedPoints_[i[1]]),this.isMultiTouch_=!0,e.preventDefault())},t.TouchGesture.prototype.handleTouchMove=function(e){var i=t.Touch.getTouchIdentifierFromEvent(e);if(this.cachedPoints_[i]=this.getTouchPoint(e),i=Object.keys(this.cachedPoints_),2==i.length){if(i=this.touchScale_=t.utils.Coordinate.distance(this.cachedPoints_[i[0]],this.cachedPoints_[i[1]])/this.startDistance_,0<this.previousScale_&&1/0>this.previousScale_){var n=i-this.previousScale_;n=0<n?n*t.TouchGesture.ZOOM_IN_MULTIPLIER:n*t.TouchGesture.ZOOM_OUT_MULTIPLIER;var o=this.startWorkspace_,s=t.utils.mouseToSvg(e,o.getParentSvg(),o.getInverseScreenCTM());o.zoom(s.x,s.y,n)}this.previousScale_=i,e.preventDefault()}},t.TouchGesture.prototype.handleTouchEnd=function(e){e=t.Touch.getTouchIdentifierFromEvent(e),this.cachedPoints_[e]&&delete this.cachedPoints_[e],2>Object.keys(this.cachedPoints_).length&&(this.cachedPoints_={},this.previousScale_=0)},t.TouchGesture.prototype.getTouchPoint=function(e){return this.startWorkspace_?new t.utils.Coordinate(e.pageX?e.pageX:e.changedTouches[0].pageX,e.pageY?e.pageY:e.changedTouches[0].pageY):null},t.WorkspaceAudio=function(t){this.parentWorkspace_=t,this.SOUNDS_=Object.create(null)},t.WorkspaceAudio.prototype.lastSound_=null,t.WorkspaceAudio.prototype.dispose=function(){this.SOUNDS_=this.parentWorkspace_=null},t.WorkspaceAudio.prototype.load=function(e,i){if(e.length){try{var n=new t.utils.global.Audio}catch(l){return}for(var o,s=0;s<e.length;s++){var r=e[s],a=r.match(/\.(\w+)$/);if(a&&n.canPlayType("audio/"+a[1])){o=new t.utils.global.Audio(r);break}}o&&o.play&&(this.SOUNDS_[i]=o)}},t.WorkspaceAudio.prototype.preload=function(){for(var e in this.SOUNDS_){var i=this.SOUNDS_[e];i.volume=.01;var n=i.play();if(void 0!==n?n.then(i.pause)["catch"]((function(){})):i.pause(),t.utils.userAgent.IPAD||t.utils.userAgent.IPHONE)break}},t.WorkspaceAudio.prototype.play=function(e,i){var n=this.SOUNDS_[e];if(n){var o=new Date;null!=this.lastSound_&&o-this.lastSound_<t.SOUND_LIMIT||(this.lastSound_=o,n=t.utils.userAgent.IPAD||t.utils.userAgent.ANDROID?n:n.cloneNode(),n.volume=void 0===i?1:i,n.play())}else this.parentWorkspace_&&this.parentWorkspace_.getAudioManager().play(e,i)},t.WorkspaceSvg=function(e,i,n){t.WorkspaceSvg.superClass_.constructor.call(this,e),this.getMetrics=e.getMetrics||t.WorkspaceSvg.getTopLevelWorkspaceMetrics_,this.setMetrics=e.setMetrics||t.WorkspaceSvg.setTopLevelWorkspaceMetrics_,this.connectionDBList=t.ConnectionDB.init(),i&&(this.blockDragSurface_=i),n&&(this.workspaceDragSurface_=n),this.useWorkspaceDragSurface_=this.workspaceDragSurface_&&t.utils.is3dSupported(),this.highlightedBlocks_=[],this.audioManager_=new t.WorkspaceAudio(e.parentWorkspace),this.grid_=this.options.gridPattern?new t.Grid(e.gridPattern,e.gridOptions):null,this.markerSvg_=this.cursorSvg_=null,t.Variables&&t.Variables.flyoutCategory&&this.registerToolboxCategoryCallback(t.VARIABLE_CATEGORY_NAME,t.Variables.flyoutCategory),t.VariablesDynamic&&t.VariablesDynamic.flyoutCategory&&this.registerToolboxCategoryCallback(t.VARIABLE_DYNAMIC_CATEGORY_NAME,t.VariablesDynamic.flyoutCategory),t.Procedures&&t.Procedures.flyoutCategory&&this.registerToolboxCategoryCallback(t.PROCEDURE_CATEGORY_NAME,t.Procedures.flyoutCategory),this.renderer_=t.blockRendering.init(this.options.renderer||"geras")},t.utils.object.inherits(t.WorkspaceSvg,t.Workspace),t.WorkspaceSvg.prototype.resizeHandlerWrapper_=null,t.WorkspaceSvg.prototype.rendered=!0,t.WorkspaceSvg.prototype.isVisible_=!0,t.WorkspaceSvg.prototype.isFlyout=!1,t.WorkspaceSvg.prototype.isMutator=!1,t.WorkspaceSvg.prototype.resizesEnabled_=!0,t.WorkspaceSvg.prototype.scrollX=0,t.WorkspaceSvg.prototype.scrollY=0,t.WorkspaceSvg.prototype.startScrollX=0,t.WorkspaceSvg.prototype.startScrollY=0,t.WorkspaceSvg.prototype.dragDeltaXY_=null,t.WorkspaceSvg.prototype.scale=1,t.WorkspaceSvg.prototype.trashcan=null,t.WorkspaceSvg.prototype.scrollbar=null,t.WorkspaceSvg.prototype.flyout_=null,t.WorkspaceSvg.prototype.toolbox_=null,t.WorkspaceSvg.prototype.currentGesture_=null,t.WorkspaceSvg.prototype.blockDragSurface_=null,t.WorkspaceSvg.prototype.workspaceDragSurface_=null,t.WorkspaceSvg.prototype.useWorkspaceDragSurface_=!1,t.WorkspaceSvg.prototype.isDragSurfaceActive_=!1,t.WorkspaceSvg.prototype.injectionDiv_=null,t.WorkspaceSvg.prototype.lastRecordedPageScroll_=null,t.WorkspaceSvg.prototype.flyoutButtonCallbacks_={},t.WorkspaceSvg.prototype.toolboxCategoryCallbacks_={},t.WorkspaceSvg.prototype.configureContextMenu=null,t.WorkspaceSvg.prototype.targetWorkspace=null,t.WorkspaceSvg.prototype.inverseScreenCTM_=null,t.WorkspaceSvg.prototype.inverseScreenCTMDirty_=!0,t.WorkspaceSvg.prototype.getRenderer=function(){return this.renderer_},t.WorkspaceSvg.prototype.setCursor=function(t){this.cursor_&&this.cursor_.getDrawer()&&this.cursor_.getDrawer().dispose(),(this.cursor_=t)&&(this.cursor_.setDrawer(this.getRenderer().makeCursorDrawer(this,!1)),this.setCursorSvg(this.cursor_.getDrawer().createDom()))},t.WorkspaceSvg.prototype.setMarker=function(t){this.marker_&&this.marker_.getDrawer()&&this.marker_.getDrawer().dispose(),(this.marker_=t)&&(this.marker_.setDrawer(this.getRenderer().makeCursorDrawer(this,!0)),this.setMarkerSvg(this.marker_.getDrawer().createDom()))},t.WorkspaceSvg.prototype.setCursorSvg=function(t){t?this.svgBlockCanvas_&&(this.svgBlockCanvas_.appendChild(t),this.cursorSvg_=t):this.cursorSvg_=null},t.WorkspaceSvg.prototype.setMarkerSvg=function(t){t?this.svgBlockCanvas_&&(this.cursorSvg_?this.svgBlockCanvas_.insertBefore(t,this.cursorSvg_):this.svgBlockCanvas_.appendChild(t),this.markerSvg_=t):this.markerSvg_=null},t.WorkspaceSvg.prototype.getInverseScreenCTM=function(){if(this.inverseScreenCTMDirty_){var t=this.getParentSvg().getScreenCTM();t&&(this.inverseScreenCTM_=t.inverse(),this.inverseScreenCTMDirty_=!1)}return this.inverseScreenCTM_},t.WorkspaceSvg.prototype.updateInverseScreenCTM=function(){this.inverseScreenCTMDirty_=!0},t.WorkspaceSvg.prototype.isVisible=function(){return this.isVisible_},t.WorkspaceSvg.prototype.getSvgXY=function(e){var i=0,n=0,o=1;(t.utils.dom.containsNode(this.getCanvas(),e)||t.utils.dom.containsNode(this.getBubbleCanvas(),e))&&(o=this.scale);do{var s=t.utils.getRelativeXY(e);e!=this.getCanvas()&&e!=this.getBubbleCanvas()||(o=1),i+=s.x*o,n+=s.y*o,e=e.parentNode}while(e&&e!=this.getParentSvg());return new t.utils.Coordinate(i,n)},t.WorkspaceSvg.prototype.getOriginOffsetInPixels=function(){return t.utils.getInjectionDivXY_(this.svgBlockCanvas_)},t.WorkspaceSvg.prototype.getInjectionDiv=function(){if(!this.injectionDiv_)for(var t=this.svgGroup_;t;){if(-1!=(" "+(t.getAttribute("class")||"")+" ").indexOf(" injectionDiv ")){this.injectionDiv_=t;break}t=t.parentNode}return this.injectionDiv_},t.WorkspaceSvg.prototype.setResizeHandlerWrapper=function(t){this.resizeHandlerWrapper_=t},t.WorkspaceSvg.prototype.createDom=function(e){if(this.svgGroup_=t.utils.dom.createSvgElement("g",{class:"blocklyWorkspace"},null),e&&(this.svgBackground_=t.utils.dom.createSvgElement("rect",{height:"100%",width:"100%",class:e},this.svgGroup_),"blocklyMainBackground"==e&&this.grid_?this.svgBackground_.style.fill="url(#"+this.grid_.getPatternId()+")":this.themeManager_.subscribe(this.svgBackground_,"workspace","fill")),this.svgBlockCanvas_=t.utils.dom.createSvgElement("g",{class:"blocklyBlockCanvas"},this.svgGroup_),this.svgBubbleCanvas_=t.utils.dom.createSvgElement("g",{class:"blocklyBubbleCanvas"},this.svgGroup_),this.isFlyout||(t.bindEventWithChecks_(this.svgGroup_,"mousedown",this,this.onMouseDown_,!1,!0),t.bindEventWithChecks_(this.svgGroup_,"wheel",this,this.onMouseWheel_)),this.options.hasCategories){if(!t.Toolbox)throw Error("Missing require for Blockly.Toolbox");this.toolbox_=new t.Toolbox(this)}return this.grid_&&this.grid_.update(this.scale),this.recordDeleteAreas(),this.cursor_.setDrawer(this.getRenderer().makeCursorDrawer(this,!1)),e=this.cursor_.getDrawer().createDom(),this.svgGroup_.appendChild(e),this.marker_.setDrawer(this.getRenderer().makeCursorDrawer(this,!0)),e=this.marker_.getDrawer().createDom(),this.svgGroup_.appendChild(e),this.svgGroup_},t.WorkspaceSvg.prototype.dispose=function(){if(this.rendered=!1,this.currentGesture_&&this.currentGesture_.cancel(),this.svgGroup_&&(t.utils.dom.removeNode(this.svgGroup_),this.svgGroup_=null),this.svgBubbleCanvas_=this.svgBlockCanvas_=null,this.toolbox_&&(this.toolbox_.dispose(),this.toolbox_=null),this.flyout_&&(this.flyout_.dispose(),this.flyout_=null),this.trashcan&&(this.trashcan.dispose(),this.trashcan=null),this.scrollbar&&(this.scrollbar.dispose(),this.scrollbar=null),this.zoomControls_&&(this.zoomControls_.dispose(),this.zoomControls_=null),this.marker_&&this.marker_.getDrawer().dispose(),this.getCursor()&&this.getCursor().getDrawer().dispose(),this.audioManager_&&(this.audioManager_.dispose(),this.audioManager_=null),this.grid_&&(this.grid_.dispose(),this.grid_=null),this.themeManager_&&this.themeManager_.unsubscribe(this.svgBackground_),t.WorkspaceSvg.superClass_.dispose.call(this),this.flyoutButtonCallbacks_=this.toolboxCategoryCallbacks_=this.connectionDBList=null,!this.options.parentWorkspace){var e=this.getParentSvg().parentNode;e&&t.utils.dom.removeNode(e)}this.resizeHandlerWrapper_&&(t.unbindEvent_(this.resizeHandlerWrapper_),this.resizeHandlerWrapper_=null)},t.WorkspaceSvg.prototype.newBlock=function(e,i){return new t.BlockSvg(this,e,i)},t.WorkspaceSvg.prototype.addTrashcan=function(){if(!t.Trashcan)throw Error("Missing require for Blockly.Trashcan");this.trashcan=new t.Trashcan(this);var e=this.trashcan.createDom();this.svgGroup_.insertBefore(e,this.svgBlockCanvas_)},t.WorkspaceSvg.prototype.addZoomControls=function(){if(!t.ZoomControls)throw Error("Missing require for Blockly.ZoomControls");this.zoomControls_=new t.ZoomControls(this);var e=this.zoomControls_.createDom();this.svgGroup_.appendChild(e)},t.WorkspaceSvg.prototype.addFlyout_=function(e){var i={disabledPatternId:this.options.disabledPatternId,parentWorkspace:this,RTL:this.RTL,oneBasedIndex:this.options.oneBasedIndex,horizontalLayout:this.horizontalLayout,toolboxPosition:this.options.toolboxPosition,renderer:this.options.renderer};if(this.horizontalLayout){if(!t.HorizontalFlyout)throw Error("Missing require for Blockly.HorizontalFlyout");this.flyout_=new t.HorizontalFlyout(i)}else{if(!t.VerticalFlyout)throw Error("Missing require for Blockly.VerticalFlyout");this.flyout_=new t.VerticalFlyout(i)}return this.flyout_.autoClose=!1,this.flyout_.createDom(e)},t.WorkspaceSvg.prototype.getFlyout=function(){return this.flyout_?this.flyout_:this.toolbox_?this.toolbox_.flyout_:null},t.WorkspaceSvg.prototype.getToolbox=function(){return this.toolbox_},t.WorkspaceSvg.prototype.updateScreenCalculations_=function(){this.updateInverseScreenCTM(),this.recordDeleteAreas()},t.WorkspaceSvg.prototype.resizeContents=function(){if(this.resizesEnabled_&&this.rendered){if(this.scrollbar){var t=this.getMetrics();this.scrollbar.hScroll.resizeContentHorizontal(t),this.scrollbar.vScroll.resizeContentVertical(t)}this.updateInverseScreenCTM()}},t.WorkspaceSvg.prototype.resize=function(){this.toolbox_&&this.toolbox_.position(),this.flyout_&&this.flyout_.position(),this.trashcan&&this.trashcan.position(),this.zoomControls_&&this.zoomControls_.position(),this.scrollbar&&this.scrollbar.resize(),this.updateScreenCalculations_()},t.WorkspaceSvg.prototype.updateScreenCalculationsIfScrolled=function(){var e=t.utils.getDocumentScroll();t.utils.Coordinate.equals(this.lastRecordedPageScroll_,e)||(this.lastRecordedPageScroll_=e,this.updateScreenCalculations_())},t.WorkspaceSvg.prototype.getCanvas=function(){return this.svgBlockCanvas_},t.WorkspaceSvg.prototype.getBubbleCanvas=function(){return this.svgBubbleCanvas_},t.WorkspaceSvg.prototype.getParentSvg=function(){if(this.cachedParentSvg_)return this.cachedParentSvg_;for(var t=this.svgGroup_;t;){if("svg"==t.tagName)return this.cachedParentSvg_=t;t=t.parentNode}return null},t.WorkspaceSvg.prototype.translate=function(t,e){if(this.useWorkspaceDragSurface_&&this.isDragSurfaceActive_)this.workspaceDragSurface_.translateSurface(t,e);else{var i="translate("+t+","+e+") scale("+this.scale+")";this.svgBlockCanvas_.setAttribute("transform",i),this.svgBubbleCanvas_.setAttribute("transform",i)}this.blockDragSurface_&&this.blockDragSurface_.translateAndScaleGroup(t,e,this.scale),this.grid_&&this.grid_.moveTo(t,e)},t.WorkspaceSvg.prototype.resetDragSurface=function(){if(this.useWorkspaceDragSurface_){this.isDragSurfaceActive_=!1;var t=this.workspaceDragSurface_.getSurfaceTranslation();this.workspaceDragSurface_.clearAndHide(this.svgGroup_),t="translate("+t.x+","+t.y+") scale("+this.scale+")",this.svgBlockCanvas_.setAttribute("transform",t),this.svgBubbleCanvas_.setAttribute("transform",t)}},t.WorkspaceSvg.prototype.setupDragSurface=function(){if(this.useWorkspaceDragSurface_&&!this.isDragSurfaceActive_){this.isDragSurfaceActive_=!0;var e=this.svgBlockCanvas_.previousSibling,i=parseInt(this.getParentSvg().getAttribute("width"),10),n=parseInt(this.getParentSvg().getAttribute("height"),10),o=t.utils.getRelativeXY(this.svgBlockCanvas_);this.workspaceDragSurface_.setContentsAndShow(this.svgBlockCanvas_,this.svgBubbleCanvas_,e,i,n,this.scale),this.workspaceDragSurface_.translateSurface(o.x,o.y)}},t.WorkspaceSvg.prototype.getBlockDragSurface=function(){return this.blockDragSurface_},t.WorkspaceSvg.prototype.getWidth=function(){var t=this.getMetrics();return t?t.viewWidth/this.scale:0},t.WorkspaceSvg.prototype.setVisible=function(e){if(this.scrollbar&&this.scrollbar.setContainerVisible(e),this.getFlyout()&&this.getFlyout().setContainerVisible(e),this.getParentSvg().style.display=e?"block":"none",this.toolbox_&&(this.toolbox_.HtmlDiv.style.display=e?"block":"none"),e){for(var i=this.getAllBlocks(!1),n=i.length-1;0<=n;n--)i[n].markDirty();this.render(),this.toolbox_&&this.toolbox_.position()}else t.hideChaff(!0);this.isVisible_=e},t.WorkspaceSvg.prototype.render=function(){for(var t=this.getAllBlocks(!1),e=t.length-1;0<=e;e--)t[e].render(!1);if(this.currentGesture_)for(t=this.currentGesture_.getInsertionMarkers(),e=0;e<t.length;e++)t[e].render(!1)},t.WorkspaceSvg.prototype.traceOn=function(){console.warn("Deprecated call to traceOn, delete this.")},t.WorkspaceSvg.prototype.highlightBlock=function(e,i){if(void 0===i){for(var n,o=0;n=this.highlightedBlocks_[o];o++)n.setHighlighted(!1);this.highlightedBlocks_.length=0}(n=e?this.getBlockById(e):null)&&((o=void 0===i||i)?-1==this.highlightedBlocks_.indexOf(n)&&this.highlightedBlocks_.push(n):t.utils.arrayRemove(this.highlightedBlocks_,n),n.setHighlighted(o))},t.WorkspaceSvg.prototype.paste=function(t){!this.rendered||t.getElementsByTagName("block").length>=this.remainingCapacity()||(this.currentGesture_&&this.currentGesture_.cancel(),"comment"==t.tagName.toLowerCase()?this.pasteWorkspaceComment_(t):this.pasteBlock_(t))},t.WorkspaceSvg.prototype.pasteBlock_=function(e){t.Events.disable();try{var i=t.Xml.domToBlock(e,this),n=this.getMarker().getCurNode();if(t.keyboardAccessibilityMode&&n)return void t.navigation.insertBlock(i,n.getLocation());var o=parseInt(e.getAttribute("x"),10),s=parseInt(e.getAttribute("y"),10);if(!isNaN(o)&&!isNaN(s)){this.RTL&&(o=-o);do{e=!1;var r,a=this.getAllBlocks(!1);for(n=0;r=a[n];n++){var l=r.getRelativeToSurfaceXY();if(1>=Math.abs(o-l.x)&&1>=Math.abs(s-l.y)){e=!0;break}}if(!e){var c,u=i.getConnections_(!1);for(n=0;c=u[n];n++)if(c.closest(t.SNAP_RADIUS,new t.utils.Coordinate(o,s)).connection){e=!0;break}}e&&(o=this.RTL?o-t.SNAP_RADIUS:o+t.SNAP_RADIUS,s+=2*t.SNAP_RADIUS)}while(e);i.moveBy(o,s)}}finally{t.Events.enable()}t.Events.isEnabled()&&!i.isShadow()&&t.Events.fire(new t.Events.BlockCreate(i)),i.select()},t.WorkspaceSvg.prototype.pasteWorkspaceComment_=function(e){t.Events.disable();try{var i=t.WorkspaceCommentSvg.fromXml(e,this),n=parseInt(e.getAttribute("x"),10),o=parseInt(e.getAttribute("y"),10);isNaN(n)||isNaN(o)||(this.RTL&&(n=-n),i.moveBy(n+50,o+50))}finally{t.Events.enable()}t.Events.isEnabled(),i.select()},t.WorkspaceSvg.prototype.refreshToolboxSelection=function(){var t=this.isFlyout?this.targetWorkspace:this;t&&!t.currentGesture_&&t.toolbox_&&t.toolbox_.flyout_&&t.toolbox_.refreshSelection()},t.WorkspaceSvg.prototype.renameVariableById=function(e,i){t.WorkspaceSvg.superClass_.renameVariableById.call(this,e,i),this.refreshToolboxSelection()},t.WorkspaceSvg.prototype.deleteVariableById=function(e){t.WorkspaceSvg.superClass_.deleteVariableById.call(this,e),this.refreshToolboxSelection()},t.WorkspaceSvg.prototype.createVariable=function(e,i,n){return e=t.WorkspaceSvg.superClass_.createVariable.call(this,e,i,n),this.refreshToolboxSelection(),e},t.WorkspaceSvg.prototype.recordDeleteAreas=function(){this.deleteAreaTrash_=this.trashcan&&this.svgGroup_.parentNode?this.trashcan.getClientRect():null,this.deleteAreaToolbox_=this.flyout_?this.flyout_.getClientRect():this.toolbox_?this.toolbox_.getClientRect():null},t.WorkspaceSvg.prototype.isDeleteArea=function(e){return this.deleteAreaTrash_&&this.deleteAreaTrash_.contains(e.clientX,e.clientY)?t.DELETE_AREA_TRASH:this.deleteAreaToolbox_&&this.deleteAreaToolbox_.contains(e.clientX,e.clientY)?t.DELETE_AREA_TOOLBOX:t.DELETE_AREA_NONE},t.WorkspaceSvg.prototype.onMouseDown_=function(t){var e=this.getGesture(t);e&&e.handleWsStart(t,this)},t.WorkspaceSvg.prototype.startDrag=function(e,i){var n=t.utils.mouseToSvg(e,this.getParentSvg(),this.getInverseScreenCTM());n.x/=this.scale,n.y/=this.scale,this.dragDeltaXY_=t.utils.Coordinate.difference(i,n)},t.WorkspaceSvg.prototype.moveDrag=function(e){return e=t.utils.mouseToSvg(e,this.getParentSvg(),this.getInverseScreenCTM()),e.x/=this.scale,e.y/=this.scale,t.utils.Coordinate.sum(this.dragDeltaXY_,e)},t.WorkspaceSvg.prototype.isDragging=function(){return null!=this.currentGesture_&&this.currentGesture_.isDragging()},t.WorkspaceSvg.prototype.isDraggable=function(){return this.options.moveOptions&&this.options.moveOptions.drag},t.WorkspaceSvg.prototype.isContentBounded=function(){return this.options.moveOptions&&this.options.moveOptions.scrollbars||this.options.moveOptions&&this.options.moveOptions.wheel||this.options.moveOptions&&this.options.moveOptions.drag||this.options.zoomOptions&&this.options.zoomOptions.controls||this.options.zoomOptions&&this.options.zoomOptions.wheel},t.WorkspaceSvg.prototype.isMovable=function(){return this.options.moveOptions&&this.options.moveOptions.scrollbars||this.options.moveOptions&&this.options.moveOptions.wheel||this.options.moveOptions&&this.options.moveOptions.drag||this.options.zoomOptions&&this.options.zoomOptions.wheel},t.WorkspaceSvg.prototype.onMouseWheel_=function(e){if(t.Gesture.inProgress())e.preventDefault(),e.stopPropagation();else{var i=this.options.zoomOptions&&this.options.zoomOptions.wheel,n=this.options.moveOptions&&this.options.moveOptions.wheel;if(i||n){var o=t.utils.getScrollDeltaPixels(e);!i||!e.ctrlKey&&n?(i=this.scrollX-o.x,n=this.scrollY-o.y,e.shiftKey&&!o.x&&(i=this.scrollX-o.y,n=this.scrollY),this.scroll(i,n)):(o=-o.y/50,i=t.utils.mouseToSvg(e,this.getParentSvg(),this.getInverseScreenCTM()),this.zoom(i.x,i.y,o)),e.preventDefault()}}},t.WorkspaceSvg.prototype.getBlocksBoundingBox=function(){var e=this.getTopBlocks(!1),i=this.getTopComments(!1);if(e=e.concat(i),!e.length)return new t.utils.Rect(0,0,0,0);i=e[0].getBoundingRectangle();for(var n=1;n<e.length;n++){var o=e[n].getBoundingRectangle();o.top<i.top&&(i.top=o.top),o.bottom>i.bottom&&(i.bottom=o.bottom),o.left<i.left&&(i.left=o.left),o.right>i.right&&(i.right=o.right)}return i},t.WorkspaceSvg.prototype.cleanUp=function(){this.setResizesEnabled(!1),t.Events.setGroup(!0);for(var e,i=this.getTopBlocks(!0),n=0,o=0;e=i[o];o++)if(e.isMovable()){var s=e.getRelativeToSurfaceXY();e.moveBy(-s.x,n-s.y),e.snapToGrid(),n=e.getRelativeToSurfaceXY().y+e.getHeightWidth().height+t.BlockSvg.MIN_BLOCK_Y}t.Events.setGroup(!1),this.setResizesEnabled(!0)},t.WorkspaceSvg.prototype.showContextMenu_=function(e){function i(t){if(t.isDeletable())p=p.concat(t.getDescendants(!1));else{t=t.getChildren(!1);for(var e=0;e<t.length;e++)i(t[e])}}function n(){t.Events.setGroup(r);var e=p.shift();e&&(e.workspace?(e.dispose(!1,!0),setTimeout(n,10)):n()),t.Events.setGroup(!1)}if(!this.options.readOnly&&!this.isFlyout){var o=[],s=this.getTopBlocks(!0),r=t.utils.genUid(),a=this,l={};if(l.text=t.Msg.UNDO,l.enabled=0<this.undoStack_.length,l.callback=this.undo.bind(this,!1),o.push(l),l={},l.text=t.Msg.REDO,l.enabled=0<this.redoStack_.length,l.callback=this.undo.bind(this,!0),o.push(l),this.isMovable()&&(l={},l.text=t.Msg.CLEAN_UP,l.enabled=1<s.length,l.callback=this.cleanUp.bind(this),o.push(l)),this.options.collapse){for(var c=l=!1,u=0;u<s.length;u++)for(var h=s[u];h;)h.isCollapsed()?l=!0:c=!0,h=h.getNextBlock();var d=function(t){for(var e=0,i=0;i<s.length;i++)for(var n=s[i];n;)setTimeout(n.setCollapsed.bind(n,t),e),n=n.getNextBlock(),e+=10};c={enabled:c},c.text=t.Msg.COLLAPSE_ALL,c.callback=function(){d(!0)},o.push(c),l={enabled:l},l.text=t.Msg.EXPAND_ALL,l.callback=function(){d(!1)},o.push(l)}var p=[];for(u=0;u<s.length;u++)i(s[u]);l={text:1==p.length?t.Msg.DELETE_BLOCK:t.Msg.DELETE_X_BLOCKS.replace("%1",String(p.length)),enabled:0<p.length,callback:function(){a.currentGesture_&&a.currentGesture_.cancel(),2>p.length?n():t.confirm(t.Msg.DELETE_ALL_BLOCKS.replace("%1",p.length),(function(t){t&&n()}))}},o.push(l),this.configureContextMenu&&this.configureContextMenu(o),t.ContextMenu.show(e,o,this.RTL)}},t.WorkspaceSvg.prototype.updateToolbox=function(e){if(e=t.Options.parseToolboxTree(e)){if(!this.options.languageTree)throw Error("Existing toolbox is null.  Can't create new toolbox.");if(e.getElementsByTagName("category").length){if(!this.toolbox_)throw Error("Existing toolbox has no categories.  Can't change mode.");this.options.languageTree=e,this.toolbox_.renderTree(e)}else{if(!this.flyout_)throw Error("Existing toolbox has categories.  Can't change mode.");this.options.languageTree=e,this.flyout_.show(e.childNodes)}}else if(this.options.languageTree)throw Error("Can't nullify an existing toolbox.")},t.WorkspaceSvg.prototype.markFocused=function(){this.options.parentWorkspace?this.options.parentWorkspace.markFocused():(t.mainWorkspace=this,this.setBrowserFocus())},t.WorkspaceSvg.prototype.setBrowserFocus=function(){document.activeElement&&document.activeElement.blur();try{this.getParentSvg().focus()}catch(t){try{this.getParentSvg().parentNode.setActive()}catch(e){this.getParentSvg().parentNode.focus()}}},t.WorkspaceSvg.prototype.zoom=function(t,e,i){if(!this.isFlyout&&!this.isMutator){i=Math.pow(this.options.zoomOptions.scaleSpeed,i);var n=this.scale*i;if(this.scale!=n){n>this.options.zoomOptions.maxScale?i=this.options.zoomOptions.maxScale/this.scale:n<this.options.zoomOptions.minScale&&(i=this.options.zoomOptions.minScale/this.scale);var o=this.getCanvas().getCTM(),s=this.getParentSvg().createSVGPoint();s.x=t,s.y=e,s=s.matrixTransform(o.inverse()),t=s.x,e=s.y,o=o.translate(t*(1-i),e*(1-i)).scale(i),this.scrollX=o.e,this.scrollY=o.f,this.setScale(n)}}},t.WorkspaceSvg.prototype.zoomCenter=function(t){var e=this.getMetrics();if(this.flyout_){var i=e.svgWidth/2;e=e.svgHeight/2}else i=e.viewWidth/2+e.absoluteLeft,e=e.viewHeight/2+e.absoluteTop;this.zoom(i,e,t)},t.WorkspaceSvg.prototype.zoomToFit=function(){if(this.isMovable()){var t=this.getMetrics(),e=t.viewWidth;t=t.viewHeight;var i=this.getBlocksBoundingBox(),n=i.right-i.left;i=i.bottom-i.top,n&&(this.flyout_&&(this.horizontalLayout?(t+=this.flyout_.height_,i+=this.flyout_.height_/this.scale):(e+=this.flyout_.getWidth(),n+=this.flyout_.getWidth()/this.scale)),this.setScale(Math.min(e/n,t/i)),this.scrollCenter())}else console.warn("Tried to move a non-movable workspace. This could result in blocks becoming inaccessible.")},t.WorkspaceSvg.prototype.beginCanvasTransition=function(){t.utils.dom.addClass(this.svgBlockCanvas_,"blocklyCanvasTransitioning"),t.utils.dom.addClass(this.svgBubbleCanvas_,"blocklyCanvasTransitioning")},t.WorkspaceSvg.prototype.endCanvasTransition=function(){t.utils.dom.removeClass(this.svgBlockCanvas_,"blocklyCanvasTransitioning"),t.utils.dom.removeClass(this.svgBubbleCanvas_,"blocklyCanvasTransitioning")},t.WorkspaceSvg.prototype.scrollCenter=function(){if(this.isMovable()){var t=this.getMetrics(),e=(t.contentWidth-t.viewWidth)/2,i=(t.contentHeight-t.viewHeight)/2;e=-e-t.contentLeft,i=-i-t.contentTop,this.scroll(e,i)}else console.warn("Tried to move a non-movable workspace. This could result in blocks becoming inaccessible.")},t.WorkspaceSvg.prototype.centerOnBlock=function(e){if(this.isMovable()){if(e=this.getBlockById(e)){var i=e.getRelativeToSurfaceXY(),n=e.getHeightWidth(),o=this.scale;e=(i.x+(this.RTL?-1:1)*n.width/2)*o,i=(i.y+n.height/2)*o,n=this.getMetrics(),e=-(e-n.contentLeft-n.viewWidth/2)-n.contentLeft,i=-(i-n.contentTop-n.viewHeight/2)-n.contentTop,t.hideChaff(),this.scroll(e,i)}}else console.warn("Tried to move a non-movable workspace. This could result in blocks becoming inaccessible.")},t.WorkspaceSvg.prototype.setScale=function(e){this.options.zoomOptions.maxScale&&e>this.options.zoomOptions.maxScale?e=this.options.zoomOptions.maxScale:this.options.zoomOptions.minScale&&e<this.options.zoomOptions.minScale&&(e=this.options.zoomOptions.minScale),this.scale=e,t.hideChaff(!1),this.flyout_&&(this.flyout_.reflow(),this.recordDeleteAreas()),this.grid_&&this.grid_.update(this.scale),e=this.getMetrics(),this.scrollX-=e.absoluteLeft,this.scrollY-=e.absoluteTop,e.viewLeft+=e.absoluteLeft,e.viewTop+=e.absoluteTop,this.scroll(this.scrollX,this.scrollY),this.scrollbar&&(this.flyout_?(this.scrollbar.hScroll.resizeViewHorizontal(e),this.scrollbar.vScroll.resizeViewVertical(e)):(this.scrollbar.hScroll.resizeContentHorizontal(e),this.scrollbar.vScroll.resizeContentVertical(e)))},t.WorkspaceSvg.prototype.scroll=function(e,i){t.hideChaff(!0);var n=this.getMetrics(),o=n.contentWidth+n.contentLeft-n.viewWidth,s=n.contentHeight+n.contentTop-n.viewHeight;e=Math.min(e,-n.contentLeft),i=Math.min(i,-n.contentTop),e=Math.max(e,-o),i=Math.max(i,-s),this.scrollX=e,this.scrollY=i,this.scrollbar&&(this.scrollbar.hScroll.setHandlePosition(-(e+n.contentLeft)*this.scrollbar.hScroll.ratio_),this.scrollbar.vScroll.setHandlePosition(-(i+n.contentTop)*this.scrollbar.vScroll.ratio_)),e+=n.absoluteLeft,i+=n.absoluteTop,this.translate(e,i)},t.WorkspaceSvg.getDimensionsPx_=function(t){var e=0,i=0;return t&&(e=t.getWidth(),i=t.getHeight()),{width:e,height:i}},t.WorkspaceSvg.getContentDimensions_=function(e,i){return e.isContentBounded()?t.WorkspaceSvg.getContentDimensionsBounded_(e,i):t.WorkspaceSvg.getContentDimensionsExact_(e)},t.WorkspaceSvg.getContentDimensionsExact_=function(t){var e=t.getBlocksBoundingBox(),i=t.scale;t=e.top*i;var n=e.bottom*i,o=e.left*i;return e=e.right*i,{top:t,bottom:n,left:o,right:e,width:e-o,height:n-t}},t.WorkspaceSvg.getContentDimensionsBounded_=function(e,i){var n=t.WorkspaceSvg.getContentDimensionsExact_(e),o=i.width,s=i.height,r=o/2,a=s/2,l=Math.min(n.left-r,n.right-o),c=Math.min(n.top-a,n.bottom-s);return{left:l,top:c,height:Math.max(n.bottom+a,n.top+s)-c,width:Math.max(n.right+r,n.left+o)-l}},t.WorkspaceSvg.getTopLevelWorkspaceMetrics_=function(){var e=t.WorkspaceSvg.getDimensionsPx_(this.toolbox_),i=t.WorkspaceSvg.getDimensionsPx_(this.flyout_),n=t.svgSize(this.getParentSvg()),o={height:n.height,width:n.width};this.toolbox_?this.toolboxPosition==t.TOOLBOX_AT_TOP||this.toolboxPosition==t.TOOLBOX_AT_BOTTOM?o.height-=e.height:this.toolboxPosition!=t.TOOLBOX_AT_LEFT&&this.toolboxPosition!=t.TOOLBOX_AT_RIGHT||(o.width-=e.width):this.flyout_&&(this.toolboxPosition==t.TOOLBOX_AT_TOP||this.toolboxPosition==t.TOOLBOX_AT_BOTTOM?o.height-=i.height:this.toolboxPosition!=t.TOOLBOX_AT_LEFT&&this.toolboxPosition!=t.TOOLBOX_AT_RIGHT||(o.width-=i.width));var s=t.WorkspaceSvg.getContentDimensions_(this,o),r=0;this.toolbox_&&this.toolboxPosition==t.TOOLBOX_AT_LEFT?r=e.width:this.flyout_&&this.toolboxPosition==t.TOOLBOX_AT_LEFT&&(r=i.width);var a=0;return this.toolbox_&&this.toolboxPosition==t.TOOLBOX_AT_TOP?a=e.height:this.flyout_&&this.toolboxPosition==t.TOOLBOX_AT_TOP&&(a=i.height),{contentHeight:s.height,contentWidth:s.width,contentTop:s.top,contentLeft:s.left,viewHeight:o.height,viewWidth:o.width,viewTop:-this.scrollY,viewLeft:-this.scrollX,absoluteTop:a,absoluteLeft:r,svgHeight:n.height,svgWidth:n.width,toolboxWidth:e.width,toolboxHeight:e.height,flyoutWidth:i.width,flyoutHeight:i.height,toolboxPosition:this.toolboxPosition}},t.WorkspaceSvg.setTopLevelWorkspaceMetrics_=function(t){var e=this.getMetrics();"number"==typeof t.x&&(this.scrollX=-e.contentWidth*t.x-e.contentLeft),"number"==typeof t.y&&(this.scrollY=-e.contentHeight*t.y-e.contentTop),this.translate(this.scrollX+e.absoluteLeft,this.scrollY+e.absoluteTop)},t.WorkspaceSvg.prototype.setResizesEnabled=function(t){var e=!this.resizesEnabled_&&t;this.resizesEnabled_=t,e&&this.resizeContents()},t.WorkspaceSvg.prototype.clear=function(){this.setResizesEnabled(!1),t.WorkspaceSvg.superClass_.clear.call(this),this.setResizesEnabled(!0)},t.WorkspaceSvg.prototype.registerButtonCallback=function(t,e){if("function"!=typeof e)throw TypeError("Button callbacks must be functions.");this.flyoutButtonCallbacks_[t]=e},t.WorkspaceSvg.prototype.getButtonCallback=function(t){return(t=this.flyoutButtonCallbacks_[t])?t:null},t.WorkspaceSvg.prototype.removeButtonCallback=function(t){this.flyoutButtonCallbacks_[t]=null},t.WorkspaceSvg.prototype.registerToolboxCategoryCallback=function(t,e){if("function"!=typeof e)throw TypeError("Toolbox category callbacks must be functions.");this.toolboxCategoryCallbacks_[t]=e},t.WorkspaceSvg.prototype.getToolboxCategoryCallback=function(t){return this.toolboxCategoryCallbacks_[t]||null},t.WorkspaceSvg.prototype.removeToolboxCategoryCallback=function(t){this.toolboxCategoryCallbacks_[t]=null},t.WorkspaceSvg.prototype.getGesture=function(e){var i="mousedown"==e.type||"touchstart"==e.type||"pointerdown"==e.type,n=this.currentGesture_;return n?i&&n.hasStarted()?(console.warn("Tried to start the same gesture twice."),n.cancel(),null):n:i?this.currentGesture_=new t.TouchGesture(e,this):null},t.WorkspaceSvg.prototype.clearGesture=function(){this.currentGesture_=null},t.WorkspaceSvg.prototype.cancelCurrentGesture=function(){this.currentGesture_&&this.currentGesture_.cancel()},t.WorkspaceSvg.prototype.getAudioManager=function(){return this.audioManager_},t.WorkspaceSvg.prototype.getGrid=function(){return this.grid_},t.WorkspaceSvg.prototype.refreshTheme=function(){t.WorkspaceSvg.superClass_.refreshTheme.call(this),this.refreshToolboxSelection(),this.toolbox_&&this.toolbox_.updateColourFromTheme()},t.inject=function(e,i){if(t.checkBlockColourConstants(),"string"==typeof e&&(e=document.getElementById(e)||document.querySelector(e)),!t.utils.dom.containsNode(document,e))throw Error("Error: container is not in current document.");var n=new t.Options(i||{}),o=document.createElement("div");o.className="injectionDiv",e.appendChild(o);var s=t.createDom_(o,n),r=new t.BlockDragSurfaceSvg(o);return o=new t.WorkspaceDragSurfaceSvg(o),s=t.createMainWorkspace_(s,n,r,o),t.user.keyMap.setKeyMap(n.keyMap),t.init_(s),t.mainWorkspace=s,t.svgResize(s),s},t.createDom_=function(e,i){e.setAttribute("dir","LTR"),t.Component.defaultRightToLeft=i.RTL,t.Css.inject(i.hasCss,i.pathToMedia);var n=t.utils.dom.createSvgElement("svg",{xmlns:t.utils.dom.SVG_NS,"xmlns:html":t.utils.dom.HTML_NS,"xmlns:xlink":t.utils.dom.XLINK_NS,version:"1.1",class:"blocklySvg"},e),o=t.utils.dom.createSvgElement("defs",{},n),s=String(Math.random()).substring(2),r=t.utils.dom.createSvgElement("filter",{id:"blocklyEmbossFilter"+s},o);t.utils.dom.createSvgElement("feGaussianBlur",{in:"SourceAlpha",stdDeviation:1,result:"blur"},r);var a=t.utils.dom.createSvgElement("feSpecularLighting",{in:"blur",surfaceScale:1,specularConstant:.5,specularExponent:10,"lighting-color":"white",result:"specOut"},r);return t.utils.dom.createSvgElement("fePointLight",{x:-5e3,y:-1e4,z:2e4},a),t.utils.dom.createSvgElement("feComposite",{in:"specOut",in2:"SourceAlpha",operator:"in",result:"specOut"},r),t.utils.dom.createSvgElement("feComposite",{in:"SourceGraphic",in2:"specOut",operator:"arithmetic",k1:0,k2:1,k3:1,k4:0},r),i.embossFilterId=r.id,r=t.utils.dom.createSvgElement("pattern",{id:"blocklyDisabledPattern"+s,patternUnits:"userSpaceOnUse",width:10,height:10},o),t.utils.dom.createSvgElement("rect",{width:10,height:10,fill:"#aaa"},r),t.utils.dom.createSvgElement("path",{d:"M 0 0 L 10 10 M 10 0 L 0 10",stroke:"#cc0"},r),i.disabledPatternId=r.id,i.gridPattern=t.Grid.createDom(s,i.gridOptions,o),n},t.createMainWorkspace_=function(e,i,n,o){i.parentWorkspace=null;var s=new t.WorkspaceSvg(i,n,o);return s.scale=i.zoomOptions.startScale,e.appendChild(s.createDom("blocklyMainBackground")),!i.hasCategories&&i.languageTree&&(n=s.addFlyout_("svg"),t.utils.dom.insertAfter(n,e)),i.hasTrashcan&&s.addTrashcan(),i.zoomOptions&&i.zoomOptions.controls&&s.addZoomControls(),s.getThemeManager().subscribe(e,"workspace","background-color"),s.translate(0,0),t.mainWorkspace=s,i.readOnly||s.isMovable()||s.addChangeListener((function(e){if(!s.isDragging()&&!s.isMovable()&&-1!=t.Events.BUMP_EVENTS.indexOf(e.type)){var i=Object.create(null),n=s.getMetrics(),o=s.scale;if(i.RTL=s.RTL,i.viewLeft=n.viewLeft/o,i.viewTop=n.viewTop/o,i.viewRight=(n.viewLeft+n.viewWidth)/o,i.viewBottom=(n.viewTop+n.viewHeight)/o,s.isContentBounded()?(n=s.getBlocksBoundingBox(),i.contentLeft=n.left,i.contentTop=n.top,i.contentRight=n.right,i.contentBottom=n.bottom):(i.contentLeft=n.contentLeft/o,i.contentTop=n.contentTop/o,i.contentRight=(n.contentLeft+n.contentWidth)/o,i.contentBottom=(n.contentTop+n.contentHeight)/o),i.contentTop<i.viewTop||i.contentBottom>i.viewBottom||i.contentLeft<i.viewLeft||i.contentRight>i.viewRight){switch(n=null,e&&(n=t.Events.getGroup(),t.Events.setGroup(e.group)),e.type){case t.Events.BLOCK_CREATE:case t.Events.BLOCK_MOVE:var r=s.getBlockById(e.blockId);r=r.getRootBlock();break;case t.Events.COMMENT_CREATE:case t.Events.COMMENT_MOVE:r=s.getCommentById(e.commentId)}if(r){o=r.getBoundingRectangle(),o.height=o.bottom-o.top,o.width=o.right-o.left;var a=i.viewTop,l=i.viewBottom-o.height;l=Math.max(a,l),a=t.utils.math.clamp(a,o.top,l)-o.top,l=i.viewLeft;var c=i.viewRight-o.width;i.RTL?l=Math.min(c,l):c=Math.max(l,c),i=t.utils.math.clamp(l,o.left,c)-o.left,r.moveBy(i,a)}e&&(e.group||console.log("WARNING: Moved object in bounds but there was no event group. This may break undo."),null!==n&&t.Events.setGroup(n))}}})),t.svgResize(s),t.WidgetDiv.createDom(),t.DropDownDiv.createDom(),t.Tooltip.createDom(),s},t.init_=function(e){var i=e.options,n=e.getParentSvg();t.bindEventWithChecks_(n.parentNode,"contextmenu",null,(function(e){t.utils.isTargetInput(e)||e.preventDefault()})),n=t.bindEventWithChecks_(window,"resize",null,(function(){t.hideChaff(!0),t.svgResize(e)})),e.setResizeHandlerWrapper(n),t.inject.bindDocumentEvents_(),i.languageTree&&(e.toolbox_?e.toolbox_.init(e):e.flyout_&&(e.flyout_.init(e),e.flyout_.show(i.languageTree.childNodes),e.flyout_.scrollToStart())),n=t.Scrollbar.scrollbarThickness,i.hasTrashcan&&(n=e.trashcan.init(n)),i.zoomOptions&&i.zoomOptions.controls&&e.zoomControls_.init(n),i.moveOptions&&i.moveOptions.scrollbars?(e.scrollbar=new t.ScrollbarPair(e),e.scrollbar.resize()):e.setMetrics({x:.5,y:.5}),i.hasSounds&&t.inject.loadSounds_(i.pathToMedia,e)},t.inject.bindDocumentEvents_=function(){t.documentEventsBound_||(t.bindEventWithChecks_(document,"scroll",null,(function(){for(var e,i=t.Workspace.getAll(),n=0;e=i[n];n++)e.updateInverseScreenCTM&&e.updateInverseScreenCTM()})),t.bindEventWithChecks_(document,"keydown",null,t.onKeyDown_),t.bindEvent_(document,"touchend",null,t.longStop_),t.bindEvent_(document,"touchcancel",null,t.longStop_),t.utils.userAgent.IPAD&&t.bindEventWithChecks_(window,"orientationchange",document,(function(){t.svgResize(t.getMainWorkspace())}))),t.documentEventsBound_=!0},t.inject.loadSounds_=function(e,i){var n=i.getAudioManager();n.load([e+"click.mp3",e+"click.wav",e+"click.ogg"],"click"),n.load([e+"disconnect.wav",e+"disconnect.mp3",e+"disconnect.ogg"],"disconnect"),n.load([e+"delete.mp3",e+"delete.ogg",e+"delete.wav"],"delete");var o=[],s=function(){for(;o.length;)t.unbindEvent_(o.pop());n.preload()};o.push(t.bindEventWithChecks_(document,"mousemove",null,s,!0)),o.push(t.bindEventWithChecks_(document,"touchstart",null,s,!0))},t.Action=function(t,e){this.name=t,this.desc=e},t.ASTNode=function(e,i,n){if(!i)throw Error("Cannot create a node without a location.");this.type_=e,this.isConnection_=t.ASTNode.isConnectionType_(e),this.location_=i,this.processParams_(n||null)},t.ASTNode.types={FIELD:"field",BLOCK:"block",INPUT:"input",OUTPUT:"output",NEXT:"next",PREVIOUS:"previous",STACK:"stack",WORKSPACE:"workspace"},t.ASTNode.DEFAULT_OFFSET_Y=-20,t.ASTNode.isConnectionType_=function(e){switch(e){case t.ASTNode.types.PREVIOUS:case t.ASTNode.types.NEXT:case t.ASTNode.types.INPUT:case t.ASTNode.types.OUTPUT:return!0}return!1},t.ASTNode.createFieldNode=function(e){return new t.ASTNode(t.ASTNode.types.FIELD,e)},t.ASTNode.createConnectionNode=function(e){return e?e.type==t.INPUT_VALUE||e.type==t.NEXT_STATEMENT&&e.getParentInput()?t.ASTNode.createInputNode(e.getParentInput()):e.type==t.NEXT_STATEMENT?new t.ASTNode(t.ASTNode.types.NEXT,e):e.type==t.OUTPUT_VALUE?new t.ASTNode(t.ASTNode.types.OUTPUT,e):e.type==t.PREVIOUS_STATEMENT?new t.ASTNode(t.ASTNode.types.PREVIOUS,e):null:null},t.ASTNode.createInputNode=function(e){return e?new t.ASTNode(t.ASTNode.types.INPUT,e.connection):null},t.ASTNode.createBlockNode=function(e){return new t.ASTNode(t.ASTNode.types.BLOCK,e)},t.ASTNode.createStackNode=function(e){return new t.ASTNode(t.ASTNode.types.STACK,e)},t.ASTNode.createWorkspaceNode=function(e,i){return new t.ASTNode(t.ASTNode.types.WORKSPACE,e,{wsCoordinate:i})},t.ASTNode.prototype.processParams_=function(t){t&&t.wsCoordinate&&(this.wsCoordinate_=t.wsCoordinate)},t.ASTNode.prototype.getLocation=function(){return this.location_},t.ASTNode.prototype.getType=function(){return this.type_},t.ASTNode.prototype.getWsCoordinate=function(){return this.wsCoordinate_},t.ASTNode.prototype.isConnection=function(){return this.isConnection_},t.ASTNode.prototype.findPreviousEditableField_=function(e,i,n){for(i=i.fieldRow,e=i.indexOf(e),n=(n?i.length:e)-1;e=i[n];n--)if(e.EDITABLE)return i=e,t.ASTNode.createFieldNode(i);return null},t.ASTNode.prototype.findNextForInput_=function(){var e,i=this.location_.getParentInput(),n=i.getSourceBlock();for(i=n.inputList.indexOf(i)+1;e=n.inputList[i];i++){for(var o,s=e.fieldRow,r=0;o=s[r];r++)if(o.EDITABLE)return t.ASTNode.createFieldNode(o);if(e.connection)return t.ASTNode.createInputNode(e)}return null},t.ASTNode.prototype.findNextForField_=function(){var e=this.location_,i=e.getParentInput(),n=e.getSourceBlock(),o=n.inputList.indexOf(i);for(e=i.fieldRow.indexOf(e)+1;i=n.inputList[o];o++){for(var s=i.fieldRow;e<s.length;){if(s[e].EDITABLE)return t.ASTNode.createFieldNode(s[e]);e++}if(e=0,i.connection)return t.ASTNode.createInputNode(i)}return null},t.ASTNode.prototype.findPrevForInput_=function(){for(var e,i=this.location_.getParentInput(),n=i.getSourceBlock(),o=n.inputList.indexOf(i);e=n.inputList[o];o--){if(e.connection&&e!==i)return t.ASTNode.createInputNode(e);e=e.fieldRow;for(var s,r=e.length-1;s=e[r];r--)if(s.EDITABLE)return t.ASTNode.createFieldNode(s)}return null},t.ASTNode.prototype.findPrevForField_=function(){var e,i=this.location_,n=i.getParentInput(),o=i.getSourceBlock(),s=o.inputList.indexOf(n);for(i=n.fieldRow.indexOf(i)-1;e=o.inputList[s];s--){if(e.connection&&e!==n)return t.ASTNode.createInputNode(e);for(e=e.fieldRow;-1<i;){if(e[i].EDITABLE)return t.ASTNode.createFieldNode(e[i]);i--}0<=s-1&&(i=o.inputList[s-1].fieldRow.length-1)}return null},t.ASTNode.prototype.navigateBetweenStacks_=function(e){var i=this.getLocation();if(i instanceof t.Block||(i=i.getSourceBlock()),!i||!i.workspace)return null;var n=i.getRootBlock();i=n.workspace.getTopBlocks(!0);for(var o,s=0;o=i[s];s++)if(n.id==o.id)return e=s+(e?1:-1),-1==e||e==i.length?null:t.ASTNode.createStackNode(i[e]);throw Error("Couldn't find "+(e?"next":"previous")+" stack?!")},t.ASTNode.prototype.findTopASTNodeForBlock_=function(e){var i=e.previousConnection||e.outputConnection;return i?t.ASTNode.createConnectionNode(i):t.ASTNode.createBlockNode(e)},t.ASTNode.prototype.getOutAstNodeForBlock_=function(e){if(!e)return null;e=e.getTopStackBlock();var i=e.previousConnection||e.outputConnection;return i&&i.targetConnection&&i.targetConnection.getParentInput()?t.ASTNode.createInputNode(i.targetConnection.getParentInput()):t.ASTNode.createStackNode(e)},t.ASTNode.prototype.findFirstFieldOrInput_=function(e){e=e.inputList;for(var i,n=0;i=e[n];n++){for(var o,s=i.fieldRow,r=0;o=s[r];r++)if(o.EDITABLE)return t.ASTNode.createFieldNode(o);if(i.connection)return t.ASTNode.createInputNode(i)}return null},t.ASTNode.prototype.next=function(){switch(this.type_){case t.ASTNode.types.STACK:return this.navigateBetweenStacks_(!0);case t.ASTNode.types.OUTPUT:return t.ASTNode.createBlockNode(this.location_.getSourceBlock());case t.ASTNode.types.FIELD:return this.findNextForField_();case t.ASTNode.types.INPUT:return this.findNextForInput_();case t.ASTNode.types.BLOCK:var e=this.location_.nextConnection;if(e)return t.ASTNode.createConnectionNode(e);break;case t.ASTNode.types.PREVIOUS:return t.ASTNode.createBlockNode(this.location_.getSourceBlock());case t.ASTNode.types.NEXT:if(e=this.location_.targetConnection)return t.ASTNode.createConnectionNode(e)}return null},t.ASTNode.prototype["in"]=function(){switch(this.type_){case t.ASTNode.types.WORKSPACE:var e=this.location_.getTopBlocks(!0);if(0<e.length)return t.ASTNode.createStackNode(e[0]);break;case t.ASTNode.types.STACK:return this.findTopASTNodeForBlock_(this.location_);case t.ASTNode.types.BLOCK:return this.findFirstFieldOrInput_(this.location_);case t.ASTNode.types.INPUT:if(e=this.location_.targetConnection)return t.ASTNode.createConnectionNode(e)}return null},t.ASTNode.prototype.prev=function(){switch(this.type_){case t.ASTNode.types.STACK:return this.navigateBetweenStacks_(!1);case t.ASTNode.types.FIELD:return this.findPrevForField_();case t.ASTNode.types.INPUT:return this.findPrevForInput_();case t.ASTNode.types.BLOCK:var e=this.location_.outputConnection;if(e=this.location_.previousConnection||e)return t.ASTNode.createConnectionNode(e);break;case t.ASTNode.types.PREVIOUS:if((e=this.location_.targetConnection)&&!e.getParentInput())return t.ASTNode.createConnectionNode(e);break;case t.ASTNode.types.NEXT:return t.ASTNode.createBlockNode(this.location_.getSourceBlock())}return null},t.ASTNode.prototype.out=function(){switch(this.type_){case t.ASTNode.types.STACK:var e=this.location_.getRelativeToSurfaceXY();return e=new t.utils.Coordinate(e.x,e.y+t.ASTNode.DEFAULT_OFFSET_Y),t.ASTNode.createWorkspaceNode(this.location_.workspace,e);case t.ASTNode.types.OUTPUT:return(e=this.location_.targetConnection)?t.ASTNode.createConnectionNode(e):t.ASTNode.createStackNode(this.location_.getSourceBlock());case t.ASTNode.types.FIELD:return t.ASTNode.createBlockNode(this.location_.getSourceBlock());case t.ASTNode.types.INPUT:return t.ASTNode.createBlockNode(this.location_.getSourceBlock());case t.ASTNode.types.BLOCK:return this.getOutAstNodeForBlock_(this.location_);case t.ASTNode.types.PREVIOUS:return this.getOutAstNodeForBlock_(this.location_.getSourceBlock());case t.ASTNode.types.NEXT:return this.getOutAstNodeForBlock_(this.location_.getSourceBlock())}return null},t.utils.KeyCodes={WIN_KEY_FF_LINUX:0,MAC_ENTER:3,BACKSPACE:8,TAB:9,NUM_CENTER:12,ENTER:13,SHIFT:16,CTRL:17,ALT:18,PAUSE:19,CAPS_LOCK:20,ESC:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,PLUS_SIGN:43,PRINT_SCREEN:44,INSERT:45,DELETE:46,ZERO:48,ONE:49,TWO:50,THREE:51,FOUR:52,FIVE:53,SIX:54,SEVEN:55,EIGHT:56,NINE:57,FF_SEMICOLON:59,FF_EQUALS:61,FF_DASH:173,FF_HASH:163,QUESTION_MARK:63,AT_SIGN:64,A:65,B:66,C:67,D:68,E:69,F:70,G:71,H:72,I:73,J:74,K:75,L:76,M:77,N:78,O:79,P:80,Q:81,R:82,S:83,T:84,U:85,V:86,W:87,X:88,Y:89,Z:90,META:91,WIN_KEY_RIGHT:92,CONTEXT_MENU:93,NUM_ZERO:96,NUM_ONE:97,NUM_TWO:98,NUM_THREE:99,NUM_FOUR:100,NUM_FIVE:101,NUM_SIX:102,NUM_SEVEN:103,NUM_EIGHT:104,NUM_NINE:105,NUM_MULTIPLY:106,NUM_PLUS:107,NUM_MINUS:109,NUM_PERIOD:110,NUM_DIVISION:111,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,NUMLOCK:144,SCROLL_LOCK:145,FIRST_MEDIA_KEY:166,LAST_MEDIA_KEY:183,SEMICOLON:186,DASH:189,EQUALS:187,COMMA:188,PERIOD:190,SLASH:191,APOSTROPHE:192,TILDE:192,SINGLE_QUOTE:222,OPEN_SQUARE_BRACKET:219,BACKSLASH:220,CLOSE_SQUARE_BRACKET:221,WIN_KEY:224,MAC_FF_META:224,MAC_WK_CMD_LEFT:91,MAC_WK_CMD_RIGHT:93,WIN_IME:229,VK_NONAME:252,PHANTOM:255},t.user={},t.user.keyMap={},t.user.keyMap.map_={},t.user.keyMap.modifierKeys={SHIFT:"Shift",CONTROL:"Control",ALT:"Alt",META:"Meta"},t.user.keyMap.setActionForKey=function(e,i){var n=t.user.keyMap.getKeyByAction(i);n&&delete t.user.keyMap.map_[n],t.user.keyMap.map_[e]=i},t.user.keyMap.setKeyMap=function(e){t.user.keyMap.map_=e},t.user.keyMap.getKeyMap=function(){var e={};return t.utils.object.mixin(e,t.user.keyMap.map_),e},t.user.keyMap.getActionByKeyCode=function(e){return t.user.keyMap.map_[e]},t.user.keyMap.getKeyByAction=function(e){for(var i,n=Object.keys(t.user.keyMap.map_),o=0;i=n[o];o++)if(t.user.keyMap.map_[i].name===e.name)return i;return null},t.user.keyMap.serializeKeyEvent=function(e){for(var i,n=t.utils.object.values(t.user.keyMap.modifierKeys),o="",s=0;i=n[s];s++)e.getModifierState(i)&&(o+=i);return o+e.keyCode},t.user.keyMap.createSerializedKey=function(e,i){for(var n,o="",s=t.utils.object.values(t.user.keyMap.modifierKeys),r=0;n=i[r];r++){if(!(-1<s.indexOf(n)))throw Error(n+" is not a valid modifier key.");o+=n}return o+e},t.user.keyMap.createDefaultKeyMap=function(){var e={},i=t.user.keyMap.createSerializedKey(t.utils.KeyCodes.K,[t.user.keyMap.modifierKeys.CONTROL]);return e[t.utils.KeyCodes.W]=t.navigation.ACTION_PREVIOUS,e[t.utils.KeyCodes.A]=t.navigation.ACTION_OUT,e[t.utils.KeyCodes.S]=t.navigation.ACTION_NEXT,e[t.utils.KeyCodes.D]=t.navigation.ACTION_IN,e[t.utils.KeyCodes.I]=t.navigation.ACTION_INSERT,e[t.utils.KeyCodes.ENTER]=t.navigation.ACTION_MARK,e[t.utils.KeyCodes.X]=t.navigation.ACTION_DISCONNECT,e[t.utils.KeyCodes.T]=t.navigation.ACTION_TOOLBOX,e[t.utils.KeyCodes.E]=t.navigation.ACTION_EXIT,e[t.utils.KeyCodes.ESC]=t.navigation.ACTION_EXIT,e[i]=t.navigation.ACTION_TOGGLE_KEYBOARD_NAV,e},t.navigation={},t.navigation.loggingCallback=null,t.navigation.STATE_FLYOUT=1,t.navigation.STATE_WS=2,t.navigation.STATE_TOOLBOX=3,t.navigation.currentState_=t.navigation.STATE_WS,t.navigation.actionNames={PREVIOUS:"previous",NEXT:"next",IN:"in",OUT:"out",INSERT:"insert",MARK:"mark",DISCONNECT:"disconnect",TOOLBOX:"toolbox",EXIT:"exit",TOGGLE_KEYBOARD_NAV:"toggle_keyboard_nav"},t.navigation.focusToolbox_=function(){var e=t.getMainWorkspace(),i=e.getToolbox();i&&(t.navigation.currentState_=t.navigation.STATE_TOOLBOX,t.navigation.resetFlyout_(!1),e.getMarker().getCurNode()||t.navigation.markAtCursor_(),i.selectFirstCategory())},t.navigation.focusFlyout_=function(){t.navigation.currentState_=t.navigation.STATE_FLYOUT;var e=t.getMainWorkspace(),i=e.getToolbox();i=i?i.flyout_:e.getFlyout(),e.getMarker().getCurNode()||t.navigation.markAtCursor_(),i&&i.getWorkspace()&&(e=i.getWorkspace().getTopBlocks(!0),0<e.length&&(e=e[0],e=t.ASTNode.createStackNode(e),t.navigation.getFlyoutCursor_().setCurNode(e)))},t.navigation.focusWorkspace_=function(){t.hideChaff();var e=t.getMainWorkspace(),i=e.getCursor(),n=!!e.getToolbox(),o=e.getTopBlocks(!0);t.navigation.resetFlyout_(n),t.navigation.currentState_=t.navigation.STATE_WS,0<o.length?i.setCurNode(t.navigation.getTopNode(o[0])):(n=new t.utils.Coordinate(100,100),e=t.ASTNode.createWorkspaceNode(e,n),i.setCurNode(e))},t.navigation.getFlyoutCursor_=function(){var e=t.getMainWorkspace(),i=null;return e.rendered&&(i=(e=(i=e.getToolbox())?i.flyout_:e.getFlyout())?e.workspace_.getCursor():null),i},t.navigation.insertFromFlyout=function(){var e=t.getMainWorkspace(),i=e.getFlyout();if(i&&i.isVisible()){var n=t.navigation.getFlyoutCursor_().getCurNode().getLocation();n.isEnabled()?(i=i.createBlock(n),i.render(),i.setConnectionsHidden(!1),e.getCursor().setCurNode(t.ASTNode.createBlockNode(i)),t.navigation.modify_()||t.navigation.warn_("Something went wrong while inserting a block from the flyout."),t.navigation.focusWorkspace_(),e.getCursor().setCurNode(t.navigation.getTopNode(i)),t.navigation.removeMark_()):t.navigation.warn_("Can't insert a disabled block.")}else t.navigation.warn_("Trying to insert from the flyout when the flyout does not  exist or is not visible")},t.navigation.resetFlyout_=function(e){t.navigation.getFlyoutCursor_()&&(t.navigation.getFlyoutCursor_().hide(),e&&t.getMainWorkspace().getFlyout().hide())},t.navigation.modifyWarn_=function(){var e=t.getMainWorkspace().getMarker().getCurNode(),i=t.getMainWorkspace().getCursor().getCurNode();return e?i?(e=e.getType(),i=i.getType(),e==t.ASTNode.types.FIELD?(t.navigation.warn_("Should not have been able to mark a field."),!1):e==t.ASTNode.types.BLOCK?(t.navigation.warn_("Should not have been able to mark a block."),!1):e==t.ASTNode.types.STACK?(t.navigation.warn_("Should not have been able to mark a stack."),!1):i==t.ASTNode.types.FIELD?(t.navigation.warn_("Cannot attach a field to anything else."),!1):i!=t.ASTNode.types.WORKSPACE||(t.navigation.warn_("Cannot attach a workspace to anything else."),!1)):(t.navigation.warn_("Cannot insert with no cursor node."),!1):(t.navigation.warn_("Cannot insert with no marked node."),!1)},t.navigation.moveBlockToWorkspace_=function(e,i){return e.isShadow()?(t.navigation.warn_("Cannot move a shadow block to the workspace."),!1):(e.getParent()&&e.unplug(!1),e.moveTo(i.getWsCoordinate()),!0)},t.navigation.modify_=function(){var e=t.getMainWorkspace().getMarker().getCurNode(),i=t.getMainWorkspace().getCursor().getCurNode();if(!t.navigation.modifyWarn_())return!1;var n=e.getType(),o=i.getType(),s=i.getLocation(),r=e.getLocation();return e.isConnection()&&i.isConnection()?t.navigation.connect_(s,r):!e.isConnection()||o!=t.ASTNode.types.BLOCK&&o!=t.ASTNode.types.STACK?n==t.ASTNode.types.WORKSPACE?(i=t.navigation.getSourceBlock_(i),t.navigation.moveBlockToWorkspace_(i,e)):(t.navigation.warn_("Unexpected state in Blockly.navigation.modify_."),!1):t.navigation.insertBlock(s,r)},t.navigation.disconnectChild_=function(e,i){var n=e.getSourceBlock(),o=i.getSourceBlock();n.getRootBlock()==o.getRootBlock()&&(-1<n.getDescendants(!1).indexOf(o)?t.navigation.getInferiorConnection_(i).disconnect():t.navigation.getInferiorConnection_(e).disconnect())},t.navigation.moveAndConnect_=function(e,i){if(!e||!i)return!1;var n=e.getSourceBlock();return i.canConnectWithReason_(e)==t.Connection.CAN_CONNECT&&(t.navigation.disconnectChild_(e,i),i.isSuperior()||n.getRootBlock().positionNearConnection(e,i),i.connect(e),!0)},t.navigation.getInferiorConnection_=function(t){var e=t.getSourceBlock();return t.isSuperior()?e.previousConnection?e.previousConnection:e.outputConnection?e.outputConnection:null:t},t.navigation.getSuperiorConnection_=function(t){return t.isSuperior()?t:t.targetConnection?t.targetConnection:null},t.navigation.connect_=function(e,i){if(!e||!i)return!1;var n=t.navigation.getInferiorConnection_(e),o=t.navigation.getSuperiorConnection_(i),s=t.navigation.getSuperiorConnection_(e),r=t.navigation.getInferiorConnection_(i);if(n&&o&&t.navigation.moveAndConnect_(n,o)||s&&r&&t.navigation.moveAndConnect_(s,r)||t.navigation.moveAndConnect_(e,i))return!0;try{i.checkConnection_(e)}catch(a){t.navigation.warn_("Connection failed with error: "+a)}return!1},t.navigation.insertBlock=function(e,i){switch(i.type){case t.PREVIOUS_STATEMENT:if(t.navigation.connect_(e.nextConnection,i))return!0;break;case t.NEXT_STATEMENT:if(t.navigation.connect_(e.previousConnection,i))return!0;break;case t.INPUT_VALUE:if(t.navigation.connect_(e.outputConnection,i))return!0;break;case t.OUTPUT_VALUE:for(var n=0;n<e.inputList.length;n++){var o=e.inputList[n].connection;if(o&&o.type===t.INPUT_VALUE&&t.navigation.connect_(o,i))return!0}if(e.outputConnection&&t.navigation.connect_(e.outputConnection,i))return!0}return t.navigation.warn_("This block can not be inserted at the marked location."),!1},t.navigation.disconnectBlocks_=function(){var e=t.getMainWorkspace(),i=e.getCursor().getCurNode();if(i.isConnection()){var n=i.getLocation();n.isConnected()?(i=n.isSuperior()?n:n.targetConnection,n=n.isSuperior()?n.targetConnection:n,n.getSourceBlock().isShadow()?t.navigation.log_("Cannot disconnect a shadow block"):(i.disconnect(),n.bumpAwayFrom_(i),i.getSourceBlock().getRootBlock().bringToFront(),i=t.ASTNode.createConnectionNode(i),e.getCursor().setCurNode(i))):t.navigation.log_("Cannot disconnect unconnected connection")}else t.navigation.log_("Cannot disconnect blocks when the cursor is not on a connection")},t.navigation.markAtCursor_=function(){var e=t.getMainWorkspace();e.getMarker().setCurNode(e.getCursor().getCurNode())},t.navigation.removeMark_=function(){var e=t.getMainWorkspace();e.getMarker().setCurNode(null),e.getMarker().hide()},t.navigation.setState=function(e){t.navigation.currentState_=e},t.navigation.getSourceBlock_=function(e){return e?e.getType()===t.ASTNode.types.BLOCK?e.getLocation():e.getType()===t.ASTNode.types.STACK?e.getLocation():e.getType()===t.ASTNode.types.WORKSPACE?null:e.getLocation().getSourceBlock():null},t.navigation.getTopNode=function(e){var i=e.previousConnection||e.outputConnection;return i?t.ASTNode.createConnectionNode(i):t.ASTNode.createBlockNode(e)},t.navigation.moveCursorOnBlockDelete=function(e){var i=t.getMainWorkspace();if(i&&(i=i.getCursor())){var n=i.getCurNode();n=t.navigation.getSourceBlock_(n),n===e?n.getParent()?(e=n.previousConnection||n.outputConnection)&&i.setCurNode(t.ASTNode.createConnectionNode(e.targetConnection)):i.setCurNode(t.ASTNode.createWorkspaceNode(n.workspace,n.getRelativeToSurfaceXY())):-1<e.getChildren(!1).indexOf(n)&&i.setCurNode(t.ASTNode.createWorkspaceNode(n.workspace,n.getRelativeToSurfaceXY()))}},t.navigation.moveCursorOnBlockMutation=function(e){var i=t.getMainWorkspace().getCursor();if(i){var n=i.getCurNode();n=t.navigation.getSourceBlock_(n),n===e&&i.setCurNode(t.ASTNode.createBlockNode(n))}},t.navigation.enableKeyboardAccessibility=function(){t.keyboardAccessibilityMode||(t.keyboardAccessibilityMode=!0,t.navigation.focusWorkspace_())},t.navigation.disableKeyboardAccessibility=function(){if(t.keyboardAccessibilityMode){var e=t.getMainWorkspace();t.keyboardAccessibilityMode=!1,e.getCursor().hide(),e.getMarker().hide(),t.navigation.getFlyoutCursor_()&&t.navigation.getFlyoutCursor_().hide()}},t.navigation.log_=function(e){t.navigation.loggingCallback?t.navigation.loggingCallback("log",e):console.log(e)},t.navigation.warn_=function(e){t.navigation.loggingCallback?t.navigation.loggingCallback("warn",e):console.warn(e)},t.navigation.error_=function(e){t.navigation.loggingCallback?t.navigation.loggingCallback("error",e):console.error(e)},t.navigation.onKeyPress=function(e){return e=t.user.keyMap.serializeKeyEvent(e),!!(e=t.user.keyMap.getActionByKeyCode(e))&&t.navigation.onBlocklyAction(e)},t.navigation.onBlocklyAction=function(e){var i=t.getMainWorkspace().options.readOnly,n=!1;return t.keyboardAccessibilityMode?i?-1<t.navigation.READONLY_ACTION_LIST.indexOf(e)&&(n=t.navigation.handleActions_(e)):n=t.navigation.handleActions_(e):e.name===t.navigation.actionNames.TOGGLE_KEYBOARD_NAV&&(t.navigation.enableKeyboardAccessibility(),n=!0),n},t.navigation.handleActions_=function(e){var i=t.getMainWorkspace();if(e.name===t.navigation.actionNames.TOGGLE_KEYBOARD_NAV)return t.navigation.disableKeyboardAccessibility(),!0;if(e.name===t.navigation.actionNames.TOOLBOX)return i.getToolbox()?t.navigation.focusToolbox_():t.navigation.focusFlyout_(),!0;if(t.navigation.currentState_===t.navigation.STATE_WS){i=i.getCursor().getCurNode();var n=!1;return i&&i.getType()===t.ASTNode.types.FIELD&&(n=i.getLocation().onBlocklyAction(e)),n||(n=t.navigation.workspaceOnAction_(e)),n}return t.navigation.currentState_===t.navigation.STATE_FLYOUT?t.navigation.flyoutOnAction_(e):t.navigation.currentState_===t.navigation.STATE_TOOLBOX&&t.navigation.toolboxOnAction_(e)},t.navigation.workspaceOnAction_=function(e){var i=t.getMainWorkspace();switch(e.name){case t.navigation.actionNames.PREVIOUS:return i.getCursor().prev(),!0;case t.navigation.actionNames.OUT:return i.getCursor().out(),!0;case t.navigation.actionNames.NEXT:return i.getCursor().next(),!0;case t.navigation.actionNames.IN:return i.getCursor()["in"](),!0;case t.navigation.actionNames.INSERT:return t.navigation.modify_(),!0;case t.navigation.actionNames.MARK:return t.navigation.handleEnterForWS_(),!0;case t.navigation.actionNames.DISCONNECT:return t.navigation.disconnectBlocks_(),!0;default:return!1}},t.navigation.flyoutOnAction_=function(e){switch(e.name){case t.navigation.actionNames.PREVIOUS:return t.navigation.getFlyoutCursor_().prev(),!0;case t.navigation.actionNames.OUT:return t.navigation.focusToolbox_(),!0;case t.navigation.actionNames.NEXT:return t.navigation.getFlyoutCursor_().next(),!0;case t.navigation.actionNames.MARK:return t.navigation.insertFromFlyout(),!0;case t.navigation.actionNames.EXIT:return t.navigation.focusWorkspace_(),!0;default:return!1}},t.navigation.toolboxOnAction_=function(e){if(e.name===t.navigation.actionNames.EXIT)return t.navigation.focusWorkspace_(),!0;var i=t.getMainWorkspace().getToolbox().onBlocklyAction(e);return i||e.name!==t.navigation.actionNames.IN?i:(t.navigation.focusFlyout_(),!0)},t.navigation.handleEnterForWS_=function(){var e=t.getMainWorkspace().getCursor().getCurNode(),i=e.getType();i==t.ASTNode.types.FIELD?e.getLocation().showEditor_():e.isConnection()||i==t.ASTNode.types.WORKSPACE?t.navigation.markAtCursor_():i==t.ASTNode.types.BLOCK?t.navigation.warn_("Cannot mark a block."):i==t.ASTNode.types.STACK&&t.navigation.warn_("Cannot mark a stack.")},t.navigation.ACTION_PREVIOUS=new t.Action(t.navigation.actionNames.PREVIOUS,"Go to the previous location."),t.navigation.ACTION_OUT=new t.Action(t.navigation.actionNames.OUT,"Go to the parent of the current location."),t.navigation.ACTION_NEXT=new t.Action(t.navigation.actionNames.NEXT,"Go to the next location."),t.navigation.ACTION_IN=new t.Action(t.navigation.actionNames.IN,"Go to the first child of the current location."),t.navigation.ACTION_INSERT=new t.Action(t.navigation.actionNames.INSERT,"Connect the current location to the marked location."),t.navigation.ACTION_MARK=new t.Action(t.navigation.actionNames.MARK,"Mark the current location."),t.navigation.ACTION_DISCONNECT=new t.Action(t.navigation.actionNames.DISCONNECT,"Dicsonnect the block at thecurrent location from its parent."),t.navigation.ACTION_TOOLBOX=new t.Action(t.navigation.actionNames.TOOLBOX,"Open the toolbox."),t.navigation.ACTION_EXIT=new t.Action(t.navigation.actionNames.EXIT,"Close the current modal, such as a toolbox or field editor."),t.navigation.ACTION_TOGGLE_KEYBOARD_NAV=new t.Action(t.navigation.actionNames.TOGGLE_KEYBOARD_NAV,"Turns on and off keyboard navigation."),t.navigation.READONLY_ACTION_LIST=[t.navigation.ACTION_PREVIOUS,t.navigation.ACTION_OUT,t.navigation.ACTION_IN,t.navigation.ACTION_NEXT,t.navigation.ACTION_TOGGLE_KEYBOARD_NAV],t.Names=function(t,e){if(this.variablePrefix_=e||"",this.reservedDict_=Object.create(null),t)for(var i=t.split(","),n=0;n<i.length;n++)this.reservedDict_[i[n]]=!0;this.reset()},t.Names.DEVELOPER_VARIABLE_TYPE="DEVELOPER_VARIABLE",t.Names.prototype.reset=function(){this.db_=Object.create(null),this.dbReverse_=Object.create(null),this.variableMap_=null},t.Names.prototype.setVariableMap=function(t){this.variableMap_=t},t.Names.prototype.getNameForUserVariable_=function(t){return this.variableMap_?(t=this.variableMap_.getVariableById(t))?t.name:null:(console.log("Deprecated call to Blockly.Names.prototype.getName without defining a variable map. To fix, add the folowing code in your generator's init() function:\nBlockly.YourGeneratorName.variableDB_.setVariableMap(workspace.getVariableMap());"),null)},t.Names.prototype.getName=function(e,i){if(i==t.Variables.NAME_TYPE){var n=this.getNameForUserVariable_(e);n&&(e=n)}n=e.toLowerCase()+"_"+i;var o=i==t.Variables.NAME_TYPE||i==t.Names.DEVELOPER_VARIABLE_TYPE?this.variablePrefix_:"";if(n in this.db_)return o+this.db_[n];var s=this.getDistinctName(e,i);return this.db_[n]=s.substr(o.length),s},t.Names.prototype.getDistinctName=function(e,i){for(var n=this.safeName_(e),o="";this.dbReverse_[n+o]||n+o in this.reservedDict_;)o=o?o+1:2;return n+=o,this.dbReverse_[n]=!0,(i==t.Variables.NAME_TYPE||i==t.Names.DEVELOPER_VARIABLE_TYPE?this.variablePrefix_:"")+n},t.Names.prototype.safeName_=function(e){return e?(e=encodeURI(e.replace(/ /g,"_")).replace(/[^\w]/g,"_"),-1!="0123456789".indexOf(e[0])&&(e="my_"+e)):e=t.Msg.UNNAMED_KEY||"unnamed",e},t.Names.equals=function(t,e){return t.toLowerCase()==e.toLowerCase()},t.Procedures={},t.Procedures.NAME_TYPE=t.PROCEDURE_CATEGORY_NAME,t.Procedures.allProcedures=function(e){e=e.getAllBlocks(!1);for(var i=[],n=[],o=0;o<e.length;o++)if(e[o].getProcedureDef){var s=e[o].getProcedureDef();s&&(s[2]?i.push(s):n.push(s))}return n.sort(t.Procedures.procTupleComparator_),i.sort(t.Procedures.procTupleComparator_),[n,i]},t.Procedures.procTupleComparator_=function(t,e){return t[0].toLowerCase().localeCompare(e[0].toLowerCase())},t.Procedures.findLegalName=function(e,i){if(i.isInFlyout)return e;for(e=e||t.Msg.UNNAMED_KEY||"unnamed";!t.Procedures.isLegalName_(e,i.workspace,i);){var n=e.match(/^(.*?)(\d+)$/);e=n?n[1]+(parseInt(n[2],10)+1):e+"2"}return e},t.Procedures.isLegalName_=function(e,i,n){return!t.Procedures.isNameUsed(e,i,n)},t.Procedures.isNameUsed=function(e,i,n){i=i.getAllBlocks(!1);for(var o=0;o<i.length;o++)if(i[o]!=n&&i[o].getProcedureDef){var s=i[o].getProcedureDef();if(t.Names.equals(s[0],e))return!0}return!1},t.Procedures.rename=function(e){e=e.trim();var i=t.Procedures.findLegalName(e,this.getSourceBlock()),n=this.getValue();if(n!=e&&n!=i){e=this.getSourceBlock().workspace.getAllBlocks(!1);for(var o=0;o<e.length;o++)e[o].renameProcedure&&e[o].renameProcedure(n,i)}return i},t.Procedures.flyoutCategory=function(e){function i(e,i){for(var o=0;o<e.length;o++){var s=e[o][0],r=e[o][1],a=t.utils.xml.createElement("block");a.setAttribute("type",i),a.setAttribute("gap",16);var l=t.utils.xml.createElement("mutation");for(l.setAttribute("name",s),a.appendChild(l),s=0;s<r.length;s++){var c=t.utils.xml.createElement("arg");c.setAttribute("name",r[s]),l.appendChild(c)}n.push(a)}}var n=[];if(t.Blocks.procedures_defnoreturn){var o=t.utils.xml.createElement("block");o.setAttribute("type","procedures_defnoreturn"),o.setAttribute("gap",16);var s=t.utils.xml.createElement("field");s.setAttribute("name","NAME"),s.appendChild(t.utils.xml.createTextNode(t.Msg.PROCEDURES_DEFNORETURN_PROCEDURE)),o.appendChild(s),n.push(o)}return t.Blocks.procedures_defreturn&&(o=t.utils.xml.createElement("block"),o.setAttribute("type","procedures_defreturn"),o.setAttribute("gap",16),s=t.utils.xml.createElement("field"),s.setAttribute("name","NAME"),s.appendChild(t.utils.xml.createTextNode(t.Msg.PROCEDURES_DEFRETURN_PROCEDURE)),o.appendChild(s),n.push(o)),t.Blocks.procedures_ifreturn&&(o=t.utils.xml.createElement("block"),o.setAttribute("type","procedures_ifreturn"),o.setAttribute("gap",16),n.push(o)),n.length&&n[n.length-1].setAttribute("gap",24),e=t.Procedures.allProcedures(e),i(e[0],"procedures_callnoreturn"),i(e[1],"procedures_callreturn"),n},t.Procedures.getCallers=function(e,i){for(var n=[],o=i.getAllBlocks(!1),s=0;s<o.length;s++)if(o[s].getProcedureCall){var r=o[s].getProcedureCall();r&&t.Names.equals(r,e)&&n.push(o[s])}return n},t.Procedures.mutateCallers=function(e){var i,n=t.Events.recordUndo,o=e.getProcedureDef()[0],s=e.mutationToDom(!0);for(e=t.Procedures.getCallers(o,e.workspace),o=0;i=e[o];o++){var r=i.mutationToDom();r=r&&t.Xml.domToText(r),i.domToMutation(s);var a=i.mutationToDom();a=a&&t.Xml.domToText(a),r!=a&&(t.Events.recordUndo=!1,t.Events.fire(new t.Events.BlockChange(i,"mutation",null,r,a)),t.Events.recordUndo=n)}},t.Procedures.getDefinition=function(e,i){for(var n=i.getTopBlocks(!1),o=0;o<n.length;o++)if(n[o].getProcedureDef){var s=n[o].getProcedureDef();if(s&&t.Names.equals(s[0],e))return n[o]}return null},t.VariableModel=function(e,i,n,o){this.workspace=e,this.name=i,this.type=n||"",this.id_=o||t.utils.genUid(),t.Events.fire(new t.Events.VarCreate(this))},t.VariableModel.prototype.getId=function(){return this.id_},t.VariableModel.compareByName=function(t,e){var i=t.name.toLowerCase(),n=e.name.toLowerCase();return i<n?-1:i==n?0:1},t.Variables={},t.Variables.NAME_TYPE=t.VARIABLE_CATEGORY_NAME,t.Variables.allUsedVarModels=function(t){var e=t.getAllBlocks(!1);t=Object.create(null);for(var i=0;i<e.length;i++){var n=e[i].getVarModels();if(n)for(var o=0;o<n.length;o++){var s=n[o],r=s.getId();r&&(t[r]=s)}}for(r in e=[],t)e.push(t[r]);return e},t.Variables.allUsedVariables=function(){console.warn("Deprecated call to Blockly.Variables.allUsedVariables. Use Blockly.Variables.allUsedVarModels instead.\nIf this is a major issue please file a bug on GitHub.")},t.Variables.ALL_DEVELOPER_VARS_WARNINGS_BY_BLOCK_TYPE_={},t.Variables.allDeveloperVariables=function(e){e=e.getAllBlocks(!1);for(var i,n=Object.create(null),o=0;i=e[o];o++){var s=i.getDeveloperVariables;if(!s&&i.getDeveloperVars&&(s=i.getDeveloperVars,t.Variables.ALL_DEVELOPER_VARS_WARNINGS_BY_BLOCK_TYPE_[i.type]||(console.warn("Function getDeveloperVars() deprecated. Use getDeveloperVariables() (block type '"+i.type+"')"),t.Variables.ALL_DEVELOPER_VARS_WARNINGS_BY_BLOCK_TYPE_[i.type]=!0)),s)for(i=s(),s=0;s<i.length;s++)n[i[s]]=!0}return Object.keys(n)},t.Variables.flyoutCategory=function(e){var i=[],n=document.createElement("button");return n.setAttribute("text","%{BKY_NEW_VARIABLE}"),n.setAttribute("callbackKey","CREATE_VARIABLE"),e.registerButtonCallback("CREATE_VARIABLE",(function(e){t.Variables.createVariableButtonHandler(e.getTargetWorkspace())})),i.push(n),e=t.Variables.flyoutCategoryBlocks(e),i.concat(e)},t.Variables.flyoutCategoryBlocks=function(e){e=e.getVariablesOfType("");var i=[];if(0<e.length){var n=e[e.length-1];if(t.Blocks.variables_set){var o=t.utils.xml.createElement("block");o.setAttribute("type","variables_set"),o.setAttribute("gap",t.Blocks.math_change?8:24),o.appendChild(t.Variables.generateVariableFieldDom(n)),i.push(o)}if(t.Blocks.math_change&&(o=t.utils.xml.createElement("block"),o.setAttribute("type","math_change"),o.setAttribute("gap",t.Blocks.variables_get?20:8),o.appendChild(t.Variables.generateVariableFieldDom(n)),n=t.Xml.textToDom('<value name="DELTA"><shadow type="math_number"><field name="NUM">1</field></shadow></value>'),o.appendChild(n),i.push(o)),t.Blocks.variables_get){e.sort(t.VariableModel.compareByName),n=0;for(var s;s=e[n];n++)o=t.utils.xml.createElement("block"),o.setAttribute("type","variables_get"),o.setAttribute("gap",8),o.appendChild(t.Variables.generateVariableFieldDom(s)),i.push(o)}}return i},t.Variables.generateUniqueName=function(t){t=t.getAllVariables();var e="";if(t.length)for(var i=1,n=0,o="ijkmnopqrstuvwxyzabcdefgh".charAt(n);!e;){for(var s=!1,r=0;r<t.length;r++)if(t[r].name.toLowerCase()==o){s=!0;break}s?(n++,25==n&&(n=0,i++),o="ijkmnopqrstuvwxyzabcdefgh".charAt(n),1<i&&(o+=i)):e=o}else e="i";return e},t.Variables.createVariableButtonHandler=function(e,i,n){var o=n||"",s=function(n){t.Variables.promptName(t.Msg.NEW_VARIABLE_TITLE,n,(function(n){if(n){var r=t.Variables.nameUsedWithAnyType_(n,e);if(r){var a=n.toLowerCase();if(r.type==o)var l=t.Msg.VARIABLE_ALREADY_EXISTS.replace("%1",a);else l=t.Msg.VARIABLE_ALREADY_EXISTS_FOR_ANOTHER_TYPE,l=l.replace("%1",a).replace("%2",r.type);t.alert(l,(function(){s(n)}))}else e.createVariable(n,o),i&&i(n)}else i&&i(null)}))};s("")},t.Variables.createVariable=t.Variables.createVariableButtonHandler,t.Variables.renameVariable=function(e,i,n){var o=function(s){var r=t.Msg.RENAME_VARIABLE_TITLE.replace("%1",i.name);t.Variables.promptName(r,s,(function(s){if(s){var r=t.Variables.nameUsedWithOtherType_(s,i.type,e);r?(r=t.Msg.VARIABLE_ALREADY_EXISTS_FOR_ANOTHER_TYPE.replace("%1",s.toLowerCase()).replace("%2",r.type),t.alert(r,(function(){o(s)}))):(e.renameVariableById(i.getId(),s),n&&n(s))}else n&&n(null)}))};o("")},t.Variables.promptName=function(e,i,n){t.prompt(e,i,(function(e){e&&(e=e.replace(/[\s\xa0]+/g," ").trim(),e==t.Msg.RENAME_VARIABLE||e==t.Msg.NEW_VARIABLE)&&(e=null),n(e)}))},t.Variables.nameUsedWithOtherType_=function(t,e,i){i=i.getVariableMap().getAllVariables(),t=t.toLowerCase();for(var n,o=0;n=i[o];o++)if(n.name.toLowerCase()==t&&n.type!=e)return n;return null},t.Variables.nameUsedWithAnyType_=function(t,e){var i=e.getVariableMap().getAllVariables();t=t.toLowerCase();for(var n,o=0;n=i[o];o++)if(n.name.toLowerCase()==t)return n;return null},t.Variables.generateVariableFieldDom=function(e){var i=t.utils.xml.createElement("field");return i.setAttribute("name","VAR"),i.setAttribute("id",e.getId()),i.setAttribute("variabletype",e.type),e=t.utils.xml.createTextNode(e.name),i.appendChild(e),i},t.Variables.getOrCreateVariablePackage=function(e,i,n,o){var s=t.Variables.getVariable(e,i,n,o);return s||(s=t.Variables.createVariable_(e,i,n,o)),s},t.Variables.getVariable=function(t,e,i,n){var o=t.getPotentialVariableMap();if(e){var s=t.getVariableById(e);if(!s&&o&&(s=o.getVariableById(e)),s)return s}if(i){if(void 0==n)throw Error("Tried to look up a variable by name without a type");s=t.getVariable(i,n),!s&&o&&(s=o.getVariable(i,n))}return s},t.Variables.createVariable_=function(e,i,n,o){var s=e.getPotentialVariableMap();return n||(n=t.Variables.generateUniqueName(e.isFlyout?e.targetWorkspace:e)),s?s.createVariable(n,o,i):e.createVariable(n,o,i)},t.Variables.getAddedVariables=function(t,e){var i=t.getAllVariables(),n=[];if(e.length!=i.length)for(var o=0;o<i.length;o++){var s=i[o];-1==e.indexOf(s)&&n.push(s)}return n},t.WidgetDiv={},t.WidgetDiv.DIV=null,t.WidgetDiv.owner_=null,t.WidgetDiv.dispose_=null,t.WidgetDiv.createDom=function(){t.WidgetDiv.DIV||(t.WidgetDiv.DIV=document.createElement("div"),t.WidgetDiv.DIV.className="blocklyWidgetDiv",document.body.appendChild(t.WidgetDiv.DIV))},t.WidgetDiv.show=function(e,i,n){t.WidgetDiv.hide(),t.WidgetDiv.owner_=e,t.WidgetDiv.dispose_=n,e=t.utils.style.getViewportPageOffset(),t.WidgetDiv.DIV.style.top=e.y+"px",t.WidgetDiv.DIV.style.direction=i?"rtl":"ltr",t.WidgetDiv.DIV.style.display="block"},t.WidgetDiv.hide=function(){t.WidgetDiv.owner_&&(t.WidgetDiv.owner_=null,t.WidgetDiv.DIV.style.display="none",t.WidgetDiv.DIV.style.left="",t.WidgetDiv.DIV.style.top="",t.WidgetDiv.dispose_&&t.WidgetDiv.dispose_(),t.WidgetDiv.dispose_=null,t.WidgetDiv.DIV.innerHTML="")},t.WidgetDiv.isVisible=function(){return!!t.WidgetDiv.owner_},t.WidgetDiv.hideIfOwner=function(e){t.WidgetDiv.owner_==e&&t.WidgetDiv.hide()},t.WidgetDiv.positionInternal_=function(e,i,n){t.WidgetDiv.DIV.style.left=e+"px",t.WidgetDiv.DIV.style.top=i+"px",t.WidgetDiv.DIV.style.height=n+"px"},t.WidgetDiv.positionWithAnchor=function(e,i,n,o){var s=t.WidgetDiv.calculateY_(e,i,n);e=t.WidgetDiv.calculateX_(e,i,n,o),0>s?t.WidgetDiv.positionInternal_(e,0,n.height+s):t.WidgetDiv.positionInternal_(e,s,n.height)},t.WidgetDiv.calculateX_=function(t,e,i,n){return n?(e=Math.max(e.right-i.width,t.left),Math.min(e,t.right-i.width)):(e=Math.min(e.left,t.right-i.width),Math.max(e,t.left))},t.WidgetDiv.calculateY_=function(t,e,i){return e.bottom+i.height>=t.bottom?e.top-i.height:e.bottom},t.VERSION="3.20191014.4",t.mainWorkspace=null,t.selected=null,t.cursor=null,t.keyboardAccessibilityMode=!1,t.draggingConnections_=[],t.clipboardXml_=null,t.clipboardSource_=null,t.clipboardTypeCounts_=null,t.cache3dSupported_=null,t.svgSize=function(t){return{width:t.cachedWidth_,height:t.cachedHeight_}},t.resizeSvgContents=function(t){t.resizeContents()},t.svgResize=function(t){for(;t.options.parentWorkspace;)t=t.options.parentWorkspace;var e=t.getParentSvg(),i=e.parentNode;if(i){var n=i.offsetWidth;i=i.offsetHeight,e.cachedWidth_!=n&&(e.setAttribute("width",n+"px"),e.cachedWidth_=n),e.cachedHeight_!=i&&(e.setAttribute("height",i+"px"),e.cachedHeight_=i),t.resize()}},t.onKeyDown_=function(e){var i=t.mainWorkspace;if(!(t.utils.isTargetInput(e)||i.rendered&&!i.isVisible()))if(i.options.readOnly)t.navigation.onKeyPress(e);else{var n=!1;if(e.keyCode==t.utils.KeyCodes.ESC)t.hideChaff(),t.navigation.onBlocklyAction(t.navigation.ACTION_EXIT);else{if(t.navigation.onKeyPress(e))return;if(e.keyCode==t.utils.KeyCodes.BACKSPACE||e.keyCode==t.utils.KeyCodes.DELETE){if(e.preventDefault(),t.Gesture.inProgress())return;t.selected&&t.selected.isDeletable()&&(n=!0)}else if(e.altKey||e.ctrlKey||e.metaKey){if(t.Gesture.inProgress())return;t.selected&&t.selected.isDeletable()&&t.selected.isMovable()&&(e.keyCode==t.utils.KeyCodes.C?(t.hideChaff(),t.copy_(t.selected)):e.keyCode!=t.utils.KeyCodes.X||t.selected.workspace.isFlyout||(t.copy_(t.selected),n=!0)),e.keyCode==t.utils.KeyCodes.V?t.clipboardXml_&&(e=t.clipboardSource_,e.isFlyout&&(e=e.targetWorkspace),t.clipboardTypeCounts_&&e.isCapacityAvailable(t.clipboardTypeCounts_)&&(t.Events.setGroup(!0),e.paste(t.clipboardXml_),t.Events.setGroup(!1))):e.keyCode==t.utils.KeyCodes.Z&&(t.hideChaff(),i.undo(e.shiftKey))}}n&&!t.selected.workspace.isFlyout&&(t.Events.setGroup(!0),t.hideChaff(),t.selected.dispose(!0,!0),t.Events.setGroup(!1))}},t.copy_=function(e){if(e.isComment)var i=e.toXmlWithXY();else{i=t.Xml.blockToDom(e,!0),t.Xml.deleteNext(i);var n=e.getRelativeToSurfaceXY();i.setAttribute("x",e.RTL?-n.x:n.x),i.setAttribute("y",n.y)}t.clipboardXml_=i,t.clipboardSource_=e.workspace,t.clipboardTypeCounts_=e.isComment?null:t.utils.getBlockTypeCounts(e,!0)},t.duplicate_=function(e){var i=t.clipboardXml_,n=t.clipboardSource_;t.copy_(e),e.workspace.paste(t.clipboardXml_),t.clipboardXml_=i,t.clipboardSource_=n},t.onContextMenu_=function(e){t.utils.isTargetInput(e)||e.preventDefault()},t.hideChaff=function(e){t.Tooltip.hide(),t.WidgetDiv.hide(),t.DropDownDiv.hideWithoutAnimation(),e||(e=t.getMainWorkspace(),e.trashcan&&e.trashcan.flyout_&&e.trashcan.flyout_.hide(),e.toolbox_&&e.toolbox_.flyout_&&e.toolbox_.flyout_.autoClose&&e.toolbox_.clearSelection())},t.getMainWorkspace=function(){return t.mainWorkspace},t.alert=function(t,e){alert(t),e&&e()},t.confirm=function(t,e){e(confirm(t))},t.prompt=function(t,e,i){i(prompt(t,e))},t.jsonInitFactory_=function(t){return function(){this.jsonInit(t)}},t.defineBlocksWithJsonArray=function(e){for(var i=0;i<e.length;i++){var n=e[i];if(n){var o=n.type;null==o||""===o?console.warn("Block definition #"+i+" in JSON array is missing a type attribute. Skipping."):(t.Blocks[o]&&console.warn("Block definition #"+i+' in JSON array overwrites prior definition of "'+o+'".'),t.Blocks[o]={init:t.jsonInitFactory_(n)})}else console.warn("Block definition #"+i+" in JSON array is "+n+". Skipping.")}},t.bindEventWithChecks_=function(e,i,n,o,s,r){var a=!1,l=function(e){var i=!s;e=t.Touch.splitEventByTouches(e);for(var r,l=0;r=e[l];l++)i&&!t.Touch.shouldHandleEvent(r)||(t.Touch.setClientFromTouch(r),n?o.call(n,r):o(r),a=!0)},c=[];if(t.utils.global.PointerEvent&&i in t.Touch.TOUCH_MAP)for(var u,h=0;u=t.Touch.TOUCH_MAP[i][h];h++)e.addEventListener(u,l,!1),c.push([e,u,l]);else if(e.addEventListener(i,l,!1),c.push([e,i,l]),i in t.Touch.TOUCH_MAP){var d=function(t){l(t);var e=!r;a&&e&&t.preventDefault()};for(h=0;u=t.Touch.TOUCH_MAP[i][h];h++)e.addEventListener(u,d,!1),c.push([e,u,d])}return c},t.bindEvent_=function(e,i,n,o){var s=function(t){n?o.call(n,t):o(t)},r=[];if(t.utils.global.PointerEvent&&i in t.Touch.TOUCH_MAP)for(var a,l=0;a=t.Touch.TOUCH_MAP[i][l];l++)e.addEventListener(a,s,!1),r.push([e,a,s]);else if(e.addEventListener(i,s,!1),r.push([e,i,s]),i in t.Touch.TOUCH_MAP){var c=function(t){if(t.changedTouches&&1==t.changedTouches.length){var e=t.changedTouches[0];t.clientX=e.clientX,t.clientY=e.clientY}s(t),t.preventDefault()};for(l=0;a=t.Touch.TOUCH_MAP[i][l];l++)e.addEventListener(a,c,!1),r.push([e,a,c])}return r},t.unbindEvent_=function(t){for(;t.length;){var e=t.pop(),i=e[2];e[0].removeEventListener(e[1],i,!1)}return i},t.isNumber=function(t){return/^\s*-?\d+(\.\d+)?\s*$/.test(t)},t.hueToHex=function(e){return t.utils.colour.hsvToHex(e,t.HSV_SATURATION,255*t.HSV_VALUE)},t.checkBlockColourConstants=function(){t.checkBlockColourConstant_("LOGIC_HUE",["Blocks","logic","HUE"],void 0),t.checkBlockColourConstant_("LOGIC_HUE",["Constants","Logic","HUE"],210),t.checkBlockColourConstant_("LOOPS_HUE",["Blocks","loops","HUE"],void 0),t.checkBlockColourConstant_("LOOPS_HUE",["Constants","Loops","HUE"],120),t.checkBlockColourConstant_("MATH_HUE",["Blocks","math","HUE"],void 0),t.checkBlockColourConstant_("MATH_HUE",["Constants","Math","HUE"],230),t.checkBlockColourConstant_("TEXTS_HUE",["Blocks","texts","HUE"],void 0),t.checkBlockColourConstant_("TEXTS_HUE",["Constants","Text","HUE"],160),t.checkBlockColourConstant_("LISTS_HUE",["Blocks","lists","HUE"],void 0),t.checkBlockColourConstant_("LISTS_HUE",["Constants","Lists","HUE"],260),t.checkBlockColourConstant_("COLOUR_HUE",["Blocks","colour","HUE"],void 0),t.checkBlockColourConstant_("COLOUR_HUE",["Constants","Colour","HUE"],20),t.checkBlockColourConstant_("VARIABLES_HUE",["Blocks","variables","HUE"],void 0),t.checkBlockColourConstant_("VARIABLES_HUE",["Constants","Variables","HUE"],330),t.checkBlockColourConstant_("VARIABLES_DYNAMIC_HUE",["Constants","VariablesDynamic","HUE"],310),t.checkBlockColourConstant_("PROCEDURES_HUE",["Blocks","procedures","HUE"],void 0)},t.checkBlockColourConstant_=function(e,i,n){for(var o="Blockly",s=t,r=0;r<i.length;++r)o+="."+i[r],s&&(s=s[i[r]]);s&&s!==n&&(e=(void 0===n?'%1 has been removed. Use Blockly.Msg["%2"].':'%1 is deprecated and unused. Override Blockly.Msg["%2"].').replace("%1",o).replace("%2",e),console.warn(e))},t.Comment=function(e){t.Comment.superClass_.constructor.call(this,e),this.model_=e.commentModel,this.model_.text=this.model_.text||"",this.cachedText_="",this.createIcon()},t.utils.object.inherits(t.Comment,t.Icon),t.Comment.prototype.drawIcon_=function(e){t.utils.dom.createSvgElement("circle",{class:"blocklyIconShape",r:"8",cx:"8",cy:"8"},e),t.utils.dom.createSvgElement("path",{class:"blocklyIconSymbol",d:"m6.8,10h2c0.003,-0.617 0.271,-0.962 0.633,-1.266 2.875,-2.4050.607,-5.534 -3.765,-3.874v1.7c3.12,-1.657 3.698,0.118 2.336,1.25-1.201,0.998 -1.201,1.528 -1.204,2.19z"},e),t.utils.dom.createSvgElement("rect",{class:"blocklyIconSymbol",x:"6.8",y:"10.78",height:"2",width:"2"},e)},t.Comment.prototype.createEditor_=function(){this.foreignObject_=t.utils.dom.createSvgElement("foreignObject",{x:t.Bubble.BORDER_WIDTH,y:t.Bubble.BORDER_WIDTH},null);var e=document.createElementNS(t.utils.dom.HTML_NS,"body");e.setAttribute("xmlns",t.utils.dom.HTML_NS),e.className="blocklyMinimalBody";var i=this.textarea_=document.createElementNS(t.utils.dom.HTML_NS,"textarea");return i.className="blocklyCommentTextarea",i.setAttribute("dir",this.block_.RTL?"RTL":"LTR"),i.value=this.model_.text,this.resizeTextarea_(),e.appendChild(i),this.foreignObject_.appendChild(e),t.bindEventWithChecks_(i,"mouseup",this,this.startEdit_,!0,!0),t.bindEventWithChecks_(i,"wheel",this,(function(t){t.stopPropagation()})),t.bindEventWithChecks_(i,"change",this,(function(e){this.cachedText_!=this.model_.text&&t.Events.fire(new t.Events.BlockChange(this.block_,"comment",null,this.cachedText_,this.model_.text))})),t.bindEventWithChecks_(i,"input",this,(function(t){this.model_.text=i.value})),setTimeout(i.focus.bind(i),0),this.foreignObject_},t.Comment.prototype.updateEditable=function(){t.Comment.superClass_.updateEditable.call(this),this.isVisible()&&(this.disposeBubble_(),this.createBubble_())},t.Comment.prototype.onBubbleResize_=function(){this.isVisible()&&(this.model_.size=this.bubble_.getBubbleSize(),this.resizeTextarea_())},t.Comment.prototype.resizeTextarea_=function(){var e=this.model_.size,i=2*t.Bubble.BORDER_WIDTH,n=e.width-i;e=e.height-i,this.foreignObject_.setAttribute("width",n),this.foreignObject_.setAttribute("height",e),this.textarea_.style.width=n-4+"px",this.textarea_.style.height=e-4+"px"},t.Comment.prototype.setVisible=function(e){e!=this.isVisible()&&(t.Events.fire(new t.Events.Ui(this.block_,"commentOpen",!e,e)),(this.model_.pinned=e)?this.createBubble_():this.disposeBubble_())},t.Comment.prototype.createBubble_=function(){!this.block_.isEditable()||t.utils.userAgent.IE?this.createNonEditableBubble_():this.createEditableBubble_()},t.Comment.prototype.createEditableBubble_=function(){this.bubble_=new t.Bubble(this.block_.workspace,this.createEditor_(),this.block_.svgPath_,this.iconXY_,this.model_.size.width,this.model_.size.height),this.bubble_.setSvgId(this.block_.id),this.bubble_.registerResizeEvent(this.onBubbleResize_.bind(this)),this.updateColour()},t.Comment.prototype.createNonEditableBubble_=function(){t.Warning.prototype.createBubble.call(this)},t.Comment.prototype.disposeBubble_=function(){this.paragraphElement_?t.Warning.prototype.disposeBubble.call(this):(this.bubble_.dispose(),this.foreignObject_=this.textarea_=this.bubble_=null)},t.Comment.prototype.startEdit_=function(t){this.bubble_.promote_()&&this.textarea_.focus(),this.cachedText_=this.model_.text},t.Comment.prototype.getBubbleSize=function(){return this.model_.size},t.Comment.prototype.setBubbleSize=function(t,e){this.bubble_?this.bubble_.setBubbleSize(t,e):(this.model_.size.width=t,this.model_.size.height=e)},t.Comment.prototype.getText=function(){return this.model_.text||""},t.Comment.prototype.setText=function(t){this.model_.text!=t&&(this.model_.text=t,this.updateText())},t.Comment.prototype.updateText=function(){this.textarea_?this.textarea_.value=this.model_.text:this.paragraphElement_&&(this.paragraphElement_.firstChild.textContent=this.model_.text)},t.Comment.prototype.dispose=function(){this.block_.comment=null,t.Icon.prototype.dispose.call(this)},t.tree={},t.tree.BaseNode=function(e,i){t.Component.call(this),this.config_=i,this.content_=e,this.expanded_=this.selected_=!1,this.toolTip_=null,this.isUserCollapsible_=!0,this.depth_=-1},t.utils.object.inherits(t.tree.BaseNode,t.Component),t.tree.BaseNode.allNodes={},t.tree.BaseNode.prototype.disposeInternal=function(){t.tree.BaseNode.superClass_.disposeInternal.call(this),this.tree&&(this.tree=null),this.setElementInternal(null)},t.tree.BaseNode.prototype.initAccessibility=function(){var e=this.getElement();if(e){var i=this.getLabelElement();if(i&&!i.id&&(i.id=this.getId()+".label"),t.utils.aria.setRole(e,t.utils.aria.Role.TREEITEM),t.utils.aria.setState(e,t.utils.aria.State.SELECTED,!1),t.utils.aria.setState(e,t.utils.aria.State.LEVEL,this.getDepth()),i&&t.utils.aria.setState(e,t.utils.aria.State.LABELLEDBY,i.id),(i=this.getIconElement())&&t.utils.aria.setRole(i,t.utils.aria.Role.PRESENTATION),(i=this.getChildrenElement())&&(t.utils.aria.setRole(i,t.utils.aria.Role.GROUP),i.hasChildNodes()))for(t.utils.aria.setState(e,t.utils.aria.State.EXPANDED,!1),e=this.getChildCount(),i=1;i<=e;i++){var n=this.getChildAt(i-1).getElement();t.utils.aria.setState(n,t.utils.aria.State.SETSIZE,e),t.utils.aria.setState(n,t.utils.aria.State.POSINSET,i)}}},t.tree.BaseNode.prototype.createDom=function(){var t=document.createElement("div");t.appendChild(this.toDom()),this.setElementInternal(t)},t.tree.BaseNode.prototype.enterDocument=function(){t.tree.BaseNode.superClass_.enterDocument.call(this),t.tree.BaseNode.allNodes[this.getId()]=this,this.initAccessibility()},t.tree.BaseNode.prototype.exitDocument=function(){t.tree.BaseNode.superClass_.exitDocument.call(this),delete t.tree.BaseNode.allNodes[this.getId()]},t.tree.BaseNode.prototype.addChildAt=function(e,i){var n=this.getChildAt(i-1),o=this.getChildAt(i);t.tree.BaseNode.superClass_.addChildAt.call(this,e,i),e.previousSibling_=n,e.nextSibling_=o,n?n.nextSibling_=e:this.firstChild_=e,o?o.previousSibling_=e:this.lastChild_=e;var s=this.getTree();if(s&&e.setTreeInternal(s),e.setDepth_(this.getDepth()+1),(s=this.getElement())&&(this.updateExpandIcon(),t.utils.aria.setState(s,t.utils.aria.State.EXPANDED,this.getExpanded()),this.getExpanded())){s=this.getChildrenElement(),e.getElement()||e.createDom();var r=e.getElement(),a=o&&o.getElement();s.insertBefore(r,a),this.isInDocument()&&e.enterDocument(),o||(n?n.updateExpandIcon():(t.utils.style.setElementShown(s,!0),this.setExpanded(this.getExpanded())))}},t.tree.BaseNode.prototype.add=function(e){if(e.getParent())throw Error(t.Component.Error.PARENT_UNABLE_TO_BE_SET);this.addChildAt(e,this.getChildCount())},t.tree.BaseNode.prototype.getTree=function(){return null},t.tree.BaseNode.prototype.getDepth=function(){var t=this.depth_;return 0>t&&(t=this.computeDepth_(),this.setDepth_(t)),t},t.tree.BaseNode.prototype.computeDepth_=function(){var t=this.getParent();return t?t.getDepth()+1:0},t.tree.BaseNode.prototype.setDepth_=function(t){if(t!=this.depth_){this.depth_=t;var e=this.getRowElement();if(e){var i=this.getPixelIndent_()+"px";this.isRightToLeft()?e.style.paddingRight=i:e.style.paddingLeft=i}this.forEachChild((function(e){e.setDepth_(t+1)}))}},t.tree.BaseNode.prototype.contains=function(t){for(;t;){if(t==this)return!0;t=t.getParent()}return!1},t.tree.BaseNode.prototype.getChildren=function(){var t=[];return this.forEachChild((function(e){t.push(e)})),t},t.tree.BaseNode.prototype.getFirstChild=function(){return this.getChildAt(0)},t.tree.BaseNode.prototype.getLastChild=function(){return this.getChildAt(this.getChildCount()-1)},t.tree.BaseNode.prototype.getPreviousSibling=function(){return this.previousSibling_},t.tree.BaseNode.prototype.getNextSibling=function(){return this.nextSibling_},t.tree.BaseNode.prototype.isLastSibling=function(){return!this.nextSibling_},t.tree.BaseNode.prototype.isSelected=function(){return this.selected_},t.tree.BaseNode.prototype.select=function(){var t=this.getTree();t&&t.setSelectedItem(this)},t.tree.BaseNode.prototype.selectFirst=function(){var t=this.getTree();t&&this.firstChild_&&t.setSelectedItem(this.firstChild_)},t.tree.BaseNode.prototype.setSelectedInternal=function(e){if(this.selected_!=e){this.selected_=e,this.updateRow();var i=this.getElement();i&&(t.utils.aria.setState(i,t.utils.aria.State.SELECTED,e),e&&(e=this.getTree().getElement(),t.utils.aria.setState(e,t.utils.aria.State.ACTIVEDESCENDANT,this.getId())))}},t.tree.BaseNode.prototype.getExpanded=function(){return this.expanded_},t.tree.BaseNode.prototype.setExpandedInternal=function(t){this.expanded_=t},t.tree.BaseNode.prototype.setExpanded=function(e){var i,n=e!=this.expanded_;this.expanded_=e;var o=this.getTree(),s=this.getElement();this.hasChildren()?(!e&&o&&this.contains(o.getSelectedItem())&&this.select(),s&&((i=this.getChildrenElement())&&(t.utils.style.setElementShown(i,e),t.utils.aria.setState(s,t.utils.aria.State.EXPANDED,e),e&&this.isInDocument()&&!i.hasChildNodes()&&(this.forEachChild((function(t){i.appendChild(t.toDom())})),this.forEachChild((function(t){t.enterDocument()})))),this.updateExpandIcon())):(i=this.getChildrenElement())&&t.utils.style.setElementShown(i,!1),s&&this.updateIcon_(),n&&(e?this.doNodeExpanded():this.doNodeCollapsed())},t.tree.BaseNode.prototype.doNodeExpanded=function(){},t.tree.BaseNode.prototype.doNodeCollapsed=function(){},t.tree.BaseNode.prototype.toggle=function(){this.setExpanded(!this.getExpanded())},t.tree.BaseNode.prototype.isUserCollapsible=function(){return this.isUserCollapsible_},t.tree.BaseNode.prototype.toDom=function(){var t=this.getExpanded()&&this.hasChildren(),e=document.createElement("div");return e.style.backgroundPosition=this.getBackgroundPosition(),t||(e.style.display="none"),t&&this.forEachChild((function(t){e.appendChild(t.toDom())})),t=document.createElement("div"),t.id=this.getId(),t.appendChild(this.getRowDom()),t.appendChild(e),t},t.tree.BaseNode.prototype.getPixelIndent_=function(){return Math.max(0,(this.getDepth()-1)*this.config_.indentWidth)},t.tree.BaseNode.prototype.getRowDom=function(){var t=document.createElement("div");return t.className=this.getRowClassName(),t.style["padding-"+(this.isRightToLeft()?"right":"left")]=this.getPixelIndent_()+"px",t.appendChild(this.getIconDom()),t.appendChild(this.getLabelDom()),t},t.tree.BaseNode.prototype.getRowClassName=function(){var t="";return this.isSelected()&&(t=" "+(this.config_.cssSelectedRow||"")),this.config_.cssTreeRow+t},t.tree.BaseNode.prototype.getLabelDom=function(){var t=document.createElement("span");return t.className=this.config_.cssItemLabel||"",t.textContent=this.getText(),t},t.tree.BaseNode.prototype.getIconDom=function(){var t=document.createElement("span");return t.style.display="inline-block",t.className=this.getCalculatedIconClass(),t},t.tree.BaseNode.prototype.getCalculatedIconClass=function(){throw Error("unimplemented abstract method")},t.tree.BaseNode.prototype.getBackgroundPosition=function(){return(this.isLastSibling()?"-100":(this.getDepth()-1)*this.config_.indentWidth)+"px 0"},t.tree.BaseNode.prototype.getElement=function(){var e=t.tree.BaseNode.superClass_.getElement.call(this);return e||(e=document.getElementById(this.getId()),this.setElementInternal(e)),e},t.tree.BaseNode.prototype.getRowElement=function(){var t=this.getElement();return t?t.firstChild:null},t.tree.BaseNode.prototype.getIconElement=function(){var t=this.getRowElement();return t?t.firstChild:null},t.tree.BaseNode.prototype.getLabelElement=function(){var t=this.getRowElement();return t&&t.lastChild?t.lastChild.previousSibling:null},t.tree.BaseNode.prototype.getChildrenElement=function(){var t=this.getElement();return t?t.lastChild:null},t.tree.BaseNode.prototype.getIconClass=function(){return this.iconClass_},t.tree.BaseNode.prototype.getExpandedIconClass=function(){return this.expandedIconClass_},t.tree.BaseNode.prototype.setText=function(t){this.content_=t},t.tree.BaseNode.prototype.getText=function(){return this.content_},t.tree.BaseNode.prototype.updateRow=function(){var t=this.getRowElement();t&&(t.className=this.getRowClassName())},t.tree.BaseNode.prototype.updateExpandIcon=function(){var t=this.getChildrenElement();t&&(t.style.backgroundPosition=this.getBackgroundPosition())},t.tree.BaseNode.prototype.updateIcon_=function(){this.getIconElement().className=this.getCalculatedIconClass()},t.tree.BaseNode.prototype.onMouseDown=function(t){"expand"==t.target.getAttribute("type")&&this.hasChildren()?this.isUserCollapsible_&&this.toggle():(this.select(),this.updateRow())},t.tree.BaseNode.prototype.onClick_=function(t){t.preventDefault()},t.tree.BaseNode.prototype.onKeyDown=function(e){var i=!0;switch(e.keyCode){case t.utils.KeyCodes.RIGHT:if(e.altKey)break;i=this.selectChild();break;case t.utils.KeyCodes.LEFT:if(e.altKey)break;i=this.selectParent();break;case t.utils.KeyCodes.DOWN:i=this.selectNext();break;case t.utils.KeyCodes.UP:i=this.selectPrevious();break;default:i=!1}return i&&e.preventDefault(),i},t.tree.BaseNode.prototype.selectNext=function(){var t=this.getNextShownNode();return t&&t.select(),!0},t.tree.BaseNode.prototype.selectPrevious=function(){var t=this.getPreviousShownNode();return t&&t.select(),!0},t.tree.BaseNode.prototype.selectParent=function(){if(this.hasChildren()&&this.getExpanded()&&this.isUserCollapsible_)this.setExpanded(!1);else{var t=this.getParent(),e=this.getTree();t&&t!=e&&t.select()}return!0},t.tree.BaseNode.prototype.selectChild=function(){return!!this.hasChildren()&&(this.getExpanded()?this.getFirstChild().select():this.setExpanded(!0),!0)},t.tree.BaseNode.prototype.getLastShownDescendant=function(){return this.getExpanded()&&this.hasChildren()?this.getLastChild().getLastShownDescendant():this},t.tree.BaseNode.prototype.getNextShownNode=function(){if(this.hasChildren()&&this.getExpanded())return this.getFirstChild();for(var t,e=this;e!=this.getTree();){if(t=e.getNextSibling(),null!=t)return t;e=e.getParent()}return null},t.tree.BaseNode.prototype.getPreviousShownNode=function(){var t=this.getPreviousSibling();if(null!=t)return t.getLastShownDescendant();t=this.getParent();var e=this.getTree();return t==e||this==e?null:t},t.tree.BaseNode.prototype.getConfig=function(){return this.config_},t.tree.BaseNode.prototype.setTreeInternal=function(t){this.tree!=t&&(this.tree=t,this.forEachChild((function(e){e.setTreeInternal(t)})))},t.tree.TreeNode=function(e,i,n){this.toolbox_=e,t.tree.BaseNode.call(this,i,n)},t.utils.object.inherits(t.tree.TreeNode,t.tree.BaseNode),t.tree.TreeNode.prototype.getTree=function(){if(this.tree)return this.tree;var t=this.getParent();return t&&(t=t.getTree())?(this.setTreeInternal(t),t):null},t.tree.TreeNode.prototype.getCalculatedIconClass=function(){var t=this.getExpanded(),e=this.getExpandedIconClass();if(t&&e)return e;if(e=this.getIconClass(),!t&&e)return e;if(e=this.getConfig(),this.hasChildren()){if(t&&e.cssExpandedFolderIcon)return e.cssTreeIcon+" "+e.cssExpandedFolderIcon;if(!t&&e.cssCollapsedFolderIcon)return e.cssTreeIcon+" "+e.cssCollapsedFolderIcon}else if(e.cssFileIcon)return e.cssTreeIcon+" "+e.cssFileIcon;return""},t.tree.TreeNode.prototype.onClick_=function(t){this.hasChildren()&&this.isUserCollapsible()?(this.toggle(),this.select()):this.isSelected()?this.getTree().setSelectedItem(null):this.select(),this.updateRow()},t.tree.TreeNode.prototype.onMouseDown=function(t){},t.tree.TreeNode.prototype.onKeyDown=function(e){if(this.tree.toolbox_.horizontalLayout_){var i={},n=t.utils.KeyCodes.DOWN,o=t.utils.KeyCodes.UP;i[t.utils.KeyCodes.RIGHT]=this.isRightToLeft()?o:n,i[t.utils.KeyCodes.LEFT]=this.isRightToLeft()?n:o,i[t.utils.KeyCodes.UP]=t.utils.KeyCodes.LEFT,i[t.utils.KeyCodes.DOWN]=t.utils.KeyCodes.RIGHT,Object.defineProperties(e,{keyCode:{value:i[e.keyCode]||e.keyCode}})}return t.tree.TreeNode.superClass_.onKeyDown.call(this,e)},t.tree.TreeNode.prototype.onSizeChanged=function(t){this.onSizeChanged_=t},t.tree.TreeNode.prototype.resizeToolbox_=function(){this.onSizeChanged_&&this.onSizeChanged_.call(this.toolbox_)},t.tree.TreeNode.prototype.doNodeExpanded=t.tree.TreeNode.prototype.resizeToolbox_,t.tree.TreeNode.prototype.doNodeCollapsed=t.tree.TreeNode.prototype.resizeToolbox_,t.tree.TreeControl=function(e,i){this.toolbox_=e,t.tree.BaseNode.call(this,"",i),this.setExpandedInternal(!0),this.setSelectedInternal(!0),this.selectedItem_=this},t.utils.object.inherits(t.tree.TreeControl,t.tree.BaseNode),t.tree.TreeControl.prototype.getTree=function(){return this},t.tree.TreeControl.prototype.getToolbox=function(){return this.toolbox_},t.tree.TreeControl.prototype.getDepth=function(){return 0},t.tree.TreeControl.prototype.handleFocus_=function(e){this.focused_=!0,e=this.getElement(),t.utils.dom.addClass(e,"focused"),this.selectedItem_&&this.selectedItem_.select()},t.tree.TreeControl.prototype.handleBlur_=function(e){this.focused_=!1,e=this.getElement(),t.utils.dom.removeClass(e,"focused")},t.tree.TreeControl.prototype.hasFocus=function(){return this.focused_},t.tree.TreeControl.prototype.getExpanded=function(){return!0},t.tree.TreeControl.prototype.setExpanded=function(t){this.setExpandedInternal(t)},t.tree.TreeControl.prototype.getIconElement=function(){var t=this.getRowElement();return t?t.firstChild:null},t.tree.TreeControl.prototype.updateExpandIcon=function(){},t.tree.TreeControl.prototype.getRowClassName=function(){return t.tree.TreeControl.superClass_.getRowClassName.call(this)+" "+this.getConfig().cssHideRoot},t.tree.TreeControl.prototype.getCalculatedIconClass=function(){var t=this.getExpanded(),e=this.getExpandedIconClass();return t&&e?e:(e=this.getIconClass(),!t&&e?e:(e=this.getConfig(),t&&e.cssExpandedRootIcon?e.cssTreeIcon+" "+e.cssExpandedRootIcon:""))},t.tree.TreeControl.prototype.setSelectedItem=function(t){if(t!=this.selectedItem_&&(!this.onBeforeSelected_||this.onBeforeSelected_.call(this.toolbox_,t))){var e=this.getSelectedItem();this.selectedItem_&&this.selectedItem_.setSelectedInternal(!1),(this.selectedItem_=t)&&t.setSelectedInternal(!0),this.onAfterSelected_&&this.onAfterSelected_.call(this.toolbox_,e,t)}},t.tree.TreeControl.prototype.onBeforeSelected=function(t){this.onBeforeSelected_=t},t.tree.TreeControl.prototype.onAfterSelected=function(t){this.onAfterSelected_=t},t.tree.TreeControl.prototype.getSelectedItem=function(){return this.selectedItem_},t.tree.TreeControl.prototype.initAccessibility=function(){t.tree.TreeControl.superClass_.initAccessibility.call(this);var e=this.getElement();t.utils.aria.setRole(e,t.utils.aria.Role.TREE),t.utils.aria.setState(e,t.utils.aria.State.LABELLEDBY,this.getLabelElement().id)},t.tree.TreeControl.prototype.enterDocument=function(){t.tree.TreeControl.superClass_.enterDocument.call(this);var e=this.getElement();e.className=this.getConfig().cssRoot,e.setAttribute("hideFocus","true"),this.attachEvents_(),this.initAccessibility()},t.tree.TreeControl.prototype.exitDocument=function(){t.tree.TreeControl.superClass_.exitDocument.call(this),this.detachEvents_()},t.tree.TreeControl.prototype.attachEvents_=function(){var e=this.getElement();e.tabIndex=0,this.onFocusWrapper_=t.bindEvent_(e,"focus",this,this.handleFocus_),this.onBlurWrapper_=t.bindEvent_(e,"blur",this,this.handleBlur_),this.onClickWrapper_=t.bindEventWithChecks_(e,"click",this,this.handleMouseEvent_),this.onKeydownWrapper_=t.bindEvent_(e,"keydown",this,this.handleKeyEvent_)},t.tree.TreeControl.prototype.detachEvents_=function(){t.unbindEvent_(this.onFocusWrapper_),t.unbindEvent_(this.onBlurWrapper_),t.unbindEvent_(this.onClickWrapper_),t.unbindEvent_(this.onKeydownWrapper_)},t.tree.TreeControl.prototype.handleMouseEvent_=function(t){var e=this.getNodeFromEvent_(t);if(e)switch(t.type){case"mousedown":e.onMouseDown(t);break;case"click":e.onClick_(t)}},t.tree.TreeControl.prototype.handleKeyEvent_=function(e){var i=!1;return(i=this.selectedItem_&&this.selectedItem_.onKeyDown(e)||i)&&(t.utils.style.scrollIntoContainerView(this.selectedItem_.getElement(),this.getElement().parentNode),e.preventDefault()),i},t.tree.TreeControl.prototype.getNodeFromEvent_=function(e){for(var i=e.target;null!=i;){if(e=t.tree.BaseNode.allNodes[i.id])return e;if(i==this.getElement())break;i=i.parentNode}return null},t.tree.TreeControl.prototype.createNode=function(e){return new t.tree.TreeNode(this.toolbox_,e||"",this.getConfig())},t.FieldTextInput=function(e,i,n){this.spellcheck_=!0,null==e&&(e=""),t.FieldTextInput.superClass_.constructor.call(this,e,i,n)},t.utils.object.inherits(t.FieldTextInput,t.Field),t.FieldTextInput.fromJson=function(e){var i=t.utils.replaceMessageReferences(e.text);return new t.FieldTextInput(i,void 0,e)},t.FieldTextInput.prototype.SERIALIZABLE=!0,t.FieldTextInput.FONTSIZE=11,t.FieldTextInput.BORDERRADIUS=4,t.FieldTextInput.prototype.CURSOR="text",t.FieldTextInput.prototype.configure_=function(e){t.FieldTextInput.superClass_.configure_.call(this,e),"boolean"==typeof e.spellcheck&&(this.spellcheck_=e.spellcheck)},t.FieldTextInput.prototype.doClassValidation_=function(t){return null===t||void 0===t?null:String(t)},t.FieldTextInput.prototype.doValueInvalid_=function(e){this.isBeingEdited_&&(this.isTextValid_=!1,e=this.value_,this.value_=this.htmlInput_.untypedDefaultValue_,this.sourceBlock_&&t.Events.isEnabled()&&t.Events.fire(new t.Events.BlockChange(this.sourceBlock_,"field",this.name||null,e,this.value_)))},t.FieldTextInput.prototype.doValueUpdate_=function(t){this.isTextValid_=!0,this.value_=t,this.isBeingEdited_||(this.isDirty_=!0)},t.FieldTextInput.prototype.render_=function(){t.FieldTextInput.superClass_.render_.call(this),this.isBeingEdited_&&(this.sourceBlock_.RTL?setTimeout(this.resizeEditor_.bind(this),0):this.resizeEditor_(),this.isTextValid_?(t.utils.dom.removeClass(this.htmlInput_,"blocklyInvalidInput"),t.utils.aria.setState(this.htmlInput_,"invalid",!1)):(t.utils.dom.addClass(this.htmlInput_,"blocklyInvalidInput"),t.utils.aria.setState(this.htmlInput_,"invalid",!0)))},t.FieldTextInput.prototype.setSpellcheck=function(t){t!=this.spellcheck_&&(this.spellcheck_=t,this.htmlInput_&&this.htmlInput_.setAttribute("spellcheck",this.spellcheck_))},t.FieldTextInput.prototype.showEditor_=function(e){this.workspace_=this.sourceBlock_.workspace,e=e||!1,!e&&(t.utils.userAgent.MOBILE||t.utils.userAgent.ANDROID||t.utils.userAgent.IPAD)?this.showPromptEditor_():this.showInlineEditor_(e)},t.FieldTextInput.prototype.showPromptEditor_=function(){var e=this;t.prompt(t.Msg.CHANGE_VALUE_TITLE,this.getText(),(function(t){e.setValue(t)}))},t.FieldTextInput.prototype.showInlineEditor_=function(e){t.WidgetDiv.show(this,this.sourceBlock_.RTL,this.widgetDispose_.bind(this)),this.htmlInput_=this.widgetCreate_(),this.isBeingEdited_=!0,e||(this.htmlInput_.focus(),this.htmlInput_.select())},t.FieldTextInput.prototype.widgetCreate_=function(){var e=t.WidgetDiv.DIV,i=document.createElement("input");i.className="blocklyHtmlInput",i.setAttribute("spellcheck",this.spellcheck_);var n=t.FieldTextInput.FONTSIZE*this.workspace_.scale+"pt";return e.style.fontSize=n,i.style.fontSize=n,i.style.borderRadius=t.FieldTextInput.BORDERRADIUS*this.workspace_.scale+"px",e.appendChild(i),i.value=i.defaultValue=this.getEditorText_(this.value_),i.untypedDefaultValue_=this.value_,i.oldValue_=null,t.utils.userAgent.GECKO?setTimeout(this.resizeEditor_.bind(this),0):this.resizeEditor_(),this.bindInputEvents_(i),i},t.FieldTextInput.prototype.widgetDispose_=function(){this.isBeingEdited_=!1,this.isTextValid_=!0,this.forceRerender(),this.onFinishEditing_&&this.onFinishEditing_(this.value_),this.unbindInputEvents_();var e=t.WidgetDiv.DIV.style;e.width="auto",e.height="auto",e.fontSize=""},t.FieldTextInput.prototype.bindInputEvents_=function(e){this.onKeyDownWrapper_=t.bindEventWithChecks_(e,"keydown",this,this.onHtmlInputKeyDown_),this.onKeyInputWrapper_=t.bindEventWithChecks_(e,"input",this,this.onHtmlInputChange_)},t.FieldTextInput.prototype.unbindInputEvents_=function(){t.unbindEvent_(this.onKeyDownWrapper_),t.unbindEvent_(this.onKeyInputWrapper_)},t.FieldTextInput.prototype.onHtmlInputKeyDown_=function(e){e.keyCode==t.utils.KeyCodes.ENTER?(t.WidgetDiv.hide(),t.DropDownDiv.hideWithoutAnimation()):e.keyCode==t.utils.KeyCodes.ESC?(this.htmlInput_.value=this.htmlInput_.defaultValue,t.WidgetDiv.hide(),t.DropDownDiv.hideWithoutAnimation()):e.keyCode==t.utils.KeyCodes.TAB&&(t.WidgetDiv.hide(),t.DropDownDiv.hideWithoutAnimation(),this.sourceBlock_.tab(this,!e.shiftKey),e.preventDefault())},t.FieldTextInput.prototype.onHtmlInputChange_=function(e){e=this.htmlInput_.value,e!==this.htmlInput_.oldValue_&&(this.htmlInput_.oldValue_=e,t.Events.setGroup(!0),e=this.getValueFromEditorText_(e),this.setValue(e),this.forceRerender(),t.Events.setGroup(!1))},t.FieldTextInput.prototype.setEditorValue_=function(t){this.isDirty_=!0,this.isBeingEdited_&&(this.htmlInput_.value=this.getEditorText_(t)),this.setValue(t)},t.FieldTextInput.prototype.resizeEditor_=function(){var e=t.WidgetDiv.DIV,i=this.getScaledBBox_();e.style.width=i.right-i.left+"px",e.style.height=i.bottom-i.top+"px",i=new t.utils.Coordinate(this.sourceBlock_.RTL?i.right-e.offsetWidth:i.left,i.top),i.y+=1,t.utils.userAgent.GECKO&&t.WidgetDiv.DIV.style.top&&(--i.x,--i.y),t.utils.userAgent.WEBKIT&&(i.y-=3),e.style.left=i.x+"px",e.style.top=i.y+"px"},t.FieldTextInput.numberValidator=function(t){return console.warn("Blockly.FieldTextInput.numberValidator is deprecated. Use Blockly.FieldNumber instead."),null===t?null:(t=String(t),t=t.replace(/O/gi,"0"),t=t.replace(/,/g,""),t=Number(t||0),isNaN(t)?null:String(t))},t.FieldTextInput.nonnegativeIntegerValidator=function(e){return(e=t.FieldTextInput.numberValidator(e))&&(e=String(Math.max(0,Math.floor(e)))),e},t.FieldTextInput.prototype.isTabNavigable=function(){return!0},t.FieldTextInput.prototype.getText_=function(){return this.isBeingEdited_&&this.htmlInput_?this.htmlInput_.value:null},t.FieldTextInput.prototype.getEditorText_=function(t){return String(t)},t.FieldTextInput.prototype.getValueFromEditorText_=function(t){return t},t.fieldRegistry.register("field_input",t.FieldTextInput),t.FieldAngle=function(e,i,n){this.clockwise_=t.FieldAngle.CLOCKWISE,this.offset_=t.FieldAngle.OFFSET,this.wrap_=t.FieldAngle.WRAP,this.round_=t.FieldAngle.ROUND,t.FieldAngle.superClass_.constructor.call(this,e||0,i,n)},t.utils.object.inherits(t.FieldAngle,t.FieldTextInput),t.FieldAngle.fromJson=function(e){return new t.FieldAngle(e.angle,void 0,e)},t.FieldAngle.prototype.SERIALIZABLE=!0,t.FieldAngle.ROUND=15,t.FieldAngle.HALF=50,t.FieldAngle.CLOCKWISE=!1,t.FieldAngle.OFFSET=0,t.FieldAngle.WRAP=360,t.FieldAngle.RADIUS=t.FieldAngle.HALF-1,t.FieldAngle.prototype.configure_=function(e){switch(t.FieldAngle.superClass_.configure_.call(this,e),e.mode){case"compass":this.clockwise_=!0,this.offset_=90;break;case"protractor":this.clockwise_=!1,this.offset_=0}var i=e.clockwise;"boolean"==typeof i&&(this.clockwise_=i),i=e.offset,null!=i&&(i=Number(i),isNaN(i)||(this.offset_=i)),i=e.wrap,null!=i&&(i=Number(i),isNaN(i)||(this.wrap_=i)),e=e.round,null!=e&&(e=Number(e),isNaN(e)||(this.round_=e))},t.FieldAngle.prototype.initView=function(){t.FieldAngle.superClass_.initView.call(this),this.symbol_=t.utils.dom.createSvgElement("tspan",{},null),this.symbol_.appendChild(document.createTextNode("°")),this.textElement_.appendChild(this.symbol_)},t.FieldAngle.prototype.render_=function(){t.FieldAngle.superClass_.render_.call(this),this.updateGraph_()},t.FieldAngle.prototype.showEditor_=function(){t.FieldAngle.superClass_.showEditor_.call(this,t.utils.userAgent.MOBILE||t.utils.userAgent.ANDROID||t.utils.userAgent.IPAD);var e=this.dropdownCreate_();t.DropDownDiv.getContentDiv().appendChild(e),e=this.sourceBlock_.getColourBorder(),e=e.colourBorder||e.colourLight,t.DropDownDiv.setColour(this.sourceBlock_.getColour(),e),t.DropDownDiv.showPositionedByField(this,this.dropdownDispose_.bind(this)),this.updateGraph_()},t.FieldAngle.prototype.dropdownCreate_=function(){var e=t.utils.dom.createSvgElement("svg",{xmlns:t.utils.dom.SVG_NS,"xmlns:html":t.utils.dom.HTML_NS,"xmlns:xlink":t.utils.dom.XLINK_NS,version:"1.1",height:2*t.FieldAngle.HALF+"px",width:2*t.FieldAngle.HALF+"px",style:"touch-action: none"},null),i=t.utils.dom.createSvgElement("circle",{cx:t.FieldAngle.HALF,cy:t.FieldAngle.HALF,r:t.FieldAngle.RADIUS,class:"blocklyAngleCircle"},e);this.gauge_=t.utils.dom.createSvgElement("path",{class:"blocklyAngleGauge"},e),this.line_=t.utils.dom.createSvgElement("line",{x1:t.FieldAngle.HALF,y1:t.FieldAngle.HALF,class:"blocklyAngleLine"},e);for(var n=0;360>n;n+=15)t.utils.dom.createSvgElement("line",{x1:t.FieldAngle.HALF+t.FieldAngle.RADIUS,y1:t.FieldAngle.HALF,x2:t.FieldAngle.HALF+t.FieldAngle.RADIUS-(0==n%45?10:5),y2:t.FieldAngle.HALF,class:"blocklyAngleMarks",transform:"rotate("+n+","+t.FieldAngle.HALF+","+t.FieldAngle.HALF+")"},e);return this.clickWrapper_=t.bindEventWithChecks_(e,"click",this,this.hide_),this.clickSurfaceWrapper_=t.bindEventWithChecks_(i,"click",this,this.onMouseMove,!0,!0),this.moveSurfaceWrapper_=t.bindEventWithChecks_(i,"mousemove",this,this.onMouseMove,!0,!0),e},t.FieldAngle.prototype.dropdownDispose_=function(){t.unbindEvent_(this.clickWrapper_),t.unbindEvent_(this.clickSurfaceWrapper_),t.unbindEvent_(this.moveSurfaceWrapper_)},t.FieldAngle.prototype.hide_=function(){t.DropDownDiv.hideIfOwner(this),t.WidgetDiv.hide()},t.FieldAngle.prototype.onMouseMove=function(e){var i=this.gauge_.ownerSVGElement.getBoundingClientRect(),n=e.clientX-i.left-t.FieldAngle.HALF;e=e.clientY-i.top-t.FieldAngle.HALF,i=Math.atan(-e/n),isNaN(i)||(i=t.utils.math.toDegrees(i),0>n?i+=180:0<e&&(i+=360),i=this.clockwise_?this.offset_+360-i:360-(this.offset_-i),this.displayMouseOrKeyboardValue_(i))},t.FieldAngle.prototype.displayMouseOrKeyboardValue_=function(t){this.round_&&(t=Math.round(t/this.round_)*this.round_),t=this.wrapValue_(t),t!=this.value_&&this.setEditorValue_(t)},t.FieldAngle.prototype.updateGraph_=function(){if(this.gauge_){var e=Number(this.getText())+this.offset_,i=t.utils.math.toRadians(e%360);e=["M ",t.FieldAngle.HALF,",",t.FieldAngle.HALF];var n=t.FieldAngle.HALF,o=t.FieldAngle.HALF;if(!isNaN(i)){var s=Number(this.clockwise_),r=t.utils.math.toRadians(this.offset_),a=Math.cos(r)*t.FieldAngle.RADIUS,l=Math.sin(r)*-t.FieldAngle.RADIUS;s&&(i=2*r-i),n+=Math.cos(i)*t.FieldAngle.RADIUS,o-=Math.sin(i)*t.FieldAngle.RADIUS,i=Math.abs(Math.floor((i-r)/Math.PI)%2),s&&(i=1-i),e.push(" l ",a,",",l," A ",t.FieldAngle.RADIUS,",",t.FieldAngle.RADIUS," 0 ",i," ",s," ",n,",",o," z")}this.gauge_.setAttribute("d",e.join("")),this.line_.setAttribute("x2",n),this.line_.setAttribute("y2",o)}},t.FieldAngle.prototype.onHtmlInputKeyDown_=function(e){var i;if(t.FieldAngle.superClass_.onHtmlInputKeyDown_.call(this,e),e.keyCode===t.utils.KeyCodes.LEFT?i=this.sourceBlock_.RTL?1:-1:e.keyCode===t.utils.KeyCodes.RIGHT?i=this.sourceBlock_.RTL?-1:1:e.keyCode===t.utils.KeyCodes.DOWN?i=-1:e.keyCode===t.utils.KeyCodes.UP&&(i=1),i){var n=this.getValue();this.displayMouseOrKeyboardValue_(n+i*this.round_),e.preventDefault(),e.stopPropagation()}},t.FieldAngle.prototype.doClassValidation_=function(t){return t=Number(t),isNaN(t)||!isFinite(t)?null:this.wrapValue_(t)},t.FieldAngle.prototype.wrapValue_=function(t){return t%=360,0>t&&(t+=360),t>this.wrap_&&(t-=360),t},t.Css.register(".blocklyAngleCircle {,stroke: #444;,stroke-width: 1;,fill: #ddd;,fill-opacity: .8;,},.blocklyAngleMarks {,stroke: #444;,stroke-width: 1;,},.blocklyAngleGauge {,fill: #f88;,fill-opacity: .8;,pointer-events: none;,},.blocklyAngleLine {,stroke: #f00;,stroke-width: 2;,stroke-linecap: round;,pointer-events: none;,}".split(",")),t.fieldRegistry.register("field_angle",t.FieldAngle),t.FieldCheckbox=function(e,i,n){this.checkChar_=null,null==e&&(e="FALSE"),t.FieldCheckbox.superClass_.constructor.call(this,e,i,n),this.size_.width=t.FieldCheckbox.WIDTH},t.utils.object.inherits(t.FieldCheckbox,t.Field),t.FieldCheckbox.fromJson=function(e){return new t.FieldCheckbox(e.checked,void 0,e)},t.FieldCheckbox.WIDTH=15,t.FieldCheckbox.CHECK_CHAR="✓",t.FieldCheckbox.CHECK_X_OFFSET=t.Field.DEFAULT_TEXT_OFFSET-3,t.FieldCheckbox.CHECK_Y_OFFSET=14,t.FieldCheckbox.prototype.SERIALIZABLE=!0,t.FieldCheckbox.prototype.CURSOR="default",t.FieldCheckbox.prototype.isDirty_=!1,t.FieldCheckbox.prototype.configure_=function(e){t.FieldCheckbox.superClass_.configure_.call(this,e),e.checkCharacter&&(this.checkChar_=e.checkCharacter)},t.FieldCheckbox.prototype.initView=function(){t.FieldCheckbox.superClass_.initView.call(this),this.textElement_.setAttribute("x",t.FieldCheckbox.CHECK_X_OFFSET),this.textElement_.setAttribute("y",t.FieldCheckbox.CHECK_Y_OFFSET),t.utils.dom.addClass(this.textElement_,"blocklyCheckbox"),this.textContent_.nodeValue=this.checkChar_||t.FieldCheckbox.CHECK_CHAR,this.textElement_.style.display=this.value_?"block":"none"},t.FieldCheckbox.prototype.setCheckCharacter=function(e){this.checkChar_=e,this.textContent_&&(this.textContent_.nodeValue=e||t.FieldCheckbox.CHECK_CHAR)},t.FieldCheckbox.prototype.showEditor_=function(){this.setValue(!this.value_)},t.FieldCheckbox.prototype.doClassValidation_=function(t){return!0===t||"TRUE"===t?"TRUE":!1===t||"FALSE"===t?"FALSE":null},t.FieldCheckbox.prototype.doValueUpdate_=function(t){this.value_=this.convertValueToBool_(t),this.textElement_&&(this.textElement_.style.display=this.value_?"block":"none")},t.FieldCheckbox.prototype.getValue=function(){return this.value_?"TRUE":"FALSE"},t.FieldCheckbox.prototype.getValueBoolean=function(){return this.value_},t.FieldCheckbox.prototype.getText=function(){return String(this.convertValueToBool_(this.value_))},t.FieldCheckbox.prototype.convertValueToBool_=function(t){return"string"==typeof t?"TRUE"==t:!!t},t.fieldRegistry.register("field_checkbox",t.FieldCheckbox),t.FieldColour=function(e,i,n){t.FieldColour.superClass_.constructor.call(this,e||t.FieldColour.COLOURS[0],i,n),this.size_=new t.utils.Size(t.FieldColour.DEFAULT_WIDTH,t.FieldColour.DEFAULT_HEIGHT)},t.utils.object.inherits(t.FieldColour,t.Field),t.FieldColour.fromJson=function(e){return new t.FieldColour(e.colour,void 0,e)},t.FieldColour.DEFAULT_WIDTH=26,t.FieldColour.DEFAULT_HEIGHT=t.Field.BORDER_RECT_DEFAULT_HEIGHT,t.FieldColour.prototype.SERIALIZABLE=!0,t.FieldColour.prototype.CURSOR="default",t.FieldColour.prototype.isDirty_=!1,t.FieldColour.prototype.colours_=null,t.FieldColour.prototype.titles_=null,t.FieldColour.prototype.columns_=0,t.FieldColour.prototype.configure_=function(e){t.FieldColour.superClass_.configure_.call(this,e),e.colourOptions&&(this.colours_=e.colourOptions,this.titles_=e.colourTitles),e.columns&&(this.columns_=e.columns)},t.FieldColour.prototype.initView=function(){this.createBorderRect_(),this.borderRect_.style.fillOpacity=1,this.borderRect_.style.fill=this.value_},t.FieldColour.prototype.doClassValidation_=function(e){return"string"!=typeof e?null:t.utils.colour.parse(e)},t.FieldColour.prototype.doValueUpdate_=function(t){this.value_=t,this.borderRect_&&(this.borderRect_.style.fill=t)},t.FieldColour.prototype.getText=function(){var t=this.value_;return/^#(.)\1(.)\2(.)\3$/.test(t)&&(t="#"+t[1]+t[3]+t[5]),t},t.FieldColour.COLOURS="#ffffff #cccccc #c0c0c0 #999999 #666666 #333333 #000000 #ffcccc #ff6666 #ff0000 #cc0000 #990000 #660000 #330000 #ffcc99 #ff9966 #ff9900 #ff6600 #cc6600 #993300 #663300 #ffff99 #ffff66 #ffcc66 #ffcc33 #cc9933 #996633 #663333 #ffffcc #ffff33 #ffff00 #ffcc00 #999900 #666600 #333300 #99ff99 #66ff99 #33ff33 #33cc00 #009900 #006600 #003300 #99ffff #33ffff #66cccc #00cccc #339999 #336666 #003333 #ccffff #66ffff #33ccff #3366ff #3333ff #000099 #000066 #ccccff #9999ff #6666cc #6633ff #6600cc #333399 #330099 #ffccff #ff99ff #cc66cc #cc33cc #993399 #663366 #330033".split(" "),t.FieldColour.TITLES=[],t.FieldColour.COLUMNS=7,t.FieldColour.prototype.setColours=function(t,e){return this.colours_=t,e&&(this.titles_=e),this},t.FieldColour.prototype.setColumns=function(t){return this.columns_=t,this},t.FieldColour.prototype.showEditor_=function(){this.picker_=this.dropdownCreate_(),t.DropDownDiv.getContentDiv().appendChild(this.picker_),t.DropDownDiv.showPositionedByField(this,this.dropdownDispose_.bind(this)),this.picker_.focus()},t.FieldColour.prototype.onClick_=function(e){e=(e=e.target)&&e.label,null!==e&&(this.setValue(e),t.DropDownDiv.hideIfOwner(this))},t.FieldColour.prototype.onKeyDown_=function(e){var i=!1;e.keyCode===t.utils.KeyCodes.UP?(this.moveHighlightBy_(0,-1),i=!0):e.keyCode===t.utils.KeyCodes.DOWN?(this.moveHighlightBy_(0,1),i=!0):e.keyCode===t.utils.KeyCodes.LEFT?(this.moveHighlightBy_(-1,0),i=!0):e.keyCode===t.utils.KeyCodes.RIGHT?(this.moveHighlightBy_(1,0),i=!0):e.keyCode===t.utils.KeyCodes.ENTER&&((i=this.getHighlighted_())&&(i=i&&i.label,null!==i&&this.setValue(i)),t.DropDownDiv.hideWithoutAnimation(),i=!0),i&&e.stopPropagation()},t.FieldColour.prototype.onBlocklyAction=function(e){if(this.picker_){if(e===t.navigation.ACTION_PREVIOUS)return this.moveHighlightBy_(0,-1),!0;if(e===t.navigation.ACTION_NEXT)return this.moveHighlightBy_(0,1),!0;if(e===t.navigation.ACTION_OUT)return this.moveHighlightBy_(-1,0),!0;if(e===t.navigation.ACTION_IN)return this.moveHighlightBy_(1,0),!0}return t.FieldColour.superClass_.onBlocklyAction.call(this,e)},t.FieldColour.prototype.moveHighlightBy_=function(e,i){var n=this.colours_||t.FieldColour.COLOURS,o=this.columns_||t.FieldColour.COLUMNS,s=this.highlightedIndex_%o,r=Math.floor(this.highlightedIndex_/o);s+=e,r+=i,0>e?0>s&&0<r?(s=o-1,r--):0>s&&(s=0):0<e?s>o-1&&r<Math.floor(n.length/o)-1?(s=0,r++):s>o-1&&s--:0>i?0>r&&(r=0):0<i&&r>Math.floor(n.length/o)-1&&(r=Math.floor(n.length/o)-1),this.setHighlightedCell_(this.picker_.childNodes[r].childNodes[s],r*o+s)},t.FieldColour.prototype.onMouseMove_=function(t){var e=(t=t.target)&&t.getAttribute("data-index");null!==e&&e!==this.highlightedIndex_&&this.setHighlightedCell_(t,Number(e))},t.FieldColour.prototype.onMouseEnter_=function(){this.picker_.focus()},t.FieldColour.prototype.onMouseLeave_=function(){this.picker_.blur();var e=this.getHighlighted_();e&&t.utils.dom.removeClass(e,"blocklyColourHighlighted")},t.FieldColour.prototype.getHighlighted_=function(){var e=this.columns_||t.FieldColour.COLUMNS,i=this.picker_.childNodes[Math.floor(this.highlightedIndex_/e)];return i?i.childNodes[this.highlightedIndex_%e]:null},t.FieldColour.prototype.setHighlightedCell_=function(e,i){var n=this.getHighlighted_();n&&t.utils.dom.removeClass(n,"blocklyColourHighlighted"),t.utils.dom.addClass(e,"blocklyColourHighlighted"),this.highlightedIndex_=i,t.utils.aria.setState(this.picker_,t.utils.aria.State.ACTIVEDESCENDANT,e.getAttribute("id"))},t.FieldColour.prototype.dropdownCreate_=function(){var e=this.columns_||t.FieldColour.COLUMNS,i=this.colours_||t.FieldColour.COLOURS,n=this.titles_||t.FieldColour.TITLES,o=this.getValue(),s=document.createElement("table");s.className="blocklyColourTable",s.tabIndex=0,s.dir="ltr",t.utils.aria.setRole(s,t.utils.aria.Role.GRID),t.utils.aria.setState(s,t.utils.aria.State.EXPANDED,!0),t.utils.aria.setState(s,"rowcount",Math.floor(i.length/e)),t.utils.aria.setState(s,"colcount",e);for(var r,a=0;a<i.length;a++){0==a%e&&(r=document.createElement("tr"),t.utils.aria.setRole(r,t.utils.aria.Role.ROW),s.appendChild(r));var l=document.createElement("td");r.appendChild(l),l.label=i[a],l.title=n[a]||i[a],l.id=t.utils.IdGenerator.getNextUniqueId(),l.setAttribute("data-index",a),t.utils.aria.setRole(l,t.utils.aria.Role.GRIDCELL),t.utils.aria.setState(l,t.utils.aria.State.LABEL,i[a]),t.utils.aria.setState(l,t.utils.aria.State.SELECTED,i[a]==o),l.style.backgroundColor=i[a],i[a]==o&&(l.className="blocklyColourSelected",this.highlightedIndex_=a)}return this.onClickWrapper_=t.bindEventWithChecks_(s,"click",this,this.onClick_,!0),this.onMouseMoveWrapper_=t.bindEventWithChecks_(s,"mousemove",this,this.onMouseMove_,!0),this.onMouseEnterWrapper_=t.bindEventWithChecks_(s,"mouseenter",this,this.onMouseEnter_,!0),this.onMouseLeaveWrapper_=t.bindEventWithChecks_(s,"mouseleave",this,this.onMouseLeave_,!0),this.onKeyDownWrapper_=t.bindEventWithChecks_(s,"keydown",this,this.onKeyDown_),s},t.FieldColour.prototype.dropdownDispose_=function(){t.unbindEvent_(this.onClickWrapper_),t.unbindEvent_(this.onMouseMoveWrapper_),t.unbindEvent_(this.onMouseEnterWrapper_),t.unbindEvent_(this.onMouseLeaveWrapper_),t.unbindEvent_(this.onKeyDownWrapper_),this.picker_=null},t.Css.register([".blocklyColourTable {","border-collapse: collapse;","display: block;","outline: none;","padding: 1px;","}",".blocklyColourTable>tr>td {","border: .5px solid #888;","box-sizing: border-box;","cursor: pointer;","display: inline-block;","height: 20px;","padding: 0;","width: 20px;","}",".blocklyColourTable>tr>td.blocklyColourHighlighted {","border-color: #eee;","box-shadow: 2px 2px 7px 2px rgba(0,0,0,.3);","position: relative;","}",".blocklyColourSelected, .blocklyColourSelected:hover {","border-color: #eee !important;","outline: 1px solid #333;","position: relative;","}"]),t.fieldRegistry.register("field_colour",t.FieldColour),t.FieldDropdown=function(e,i,n){"function"!=typeof e&&t.FieldDropdown.validateOptions_(e),this.menuGenerator_=e,this.generatedOptions_=null,this.selectedIndex_=0,this.trimOptions_(),e=this.getOptions(!1)[0],t.FieldDropdown.superClass_.constructor.call(this,e[1],i,n),this.selectedMenuItem_=this.imageElement_=null},t.utils.object.inherits(t.FieldDropdown,t.Field),t.FieldDropdown.fromJson=function(e){return new t.FieldDropdown(e.options,void 0,e)},t.FieldDropdown.prototype.SERIALIZABLE=!0,t.FieldDropdown.CHECKMARK_OVERHANG=25,t.FieldDropdown.MAX_MENU_HEIGHT_VH=.45,t.FieldDropdown.IMAGE_Y_OFFSET=5,t.FieldDropdown.IMAGE_Y_PADDING=2*t.FieldDropdown.IMAGE_Y_OFFSET,t.FieldDropdown.ARROW_CHAR=t.utils.userAgent.ANDROID?"▼":"▾",t.FieldDropdown.prototype.CURSOR="default",t.FieldDropdown.prototype.initView=function(){t.FieldDropdown.superClass_.initView.call(this),this.imageElement_=t.utils.dom.createSvgElement("image",{y:t.FieldDropdown.IMAGE_Y_OFFSET},this.fieldGroup_),this.arrow_=t.utils.dom.createSvgElement("tspan",{},this.textElement_),this.arrow_.appendChild(document.createTextNode(this.sourceBlock_.RTL?t.FieldDropdown.ARROW_CHAR+" ":" "+t.FieldDropdown.ARROW_CHAR)),this.sourceBlock_.RTL?this.textElement_.insertBefore(this.arrow_,this.textContent_):this.textElement_.appendChild(this.arrow_)},t.FieldDropdown.prototype.showEditor_=function(){this.menu_=this.dropdownCreate_(),this.menu_.render(t.DropDownDiv.getContentDiv()),t.utils.dom.addClass(this.menu_.getElement(),"blocklyDropdownMenu"),t.DropDownDiv.showPositionedByField(this,this.dropdownDispose_.bind(this)),this.menu_.focus(),this.selectedMenuItem_&&t.utils.style.scrollIntoContainerView(this.selectedMenuItem_.getElement(),this.menu_.getElement())},t.FieldDropdown.prototype.dropdownCreate_=function(){var e=new t.Menu;e.setRightToLeft(this.sourceBlock_.RTL),e.setRole("listbox");var i=this.getOptions(!1);this.selectedMenuItem_=null;for(var n=0;n<i.length;n++){var o=i[n][0],s=i[n][1];if("object"==typeof o){var r=new Image(o.width,o.height);r.src=o.src,r.alt=o.alt||"",o=r}o=new t.MenuItem(o),o.setRole("option"),o.setRightToLeft(this.sourceBlock_.RTL),o.setValue(s),o.setCheckable(!0),e.addChild(o,!0),o.setChecked(s==this.value_),s==this.value_&&(this.selectedMenuItem_=o),o.onAction(this.handleMenuActionEvent_,this)}return t.utils.aria.setState(e.getElement(),t.utils.aria.State.ACTIVEDESCENDANT,this.selectedMenuItem_?this.selectedMenuItem_.getId():""),e},t.FieldDropdown.prototype.dropdownDispose_=function(){this.menu_.dispose(),this.menu_=null},t.FieldDropdown.prototype.handleMenuActionEvent_=function(e){t.DropDownDiv.hideIfOwner(this,!0),this.onItemSelected(this.menu_,e)},t.FieldDropdown.prototype.onItemSelected=function(t,e){this.setValue(e.getValue())},t.FieldDropdown.prototype.trimOptions_=function(){this.suffixField=this.prefixField=null;var e=this.menuGenerator_;if(Array.isArray(e)){for(var i=!1,n=0;n<e.length;n++){var o=e[n][0];"string"==typeof o?e[n][0]=t.utils.replaceMessageReferences(o):(null!=o.alt&&(e[n][0].alt=t.utils.replaceMessageReferences(o.alt)),i=!0)}if(!(i||2>e.length)){for(i=[],n=0;n<e.length;n++)i.push(e[n][0]);n=t.utils.string.shortestStringLength(i),o=t.utils.string.commonWordPrefix(i,n);var s=t.utils.string.commonWordSuffix(i,n);!o&&!s||n<=o+s||(o&&(this.prefixField=i[0].substring(0,o-1)),s&&(this.suffixField=i[0].substr(1-s)),this.menuGenerator_=t.FieldDropdown.applyTrim_(e,o,s))}}},t.FieldDropdown.applyTrim_=function(t,e,i){for(var n=[],o=0;o<t.length;o++){var s=t[o][0],r=t[o][1];s=s.substring(e,s.length-i),n[o]=[s,r]}return n},t.FieldDropdown.prototype.isOptionListDynamic=function(){return"function"==typeof this.menuGenerator_},t.FieldDropdown.prototype.getOptions=function(e){return this.isOptionListDynamic()?(this.generatedOptions_&&e||(this.generatedOptions_=this.menuGenerator_.call(this),t.FieldDropdown.validateOptions_(this.generatedOptions_)),this.generatedOptions_):this.menuGenerator_},t.FieldDropdown.prototype.doClassValidation_=function(t){for(var e,i=!1,n=this.getOptions(!0),o=0;e=n[o];o++)if(e[1]==t){i=!0;break}return i?t:(this.sourceBlock_&&console.warn("Cannot set the dropdown's value to an unavailable option. Block type: "+this.sourceBlock_.type+", Field name: "+this.name+", Value: "+t),null)},t.FieldDropdown.prototype.doValueUpdate_=function(e){t.FieldDropdown.superClass_.doValueUpdate_.call(this,e),e=this.getOptions(!0);for(var i,n=0;i=e[n];n++)i[1]==this.value_&&(this.selectedIndex_=n)},t.FieldDropdown.prototype.updateColour=function(){this.sourceBlock_&&this.arrow_&&(this.sourceBlock_.isShadow()?this.arrow_.style.fill=this.sourceBlock_.getColourShadow():this.arrow_.style.fill=this.sourceBlock_.getColour())},t.FieldDropdown.prototype.render_=function(){this.textContent_.nodeValue="",this.imageElement_.style.display="none";var t=this.getOptions(!0);(t=0<=this.selectedIndex_&&t[this.selectedIndex_][0])&&"object"==typeof t?this.renderSelectedImage_(t):this.renderSelectedText_(),this.borderRect_.setAttribute("height",this.size_.height),this.borderRect_.setAttribute("width",this.size_.width)},t.FieldDropdown.prototype.renderSelectedImage_=function(e){this.imageElement_.style.display="",this.imageElement_.setAttributeNS(t.utils.dom.XLINK_NS,"xlink:href",e.src),this.imageElement_.setAttribute("height",e.height),this.imageElement_.setAttribute("width",e.width);var i=t.utils.dom.getTextWidth(this.arrow_),n=Number(e.width);this.size_.height=Number(e.height)+t.FieldDropdown.IMAGE_Y_PADDING,this.size_.width=n+i+t.Field.X_PADDING,this.sourceBlock_.RTL?(e=t.Field.DEFAULT_TEXT_OFFSET-1,this.imageElement_.setAttribute("x",t.Field.DEFAULT_TEXT_OFFSET+i),this.textElement_.setAttribute("x",e)):(e=n+i+t.Field.DEFAULT_TEXT_OFFSET+1,this.textElement_.setAttribute("text-anchor","end"),this.textElement_.setAttribute("x",e),this.imageElement_.setAttribute("x",t.Field.DEFAULT_TEXT_OFFSET))},t.FieldDropdown.prototype.renderSelectedText_=function(){this.textContent_.nodeValue=this.getDisplayText_(),this.textElement_.setAttribute("text-anchor","start"),this.textElement_.setAttribute("x",t.Field.DEFAULT_TEXT_OFFSET),this.size_.height=t.Field.BORDER_RECT_DEFAULT_HEIGHT,this.size_.width=t.utils.dom.getTextWidth(this.textElement_)+t.Field.X_PADDING},t.FieldDropdown.prototype.getText_=function(){if(0>this.selectedIndex_)return null;var t=this.getOptions(!0)[this.selectedIndex_][0];return"object"==typeof t?t.alt:t},t.FieldDropdown.validateOptions_=function(t){if(!Array.isArray(t))throw TypeError("FieldDropdown options must be an array.");if(!t.length)throw TypeError("FieldDropdown options must not be an empty array.");for(var e=!1,i=0;i<t.length;++i){var n=t[i];Array.isArray(n)?"string"!=typeof n[1]?(e=!0,console.error("Invalid option["+i+"]: Each FieldDropdown option id must be a string. Found "+n[1]+" in: ",n)):n[0]&&"string"!=typeof n[0]&&"string"!=typeof n[0].src&&(e=!0,console.error("Invalid option["+i+"]: Each FieldDropdown option must have a string label or image description. Found"+n[0]+" in: ",n)):(e=!0,console.error("Invalid option["+i+"]: Each FieldDropdown option must be an array. Found: ",n))}if(e)throw TypeError("Found invalid FieldDropdown options.")},t.FieldDropdown.prototype.onBlocklyAction=function(e){if(this.menu_){if(e===t.navigation.ACTION_PREVIOUS)return this.menu_.highlightPrevious(),!0;if(e===t.navigation.ACTION_NEXT)return this.menu_.highlightNext(),!0}return t.FieldDropdown.superClass_.onBlocklyAction.call(this,e)},t.fieldRegistry.register("field_dropdown",t.FieldDropdown),t.FieldImage=function(e,i,n,o,s,r,a){if(!e)throw Error("Src value of an image field is required");if(e=t.utils.replaceMessageReferences(e),n=Number(t.utils.replaceMessageReferences(n)),i=Number(t.utils.replaceMessageReferences(i)),isNaN(n)||isNaN(i))throw Error("Height and width values of an image field must cast to numbers.");if(0>=n||0>=i)throw Error("Height and width values of an image field must be greater than 0.");this.flipRtl_=!1,this.altText_="",t.FieldImage.superClass_.constructor.call(this,e||"",null,a),a||(this.flipRtl_=!!r,this.altText_=t.utils.replaceMessageReferences(o)||""),this.size_=new t.utils.Size(i,n+t.FieldImage.Y_PADDING),this.imageHeight_=n,this.clickHandler_=null,"function"==typeof s&&(this.clickHandler_=s)},t.utils.object.inherits(t.FieldImage,t.Field),t.FieldImage.fromJson=function(e){return new t.FieldImage(e.src,e.width,e.height,void 0,void 0,void 0,e)},t.FieldImage.Y_PADDING=1,t.FieldImage.prototype.EDITABLE=!1,t.FieldImage.prototype.isDirty_=!1,t.FieldImage.prototype.configure_=function(e){t.FieldImage.superClass_.configure_.call(this,e),this.flipRtl_=!!e.flipRtl,this.altText_=t.utils.replaceMessageReferences(e.alt)||""},t.FieldImage.prototype.initView=function(){this.imageElement_=t.utils.dom.createSvgElement("image",{height:this.imageHeight_+"px",width:this.size_.width+"px",alt:this.altText_},this.fieldGroup_),this.imageElement_.setAttributeNS(t.utils.dom.XLINK_NS,"xlink:href",this.value_)},t.FieldImage.prototype.doClassValidation_=function(t){return"string"!=typeof t?null:t},t.FieldImage.prototype.doValueUpdate_=function(e){this.value_=e,this.imageElement_&&this.imageElement_.setAttributeNS(t.utils.dom.XLINK_NS,"xlink:href",this.value_||"")},t.FieldImage.prototype.getFlipRtl=function(){return this.flipRtl_},t.FieldImage.prototype.setAlt=function(t){t!=this.altText_&&(this.altText_=t||"",this.imageElement_&&this.imageElement_.setAttribute("alt",this.altText_))},t.FieldImage.prototype.showEditor_=function(){this.clickHandler_&&this.clickHandler_(this)},t.FieldImage.prototype.setOnClickHandler=function(t){this.clickHandler_=t},t.FieldImage.prototype.getText_=function(){return this.altText_},t.fieldRegistry.register("field_image",t.FieldImage),t.FieldLabelSerializable=function(e,i,n){t.FieldLabelSerializable.superClass_.constructor.call(this,e,i,n)},t.utils.object.inherits(t.FieldLabelSerializable,t.FieldLabel),t.FieldLabelSerializable.fromJson=function(e){var i=t.utils.replaceMessageReferences(e.text);return new t.FieldLabelSerializable(i,void 0,e)},t.FieldLabelSerializable.prototype.EDITABLE=!1,t.FieldLabelSerializable.prototype.SERIALIZABLE=!0,t.fieldRegistry.register("field_label_serializable",t.FieldLabelSerializable),t.FieldMultilineInput=function(e,i,n){null==e&&(e=""),t.FieldMultilineInput.superClass_.constructor.call(this,e,i,n)},t.utils.object.inherits(t.FieldMultilineInput,t.FieldTextInput),t.FieldMultilineInput.LINE_HEIGHT=20,t.FieldMultilineInput.fromJson=function(e){var i=t.utils.replaceMessageReferences(e.text);return new t.FieldMultilineInput(i,void 0,e)},t.FieldMultilineInput.prototype.initView=function(){this.createBorderRect_(),this.textGroup_=t.utils.dom.createSvgElement("g",{class:"blocklyEditableText"},this.fieldGroup_)},t.FieldMultilineInput.prototype.getDisplayText_=function(){var e=this.value_;if(!e)return t.Field.NBSP;var i=e.split("\n");e="";for(var n=0;n<i.length;n++){var o=i[n];o.length>this.maxDisplayLength&&(o=o.substring(0,this.maxDisplayLength-4)+"..."),o=o.replace(/\s/g,t.Field.NBSP),e+=o,n!==i.length-1&&(e+="\n")}return this.sourceBlock_.RTL&&(e+="‏"),e},t.FieldMultilineInput.prototype.render_=function(){for(var e;e=this.textGroup_.firstChild;)this.textGroup_.removeChild(e);e=this.getDisplayText_().split("\n");for(var i=t.Field.Y_PADDING/2,n=0,o=0;o<e.length;o++)t.utils.dom.createSvgElement("text",{class:"blocklyText blocklyMultilineText",x:t.Field.DEFAULT_TEXT_OFFSET,y:n+i,dy:t.FieldMultilineInput.LINE_HEIGHT/2},this.textGroup_).appendChild(document.createTextNode(e[o])),n+=t.FieldMultilineInput.LINE_HEIGHT;this.updateSize_(),this.isBeingEdited_&&(this.sourceBlock_.RTL?setTimeout(this.resizeEditor_.bind(this),0):this.resizeEditor_(),this.isTextValid_?(t.utils.dom.removeClass(this.htmlInput_,"blocklyInvalidInput"),t.utils.aria.setState(this.htmlInput_,"invalid",!1)):(t.utils.dom.addClass(this.htmlInput_,"blocklyInvalidInput"),t.utils.aria.setState(this.htmlInput_,"invalid",!0)))},t.FieldMultilineInput.prototype.updateSize_=function(){for(var e=this.textGroup_.childNodes,i=0,n=0,o=0;o<e.length;o++){var s=t.utils.dom.getTextWidth(e[o]);s>i&&(i=s),n+=t.FieldMultilineInput.LINE_HEIGHT}this.borderRect_&&(i+=t.Field.X_PADDING,this.borderRect_.setAttribute("width",i),this.borderRect_.setAttribute("height",n)),this.size_.width=i,this.size_.height=n},t.FieldMultilineInput.prototype.resizeEditor_=function(){var e=t.WidgetDiv.DIV,i=this.getScaledBBox_();e.style.width=i.right-i.left+"px",e.style.height=i.bottom-i.top+"px",i=new t.utils.Coordinate(this.sourceBlock_.RTL?i.right-e.offsetWidth:i.left,i.top),e.style.left=i.x+"px",e.style.top=i.y+"px"},t.FieldMultilineInput.prototype.widgetCreate_=function(){var e=t.WidgetDiv.DIV,i=this.workspace_.scale,n=document.createElement("textarea");n.className="blocklyHtmlInput blocklyHtmlTextAreaInput",n.setAttribute("spellcheck",this.spellcheck_);var o=t.FieldTextInput.FONTSIZE*i+"pt";return e.style.fontSize=o,n.style.fontSize=o,n.style.borderRadius=t.FieldTextInput.BORDERRADIUS*i+"px",o=t.Field.DEFAULT_TEXT_OFFSET*i,n.style.paddingLeft=o+"px",n.style.width="calc(100% - "+o+"px)",n.style.lineHeight=t.FieldMultilineInput.LINE_HEIGHT*i+"px",e.appendChild(n),n.value=n.defaultValue=this.getEditorText_(this.value_),n.untypedDefaultValue_=this.value_,n.oldValue_=null,t.utils.userAgent.GECKO?setTimeout(this.resizeEditor_.bind(this),0):this.resizeEditor_(),this.bindInputEvents_(n),n},t.FieldMultilineInput.prototype.onHtmlInputKeyDown_=function(e){e.keyCode!==t.utils.KeyCodes.ENTER&&t.FieldMultilineInput.superClass_.onHtmlInputKeyDown_.call(this,e)},t.Css.register(".blocklyHtmlTextAreaInput {,font-family: monospace;,resize: none;,overflow: hidden;,height: 100%;,text-align: left;,}".split(",")),t.fieldRegistry.register("field_multilinetext",t.FieldMultilineInput),t.FieldNumber=function(e,i,n,o,s,r){this.min_=-1/0,this.max_=1/0,this.precision_=0,this.decimalPlaces_=null,t.FieldNumber.superClass_.constructor.call(this,e||0,s,r),r||this.setConstraints(i,n,o)},t.utils.object.inherits(t.FieldNumber,t.FieldTextInput),t.FieldNumber.fromJson=function(e){return new t.FieldNumber(e.value,void 0,void 0,void 0,void 0,e)},t.FieldNumber.prototype.SERIALIZABLE=!0,t.FieldNumber.prototype.configure_=function(e){t.FieldNumber.superClass_.configure_.call(this,e),this.setMinInternal_(e.min),this.setMaxInternal_(e.max),this.setPrecisionInternal_(e.precision)},t.FieldNumber.prototype.setConstraints=function(t,e,i){this.setMinInternal_(t),this.setMaxInternal_(e),this.setPrecisionInternal_(i),this.setValue(this.getValue())},t.FieldNumber.prototype.setMin=function(t){this.setMinInternal_(t),this.setValue(this.getValue())},t.FieldNumber.prototype.setMinInternal_=function(t){null==t?this.min_=-1/0:(t=Number(t),isNaN(t)||(this.min_=t))},t.FieldNumber.prototype.getMin=function(){return this.min_},t.FieldNumber.prototype.setMax=function(t){this.setMaxInternal_(t),this.setValue(this.getValue())},t.FieldNumber.prototype.setMaxInternal_=function(t){null==t?this.max_=1/0:(t=Number(t),isNaN(t)||(this.max_=t))},t.FieldNumber.prototype.getMax=function(){return this.max_},t.FieldNumber.prototype.setPrecision=function(t){this.setPrecisionInternal_(t),this.setValue(this.getValue())},t.FieldNumber.prototype.setPrecisionInternal_=function(t){null==t?this.precision_=0:(t=Number(t),isNaN(t)||(this.precision_=t));var e=this.precision_.toString(),i=e.indexOf(".");this.decimalPlaces_=-1==i?t?0:null:e.length-i-1},t.FieldNumber.prototype.getPrecision=function(){return this.precision_},t.FieldNumber.prototype.doClassValidation_=function(t){return null===t?null:(t=String(t),t=t.replace(/O/gi,"0"),t=t.replace(/,/g,""),t=Number(t||0),isNaN(t)?null:(t=Math.min(Math.max(t,this.min_),this.max_),this.precision_&&isFinite(t)&&(t=Math.round(t/this.precision_)*this.precision_),null!=this.decimalPlaces_&&(t=Number(t.toFixed(this.decimalPlaces_))),t))},t.FieldNumber.prototype.widgetCreate_=function(){var e=t.FieldNumber.superClass_.widgetCreate_.call(this);return-1/0<this.min_&&t.utils.aria.setState(e,t.utils.aria.State.VALUEMIN,this.min_),1/0>this.max_&&t.utils.aria.setState(e,t.utils.aria.State.VALUEMAX,this.max_),e},t.fieldRegistry.register("field_number",t.FieldNumber),t.FieldVariable=function(e,i,n,o,s){this.menuGenerator_=t.FieldVariable.dropdownCreate,this.defaultVariableName=e||"",this.size_=new t.utils.Size(0,t.BlockSvg.MIN_BLOCK_Y),s&&this.configure_(s),i&&this.setValidator(i),s||this.setTypes_(n,o)},t.utils.object.inherits(t.FieldVariable,t.FieldDropdown),t.FieldVariable.fromJson=function(e){var i=t.utils.replaceMessageReferences(e.variable);return new t.FieldVariable(i,void 0,void 0,void 0,e)},t.FieldVariable.prototype.workspace_=null,t.FieldVariable.prototype.SERIALIZABLE=!0,t.FieldVariable.prototype.configure_=function(e){t.FieldVariable.superClass_.configure_.call(this,e),this.setTypes_(e.variableTypes,e.defaultType)},t.FieldVariable.prototype.initModel=function(){if(!this.variable_){var e=t.Variables.getOrCreateVariablePackage(this.sourceBlock_.workspace,null,this.defaultVariableName,this.defaultType_);t.Events.disable(),this.setValue(e.getId()),t.Events.enable()}},t.FieldVariable.prototype.fromXml=function(e){var i=e.getAttribute("id"),n=e.textContent,o=e.getAttribute("variabletype")||e.getAttribute("variableType")||"";if(i=t.Variables.getOrCreateVariablePackage(this.sourceBlock_.workspace,i,n,o),null!=o&&o!==i.type)throw Error("Serialized variable type with id '"+i.getId()+"' had type "+i.type+", and does not match variable field that references it: "+t.Xml.domToText(e)+".");this.setValue(i.getId())},t.FieldVariable.prototype.toXml=function(t){return this.initModel(),t.id=this.variable_.getId(),t.textContent=this.variable_.name,this.variable_.type&&t.setAttribute("variabletype",this.variable_.type),t},t.FieldVariable.prototype.setSourceBlock=function(e){if(e.isShadow())throw Error("Variable fields are not allowed to exist on shadow blocks.");t.FieldVariable.superClass_.setSourceBlock.call(this,e)},t.FieldVariable.prototype.getValue=function(){return this.variable_?this.variable_.getId():null},t.FieldVariable.prototype.getText=function(){return this.variable_?this.variable_.name:""},t.FieldVariable.prototype.getVariable=function(){return this.variable_},t.FieldVariable.prototype.getValidator=function(){return this.variable_?this.validator_:null},t.FieldVariable.prototype.doClassValidation_=function(e){if(null===e)return null;var i=t.Variables.getVariable(this.sourceBlock_.workspace,e);return i?(i=i.type,this.typeIsAllowed_(i)?e:(console.warn("Variable type doesn't match this field!  Type was "+i),null)):(console.warn("Variable id doesn't point to a real variable! ID was "+e),null)},t.FieldVariable.prototype.doValueUpdate_=function(e){this.variable_=t.Variables.getVariable(this.sourceBlock_.workspace,e),t.FieldVariable.superClass_.doValueUpdate_.call(this,e)},t.FieldVariable.prototype.typeIsAllowed_=function(t){var e=this.getVariableTypes_();if(!e)return!0;for(var i=0;i<e.length;i++)if(t==e[i])return!0;return!1},t.FieldVariable.prototype.getVariableTypes_=function(){var t=this.variableTypes;if(null===t&&this.sourceBlock_&&this.sourceBlock_.workspace)return this.sourceBlock_.workspace.getVariableTypes();if(t=t||[""],0==t.length)throw t=this.getText(),Error("'variableTypes' of field variable "+t+" was an empty list");return t},t.FieldVariable.prototype.setTypes_=function(t,e){var i=e||"";if(null==t||void 0==t)var n=null;else{if(!Array.isArray(t))throw Error("'variableTypes' was not an array in the definition of a FieldVariable");n=t;for(var o=!1,s=0;s<n.length;s++)n[s]==i&&(o=!0);if(!o)throw Error("Invalid default type '"+i+"' in the definition of a FieldVariable")}this.defaultType_=i,this.variableTypes=n},t.FieldVariable.prototype.refreshVariableName=function(){this.forceRerender()},t.FieldVariable.dropdownCreate=function(){if(!this.variable_)throw Error("Tried to call dropdownCreate on a variable field with no variable selected.");var e=this.getText(),i=[];if(this.sourceBlock_&&this.sourceBlock_.workspace)for(var n=this.getVariableTypes_(),o=0;o<n.length;o++){var s=this.sourceBlock_.workspace.getVariablesOfType(n[o]);i=i.concat(s)}for(i.sort(t.VariableModel.compareByName),n=[],o=0;o<i.length;o++)n[o]=[i[o].name,i[o].getId()];return n.push([t.Msg.RENAME_VARIABLE,t.RENAME_VARIABLE_ID]),t.Msg.DELETE_VARIABLE&&n.push([t.Msg.DELETE_VARIABLE.replace("%1",e),t.DELETE_VARIABLE_ID]),n},t.FieldVariable.prototype.onItemSelected=function(e,i){var n=i.getValue();if(this.sourceBlock_&&this.sourceBlock_.workspace){if(n==t.RENAME_VARIABLE_ID)return void t.Variables.renameVariable(this.sourceBlock_.workspace,this.variable_);if(n==t.DELETE_VARIABLE_ID)return void this.sourceBlock_.workspace.deleteVariableById(this.variable_.getId())}this.setValue(n)},t.FieldVariable.prototype.referencesVariables=function(){return!0},t.fieldRegistry.register("field_variable",t.FieldVariable),t.FlyoutCursor=function(){t.FlyoutCursor.superClass_.constructor.call(this)},t.utils.object.inherits(t.FlyoutCursor,t.Cursor),t.FlyoutCursor.prototype.next=function(){var t=this.getCurNode();return t?((t=t.next())&&this.setCurNode(t),t):null},t.FlyoutCursor.prototype["in"]=function(){return null},t.FlyoutCursor.prototype.prev=function(){var t=this.getCurNode();return t?((t=t.prev())&&this.setCurNode(t),t):null},t.FlyoutCursor.prototype.out=function(){return null},t.Flyout=function(e){e.getMetrics=this.getMetrics_.bind(this),e.setMetrics=this.setMetrics_.bind(this),this.workspace_=new t.WorkspaceSvg(e),this.workspace_.isFlyout=!0,this.workspace_.setCursor(new t.FlyoutCursor),this.workspace_.setMarker(new t.MarkerCursor),this.RTL=!!e.RTL,this.toolboxPosition_=e.toolboxPosition,this.eventWrappers_=[],this.mats_=[],this.buttons_=[],this.listeners_=[],this.permanentlyDisabled_=[],this.tabWidth_=this.workspace_.getRenderer().getConstants().TAB_WIDTH},t.Flyout.prototype.autoClose=!0,t.Flyout.prototype.isVisible_=!1,t.Flyout.prototype.containerVisible_=!0,t.Flyout.prototype.CORNER_RADIUS=8,t.Flyout.prototype.MARGIN=t.Flyout.prototype.CORNER_RADIUS,t.Flyout.prototype.GAP_X=3*t.Flyout.prototype.MARGIN,t.Flyout.prototype.GAP_Y=3*t.Flyout.prototype.MARGIN,t.Flyout.prototype.SCROLLBAR_PADDING=2,t.Flyout.prototype.width_=0,t.Flyout.prototype.height_=0,t.Flyout.prototype.dragAngleRange_=70,t.Flyout.prototype.createDom=function(e){return this.svgGroup_=t.utils.dom.createSvgElement(e,{class:"blocklyFlyout",style:"display: none"},null),this.svgBackground_=t.utils.dom.createSvgElement("path",{class:"blocklyFlyoutBackground"},this.svgGroup_),this.svgGroup_.appendChild(this.workspace_.createDom()),this.workspace_.getThemeManager().subscribe(this.svgBackground_,"flyout","fill"),this.workspace_.getThemeManager().subscribe(this.svgBackground_,"flyoutOpacity","fill-opacity"),this.svgGroup_},t.Flyout.prototype.init=function(e){this.targetWorkspace_=e,this.workspace_.targetWorkspace=e,this.scrollbar_=new t.Scrollbar(this.workspace_,this.horizontalLayout_,!1,"blocklyFlyoutScrollbar"),this.hide(),Array.prototype.push.apply(this.eventWrappers_,t.bindEventWithChecks_(this.svgGroup_,"wheel",this,this.wheel_)),this.autoClose||(this.filterWrapper_=this.filterForCapacity_.bind(this),this.targetWorkspace_.addChangeListener(this.filterWrapper_)),Array.prototype.push.apply(this.eventWrappers_,t.bindEventWithChecks_(this.svgBackground_,"mousedown",this,this.onMouseDown_)),this.workspace_.getGesture=this.targetWorkspace_.getGesture.bind(this.targetWorkspace_),this.workspace_.variableMap_=this.targetWorkspace_.getVariableMap(),this.workspace_.createPotentialVariableMap()},t.Flyout.prototype.dispose=function(){this.hide(),t.unbindEvent_(this.eventWrappers_),this.filterWrapper_&&(this.targetWorkspace_.removeChangeListener(this.filterWrapper_),this.filterWrapper_=null),this.scrollbar_&&(this.scrollbar_.dispose(),this.scrollbar_=null),this.workspace_&&(this.workspace_.getThemeManager().unsubscribe(this.svgBackground_),this.workspace_.targetWorkspace=null,this.workspace_.dispose(),this.workspace_=null),this.svgGroup_&&(t.utils.dom.removeNode(this.svgGroup_),this.svgGroup_=null),this.targetWorkspace_=this.svgBackground_=null},t.Flyout.prototype.getWidth=function(){return this.width_},t.Flyout.prototype.getHeight=function(){return this.height_},t.Flyout.prototype.getWorkspace=function(){return this.workspace_},t.Flyout.prototype.isVisible=function(){return this.isVisible_},t.Flyout.prototype.setVisible=function(t){var e=t!=this.isVisible();this.isVisible_=t,e&&this.updateDisplay_()},t.Flyout.prototype.setContainerVisible=function(t){var e=t!=this.containerVisible_;this.containerVisible_=t,e&&this.updateDisplay_()},t.Flyout.prototype.updateDisplay_=function(){var t=!!this.containerVisible_&&this.isVisible();this.svgGroup_.style.display=t?"block":"none",this.scrollbar_.setContainerVisible(t)},t.Flyout.prototype.positionAt_=function(e,i,n,o){this.svgGroup_.setAttribute("width",e),this.svgGroup_.setAttribute("height",i),"svg"==this.svgGroup_.tagName?t.utils.dom.setCssTransform(this.svgGroup_,"translate("+n+"px,"+o+"px)"):this.svgGroup_.setAttribute("transform","translate("+n+","+o+")"),this.scrollbar_&&(this.scrollbar_.setOrigin(n,o),this.scrollbar_.resize(),this.scrollbar_.setPosition_(this.scrollbar_.position_.x,this.scrollbar_.position_.y))},t.Flyout.prototype.hide=function(){if(this.isVisible()){this.setVisible(!1);for(var e,i=0;e=this.listeners_[i];i++)t.unbindEvent_(e);this.listeners_.length=0,this.reflowWrapper_&&(this.workspace_.removeChangeListener(this.reflowWrapper_),this.reflowWrapper_=null)}},t.Flyout.prototype.show=function(e){if(this.workspace_.setResizesEnabled(!1),this.hide(),this.clearOldBlocks_(),"string"==typeof e){if(e=this.workspace_.targetWorkspace.getToolboxCategoryCallback(e),"function"!=typeof e)throw TypeError("Couldn't find a callback function when opening a toolbox category.");if(e=e(this.workspace_.targetWorkspace),!Array.isArray(e))throw TypeError("Result of toolbox category callback must be an array.")}this.setVisible(!0);var i=[],n=[];this.permanentlyDisabled_.length=0;for(var o,s=this.horizontalLayout_?this.GAP_X:this.GAP_Y,r=0;o=e[r];r++)if(o.tagName)switch(o.tagName.toUpperCase()){case"BLOCK":var a=t.Xml.domToBlock(o,this.workspace_);a.isEnabled()||this.permanentlyDisabled_.push(a),i.push({type:"block",block:a}),o=parseInt(o.getAttribute("gap"),10),n.push(isNaN(o)?s:o);break;case"SEP":o=parseInt(o.getAttribute("gap"),10),!isNaN(o)&&0<n.length?n[n.length-1]=o:n.push(s);break;case"LABEL":case"BUTTON":if(a="LABEL"==o.tagName.toUpperCase(),!t.FlyoutButton)throw Error("Missing require for Blockly.FlyoutButton");o=new t.FlyoutButton(this.workspace_,this.targetWorkspace_,o,a),i.push({type:"button",button:o}),n.push(s)}this.layout_(i,n),this.listeners_.push(t.bindEventWithChecks_(this.svgBackground_,"mouseover",this,(function(){for(var t,e=this.workspace_.getTopBlocks(!1),i=0;t=e[i];i++)t.removeSelect()}))),this.horizontalLayout_?this.height_=0:this.width_=0,this.workspace_.setResizesEnabled(!0),this.reflow(),this.filterForCapacity_(),this.position(),this.reflowWrapper_=this.reflow.bind(this),this.workspace_.addChangeListener(this.reflowWrapper_)},t.Flyout.prototype.clearOldBlocks_=function(){for(var e,i=this.workspace_.getTopBlocks(!1),n=0;e=i[n];n++)e.workspace==this.workspace_&&e.dispose(!1,!1);for(n=0;n<this.mats_.length;n++)(i=this.mats_[n])&&t.utils.dom.removeNode(i);for(n=this.mats_.length=0;i=this.buttons_[n];n++)i.dispose();this.buttons_.length=0,this.workspace_.getPotentialVariableMap().clear()},t.Flyout.prototype.addBlockListeners_=function(e,i,n){this.listeners_.push(t.bindEventWithChecks_(e,"mousedown",null,this.blockMouseDown_(i))),this.listeners_.push(t.bindEventWithChecks_(n,"mousedown",null,this.blockMouseDown_(i))),this.listeners_.push(t.bindEvent_(e,"mouseover",i,i.addSelect)),this.listeners_.push(t.bindEvent_(e,"mouseout",i,i.removeSelect)),this.listeners_.push(t.bindEvent_(n,"mouseover",i,i.addSelect)),this.listeners_.push(t.bindEvent_(n,"mouseout",i,i.removeSelect))},t.Flyout.prototype.blockMouseDown_=function(t){var e=this;return function(i){var n=e.targetWorkspace_.getGesture(i);n&&(n.setStartBlock(t),n.handleFlyoutStart(i,e))}},t.Flyout.prototype.onMouseDown_=function(t){var e=this.targetWorkspace_.getGesture(t);e&&e.handleFlyoutStart(t,this)},t.Flyout.prototype.isBlockCreatable_=function(t){return t.isEnabled()},t.Flyout.prototype.createBlock=function(e){var i=null;t.Events.disable();var n=this.targetWorkspace_.getAllVariables();this.targetWorkspace_.setResizesEnabled(!1);try{i=this.placeNewBlock_(e),t.hideChaff()}finally{t.Events.enable()}if(e=t.Variables.getAddedVariables(this.targetWorkspace_,n),t.Events.isEnabled())for(t.Events.setGroup(!0),t.Events.fire(new t.Events.Create(i)),n=0;n<e.length;n++)t.Events.fire(new t.Events.VarCreate(e[n]));return this.autoClose?this.hide():this.filterForCapacity_(),i},t.Flyout.prototype.initFlyoutButton_=function(e,i,n){var o=e.createDom();e.moveTo(i,n),e.show(),this.listeners_.push(t.bindEventWithChecks_(o,"mousedown",this,this.onMouseDown_)),this.buttons_.push(e)},t.Flyout.prototype.createRect_=function(e,i,n,o,s){return i=t.utils.dom.createSvgElement("rect",{"fill-opacity":0,x:i,y:n,height:o.height,width:o.width},null),i.tooltip=e,t.Tooltip.bindMouseEvents(i),this.workspace_.getCanvas().insertBefore(i,e.getSvgRoot()),e.flyoutRect_=i,this.mats_[s]=i},t.Flyout.prototype.moveRectToBlock_=function(t,e){var i=e.getHeightWidth();t.setAttribute("width",i.width),t.setAttribute("height",i.height);var n=e.getRelativeToSurfaceXY();t.setAttribute("y",n.y),t.setAttribute("x",this.RTL?n.x-i.width:n.x)},t.Flyout.prototype.filterForCapacity_=function(){for(var e,i=this.workspace_.getTopBlocks(!1),n=0;e=i[n];n++)if(-1==this.permanentlyDisabled_.indexOf(e))for(var o=this.targetWorkspace_.isCapacityAvailable(t.utils.getBlockTypeCounts(e));e;)e.setEnabled(o),e=e.getNextBlock()},t.Flyout.prototype.reflow=function(){this.reflowWrapper_&&this.workspace_.removeChangeListener(this.reflowWrapper_),this.reflowInternal_(),this.reflowWrapper_&&this.workspace_.addChangeListener(this.reflowWrapper_)},t.Flyout.prototype.isScrollable=function(){return!!this.scrollbar_&&this.scrollbar_.isVisible()},t.Flyout.prototype.placeNewBlock_=function(e){var i=this.targetWorkspace_;if(!e.getSvgRoot())throw Error("oldBlock is not rendered.");var n=t.Xml.blockToDom(e,!0);if(i.setResizesEnabled(!1),n=t.Xml.domToBlock(n,i),!n.getSvgRoot())throw Error("block is not rendered.");var o=i.getOriginOffsetInPixels(),s=this.workspace_.getOriginOffsetInPixels();return e=e.getRelativeToSurfaceXY(),e.scale(this.workspace_.scale),e=t.utils.Coordinate.sum(s,e),o=t.utils.Coordinate.difference(e,o),o.scale(1/i.scale),n.moveBy(o.x,o.y),n},t.FlyoutButton=function(e,i,n,o){this.workspace_=e,this.targetWorkspace_=i,this.text_=n.getAttribute("text"),this.position_=new t.utils.Coordinate(0,0),this.isLabel_=o,this.callbackKey_=n.getAttribute("callbackKey")||n.getAttribute("callbackkey"),this.cssClass_=n.getAttribute("web-class")||null},t.FlyoutButton.MARGIN=5,t.FlyoutButton.prototype.width=0,t.FlyoutButton.prototype.height=0,t.FlyoutButton.prototype.onMouseUpWrapper_=null,t.FlyoutButton.prototype.createDom=function(){var e=this.isLabel_?"blocklyFlyoutLabel":"blocklyFlyoutButton";if(this.cssClass_&&(e+=" "+this.cssClass_),this.svgGroup_=t.utils.dom.createSvgElement("g",{class:e},this.workspace_.getCanvas()),!this.isLabel_)var i=t.utils.dom.createSvgElement("rect",{class:"blocklyFlyoutButtonShadow",rx:4,ry:4,x:1,y:1},this.svgGroup_);e=t.utils.dom.createSvgElement("rect",{class:this.isLabel_?"blocklyFlyoutLabelBackground":"blocklyFlyoutButtonBackground",rx:4,ry:4},this.svgGroup_);var n=t.utils.dom.createSvgElement("text",{class:this.isLabel_?"blocklyFlyoutLabelText":"blocklyText",x:0,y:0,"text-anchor":"middle"},this.svgGroup_);return n.textContent=t.utils.replaceMessageReferences(this.text_),this.isLabel_&&(this.svgText_=n,this.workspace_.getThemeManager().subscribe(this.svgText_,"flyoutText","fill")),this.width=t.utils.dom.getTextWidth(n),this.height=20,this.isLabel_||(this.width+=2*t.FlyoutButton.MARGIN,i.setAttribute("width",this.width),i.setAttribute("height",this.height)),e.setAttribute("width",this.width),e.setAttribute("height",this.height),n.setAttribute("x",this.width/2),n.setAttribute("y",this.height-t.FlyoutButton.MARGIN),this.updateTransform_(),this.onMouseUpWrapper_=t.bindEventWithChecks_(this.svgGroup_,"mouseup",this,this.onMouseUp_),this.svgGroup_},t.FlyoutButton.prototype.show=function(){this.updateTransform_(),this.svgGroup_.setAttribute("display","block")},t.FlyoutButton.prototype.updateTransform_=function(){this.svgGroup_.setAttribute("transform","translate("+this.position_.x+","+this.position_.y+")")},t.FlyoutButton.prototype.moveTo=function(t,e){this.position_.x=t,this.position_.y=e,this.updateTransform_()},t.FlyoutButton.prototype.getPosition=function(){return this.position_},t.FlyoutButton.prototype.getTargetWorkspace=function(){return this.targetWorkspace_},t.FlyoutButton.prototype.dispose=function(){this.onMouseUpWrapper_&&t.unbindEvent_(this.onMouseUpWrapper_),this.svgGroup_&&t.utils.dom.removeNode(this.svgGroup_),this.svgText_&&this.workspace_.getThemeManager().unsubscribe(this.svgText_)},t.FlyoutButton.prototype.onMouseUp_=function(t){(t=this.targetWorkspace_.getGesture(t))&&t.cancel(),this.isLabel_&&this.callbackKey_?console.warn("Labels should not have callbacks. Label text: "+this.text_):this.isLabel_||this.callbackKey_&&this.targetWorkspace_.getButtonCallback(this.callbackKey_)?this.isLabel_||this.targetWorkspace_.getButtonCallback(this.callbackKey_)(this):console.warn("Buttons should have callbacks. Button text: "+this.text_)},t.Css.register(".blocklyFlyoutButton {,fill: #888;,cursor: default;,},.blocklyFlyoutButtonShadow {,fill: #666;,},.blocklyFlyoutButton:hover {,fill: #aaa;,},.blocklyFlyoutLabel {,cursor: default;,},.blocklyFlyoutLabelBackground {,opacity: 0;,},.blocklyFlyoutLabelText {,fill: #000;,}".split(",")),t.HorizontalFlyout=function(e){e.getMetrics=this.getMetrics_.bind(this),e.setMetrics=this.setMetrics_.bind(this),t.HorizontalFlyout.superClass_.constructor.call(this,e),this.horizontalLayout_=!0},t.utils.object.inherits(t.HorizontalFlyout,t.Flyout),t.HorizontalFlyout.prototype.getMetrics_=function(){if(!this.isVisible())return null;try{var e=this.workspace_.getCanvas().getBBox()}catch(s){e={height:0,y:0,width:0,x:0}}var i=this.SCROLLBAR_PADDING,n=this.SCROLLBAR_PADDING;this.toolboxPosition_==t.TOOLBOX_AT_BOTTOM&&(i=0);var o=this.height_;return this.toolboxPosition_==t.TOOLBOX_AT_TOP&&(o-=this.SCROLLBAR_PADDING),{viewHeight:o,viewWidth:this.width_-2*this.SCROLLBAR_PADDING,contentHeight:(e.height+2*this.MARGIN)*this.workspace_.scale,contentWidth:(e.width+2*this.MARGIN)*this.workspace_.scale,viewTop:-this.workspace_.scrollY,viewLeft:-this.workspace_.scrollX,contentTop:0,contentLeft:0,absoluteTop:i,absoluteLeft:n}},t.HorizontalFlyout.prototype.setMetrics_=function(t){var e=this.getMetrics_();e&&("number"==typeof t.x&&(this.workspace_.scrollX=-e.contentWidth*t.x),this.workspace_.translate(this.workspace_.scrollX+e.absoluteLeft,this.workspace_.scrollY+e.absoluteTop))},t.HorizontalFlyout.prototype.position=function(){if(this.isVisible()){var e=this.targetWorkspace_.getMetrics();e&&(this.width_=e.viewWidth,this.setBackgroundPath_(e.viewWidth-2*this.CORNER_RADIUS,this.height_-this.CORNER_RADIUS),this.positionAt_(this.width_,this.height_,0,this.targetWorkspace_.toolboxPosition==this.toolboxPosition_?e.toolboxHeight?this.toolboxPosition_==t.TOOLBOX_AT_TOP?e.toolboxHeight:e.viewHeight-this.height_:this.toolboxPosition_==t.TOOLBOX_AT_TOP?0:e.viewHeight:this.toolboxPosition_==t.TOOLBOX_AT_TOP?0:e.viewHeight+e.absoluteTop-this.height_))}},t.HorizontalFlyout.prototype.setBackgroundPath_=function(e,i){var n=this.toolboxPosition_==t.TOOLBOX_AT_TOP,o=["M 0,"+(n?0:this.CORNER_RADIUS)];n?(o.push("h",e+2*this.CORNER_RADIUS),o.push("v",i),o.push("a",this.CORNER_RADIUS,this.CORNER_RADIUS,0,0,1,-this.CORNER_RADIUS,this.CORNER_RADIUS),o.push("h",-1*e),o.push("a",this.CORNER_RADIUS,this.CORNER_RADIUS,0,0,1,-this.CORNER_RADIUS,-this.CORNER_RADIUS)):(o.push("a",this.CORNER_RADIUS,this.CORNER_RADIUS,0,0,1,this.CORNER_RADIUS,-this.CORNER_RADIUS),o.push("h",e),o.push("a",this.CORNER_RADIUS,this.CORNER_RADIUS,0,0,1,this.CORNER_RADIUS,this.CORNER_RADIUS),o.push("v",i),o.push("h",-e-2*this.CORNER_RADIUS)),o.push("z"),this.svgBackground_.setAttribute("d",o.join(" "))},t.HorizontalFlyout.prototype.scrollToStart=function(){this.scrollbar_.set(this.RTL?1/0:0)},t.HorizontalFlyout.prototype.wheel_=function(e){var i=t.utils.getScrollDeltaPixels(e),n=i.x||i.y;n&&(i=this.getMetrics_(),n=i.viewLeft+n,n=Math.min(n,i.contentWidth-i.viewWidth),n=Math.max(n,0),this.scrollbar_.set(n),t.WidgetDiv.hide()),e.preventDefault(),e.stopPropagation()},t.HorizontalFlyout.prototype.layout_=function(t,e){this.workspace_.scale=this.targetWorkspace_.scale;var i=this.MARGIN,n=i+this.tabWidth_;this.RTL&&(t=t.reverse());for(var o,s=0;o=t[s];s++)if("block"==o.type){o=o.block;for(var r,a=o.getDescendants(!1),l=0;r=a[l];l++)r.isInFlyout=!0;o.render(),a=o.getSvgRoot(),l=o.getHeightWidth(),r=o.outputConnection?this.tabWidth_:0,r=this.RTL?n+l.width:n-r,o.moveBy(r,i),r=this.createRect_(o,r,i,l,s),n+=l.width+e[s],this.addBlockListeners_(a,o,r)}else"button"==o.type&&(this.initFlyoutButton_(o.button,n,i),n+=o.button.width+e[s])},t.HorizontalFlyout.prototype.isDragTowardWorkspace=function(t){t=Math.atan2(t.y,t.x)/Math.PI*180;var e=this.dragAngleRange_;return t<90+e&&t>90-e||t>-90-e&&t<-90+e},t.HorizontalFlyout.prototype.getClientRect=function(){if(!this.svgGroup_)return null;var e=this.svgGroup_.getBoundingClientRect(),i=e.top;return this.toolboxPosition_==t.TOOLBOX_AT_TOP?new t.utils.Rect(-1e9,i+e.height,-1e9,1e9):new t.utils.Rect(i,-1e9,-1e9,1e9)},t.HorizontalFlyout.prototype.reflowInternal_=function(){this.workspace_.scale=this.targetWorkspace_.scale;for(var e,i=0,n=this.workspace_.getTopBlocks(!1),o=0;e=n[o];o++)i=Math.max(i,e.getHeightWidth().height);if(i+=1.5*this.MARGIN,i*=this.workspace_.scale,i+=t.Scrollbar.scrollbarThickness,this.height_!=i){for(o=0;e=n[o];o++)e.flyoutRect_&&this.moveRectToBlock_(e.flyoutRect_,e);this.height_=i,this.position()}},t.VerticalFlyout=function(e){e.getMetrics=this.getMetrics_.bind(this),e.setMetrics=this.setMetrics_.bind(this),t.VerticalFlyout.superClass_.constructor.call(this,e),this.horizontalLayout_=!1},t.utils.object.inherits(t.VerticalFlyout,t.Flyout),t.VerticalFlyout.prototype.getMetrics_=function(){if(!this.isVisible())return null;try{var t=this.workspace_.getCanvas().getBBox()}catch(o){t={height:0,y:0,width:0,x:0}}var e=this.SCROLLBAR_PADDING,i=this.height_-2*this.SCROLLBAR_PADDING,n=this.width_;return this.RTL||(n-=this.SCROLLBAR_PADDING),{viewHeight:i,viewWidth:n,contentHeight:t.height*this.workspace_.scale+2*this.MARGIN,contentWidth:t.width*this.workspace_.scale+2*this.MARGIN,viewTop:-this.workspace_.scrollY+t.y,viewLeft:-this.workspace_.scrollX,contentTop:t.y,contentLeft:t.x,absoluteTop:e,absoluteLeft:0}},t.VerticalFlyout.prototype.setMetrics_=function(t){var e=this.getMetrics_();e&&("number"==typeof t.y&&(this.workspace_.scrollY=-e.contentHeight*t.y),this.workspace_.translate(this.workspace_.scrollX+e.absoluteLeft,this.workspace_.scrollY+e.absoluteTop))},t.VerticalFlyout.prototype.position=function(){if(this.isVisible()){var e=this.targetWorkspace_.getMetrics();e&&(this.height_=e.viewHeight,this.setBackgroundPath_(this.width_-this.CORNER_RADIUS,e.viewHeight-2*this.CORNER_RADIUS),this.positionAt_(this.width_,this.height_,this.targetWorkspace_.toolboxPosition==this.toolboxPosition_?e.toolboxWidth?this.toolboxPosition_==t.TOOLBOX_AT_LEFT?e.toolboxWidth:e.viewWidth-this.width_:this.toolboxPosition_==t.TOOLBOX_AT_LEFT?0:e.viewWidth:this.toolboxPosition_==t.TOOLBOX_AT_LEFT?0:e.viewWidth+e.absoluteLeft-this.width_,0))}},t.VerticalFlyout.prototype.setBackgroundPath_=function(e,i){var n=this.toolboxPosition_==t.TOOLBOX_AT_RIGHT,o=e+this.CORNER_RADIUS;o=["M "+(n?o:0)+",0"],o.push("h",n?-e:e),o.push("a",this.CORNER_RADIUS,this.CORNER_RADIUS,0,0,n?0:1,n?-this.CORNER_RADIUS:this.CORNER_RADIUS,this.CORNER_RADIUS),o.push("v",Math.max(0,i)),o.push("a",this.CORNER_RADIUS,this.CORNER_RADIUS,0,0,n?0:1,n?this.CORNER_RADIUS:-this.CORNER_RADIUS,this.CORNER_RADIUS),o.push("h",n?e:-e),o.push("z"),this.svgBackground_.setAttribute("d",o.join(" "))},t.VerticalFlyout.prototype.scrollToStart=function(){this.scrollbar_.set(0)},t.VerticalFlyout.prototype.wheel_=function(e){var i=t.utils.getScrollDeltaPixels(e);if(i.y){var n=this.getMetrics_();i=n.viewTop-n.contentTop+i.y,i=Math.min(i,n.contentHeight-n.viewHeight),i=Math.max(i,0),this.scrollbar_.set(i),t.WidgetDiv.hide()}e.preventDefault(),e.stopPropagation()},t.VerticalFlyout.prototype.layout_=function(t,e){this.workspace_.scale=this.targetWorkspace_.scale;for(var i,n=this.MARGIN,o=this.RTL?n:n+this.tabWidth_,s=0;i=t[s];s++)if("block"==i.type){i=i.block;for(var r,a=i.getDescendants(!1),l=0;r=a[l];l++)r.isInFlyout=!0;i.render(),a=i.getSvgRoot(),l=i.getHeightWidth(),r=i.outputConnection?o-this.tabWidth_:o,i.moveBy(r,n),r=this.createRect_(i,this.RTL?r-l.width:r,n,l,s),this.addBlockListeners_(a,i,r),n+=l.height+e[s]}else"button"==i.type&&(this.initFlyoutButton_(i.button,o,n),n+=i.button.height+e[s])},t.VerticalFlyout.prototype.isDragTowardWorkspace=function(t){t=Math.atan2(t.y,t.x)/Math.PI*180;var e=this.dragAngleRange_;return t<e&&t>-e||t<-180+e||t>180-e},t.VerticalFlyout.prototype.getClientRect=function(){if(!this.svgGroup_)return null;var e=this.svgGroup_.getBoundingClientRect(),i=e.left;return this.toolboxPosition_==t.TOOLBOX_AT_LEFT?new t.utils.Rect(-1e9,1e9,-1e9,i+e.width):(t.utils.userAgent.GECKO&&this.targetWorkspace_&&this.targetWorkspace_.isMutator&&(e=this.targetWorkspace_.svgGroup_.getBoundingClientRect().x,10>Math.abs(e-i)&&(i+=this.leftEdge_*this.targetWorkspace_.options.parentWorkspace.scale)),new t.utils.Rect(-1e9,1e9,i,1e9))},t.VerticalFlyout.prototype.reflowInternal_=function(){this.workspace_.scale=this.targetWorkspace_.scale;for(var e,i=0,n=this.workspace_.getTopBlocks(!1),o=0;e=n[o];o++){var s=e.getHeightWidth().width;e.outputConnection&&(s-=this.tabWidth_),i=Math.max(i,s)}for(o=0;e=this.buttons_[o];o++)i=Math.max(i,e.width);if(i+=1.5*this.MARGIN+this.tabWidth_,i*=this.workspace_.scale,i+=t.Scrollbar.scrollbarThickness,this.width_!=i){for(o=0;e=n[o];o++){if(this.RTL){s=e.getRelativeToSurfaceXY().x;var r=i/this.workspace_.scale-this.MARGIN;e.outputConnection||(r-=this.tabWidth_),e.moveBy(r-s,0)}e.flyoutRect_&&this.moveRectToBlock_(e.flyoutRect_,e)}if(this.RTL)for(o=0;e=this.buttons_[o];o++)n=e.getPosition().y,e.moveTo(i/this.workspace_.scale-e.width-this.MARGIN-this.tabWidth_,n);this.width_=i,this.position()}},t.Generator=function(t){this.name_=t,this.FUNCTION_NAME_PLACEHOLDER_REGEXP_=new RegExp(this.FUNCTION_NAME_PLACEHOLDER_,"g")},t.Generator.NAME_TYPE="generated_function",t.Generator.prototype.INFINITE_LOOP_TRAP=null,t.Generator.prototype.STATEMENT_PREFIX=null,t.Generator.prototype.STATEMENT_SUFFIX=null,t.Generator.prototype.INDENT="  ",t.Generator.prototype.COMMENT_WRAP=60,t.Generator.prototype.ORDER_OVERRIDES=[],t.Generator.prototype.workspaceToCode=function(e){e||(console.warn("No workspace specified in workspaceToCode call.  Guessing."),e=t.getMainWorkspace());var i=[];this.init(e),e=e.getTopBlocks(!0);for(var n,o=0;n=e[o];o++){var s=this.blockToCode(n);Array.isArray(s)&&(s=s[0]),s&&(n.outputConnection&&(s=this.scrubNakedValue(s),this.STATEMENT_PREFIX&&!n.suppressPrefixSuffix&&(s=this.injectId(this.STATEMENT_PREFIX,n)+s),this.STATEMENT_SUFFIX&&!n.suppressPrefixSuffix&&(s+=this.injectId(this.STATEMENT_SUFFIX,n))),i.push(s))}return i=i.join("\n"),i=this.finish(i),i=i.replace(/^\s+\n/,""),i=i.replace(/\n\s+$/,"\n"),i.replace(/[ \t]+\n/g,"\n")},t.Generator.prototype.prefixLines=function(t,e){return e+t.replace(/(?!\n$)\n/g,"\n"+e)},t.Generator.prototype.allNestedComments=function(t){var e=[];t=t.getDescendants(!0);for(var i=0;i<t.length;i++){var n=t[i].getCommentText();n&&e.push(n)}return e.length&&e.push(""),e.join("\n")},t.Generator.prototype.blockToCode=function(t,e){if(!t)return"";if(!t.isEnabled())return e?"":this.blockToCode(t.getNextBlock());var i=this[t.type];if("function"!=typeof i)throw Error('Language "'+this.name_+'" does not know how to generate  code for block type "'+t.type+'".');if(i=i.call(t,t),Array.isArray(i)){if(!t.outputConnection)throw TypeError("Expecting string from statement block: "+t.type);return[this.scrub_(t,i[0],e),i[1]]}if("string"==typeof i)return this.STATEMENT_PREFIX&&!t.suppressPrefixSuffix&&(i=this.injectId(this.STATEMENT_PREFIX,t)+i),this.STATEMENT_SUFFIX&&!t.suppressPrefixSuffix&&(i+=this.injectId(this.STATEMENT_SUFFIX,t)),this.scrub_(t,i,e);if(null===i)return"";throw SyntaxError("Invalid code generated: "+i)},t.Generator.prototype.valueToCode=function(t,e,i){if(isNaN(i))throw TypeError("Expecting valid order from block: "+t.type);var n=t.getInputTargetBlock(e);if(!n)return"";if(e=this.blockToCode(n),""===e)return"";if(!Array.isArray(e))throw TypeError("Expecting tuple from value block: "+n.type);if(t=e[0],e=e[1],isNaN(e))throw TypeError("Expecting valid order from value block: "+n.type);if(!t)return"";n=!1;var o=Math.floor(i),s=Math.floor(e);if(o<=s&&(o!=s||0!=o&&99!=o))for(n=!0,o=0;o<this.ORDER_OVERRIDES.length;o++)if(this.ORDER_OVERRIDES[o][0]==i&&this.ORDER_OVERRIDES[o][1]==e){n=!1;break}return n&&(t="("+t+")"),t},t.Generator.prototype.statementToCode=function(t,e){var i=t.getInputTargetBlock(e),n=this.blockToCode(i);if("string"!=typeof n)throw TypeError("Expecting code from statement block: "+(i&&i.type));return n&&(n=this.prefixLines(n,this.INDENT)),n},t.Generator.prototype.addLoopTrap=function(t,e){return this.INFINITE_LOOP_TRAP&&(t=this.prefixLines(this.injectId(this.INFINITE_LOOP_TRAP,e),this.INDENT)+t),this.STATEMENT_SUFFIX&&!e.suppressPrefixSuffix&&(t=this.prefixLines(this.injectId(this.STATEMENT_SUFFIX,e),this.INDENT)+t),this.STATEMENT_PREFIX&&!e.suppressPrefixSuffix&&(t+=this.prefixLines(this.injectId(this.STATEMENT_PREFIX,e),this.INDENT)),t},t.Generator.prototype.injectId=function(t,e){var i=e.id.replace(/\$/g,"$$$$");return t.replace(/%1/g,"'"+i+"'")},t.Generator.prototype.RESERVED_WORDS_="",t.Generator.prototype.addReservedWords=function(t){this.RESERVED_WORDS_+=t+","},t.Generator.prototype.FUNCTION_NAME_PLACEHOLDER_="{leCUI8hutHZI4480Dc}",t.Generator.prototype.provideFunction_=function(e,i){if(!this.definitions_[e]){var n,o=this.variableDB_.getDistinctName(e,t.Procedures.NAME_TYPE);for(this.functionNames_[e]=o,o=i.join("\n").replace(this.FUNCTION_NAME_PLACEHOLDER_REGEXP_,o);n!=o;)n=o,o=o.replace(/^(( {2})*) {2}/gm,"$1\0");o=o.replace(/\0/g,this.INDENT),this.definitions_[e]=o}return this.functionNames_[e]},t.Generator.prototype.init=function(t){},t.Generator.prototype.scrub_=function(t,e){return e},t.Generator.prototype.finish=function(t){return t},t.Generator.prototype.scrubNakedValue=function(t){return t},t.CursorSvg=function(t,e){this.workspace_=t,this.isMarker_=e,this.parent_=null,this.constants_=t.getRenderer().getConstants()},t.CursorSvg.CURSOR_HEIGHT=5,t.CursorSvg.CURSOR_WIDTH=100,t.CursorSvg.NOTCH_START_LENGTH=24,t.CursorSvg.VERTICAL_PADDING=5,t.CursorSvg.STACK_PADDING=10,t.CursorSvg.BLOCK_PADDING=2,t.CursorSvg.HEIGHT_MULTIPLIER=.75,t.CursorSvg.CURSOR_COLOR="#cc0a0a",t.CursorSvg.MARKER_COLOR="#4286f4",t.CursorSvg.CURSOR_CLASS="blocklyCursor",t.CursorSvg.MARKER_CLASS="blocklyMarker",t.CursorSvg.prototype.currentCursorSvg=null,t.CursorSvg.prototype.getSvgRoot=function(){return this.svgGroup_},t.CursorSvg.prototype.createDom=function(){return this.svgGroup_=t.utils.dom.createSvgElement("g",{class:this.isMarker_?t.CursorSvg.MARKER_CLASS:t.CursorSvg.CURSOR_CLASS},null),this.createCursorSvg_(),this.svgGroup_},t.CursorSvg.prototype.setParent_=function(t){this.isMarker_?(this.parent_&&this.parent_.setMarkerSvg(null),t.setMarkerSvg(this.getSvgRoot())):(this.parent_&&this.parent_.setCursorSvg(null),t.setCursorSvg(this.getSvgRoot())),this.parent_=t},t.CursorSvg.prototype.showWithBlockPrevOutput_=function(e){if(e){var i=e.width,n=e.height,o=n*t.CursorSvg.HEIGHT_MULTIPLIER,s=t.CursorSvg.BLOCK_PADDING;e.previousConnection?this.positionPrevious_(i,s,o):e.outputConnection?this.positionOutput_(i,n):this.positionBlock_(i,s,o),this.setParent_(e),this.showCurrent_()}},t.CursorSvg.prototype.showWithCoordinates_=function(e){var i=e.getWsCoordinate();e=i.x,i=i.y,this.workspace_.RTL&&(e-=t.CursorSvg.CURSOR_WIDTH),this.positionLine_(e,i,t.CursorSvg.CURSOR_WIDTH),this.setParent_(this.workspace_),this.showCurrent_()},t.CursorSvg.prototype.showWithField_=function(t){t=t.getLocation();var e=t.getSize().width,i=t.getSize().height;this.positionRect_(0,0,e,i),this.setParent_(t),this.showCurrent_()},t.CursorSvg.prototype.showWithInput_=function(t){t=t.getLocation();var e=t.getSourceBlock();this.positionInput_(t),this.setParent_(e),this.showCurrent_()},t.CursorSvg.prototype.showWithNext_=function(t){var e=t.getLocation();t=e.getSourceBlock();var i=0;e=e.getOffsetInBlock().y;var n=t.getHeightWidth().width;this.workspace_.RTL&&(i=-n),this.positionLine_(i,e,n),this.setParent_(t),this.showCurrent_()},t.CursorSvg.prototype.showWithStack_=function(e){e=e.getLocation();var i=e.getHeightWidth(),n=i.width+t.CursorSvg.STACK_PADDING;i=i.height+t.CursorSvg.STACK_PADDING;var o=-1*t.CursorSvg.STACK_PADDING/2,s=-1*t.CursorSvg.STACK_PADDING/2,r=o;this.workspace_.RTL&&(r=-(n+o)),this.positionRect_(r,s,n,i),this.setParent_(e),this.showCurrent_()},t.CursorSvg.prototype.showCurrent_=function(){this.hide(),this.currentCursorSvg.style.display=""},t.CursorSvg.prototype.positionBlock_=function(e,i,n){e=t.utils.svgPaths.moveBy(-1*i,n)+t.utils.svgPaths.lineOnAxis("V",-1*i)+t.utils.svgPaths.lineOnAxis("H",e+2*i)+t.utils.svgPaths.lineOnAxis("V",n),this.cursorBlock_.setAttribute("d",e),this.workspace_.RTL&&this.flipRtl_(this.cursorBlock_),this.currentCursorSvg=this.cursorBlock_},t.CursorSvg.prototype.positionInput_=function(e){var i=e.getOffsetInBlock().x;e=e.getOffsetInBlock().y;var n=t.utils.svgPaths.moveTo(0,0)+this.constants_.PUZZLE_TAB.pathDown;this.cursorInput_.setAttribute("d",n),this.cursorInput_.setAttribute("transform","translate("+i+","+e+")"+(this.workspace_.RTL?" scale(-1 1)":"")),this.currentCursorSvg=this.cursorInput_},t.CursorSvg.prototype.positionLine_=function(t,e,i){this.cursorSvgLine_.setAttribute("x",t),this.cursorSvgLine_.setAttribute("y",e),this.cursorSvgLine_.setAttribute("width",i),this.currentCursorSvg=this.cursorSvgLine_},t.CursorSvg.prototype.positionOutput_=function(e,i){var n=t.utils.svgPaths.moveBy(e,0)+t.utils.svgPaths.lineOnAxis("h",-1*(e-this.constants_.PUZZLE_TAB.width))+t.utils.svgPaths.lineOnAxis("v",this.constants_.TAB_OFFSET_FROM_TOP)+this.constants_.PUZZLE_TAB.pathDown+t.utils.svgPaths.lineOnAxis("V",i)+t.utils.svgPaths.lineOnAxis("H",e);this.cursorBlock_.setAttribute("d",n),this.workspace_.RTL&&this.flipRtl_(this.cursorBlock_),this.currentCursorSvg=this.cursorBlock_},t.CursorSvg.prototype.positionPrevious_=function(e,i,n){e=t.utils.svgPaths.moveBy(-1*i,n)+t.utils.svgPaths.lineOnAxis("V",-1*i)+t.utils.svgPaths.lineOnAxis("H",this.constants_.NOTCH_OFFSET_LEFT)+this.constants_.NOTCH.pathLeft+t.utils.svgPaths.lineOnAxis("H",e+2*i)+t.utils.svgPaths.lineOnAxis("V",n),this.cursorBlock_.setAttribute("d",e),this.workspace_.RTL&&this.flipRtl_(this.cursorBlock_),this.currentCursorSvg=this.cursorBlock_},t.CursorSvg.prototype.positionRect_=function(t,e,i,n){this.cursorSvgRect_.setAttribute("x",t),this.cursorSvgRect_.setAttribute("y",e),this.cursorSvgRect_.setAttribute("width",i),this.cursorSvgRect_.setAttribute("height",n),this.currentCursorSvg=this.cursorSvgRect_},t.CursorSvg.prototype.flipRtl_=function(t){t.setAttribute("transform","scale(-1 1)")},t.CursorSvg.prototype.hide=function(){this.cursorSvgLine_.style.display="none",this.cursorSvgRect_.style.display="none",this.cursorInput_.style.display="none",this.cursorBlock_.style.display="none"},t.CursorSvg.prototype.draw=function(e){e?e.getType()===t.ASTNode.types.BLOCK?(e=e.getLocation(),this.showWithBlockPrevOutput_(e)):e.getType()===t.ASTNode.types.OUTPUT?(e=e.getLocation().getSourceBlock(),this.showWithBlockPrevOutput_(e)):e.getLocation().type===t.INPUT_VALUE?this.showWithInput_(e):e.getLocation().type===t.NEXT_STATEMENT?this.showWithNext_(e):e.getType()===t.ASTNode.types.PREVIOUS?(e=e.getLocation().getSourceBlock(),this.showWithBlockPrevOutput_(e)):e.getType()===t.ASTNode.types.FIELD?this.showWithField_(e):e.getType()===t.ASTNode.types.WORKSPACE?this.showWithCoordinates_(e):e.getType()===t.ASTNode.types.STACK&&this.showWithStack_(e):this.hide()},t.CursorSvg.prototype.createCursorSvg_=function(){var e=this.isMarker_?t.CursorSvg.MARKER_COLOR:t.CursorSvg.CURSOR_COLOR;return this.cursorSvg_=t.utils.dom.createSvgElement("g",{width:t.CursorSvg.CURSOR_WIDTH,height:t.CursorSvg.CURSOR_HEIGHT},this.svgGroup_),this.cursorSvgLine_=t.utils.dom.createSvgElement("rect",{x:"0",y:"0",fill:e,width:t.CursorSvg.CURSOR_WIDTH,height:t.CursorSvg.CURSOR_HEIGHT,style:"display: none;"},this.cursorSvg_),this.cursorSvgRect_=t.utils.dom.createSvgElement("rect",{class:"blocklyVerticalCursor",x:"0",y:"0",rx:"10",ry:"10",style:"display: none;",stroke:e},this.cursorSvg_),this.cursorInput_=t.utils.dom.createSvgElement("path",{width:t.CursorSvg.CURSOR_WIDTH,height:t.CursorSvg.CURSOR_HEIGHT,transform:"",style:"display: none;",fill:e},this.cursorSvg_),this.cursorBlock_=t.utils.dom.createSvgElement("path",{width:t.CursorSvg.CURSOR_WIDTH,height:t.CursorSvg.CURSOR_HEIGHT,transform:"",style:"display: none;",fill:"none",stroke:e,"stroke-width":"4"},this.cursorSvg_),this.isMarker_||(t.utils.dom.createSvgElement("animate",{attributeType:"XML",attributeName:"fill",dur:"1s",values:t.CursorSvg.CURSOR_COLOR+";transparent;transparent;",repeatCount:"indefinite"},this.cursorSvgLine_),t.utils.dom.createSvgElement("animate",{attributeType:"XML",attributeName:"fill",dur:"1s",values:t.CursorSvg.CURSOR_COLOR+";transparent;transparent;",repeatCount:"indefinite"},this.cursorInput_),t.utils.dom.createSvgElement("animate",{attributeType:"XML",attributeName:"stroke",dur:"1s",values:t.CursorSvg.CURSOR_COLOR+";transparent;transparent;",repeatCount:"indefinite"},this.cursorBlock_)),this.cursorSvg_},t.CursorSvg.prototype.dispose=function(){this.svgGroup_&&t.utils.dom.removeNode(this.svgGroup_)},t.Mutator=function(e){t.Mutator.superClass_.constructor.call(this,null),this.quarkNames_=e},t.utils.object.inherits(t.Mutator,t.Icon),t.Mutator.prototype.workspaceWidth_=0,t.Mutator.prototype.workspaceHeight_=0,t.Mutator.prototype.drawIcon_=function(e){t.utils.dom.createSvgElement("rect",{class:"blocklyIconShape",rx:"4",ry:"4",height:"16",width:"16"},e),t.utils.dom.createSvgElement("path",{class:"blocklyIconSymbol",d:"m4.203,7.296 0,1.368 -0.92,0.677 -0.11,0.41 0.9,1.559 0.41,0.11 1.043,-0.457 1.187,0.683 0.127,1.134 0.3,0.3 1.8,0 0.3,-0.299 0.127,-1.138 1.185,-0.682 1.046,0.458 0.409,-0.11 0.9,-1.559 -0.11,-0.41 -0.92,-0.677 0,-1.366 0.92,-0.677 0.11,-0.41 -0.9,-1.559 -0.409,-0.109 -1.046,0.458 -1.185,-0.682 -0.127,-1.138 -0.3,-0.299 -1.8,0 -0.3,0.3 -0.126,1.135 -1.187,0.682 -1.043,-0.457 -0.41,0.11 -0.899,1.559 0.108,0.409z"},e),t.utils.dom.createSvgElement("circle",{class:"blocklyIconShape",r:"2.7",cx:"8",cy:"8"},e)},t.Mutator.prototype.iconClick_=function(e){this.block_.isEditable()&&t.Icon.prototype.iconClick_.call(this,e)},t.Mutator.prototype.createEditor_=function(){if(this.svgDialog_=t.utils.dom.createSvgElement("svg",{x:t.Bubble.BORDER_WIDTH,y:t.Bubble.BORDER_WIDTH},null),this.quarkNames_.length)for(var e,i=t.utils.xml.createElement("xml"),n=0;e=this.quarkNames_[n];n++){var o=t.utils.xml.createElement("block");o.setAttribute("type",e),i.appendChild(o)}else i=null;return i={disable:!1,disabledPatternId:this.block_.workspace.options.disabledPatternId,languageTree:i,parentWorkspace:this.block_.workspace,pathToMedia:this.block_.workspace.options.pathToMedia,RTL:this.block_.RTL,toolboxPosition:this.block_.RTL?t.TOOLBOX_AT_RIGHT:t.TOOLBOX_AT_LEFT,horizontalLayout:!1,getMetrics:this.getFlyoutMetrics_.bind(this),setMetrics:null,renderer:this.block_.workspace.options.renderer},this.workspace_=new t.WorkspaceSvg(i),this.workspace_.isMutator=!0,this.workspace_.addChangeListener(t.Events.disableOrphans),i=this.workspace_.addFlyout_("g"),n=this.workspace_.createDom("blocklyMutatorBackground"),n.insertBefore(i,this.workspace_.svgBlockCanvas_),this.svgDialog_.appendChild(n),this.svgDialog_},t.Mutator.prototype.updateEditable=function(){t.Mutator.superClass_.updateEditable.call(this),this.block_.isInFlyout||(this.block_.isEditable()?this.iconGroup_&&t.utils.dom.removeClass(this.iconGroup_,"blocklyIconGroupReadonly"):(this.setVisible(!1),this.iconGroup_&&t.utils.dom.addClass(this.iconGroup_,"blocklyIconGroupReadonly")))},t.Mutator.prototype.resizeBubble_=function(){var e=2*t.Bubble.BORDER_WIDTH,i=this.workspace_.getCanvas().getBBox(),n=this.block_.RTL?-i.x:i.width+i.x;if(i=i.height+3*e,this.workspace_.flyout_){var o=this.workspace_.flyout_.getMetrics_();i=Math.max(i,o.contentHeight+20)}n+=3*e,(Math.abs(this.workspaceWidth_-n)>e||Math.abs(this.workspaceHeight_-i)>e)&&(this.workspaceWidth_=n,this.workspaceHeight_=i,this.bubble_.setBubbleSize(n+e,i+e),this.svgDialog_.setAttribute("width",this.workspaceWidth_),this.svgDialog_.setAttribute("height",this.workspaceHeight_)),this.block_.RTL&&(e="translate("+this.workspaceWidth_+",0)",this.workspace_.getCanvas().setAttribute("transform",e)),this.workspace_.resize()},t.Mutator.prototype.setVisible=function(e){if(e!=this.isVisible())if(t.Events.fire(new t.Events.Ui(this.block_,"mutatorOpen",!e,e)),e){this.bubble_=new t.Bubble(this.block_.workspace,this.createEditor_(),this.block_.svgPath_,this.iconXY_,null,null),this.bubble_.setSvgId(this.block_.id),(e=this.workspace_.options.languageTree)&&(this.workspace_.flyout_.init(this.workspace_),this.workspace_.flyout_.show(e.childNodes)),this.rootBlock_=this.block_.decompose(this.workspace_),e=this.rootBlock_.getDescendants(!1);for(var i,n=0;i=e[n];n++)i.render();if(this.rootBlock_.setMovable(!1),this.rootBlock_.setDeletable(!1),this.workspace_.flyout_?(e=2*this.workspace_.flyout_.CORNER_RADIUS,n=this.workspace_.getFlyout().getWidth()+e):n=e=16,this.block_.RTL&&(n=-n),this.rootBlock_.moveBy(n,e),this.block_.saveConnections){var o=this;this.block_.saveConnections(this.rootBlock_),this.sourceListener_=function(){o.block_.saveConnections(o.rootBlock_)},this.block_.workspace.addChangeListener(this.sourceListener_)}this.resizeBubble_(),this.workspace_.addChangeListener(this.workspaceChanged_.bind(this)),this.updateColour()}else this.svgDialog_=null,this.workspace_.dispose(),this.rootBlock_=this.workspace_=null,this.bubble_.dispose(),this.bubble_=null,this.workspaceHeight_=this.workspaceWidth_=0,this.sourceListener_&&(this.block_.workspace.removeChangeListener(this.sourceListener_),this.sourceListener_=null)},t.Mutator.prototype.workspaceChanged_=function(e){if(e.type!=t.Events.UI&&(e.type!=t.Events.CHANGE||"disabled"!=e.element)){if(!this.workspace_.isDragging()){e=this.workspace_.getTopBlocks(!1);for(var i,n=0;i=e[n];n++){var o=i.getRelativeToSurfaceXY(),s=i.getHeightWidth();20>o.y+s.height&&i.moveBy(0,20-s.height-o.y)}}if(this.rootBlock_.workspace==this.workspace_){if(t.Events.setGroup(!0),i=this.block_,e=(e=i.mutationToDom())&&t.Xml.domToText(e),n=i.rendered,i.rendered=!1,i.compose(this.rootBlock_),i.rendered=n,i.initSvg(),n=(n=i.mutationToDom())&&t.Xml.domToText(n),e!=n){t.Events.fire(new t.Events.BlockChange(i,"mutation",null,e,n));var r=t.Events.getGroup();setTimeout((function(){t.Events.setGroup(r),i.bumpNeighbours(),t.Events.setGroup(!1)}),t.BUMP_DELAY)}i.rendered&&i.render(),e!=n&&t.keyboardAccessibilityMode&&t.navigation.moveCursorOnBlockMutation(i),this.workspace_.isDragging()||this.resizeBubble_(),t.Events.setGroup(!1)}}},t.Mutator.prototype.getFlyoutMetrics_=function(){return{viewHeight:this.workspaceHeight_,viewWidth:this.workspaceWidth_-this.workspace_.getFlyout().getWidth(),absoluteTop:0,absoluteLeft:this.workspace_.RTL?0:this.workspace_.getFlyout().getWidth()}},t.Mutator.prototype.dispose=function(){this.block_.mutator=null,t.Icon.prototype.dispose.call(this)},t.Mutator.prototype.updateBlockStyle=function(){var t=this.workspace_;if(t&&t.getAllBlocks()){for(var e=t.getAllBlocks(),i=0;i<e.length;i++){var n=e[i];n.setStyle(n.getStyleName())}for(t=t.flyout_.workspace_.getAllBlocks(),i=0;i<t.length;i++)n=t[i],n.setStyle(n.getStyleName())}},t.Mutator.reconnect=function(t,e,i){if(!t||!t.getSourceBlock().workspace)return!1;i=e.getInput(i).connection;var n=t.targetBlock();return!(n&&n!=e||i.targetConnection==t)&&(i.isConnected()&&i.disconnect(),i.connect(t),!0)},t.Mutator.findParentWs=function(t){var e=null;if(t&&t.options){var i=t.options.parentWorkspace;t.isFlyout?i&&i.options&&(e=i.options.parentWorkspace):i&&(e=i)}return e},t.utils.svgPaths={},t.utils.svgPaths.point=function(t,e){return" "+t+","+e+" "},t.utils.svgPaths.curve=function(t,e){return" "+t+e.join("")},t.utils.svgPaths.moveTo=function(t,e){return" M "+t+","+e+" "},t.utils.svgPaths.moveBy=function(t,e){return" m "+t+","+e+" "},t.utils.svgPaths.lineTo=function(t,e){return" l "+t+","+e+" "},t.utils.svgPaths.line=function(t){return" l"+t.join("")},t.utils.svgPaths.lineOnAxis=function(t,e){return" "+t+" "+e+" "},t.utils.svgPaths.arc=function(t,e,i,n){return t+" "+i+" "+i+" "+e+n},t.blockRendering.ConstantProvider=function(){this.NO_PADDING=0,this.SMALL_PADDING=3,this.MEDIUM_PADDING=5,this.MEDIUM_LARGE_PADDING=8,this.LARGE_PADDING=10,this.TALL_INPUT_FIELD_OFFSET_Y=this.MEDIUM_PADDING,this.TAB_HEIGHT=15,this.TAB_OFFSET_FROM_TOP=5,this.TAB_VERTICAL_OVERLAP=2.5,this.TAB_WIDTH=8,this.NOTCH_WIDTH=15,this.NOTCH_HEIGHT=4,this.MIN_BLOCK_WIDTH=12,this.EMPTY_BLOCK_SPACER_HEIGHT=16,this.DUMMY_INPUT_MIN_HEIGHT=this.TAB_HEIGHT,this.CORNER_RADIUS=8,this.NOTCH_OFFSET_LEFT=15,this.STATEMENT_BOTTOM_SPACER=0,this.STATEMENT_INPUT_PADDING_LEFT=20,this.BETWEEN_STATEMENT_PADDING_Y=4,this.MAX_BOTTOM_WIDTH=66.5,this.START_HAT_HEIGHT=15,this.START_HAT_WIDTH=100,this.SPACER_DEFAULT_HEIGHT=15,this.MIN_BLOCK_HEIGHT=24,this.EMPTY_INLINE_INPUT_PADDING=14.5,this.EMPTY_INLINE_INPUT_HEIGHT=this.TAB_HEIGHT+11,this.EXTERNAL_VALUE_INPUT_PADDING=2,this.EMPTY_STATEMENT_INPUT_HEIGHT=this.MIN_BLOCK_HEIGHT,this.START_POINT=t.utils.svgPaths.moveBy(0,0),this.JAGGED_TEETH_HEIGHT=12,this.JAGGED_TEETH_WIDTH=6},t.blockRendering.ConstantProvider.prototype.init=function(){this.JAGGED_TEETH=this.makeJaggedTeeth(),this.NOTCH=this.makeNotch(),this.START_HAT=this.makeStartHat(),this.PUZZLE_TAB=this.makePuzzleTab(),this.INSIDE_CORNERS=this.makeInsideCorners(),this.OUTSIDE_CORNERS=this.makeOutsideCorners()},t.blockRendering.ConstantProvider.prototype.makeJaggedTeeth=function(){var e=this.JAGGED_TEETH_HEIGHT,i=this.JAGGED_TEETH_WIDTH,n=t.utils.svgPaths.line([t.utils.svgPaths.point(6,3),t.utils.svgPaths.point(-12,6),t.utils.svgPaths.point(6,3)]);return{height:e,width:i,path:n}},t.blockRendering.ConstantProvider.prototype.makeStartHat=function(){var e=this.START_HAT_HEIGHT,i=this.START_HAT_WIDTH,n=t.utils.svgPaths.curve("c",[t.utils.svgPaths.point(30,-e),t.utils.svgPaths.point(70,-e),t.utils.svgPaths.point(i,0)]);return{height:e,width:i,path:n}},t.blockRendering.ConstantProvider.prototype.makePuzzleTab=function(){function e(e){e=e?-1:1;var o=-e,s=n/2,r=s+2.5,a=s+.5,l=t.utils.svgPaths.point(-i,e*s);return s=t.utils.svgPaths.point(i,e*s),t.utils.svgPaths.curve("c",[t.utils.svgPaths.point(0,e*r),t.utils.svgPaths.point(-i,o*a),l])+t.utils.svgPaths.curve("s",[t.utils.svgPaths.point(i,2.5*o),s])}var i=this.TAB_WIDTH,n=this.TAB_HEIGHT,o=e(!0),s=e(!1);return{width:i,height:n,pathDown:s,pathUp:o}},t.blockRendering.ConstantProvider.prototype.makeNotch=function(){function e(e){return t.utils.svgPaths.line([t.utils.svgPaths.point(e*o,n),t.utils.svgPaths.point(3*e,0),t.utils.svgPaths.point(e*o,-n)])}var i=this.NOTCH_WIDTH,n=this.NOTCH_HEIGHT,o=(i-3)/2,s=e(1),r=e(-1);return{width:i,height:n,pathLeft:s,pathRight:r}},t.blockRendering.ConstantProvider.prototype.makeInsideCorners=function(){var e=this.CORNER_RADIUS,i=t.utils.svgPaths.arc("a","0 0,0",e,t.utils.svgPaths.point(-e,e)),n=t.utils.svgPaths.arc("a","0 0,0",e,t.utils.svgPaths.point(e,e));return{width:e,height:e,pathTop:i,pathBottom:n}},t.blockRendering.ConstantProvider.prototype.makeOutsideCorners=function(){var e=this.CORNER_RADIUS,i=t.utils.svgPaths.moveBy(0,e)+t.utils.svgPaths.arc("a","0 0,1",e,t.utils.svgPaths.point(e,-e));return e=t.utils.svgPaths.arc("a","0 0,1",e,t.utils.svgPaths.point(-e,-e)),{topLeft:i,bottomLeft:e}},t.blockRendering.ConstantProvider.prototype.shapeFor=function(e){switch(e.type){case t.INPUT_VALUE:case t.OUTPUT_VALUE:return this.PUZZLE_TAB;case t.PREVIOUS_STATEMENT:case t.NEXT_STATEMENT:return this.NOTCH;default:throw Error("Unknown connection type")}},t.blockRendering.Types={NONE:0,FIELD:1,HAT:2,ICON:4,SPACER:8,BETWEEN_ROW_SPACER:16,IN_ROW_SPACER:32,EXTERNAL_VALUE_INPUT:64,INPUT:128,INLINE_INPUT:256,STATEMENT_INPUT:512,CONNECTION:1024,PREVIOUS_CONNECTION:2048,NEXT_CONNECTION:4096,OUTPUT_CONNECTION:8192,CORNER:16384,LEFT_SQUARE_CORNER:32768,LEFT_ROUND_CORNER:65536,RIGHT_SQUARE_CORNER:131072,RIGHT_ROUND_CORNER:262144,JAGGED_EDGE:524288,ROW:1048576,TOP_ROW:2097152,BOTTOM_ROW:4194304,INPUT_ROW:8388608},t.blockRendering.Types.LEFT_CORNER=t.blockRendering.Types.LEFT_SQUARE_CORNER|t.blockRendering.Types.LEFT_ROUND_CORNER,t.blockRendering.Types.RIGHT_CORNER=t.blockRendering.Types.RIGHT_SQUARE_CORNER|t.blockRendering.Types.RIGHT_ROUND_CORNER,t.blockRendering.Types.nextTypeValue_=16777216,t.blockRendering.Types.getType=function(e){return t.blockRendering.Types.hasOwnProperty(e)||(t.blockRendering.Types[e]=t.blockRendering.Types.nextTypeValue_,t.blockRendering.Types.nextTypeValue_<<=1),t.blockRendering.Types[e]},t.blockRendering.Types.isField=function(e){return e.type&t.blockRendering.Types.FIELD},t.blockRendering.Types.isHat=function(e){return e.type&t.blockRendering.Types.HAT},t.blockRendering.Types.isIcon=function(e){return e.type&t.blockRendering.Types.ICON},t.blockRendering.Types.isSpacer=function(e){return e.type&t.blockRendering.Types.SPACER},t.blockRendering.Types.isInRowSpacer=function(e){return e.type&t.blockRendering.Types.IN_ROW_SPACER},t.blockRendering.Types.isInput=function(e){return e.type&t.blockRendering.Types.INPUT},t.blockRendering.Types.isExternalInput=function(e){return e.type&t.blockRendering.Types.EXTERNAL_VALUE_INPUT},t.blockRendering.Types.isInlineInput=function(e){return e.type&t.blockRendering.Types.INLINE_INPUT},t.blockRendering.Types.isStatementInput=function(e){return e.type&t.blockRendering.Types.STATEMENT_INPUT},t.blockRendering.Types.isPreviousConnection=function(e){return e.type&t.blockRendering.Types.PREVIOUS_CONNECTION},t.blockRendering.Types.isNextConnection=function(e){return e.type&t.blockRendering.Types.NEXT_CONNECTION},t.blockRendering.Types.isPreviousOrNextConnection=function(e){return e.type&(t.blockRendering.Types.PREVIOUS_CONNECTION|t.blockRendering.Types.NEXT_CONNECTION)},t.blockRendering.Types.isLeftRoundedCorner=function(e){return e.type&t.blockRendering.Types.LEFT_ROUND_CORNER},t.blockRendering.Types.isRightRoundedCorner=function(e){return e.type&t.blockRendering.Types.RIGHT_ROUND_CORNER},t.blockRendering.Types.isLeftSquareCorner=function(e){return e.type&t.blockRendering.Types.LEFT_SQUARE_CORNER},t.blockRendering.Types.isRightSquareCorner=function(e){return e.type&t.blockRendering.Types.RIGHT_SQUARE_CORNER},t.blockRendering.Types.isCorner=function(e){return e.type&t.blockRendering.Types.CORNER},t.blockRendering.Types.isJaggedEdge=function(e){return e.type&t.blockRendering.Types.JAGGED_EDGE},t.blockRendering.Types.isRow=function(e){return e.type&t.blockRendering.Types.ROW},t.blockRendering.Types.isBetweenRowSpacer=function(e){return e.type&t.blockRendering.Types.BETWEEN_ROW_SPACER},t.blockRendering.Types.isTopRow=function(e){return e.type&t.blockRendering.Types.TOP_ROW},t.blockRendering.Types.isBottomRow=function(e){return e.type&t.blockRendering.Types.BOTTOM_ROW},t.blockRendering.Types.isTopOrBottomRow=function(e){return e.type&(t.blockRendering.Types.TOP_ROW|t.blockRendering.Types.BOTTOM_ROW)},t.blockRendering.Types.isInputRow=function(e){return e.type&t.blockRendering.Types.INPUT_ROW},t.blockRendering.Measurable=function(e){this.height=this.width=0,this.type=t.blockRendering.Types.NONE,this.centerline=this.xPos=0,this.constants_=e,this.notchOffset=this.constants_.NOTCH_OFFSET_LEFT},t.blockRendering.Connection=function(e,i){t.blockRendering.Connection.superClass_.constructor.call(this,e),this.connectionModel=i,this.shape=this.constants_.shapeFor(i),this.type|=t.blockRendering.Types.CONNECTION},t.utils.object.inherits(t.blockRendering.Connection,t.blockRendering.Measurable),t.blockRendering.OutputConnection=function(e,i){t.blockRendering.OutputConnection.superClass_.constructor.call(this,e,i),this.type|=t.blockRendering.Types.OUTPUT_CONNECTION,this.height=this.shape.height,this.width=this.shape.width,this.connectionOffsetY=this.constants_.TAB_OFFSET_FROM_TOP,this.startX=this.width},t.utils.object.inherits(t.blockRendering.OutputConnection,t.blockRendering.Connection),t.blockRendering.OutputConnection.prototype.isDynamic=function(){return this.shape.isDynamic},t.blockRendering.PreviousConnection=function(e,i){t.blockRendering.PreviousConnection.superClass_.constructor.call(this,e,i),this.type|=t.blockRendering.Types.PREVIOUS_CONNECTION,this.height=this.shape.height,this.width=this.shape.width},t.utils.object.inherits(t.blockRendering.PreviousConnection,t.blockRendering.Connection),t.blockRendering.NextConnection=function(e,i){t.blockRendering.NextConnection.superClass_.constructor.call(this,e,i),this.type|=t.blockRendering.Types.NEXT_CONNECTION,this.height=this.shape.height,this.width=this.shape.width},t.utils.object.inherits(t.blockRendering.NextConnection,t.blockRendering.Connection),t.blockRendering.InputConnection=function(e,i){if(t.blockRendering.InputConnection.superClass_.constructor.call(this,e,i.connection),this.type|=t.blockRendering.Types.INPUT,this.input=i,this.align=i.align,this.connectedBlock=i.connection&&i.connection.targetBlock()?i.connection.targetBlock():null){var n=this.connectedBlock.getHeightWidth();this.connectedBlockWidth=n.width,this.connectedBlockHeight=n.height}else this.connectedBlockHeight=this.connectedBlockWidth=0;this.connection=i.connection,this.connectionOffsetY=this.connectionOffsetX=0},t.utils.object.inherits(t.blockRendering.InputConnection,t.blockRendering.Connection),t.blockRendering.InlineInput=function(e,i){t.blockRendering.InlineInput.superClass_.constructor.call(this,e,i),this.type|=t.blockRendering.Types.INLINE_INPUT,this.connectedBlock?(this.width=this.connectedBlockWidth,this.height=this.connectedBlockHeight):(this.height=this.constants_.EMPTY_INLINE_INPUT_HEIGHT,this.width=this.shape.width+this.constants_.EMPTY_INLINE_INPUT_PADDING),this.connectionOffsetY=this.constants_.TAB_OFFSET_FROM_TOP,this.connectionHeight=this.shape.height,this.connectionWidth=this.shape.width},t.utils.object.inherits(t.blockRendering.InlineInput,t.blockRendering.InputConnection),t.blockRendering.StatementInput=function(e,i){t.blockRendering.StatementInput.superClass_.constructor.call(this,e,i),this.type|=t.blockRendering.Types.STATEMENT_INPUT,this.height=this.connectedBlock?this.connectedBlockHeight+this.constants_.STATEMENT_BOTTOM_SPACER:this.constants_.EMPTY_STATEMENT_INPUT_HEIGHT,this.width=this.constants_.NOTCH_OFFSET_LEFT+this.shape.width},t.utils.object.inherits(t.blockRendering.StatementInput,t.blockRendering.InputConnection),t.blockRendering.ExternalValueInput=function(e,i){t.blockRendering.ExternalValueInput.superClass_.constructor.call(this,e,i),this.type|=t.blockRendering.Types.EXTERNAL_VALUE_INPUT,this.height=this.connectedBlock?this.connectedBlockHeight-2*this.constants_.TAB_OFFSET_FROM_TOP:this.shape.height,this.width=this.shape.width+this.constants_.EXTERNAL_VALUE_INPUT_PADDING,this.connectionOffsetY=this.constants_.TAB_OFFSET_FROM_TOP,this.connectionHeight=this.shape.height,this.connectionWidth=this.shape.width},t.utils.object.inherits(t.blockRendering.ExternalValueInput,t.blockRendering.InputConnection),t.blockRendering.Icon=function(e,i){t.blockRendering.Icon.superClass_.constructor.call(this,e),this.icon=i,this.isVisible=i.isVisible(),this.type|=t.blockRendering.Types.ICON;var n=i.getCorrectedSize();this.height=n.height,this.width=n.width},t.utils.object.inherits(t.blockRendering.Icon,t.blockRendering.Measurable),t.blockRendering.JaggedEdge=function(e){t.blockRendering.JaggedEdge.superClass_.constructor.call(this,e),this.type|=t.blockRendering.Types.JAGGED_EDGE,this.height=this.constants_.JAGGED_TEETH.height,this.width=this.constants_.JAGGED_TEETH.width},t.utils.object.inherits(t.blockRendering.JaggedEdge,t.blockRendering.Measurable),t.blockRendering.Field=function(e,i,n){t.blockRendering.Field.superClass_.constructor.call(this,e),this.field=i,this.isEditable=i.isCurrentlyEditable(),this.flipRtl=i.getFlipRtl(),this.type|=t.blockRendering.Types.FIELD,e=this.field.getSize(),this.height=e.height,this.width=e.width,this.parentInput=n},t.utils.object.inherits(t.blockRendering.Field,t.blockRendering.Measurable),t.blockRendering.Hat=function(e){t.blockRendering.Hat.superClass_.constructor.call(this,e),this.type|=t.blockRendering.Types.HAT,this.height=this.constants_.START_HAT.height,this.width=this.constants_.START_HAT.width,this.ascenderHeight=this.height},t.utils.object.inherits(t.blockRendering.Hat,t.blockRendering.Measurable),t.blockRendering.SquareCorner=function(e,i){t.blockRendering.SquareCorner.superClass_.constructor.call(this,e),this.type=(i&&"left"!=i?t.blockRendering.Types.RIGHT_SQUARE_CORNER:t.blockRendering.Types.LEFT_SQUARE_CORNER)|t.blockRendering.Types.CORNER,this.width=this.height=this.constants_.NO_PADDING},t.utils.object.inherits(t.blockRendering.SquareCorner,t.blockRendering.Measurable),t.blockRendering.RoundCorner=function(e,i){t.blockRendering.RoundCorner.superClass_.constructor.call(this,e),this.type=(i&&"left"!=i?t.blockRendering.Types.RIGHT_ROUND_CORNER:t.blockRendering.Types.LEFT_ROUND_CORNER)|t.blockRendering.Types.CORNER,this.width=this.constants_.CORNER_RADIUS,this.height=this.constants_.CORNER_RADIUS/2},t.utils.object.inherits(t.blockRendering.RoundCorner,t.blockRendering.Measurable),t.blockRendering.InRowSpacer=function(e,i){t.blockRendering.InRowSpacer.superClass_.constructor.call(this,e),this.type=this.type|t.blockRendering.Types.SPACER|t.blockRendering.Types.IN_ROW_SPACER,this.width=i,this.height=this.constants_.SPACER_DEFAULT_HEIGHT},t.utils.object.inherits(t.blockRendering.InRowSpacer,t.blockRendering.Measurable),t.blockRendering.Row=function(e){this.type=t.blockRendering.Types.ROW,this.elements=[],this.xPos=this.yPos=this.widthWithConnectedBlocks=this.minWidth=this.minHeight=this.width=this.height=0,this.hasJaggedEdge=this.hasDummyInput=this.hasInlineInput=this.hasStatement=this.hasExternalInput=!1,this.constants_=e,this.notchOffset=this.constants_.NOTCH_OFFSET_LEFT},t.blockRendering.Row.prototype.measure=function(){throw Error("Unexpected attempt to measure a base Row.")},t.blockRendering.Row.prototype.getLastInput=function(){for(var e,i=this.elements.length-1;e=this.elements[i];i--)if(t.blockRendering.Types.isInput(e))return e;return null},t.blockRendering.Row.prototype.startsWithElemSpacer=function(){return!0},t.blockRendering.Row.prototype.endsWithElemSpacer=function(){return!0},t.blockRendering.Row.prototype.getFirstSpacer=function(){for(var e,i=0;e=this.elements[i];i++)if(t.blockRendering.Types.isSpacer(e))return e;return null},t.blockRendering.Row.prototype.getLastSpacer=function(){for(var e,i=this.elements.length-1;e=this.elements[i];i--)if(t.blockRendering.Types.isSpacer(e))return e;return null},t.blockRendering.TopRow=function(e){t.blockRendering.TopRow.superClass_.constructor.call(this,e),this.type|=t.blockRendering.Types.TOP_ROW,this.ascenderHeight=this.capline=0,this.hasPreviousConnection=!1,this.connection=null},t.utils.object.inherits(t.blockRendering.TopRow,t.blockRendering.Row),t.blockRendering.TopRow.prototype.hasLeftSquareCorner=function(e){var i=(e.hat?"cap"===e.hat:t.BlockSvg.START_HAT)&&!e.outputConnection&&!e.previousConnection,n=e.getPreviousBlock();return!!e.outputConnection||i||!!n&&n.getNextBlock()==e},t.blockRendering.TopRow.prototype.measure=function(){for(var e,i=0,n=0,o=0,s=0;e=this.elements[s];s++)n+=e.width,t.blockRendering.Types.isSpacer(e)||(t.blockRendering.Types.isHat(e)?o=Math.max(o,e.ascenderHeight):i=Math.max(i,e.height));this.width=Math.max(this.minWidth,n),this.height=Math.max(this.minHeight,i)+o,this.capline=this.ascenderHeight=o,this.widthWithConnectedBlocks=this.width},t.blockRendering.TopRow.prototype.startsWithElemSpacer=function(){return!1},t.blockRendering.BottomRow=function(e){t.blockRendering.BottomRow.superClass_.constructor.call(this,e),this.type|=t.blockRendering.Types.BOTTOM_ROW,this.hasNextConnection=!1,this.connection=null,this.baseline=this.descenderHeight=0},t.utils.object.inherits(t.blockRendering.BottomRow,t.blockRendering.Row),t.blockRendering.BottomRow.prototype.hasLeftSquareCorner=function(t){return!!t.outputConnection||!!t.getNextBlock()},t.blockRendering.BottomRow.prototype.measure=function(){for(var e,i=0,n=0,o=0,s=0;e=this.elements[s];s++)n+=e.width,t.blockRendering.Types.isSpacer(e)||(t.blockRendering.Types.isNextConnection(e)?o=Math.max(o,e.height):i=Math.max(i,e.height));this.width=Math.max(this.minWidth,n),this.height=Math.max(this.minHeight,i)+o,this.descenderHeight=o,this.widthWithConnectedBlocks=this.width},t.blockRendering.BottomRow.prototype.startsWithElemSpacer=function(){return!1},t.blockRendering.SpacerRow=function(e,i,n){t.blockRendering.SpacerRow.superClass_.constructor.call(this,e),this.type=this.type|t.blockRendering.Types.SPACER|t.blockRendering.Types.BETWEEN_ROW_SPACER,this.width=n,this.height=i,this.followsStatement=!1,this.widthWithConnectedBlocks=0,this.elements=[new t.blockRendering.InRowSpacer(this.constants_,n)]},t.utils.object.inherits(t.blockRendering.SpacerRow,t.blockRendering.Row),t.blockRendering.SpacerRow.prototype.measure=function(){},t.blockRendering.InputRow=function(e){t.blockRendering.InputRow.superClass_.constructor.call(this,e),this.type|=t.blockRendering.Types.INPUT_ROW,this.connectedBlockWidths=0},t.utils.object.inherits(t.blockRendering.InputRow,t.blockRendering.Row),t.blockRendering.InputRow.prototype.measure=function(){this.width=this.minWidth,this.height=this.minHeight;for(var e,i=0,n=0;e=this.elements[n];n++)this.width+=e.width,t.blockRendering.Types.isInput(e)&&(t.blockRendering.Types.isStatementInput(e)?i+=e.connectedBlockWidth:t.blockRendering.Types.isExternalInput(e)&&0!=e.connectedBlockWidth&&(i+=e.connectedBlockWidth-e.connectionWidth)),t.blockRendering.Types.isSpacer(e)||(this.height=Math.max(this.height,e.height));this.connectedBlockWidths=i,this.widthWithConnectedBlocks=this.width+i},t.blockRendering.InputRow.prototype.endsWithElemSpacer=function(){return!this.hasExternalInput&&!this.hasStatement},t.blockRendering.RenderInfo=function(e,i){this.block_=i,this.renderer_=e,this.constants_=this.renderer_.getConstants(),this.outputConnection=i.outputConnection?new t.blockRendering.OutputConnection(this.constants_,i.outputConnection):null,this.isInline=i.getInputsInline()&&!i.isCollapsed(),this.isCollapsed=i.isCollapsed(),this.isInsertionMarker=i.isInsertionMarker(),this.RTL=i.RTL,this.statementEdge=this.width=this.widthWithChildren=this.height=0,this.rows=[],this.hiddenIcons=[],this.topRow=new t.blockRendering.TopRow(this.constants_),this.bottomRow=new t.blockRendering.BottomRow(this.constants_),this.startY=this.startX=0},t.blockRendering.RenderInfo.prototype.getRenderer=function(){return this.renderer_},t.blockRendering.RenderInfo.prototype.measure=function(){this.createRows_(),this.addElemSpacing_(),this.computeBounds_(),this.alignRowElements_(),this.addRowSpacing_(),this.finalize_()},t.blockRendering.RenderInfo.prototype.createRows_=function(){this.populateTopRow_(),this.rows.push(this.topRow);var e=new t.blockRendering.InputRow(this.constants_),i=this.block_.getIcons();if(i.length)for(var n,o=0;n=i[o];o++){var s=new t.blockRendering.Icon(this.constants_,n);this.isCollapsed&&n.collapseHidden?this.hiddenIcons.push(s):e.elements.push(s)}for(n=null,o=0;i=this.block_.inputList[o];o++)if(i.isVisible()){for(this.shouldStartNewRow_(i,n)&&(this.rows.push(e),e=new t.blockRendering.InputRow(this.constants_)),n=0;s=i.fieldRow[n];n++)e.elements.push(new t.blockRendering.Field(this.constants_,s,i));this.addInput_(i,e),n=i}this.isCollapsed&&(e.hasJaggedEdge=!0,e.elements.push(new t.blockRendering.JaggedEdge(this.constants_))),(e.elements.length||e.hasDummyInput)&&this.rows.push(e),this.populateBottomRow_(),this.rows.push(this.bottomRow)},t.blockRendering.RenderInfo.prototype.populateTopRow_=function(){var e=!!this.block_.previousConnection,i=(this.block_.hat?"cap"===this.block_.hat:t.BlockSvg.START_HAT)&&!this.outputConnection&&!e;this.topRow.hasLeftSquareCorner(this.block_)?this.topRow.elements.push(new t.blockRendering.SquareCorner(this.constants_)):this.topRow.elements.push(new t.blockRendering.RoundCorner(this.constants_)),i?(e=new t.blockRendering.Hat(this.constants_),this.topRow.elements.push(e),this.topRow.capline=e.ascenderHeight):e&&(this.topRow.hasPreviousConnection=!0,this.topRow.connection=new t.blockRendering.PreviousConnection(this.constants_,this.block_.previousConnection),this.topRow.elements.push(this.topRow.connection)),this.block_.inputList.length&&this.block_.inputList[0].type==t.NEXT_STATEMENT&&!this.block_.isCollapsed()?this.topRow.minHeight=this.constants_.LARGE_PADDING:this.topRow.minHeight=this.constants_.MEDIUM_PADDING},t.blockRendering.RenderInfo.prototype.populateBottomRow_=function(){this.bottomRow.hasNextConnection=!!this.block_.nextConnection,this.bottomRow.minHeight=this.block_.inputList.length&&this.block_.inputList[this.block_.inputList.length-1].type==t.NEXT_STATEMENT?this.constants_.LARGE_PADDING:this.constants_.MEDIUM_PADDING-1,this.bottomRow.hasLeftSquareCorner(this.block_)?this.bottomRow.elements.push(new t.blockRendering.SquareCorner(this.constants_)):this.bottomRow.elements.push(new t.blockRendering.RoundCorner(this.constants_)),this.bottomRow.hasNextConnection&&(this.bottomRow.connection=new t.blockRendering.NextConnection(this.constants_,this.block_.nextConnection),this.bottomRow.elements.push(this.bottomRow.connection))},t.blockRendering.RenderInfo.prototype.addInput_=function(e,i){this.isInline&&e.type==t.INPUT_VALUE?(i.elements.push(new t.blockRendering.InlineInput(this.constants_,e)),i.hasInlineInput=!0):e.type==t.NEXT_STATEMENT?(i.elements.push(new t.blockRendering.StatementInput(this.constants_,e)),i.hasStatement=!0):e.type==t.INPUT_VALUE?(i.elements.push(new t.blockRendering.ExternalValueInput(this.constants_,e)),i.hasExternalInput=!0):e.type==t.DUMMY_INPUT&&(i.minHeight=Math.max(i.minHeight,this.constants_.DUMMY_INPUT_MIN_HEIGHT),i.hasDummyInput=!0),i.align=e.align},t.blockRendering.RenderInfo.prototype.shouldStartNewRow_=function(e,i){return!!i&&(e.type==t.NEXT_STATEMENT||i.type==t.NEXT_STATEMENT||(e.type==t.INPUT_VALUE||e.type==t.DUMMY_INPUT)&&!this.isInline)},t.blockRendering.RenderInfo.prototype.addElemSpacing_=function(){for(var e,i=0;e=this.rows[i];i++){var n=e.elements;e.elements=[],e.startsWithElemSpacer()&&e.elements.push(new t.blockRendering.InRowSpacer(this.constants_,this.getInRowSpacing_(null,n[0])));for(var o=0;o<n.length-1;o++){e.elements.push(n[o]);var s=this.getInRowSpacing_(n[o],n[o+1]);e.elements.push(new t.blockRendering.InRowSpacer(this.constants_,s))}e.elements.push(n[n.length-1]),e.endsWithElemSpacer()&&e.elements.push(new t.blockRendering.InRowSpacer(this.constants_,this.getInRowSpacing_(n[n.length-1],null)))}},t.blockRendering.RenderInfo.prototype.getInRowSpacing_=function(e,i){if(e&&t.blockRendering.Types.isInput(e)&&!i){if(t.blockRendering.Types.isExternalInput(e))return this.constants_.NO_PADDING;if(t.blockRendering.Types.isInlineInput(e))return this.constants_.LARGE_PADDING;if(t.blockRendering.Types.isStatementInput(e))return this.constants_.NO_PADDING}return e&&t.blockRendering.Types.isLeftSquareCorner(e)&&i&&(t.blockRendering.Types.isPreviousConnection(i)||t.blockRendering.Types.isNextConnection(i))?i.notchOffset:e&&t.blockRendering.Types.isLeftRoundedCorner(e)&&i&&(t.blockRendering.Types.isPreviousConnection(i)||t.blockRendering.Types.isNextConnection(i))?i.notchOffset-this.constants_.CORNER_RADIUS:this.constants_.MEDIUM_PADDING},t.blockRendering.RenderInfo.prototype.computeBounds_=function(){for(var t,e=0,i=0,n=0,o=0;t=this.rows[o];o++){if(t.measure(),i=Math.max(i,t.width),t.hasStatement){var s=t.getLastInput();e=Math.max(e,t.width-s.width)}n=Math.max(n,t.widthWithConnectedBlocks)}for(this.statementEdge=e,this.width=i,o=0;t=this.rows[o];o++)t.hasStatement&&(t.statementEdge=this.statementEdge);this.widthWithChildren=Math.max(i,n),this.outputConnection&&(this.startX=this.outputConnection.width,this.width+=this.outputConnection.width,this.widthWithChildren+=this.outputConnection.width)},t.blockRendering.RenderInfo.prototype.alignRowElements_=function(){for(var t,e=0;t=this.rows[e];e++)if(t.hasStatement)this.alignStatementRow_(t);else{var i=this.width-this.startX-t.width;i&&this.addAlignmentPadding_(t,i)}},t.blockRendering.RenderInfo.prototype.addAlignmentPadding_=function(t,e){var i=t.getLastSpacer();i&&(i.width+=e,t.width+=e)},t.blockRendering.RenderInfo.prototype.alignStatementRow_=function(t){var e=t.getLastInput(),i=t.width-e.width,n=this.statementEdge;(i=n-i)&&this.addAlignmentPadding_(t,i),i=t.width,n=this.width-this.startX-(this.constants_.INSIDE_CORNERS.rightWidth||0),e.width+=n-i,t.width+=n-i,t.widthWithConnectedBlocks=Math.max(t.width,this.statementEdge+t.connectedBlockWidths)},t.blockRendering.RenderInfo.prototype.addRowSpacing_=function(){var t=this.rows;this.rows=[];for(var e=0;e<t.length;e++)this.rows.push(t[e]),e!=t.length-1&&this.rows.push(this.makeSpacerRow_(t[e],t[e+1]))},t.blockRendering.RenderInfo.prototype.makeSpacerRow_=function(e,i){var n=this.getSpacerRowHeight_(e,i),o=this.getSpacerRowWidth_(e,i);return n=new t.blockRendering.SpacerRow(this.constants_,n,o),e.hasStatement&&(n.followsStatement=!0),n},t.blockRendering.RenderInfo.prototype.getSpacerRowWidth_=function(t,e){return this.width-this.startX},t.blockRendering.RenderInfo.prototype.getSpacerRowHeight_=function(t,e){return this.constants_.MEDIUM_PADDING},t.blockRendering.RenderInfo.prototype.getElemCenterline_=function(e,i){if(t.blockRendering.Types.isSpacer(i))return e.yPos+i.height/2;if(t.blockRendering.Types.isBottomRow(e)){var n=e.yPos+e.height-e.descenderHeight;return t.blockRendering.Types.isNextConnection(i)?n+i.height/2:n-i.height/2}return t.blockRendering.Types.isTopRow(e)?t.blockRendering.Types.isHat(i)?e.capline-i.height/2:e.capline+i.height/2:e.yPos+e.height/2},t.blockRendering.RenderInfo.prototype.recordElemPositions_=function(e){for(var i,n=e.xPos,o=0;i=e.elements[o];o++)t.blockRendering.Types.isSpacer(i)&&(i.height=e.height),i.xPos=n,i.centerline=this.getElemCenterline_(e,i),n+=i.width},t.blockRendering.RenderInfo.prototype.finalize_=function(){for(var t,e=0,i=0,n=0;t=this.rows[n];n++)t.yPos=i,t.xPos=this.startX,i+=t.height,e=Math.max(e,t.widthWithConnectedBlocks),this.recordElemPositions_(t);this.widthWithChildren=e+this.startX,this.height=i,this.startY=this.topRow.capline,this.bottomRow.baseline=i-this.bottomRow.descenderHeight},t.blockRendering.Drawer=function(t,e){this.block_=t,this.info_=e,this.topLeft_=t.getRelativeToSurfaceXY(),this.inlinePath_=this.outlinePath_="",this.constants_=e.getRenderer().getConstants()},t.blockRendering.Drawer.prototype.draw=function(){this.hideHiddenIcons_(),this.drawOutline_(),this.drawInternals_(),this.block_.pathObject.setPaths(this.outlinePath_+"\n"+this.inlinePath_),this.info_.RTL&&this.block_.pathObject.flipRTL(),t.blockRendering.useDebugger&&this.block_.renderingDebugger.drawDebug(this.block_,this.info_),this.recordSizeOnBlock_()},t.blockRendering.Drawer.prototype.recordSizeOnBlock_=function(){this.block_.height=this.info_.height,this.block_.width=this.info_.widthWithChildren},t.blockRendering.Drawer.prototype.hideHiddenIcons_=function(){for(var t,e=0;t=this.info_.hiddenIcons[e];e++)t.icon.iconGroup_.setAttribute("display","none")},t.blockRendering.Drawer.prototype.drawOutline_=function(){this.drawTop_();for(var t=1;t<this.info_.rows.length-1;t++){var e=this.info_.rows[t];e.hasJaggedEdge?this.drawJaggedEdge_(e):e.hasStatement?this.drawStatementInput_(e):e.hasExternalInput?this.drawValueInput_(e):this.drawRightSideRow_(e)}this.drawBottom_(),this.drawLeft_()},t.blockRendering.Drawer.prototype.drawTop_=function(){var e=this.info_.topRow,i=e.elements;this.positionPreviousConnection_(),this.outlinePath_+=t.utils.svgPaths.moveBy(e.xPos,this.info_.startY);for(var n,o=0;n=i[o];o++)t.blockRendering.Types.isLeftRoundedCorner(n)?this.outlinePath_+=this.constants_.OUTSIDE_CORNERS.topLeft:t.blockRendering.Types.isPreviousConnection(n)?this.outlinePath_+=n.shape.pathLeft:t.blockRendering.Types.isHat(n)?this.outlinePath_+=this.constants_.START_HAT.path:t.blockRendering.Types.isSpacer(n)&&(this.outlinePath_+=t.utils.svgPaths.lineOnAxis("h",n.width));this.outlinePath_+=t.utils.svgPaths.lineOnAxis("v",e.height)},t.blockRendering.Drawer.prototype.drawJaggedEdge_=function(e){this.outlinePath_+=this.constants_.JAGGED_TEETH.path+t.utils.svgPaths.lineOnAxis("v",e.height-this.constants_.JAGGED_TEETH.height)},t.blockRendering.Drawer.prototype.drawValueInput_=function(e){var i=e.getLastInput();this.positionExternalValueConnection_(e);var n="function"==typeof i.shape.pathDown?i.shape.pathDown(i.height):i.shape.pathDown;this.outlinePath_+=t.utils.svgPaths.lineOnAxis("H",i.xPos+i.width)+n+t.utils.svgPaths.lineOnAxis("v",e.height-i.connectionHeight)},t.blockRendering.Drawer.prototype.drawStatementInput_=function(e){var i=e.getLastInput(),n=i.xPos+i.notchOffset+i.shape.width;i=i.shape.pathRight+t.utils.svgPaths.lineOnAxis("h",-(i.notchOffset-this.constants_.INSIDE_CORNERS.width))+this.constants_.INSIDE_CORNERS.pathTop;var o=e.height-2*this.constants_.INSIDE_CORNERS.height;this.outlinePath_+=t.utils.svgPaths.lineOnAxis("H",n)+i+t.utils.svgPaths.lineOnAxis("v",o)+this.constants_.INSIDE_CORNERS.pathBottom+t.utils.svgPaths.lineOnAxis("H",e.xPos+e.width),this.positionStatementInputConnection_(e)},t.blockRendering.Drawer.prototype.drawRightSideRow_=function(e){this.outlinePath_+=t.utils.svgPaths.lineOnAxis("V",e.yPos+e.height)},t.blockRendering.Drawer.prototype.drawBottom_=function(){var e=this.info_.bottomRow,i=e.elements;this.positionNextConnection_(),this.outlinePath_+=t.utils.svgPaths.lineOnAxis("V",e.baseline);for(var n,o=i.length-1;n=i[o];o--)t.blockRendering.Types.isNextConnection(n)?this.outlinePath_+=n.shape.pathRight:t.blockRendering.Types.isLeftSquareCorner(n)?this.outlinePath_+=t.utils.svgPaths.lineOnAxis("H",e.xPos):t.blockRendering.Types.isLeftRoundedCorner(n)?this.outlinePath_+=this.constants_.OUTSIDE_CORNERS.bottomLeft:t.blockRendering.Types.isSpacer(n)&&(this.outlinePath_+=t.utils.svgPaths.lineOnAxis("h",-1*n.width))},t.blockRendering.Drawer.prototype.drawLeft_=function(){var e=this.info_.outputConnection;if(this.positionOutputConnection_(),e){var i=e.connectionOffsetY+e.height;e="function"==typeof e.shape.pathUp?e.shape.pathUp(e.height):e.shape.pathUp,this.outlinePath_+=t.utils.svgPaths.lineOnAxis("V",i)+e}this.outlinePath_+="z"},t.blockRendering.Drawer.prototype.drawInternals_=function(){for(var e,i=0;e=this.info_.rows[i];i++)for(var n,o=0;n=e.elements[o];o++)t.blockRendering.Types.isInlineInput(n)?this.drawInlineInput_(n):(t.blockRendering.Types.isIcon(n)||t.blockRendering.Types.isField(n))&&this.layoutField_(n)},t.blockRendering.Drawer.prototype.layoutField_=function(e){if(t.blockRendering.Types.isField(e))var i=e.field.getSvgRoot();else t.blockRendering.Types.isIcon(e)&&(i=e.icon.iconGroup_);var n=e.centerline-e.height/2,o=e.xPos,s="";this.info_.RTL&&(o=-(o+e.width),e.flipRtl&&(o+=e.width,s="scale(-1 1)")),t.blockRendering.Types.isIcon(e)?(i.setAttribute("display","block"),i.setAttribute("transform","translate("+o+","+n+")"),e.icon.computeIconLocation()):i.setAttribute("transform","translate("+o+","+n+")"+s),this.info_.isInsertionMarker&&i.setAttribute("display","none")},t.blockRendering.Drawer.prototype.drawInlineInput_=function(e){var i=e.width,n=e.height,o=e.connectionOffsetY,s=e.connectionHeight+o;this.inlinePath_+=t.utils.svgPaths.moveTo(e.xPos+e.connectionWidth,e.centerline-n/2)+t.utils.svgPaths.lineOnAxis("v",o)+e.shape.pathDown+t.utils.svgPaths.lineOnAxis("v",n-s)+t.utils.svgPaths.lineOnAxis("h",i-e.connectionWidth)+t.utils.svgPaths.lineOnAxis("v",-n)+"z",this.positionInlineInputConnection_(e)},t.blockRendering.Drawer.prototype.positionInlineInputConnection_=function(t){var e=t.centerline-t.height/2;if(t.connection){var i=t.xPos+t.connectionWidth;this.info_.RTL&&(i*=-1),t.connection.setOffsetInBlock(i,e+t.connectionOffsetY)}},t.blockRendering.Drawer.prototype.positionStatementInputConnection_=function(t){var e=t.getLastInput();if(e.connection){var i=t.xPos+t.statementEdge+e.notchOffset;this.info_.RTL&&(i*=-1),e.connection.setOffsetInBlock(i,t.yPos)}},t.blockRendering.Drawer.prototype.positionExternalValueConnection_=function(t){var e=t.getLastInput();if(e.connection){var i=t.xPos+t.width;this.info_.RTL&&(i*=-1),e.connection.setOffsetInBlock(i,t.yPos)}},t.blockRendering.Drawer.prototype.positionPreviousConnection_=function(){var t=this.info_.topRow;if(t.connection){var e=t.xPos+t.notchOffset;t.connection.connectionModel.setOffsetInBlock(this.info_.RTL?-e:e,0)}},t.blockRendering.Drawer.prototype.positionNextConnection_=function(){var t=this.info_.bottomRow;if(t.connection){t=t.connection;var e=t.xPos;t.connectionModel.setOffsetInBlock(this.info_.RTL?-e:e,t.centerline-t.height/2)}},t.blockRendering.Drawer.prototype.positionOutputConnection_=function(){if(this.info_.outputConnection){var t=this.info_.startX;this.block_.outputConnection.setOffsetInBlock(this.info_.RTL?-t:t,this.info_.outputConnection.connectionOffsetY)}},t.blockRendering.Renderer=function(){this.constants_=null},t.blockRendering.Renderer.prototype.init=function(){this.constants_=this.makeConstants_(),this.constants_.init()},t.blockRendering.Renderer.prototype.makeConstants_=function(){return new t.blockRendering.ConstantProvider},t.blockRendering.Renderer.prototype.makeRenderInfo_=function(e){return new t.blockRendering.RenderInfo(this,e)},t.blockRendering.Renderer.prototype.makeDrawer_=function(e,i){return new t.blockRendering.Drawer(e,i)},t.blockRendering.Renderer.prototype.makeDebugger_=function(){if(!t.blockRendering.Debug)throw Error("Missing require for Blockly.blockRendering.Debug");return new t.blockRendering.Debug},t.blockRendering.Renderer.prototype.makeCursorDrawer=function(e,i){return new t.CursorSvg(e,i)},t.blockRendering.Renderer.prototype.makePathObject=function(e){return new t.blockRendering.PathObject(e)},t.blockRendering.Renderer.prototype.getConstants=function(){return this.constants_},t.blockRendering.Renderer.prototype.render=function(e){t.blockRendering.useDebugger&&!e.renderingDebugger&&(e.renderingDebugger=this.makeDebugger_());var i=this.makeRenderInfo_(e);i.measure(),this.makeDrawer_(e,i).draw()},t.geras={},t.geras.ConstantProvider=function(){t.geras.ConstantProvider.superClass_.constructor.call(this),this.DARK_PATH_OFFSET=1},t.utils.object.inherits(t.geras.ConstantProvider,t.blockRendering.ConstantProvider),t.geras.Highlighter=function(t){this.info_=t,this.inlineSteps_=this.steps_="",this.RTL_=this.info_.RTL,t=t.getRenderer(),this.constants_=t.getConstants(),this.highlightConstants_=t.getHighlightConstants(),this.highlightOffset_=this.highlightConstants_.OFFSET,this.outsideCornerPaths_=this.highlightConstants_.OUTSIDE_CORNER,this.insideCornerPaths_=this.highlightConstants_.INSIDE_CORNER,this.puzzleTabPaths_=this.highlightConstants_.PUZZLE_TAB,this.notchPaths_=this.highlightConstants_.NOTCH,this.startPaths_=this.highlightConstants_.START_HAT,this.jaggedTeethPaths_=this.highlightConstants_.JAGGED_TEETH},t.geras.Highlighter.prototype.getPath=function(){return this.steps_+"\n"+this.inlineSteps_},t.geras.Highlighter.prototype.drawTopCorner=function(e){this.steps_+=t.utils.svgPaths.moveBy(e.xPos,this.info_.startY);for(var i,n=0;i=e.elements[n];n++)t.blockRendering.Types.isLeftSquareCorner(i)?this.steps_+=this.highlightConstants_.START_POINT:t.blockRendering.Types.isLeftRoundedCorner(i)?this.steps_+=this.outsideCornerPaths_.topLeft(this.RTL_):t.blockRendering.Types.isPreviousConnection(i)?this.steps_+=this.notchPaths_.pathLeft:t.blockRendering.Types.isHat(i)?this.steps_+=this.startPaths_.path(this.RTL_):t.blockRendering.Types.isSpacer(i)&&0!=i.width&&(this.steps_+=t.utils.svgPaths.lineOnAxis("H",i.xPos+i.width-this.highlightOffset_));this.steps_+=t.utils.svgPaths.lineOnAxis("H",e.xPos+e.width-this.highlightOffset_)},t.geras.Highlighter.prototype.drawJaggedEdge_=function(e){this.info_.RTL&&(this.steps_+=t.utils.svgPaths.lineOnAxis("H",e.width-this.highlightOffset_),this.steps_+=this.jaggedTeethPaths_.pathLeft,this.steps_+=t.utils.svgPaths.lineOnAxis("v",e.height-this.jaggedTeethPaths_.height-this.highlightOffset_))},t.geras.Highlighter.prototype.drawValueInput=function(e){var i=e.getLastInput();if(this.RTL_){var n=e.height-i.connectionHeight;this.steps_+=t.utils.svgPaths.moveTo(i.xPos+i.width-this.highlightOffset_,e.yPos)+this.puzzleTabPaths_.pathDown(this.RTL_)+t.utils.svgPaths.lineOnAxis("v",n)}else this.steps_+=t.utils.svgPaths.moveTo(i.xPos+i.width,e.yPos)+this.puzzleTabPaths_.pathDown(this.RTL_)},t.geras.Highlighter.prototype.drawStatementInput=function(e){var i=e.getLastInput();if(this.RTL_){var n=e.height-2*this.insideCornerPaths_.height;this.steps_+=t.utils.svgPaths.moveTo(i.xPos,e.yPos)+this.insideCornerPaths_.pathTop(this.RTL_)+t.utils.svgPaths.lineOnAxis("v",n)+this.insideCornerPaths_.pathBottom(this.RTL_)+t.utils.svgPaths.lineTo(e.width-i.xPos-this.insideCornerPaths_.width,0)}else this.steps_+=t.utils.svgPaths.moveTo(i.xPos,e.yPos+e.height)+this.insideCornerPaths_.pathBottom(this.RTL_)+t.utils.svgPaths.lineTo(e.width-i.xPos-this.insideCornerPaths_.width,0)},t.geras.Highlighter.prototype.drawRightSideRow=function(e){var i=e.xPos+e.width-this.highlightOffset_;e.followsStatement&&(this.steps_+=t.utils.svgPaths.lineOnAxis("H",i)),this.RTL_&&(this.steps_+=t.utils.svgPaths.lineOnAxis("H",i),e.height>this.highlightOffset_&&(this.steps_+=t.utils.svgPaths.lineOnAxis("V",e.yPos+e.height-this.highlightOffset_)))},t.geras.Highlighter.prototype.drawBottomRow=function(e){if(this.RTL_)this.steps_+=t.utils.svgPaths.lineOnAxis("V",e.baseline-this.highlightOffset_);else{var i=this.info_.bottomRow.elements[0];t.blockRendering.Types.isLeftSquareCorner(i)?this.steps_+=t.utils.svgPaths.moveTo(e.xPos+this.highlightOffset_,e.baseline-this.highlightOffset_):t.blockRendering.Types.isLeftRoundedCorner(i)&&(this.steps_+=t.utils.svgPaths.moveTo(e.xPos,e.baseline),this.steps_+=this.outsideCornerPaths_.bottomLeft())}},t.geras.Highlighter.prototype.drawLeft=function(){var e=this.info_.outputConnection;e&&(e=e.connectionOffsetY+e.height,this.RTL_?this.steps_+=t.utils.svgPaths.moveTo(this.info_.startX,e):(this.steps_+=t.utils.svgPaths.moveTo(this.info_.startX+this.highlightOffset_,this.info_.bottomRow.baseline-this.highlightOffset_),this.steps_+=t.utils.svgPaths.lineOnAxis("V",e)),this.steps_+=this.puzzleTabPaths_.pathUp(this.RTL_)),this.RTL_||(e=this.info_.topRow,t.blockRendering.Types.isLeftRoundedCorner(e.elements[0])?this.steps_+=t.utils.svgPaths.lineOnAxis("V",this.outsideCornerPaths_.height):this.steps_+=t.utils.svgPaths.lineOnAxis("V",e.capline+this.highlightOffset_))},t.geras.Highlighter.prototype.drawInlineInput=function(e){var i=this.highlightOffset_,n=e.xPos+e.connectionWidth,o=e.centerline-e.height/2,s=e.width-e.connectionWidth,r=o+i;this.RTL_?(o=e.connectionOffsetY-i,e=e.height-(e.connectionOffsetY+e.connectionHeight)+i,this.inlineSteps_+=t.utils.svgPaths.moveTo(n-i,r)+t.utils.svgPaths.lineOnAxis("v",o)+this.puzzleTabPaths_.pathDown(this.RTL_)+t.utils.svgPaths.lineOnAxis("v",e)+t.utils.svgPaths.lineOnAxis("h",s)):this.inlineSteps_+=t.utils.svgPaths.moveTo(e.xPos+e.width+i,r)+t.utils.svgPaths.lineOnAxis("v",e.height)+t.utils.svgPaths.lineOnAxis("h",-s)+t.utils.svgPaths.moveTo(n,o+e.connectionOffsetY)+this.puzzleTabPaths_.pathDown(this.RTL_)},t.geras.PathObject=function(e){this.svgRoot=e,this.svgPathDark=t.utils.dom.createSvgElement("path",{class:"blocklyPathDark",transform:"translate(1,1)"},this.svgRoot),this.svgPath=t.utils.dom.createSvgElement("path",{class:"blocklyPath"},this.svgRoot),this.svgPathLight=t.utils.dom.createSvgElement("path",{class:"blocklyPathLight"},this.svgRoot)},t.geras.PathObject.prototype.setPaths=function(t,e){this.svgPath.setAttribute("d",t),this.svgPathDark.setAttribute("d",t),this.svgPathLight.setAttribute("d",e)},t.geras.PathObject.prototype.flipRTL=function(){this.svgPath.setAttribute("transform","scale(-1 1)"),this.svgPathLight.setAttribute("transform","scale(-1 1)"),this.svgPathDark.setAttribute("transform","translate(1,1) scale(-1 1)")},t.geras.InlineInput=function(e,i){t.geras.InlineInput.superClass_.constructor.call(this,e,i),this.connectedBlock&&(this.width+=this.constants_.DARK_PATH_OFFSET,this.height+=this.constants_.DARK_PATH_OFFSET)},t.utils.object.inherits(t.geras.InlineInput,t.blockRendering.InlineInput),t.geras.StatementInput=function(e,i){t.geras.StatementInput.superClass_.constructor.call(this,e,i),this.connectedBlock&&(this.height+=this.constants_.DARK_PATH_OFFSET)},t.utils.object.inherits(t.geras.StatementInput,t.blockRendering.StatementInput),t.geras.RenderInfo=function(e,i){t.geras.RenderInfo.superClass_.constructor.call(this,e,i)},t.utils.object.inherits(t.geras.RenderInfo,t.blockRendering.RenderInfo),t.geras.RenderInfo.prototype.getRenderer=function(){return this.renderer_},t.geras.RenderInfo.prototype.addInput_=function(e,i){this.isInline&&e.type==t.INPUT_VALUE?(i.elements.push(new t.geras.InlineInput(this.constants_,e)),i.hasInlineInput=!0):e.type==t.NEXT_STATEMENT?(i.elements.push(new t.geras.StatementInput(this.constants_,e)),i.hasStatement=!0):e.type==t.INPUT_VALUE?(i.elements.push(new t.blockRendering.ExternalValueInput(this.constants_,e)),i.hasExternalInput=!0):e.type==t.DUMMY_INPUT&&(i.minHeight=Math.max(i.minHeight,this.constants_.DUMMY_INPUT_MIN_HEIGHT),i.hasDummyInput=!0),i.align=e.align},t.geras.RenderInfo.prototype.addElemSpacing_=function(){for(var e,i=!1,n=0;e=this.rows[n];n++)e.hasExternalInput&&(i=!0);for(n=0;e=this.rows[n];n++){var o=e.elements;e.elements=[],e.startsWithElemSpacer()&&e.elements.push(new t.blockRendering.InRowSpacer(this.constants_,this.getInRowSpacing_(null,o[0])));for(var s=0;s<o.length-1;s++){e.elements.push(o[s]);var r=this.getInRowSpacing_(o[s],o[s+1]);e.elements.push(new t.blockRendering.InRowSpacer(this.constants_,r))}e.elements.push(o[o.length-1]),e.endsWithElemSpacer()&&(r=this.getInRowSpacing_(o[o.length-1],null),i&&e.hasDummyInput&&(r+=this.constants_.TAB_WIDTH),e.elements.push(new t.blockRendering.InRowSpacer(this.constants_,r)))}},t.geras.RenderInfo.prototype.getInRowSpacing_=function(e,i){if(!e)return i&&t.blockRendering.Types.isField(i)&&i.isEditable?this.constants_.MEDIUM_PADDING:i&&t.blockRendering.Types.isInlineInput(i)?this.constants_.MEDIUM_LARGE_PADDING:i&&t.blockRendering.Types.isStatementInput(i)?this.constants_.STATEMENT_INPUT_PADDING_LEFT:this.constants_.LARGE_PADDING;if(!t.blockRendering.Types.isInput(e)&&!i)return t.blockRendering.Types.isField(e)&&e.isEditable?this.constants_.MEDIUM_PADDING:t.blockRendering.Types.isIcon(e)?2*this.constants_.LARGE_PADDING+1:t.blockRendering.Types.isHat(e)?this.constants_.NO_PADDING:t.blockRendering.Types.isPreviousOrNextConnection(e)?this.constants_.LARGE_PADDING:t.blockRendering.Types.isLeftRoundedCorner(e)?this.constants_.MIN_BLOCK_WIDTH:t.blockRendering.Types.isJaggedEdge(e)?this.constants_.NO_PADDING:this.constants_.LARGE_PADDING;if(t.blockRendering.Types.isInput(e)&&!i){if(t.blockRendering.Types.isExternalInput(e))return this.constants_.NO_PADDING;if(t.blockRendering.Types.isInlineInput(e))return this.constants_.LARGE_PADDING;if(t.blockRendering.Types.isStatementInput(e))return this.constants_.NO_PADDING}if(!t.blockRendering.Types.isInput(e)&&i&&t.blockRendering.Types.isInput(i)){if(e.isEditable){if(t.blockRendering.Types.isInlineInput(i)||t.blockRendering.Types.isExternalInput(i))return this.constants_.SMALL_PADDING}else{if(t.blockRendering.Types.isInlineInput(i)||t.blockRendering.Types.isExternalInput(i))return this.constants_.MEDIUM_LARGE_PADDING;if(t.blockRendering.Types.isStatementInput(i))return this.constants_.LARGE_PADDING}return this.constants_.LARGE_PADDING-1}if(t.blockRendering.Types.isIcon(e)&&i&&!t.blockRendering.Types.isInput(i))return this.constants_.LARGE_PADDING;if(t.blockRendering.Types.isInlineInput(e)&&i&&!t.blockRendering.Types.isInput(i))return i.isEditable?this.constants_.MEDIUM_PADDING:this.constants_.LARGE_PADDING;if(t.blockRendering.Types.isLeftSquareCorner(e)&&i){if(t.blockRendering.Types.isHat(i))return this.constants_.NO_PADDING;if(t.blockRendering.Types.isPreviousConnection(i))return i.notchOffset;if(t.blockRendering.Types.isNextConnection(i)){var n=(this.RTL?1:-1)*this.constants_.DARK_PATH_OFFSET/2;return i.notchOffset+n}}if(t.blockRendering.Types.isLeftRoundedCorner(e)&&i){if(t.blockRendering.Types.isPreviousConnection(i))return i.notchOffset-this.constants_.CORNER_RADIUS;if(t.blockRendering.Types.isNextConnection(i))return n=(this.RTL?1:-1)*this.constants_.DARK_PATH_OFFSET/2,i.notchOffset-this.constants_.CORNER_RADIUS+n}return!t.blockRendering.Types.isInput(e)&&i&&!t.blockRendering.Types.isInput(i)&&e.isEditable==i.isEditable||i&&t.blockRendering.Types.isJaggedEdge(i)?this.constants_.LARGE_PADDING:this.constants_.MEDIUM_PADDING},t.geras.RenderInfo.prototype.addAlignmentPadding_=function(e,i){var n=e.getFirstSpacer(),o=e.getLastSpacer();(e.hasExternalInput||e.hasStatement)&&(e.widthWithConnectedBlocks+=i),e.align==t.ALIGN_LEFT?o.width+=i:e.align==t.ALIGN_CENTRE?(n.width+=i/2,o.width+=i/2):e.align==t.ALIGN_RIGHT?n.width+=i:o.width+=i,e.width+=i},t.geras.RenderInfo.prototype.getSpacerRowHeight_=function(e,i){return t.blockRendering.Types.isTopRow(e)&&t.blockRendering.Types.isBottomRow(i)?this.constants_.EMPTY_BLOCK_SPACER_HEIGHT:t.blockRendering.Types.isTopRow(e)||t.blockRendering.Types.isBottomRow(i)?this.constants_.NO_PADDING:e.hasExternalInput&&i.hasExternalInput?this.constants_.LARGE_PADDING:!e.hasStatement&&i.hasStatement?this.constants_.BETWEEN_STATEMENT_PADDING_Y:e.hasStatement&&i.hasStatement||!e.hasStatement&&i.hasDummyInput||e.hasDummyInput?this.constants_.LARGE_PADDING:this.constants_.MEDIUM_PADDING},t.geras.RenderInfo.prototype.getElemCenterline_=function(e,i){if(t.blockRendering.Types.isSpacer(i))return e.yPos+i.height/2;if(t.blockRendering.Types.isBottomRow(e)){var n=e.yPos+e.height-e.descenderHeight;return t.blockRendering.Types.isNextConnection(i)?n+i.height/2:n-i.height/2}return t.blockRendering.Types.isTopRow(e)?t.blockRendering.Types.isHat(i)?e.capline-i.height/2:e.capline+i.height/2:(n=e.yPos,t.blockRendering.Types.isField(i)||t.blockRendering.Types.isIcon(i)?(n+=i.height/2,(e.hasInlineInput||e.hasStatement)&&i.height+this.constants_.TALL_INPUT_FIELD_OFFSET_Y<=e.height&&(n+=this.constants_.TALL_INPUT_FIELD_OFFSET_Y)):n=t.blockRendering.Types.isInlineInput(i)?n+i.height/2:n+e.height/2,n)},t.geras.RenderInfo.prototype.finalize_=function(){for(var t,e=0,i=0,n=0;t=this.rows[n];n++){t.yPos=i,t.xPos=this.startX,i+=t.height,e=Math.max(e,t.widthWithConnectedBlocks);var o=i-this.topRow.ascenderHeight;t==this.bottomRow&&o<this.constants_.MIN_BLOCK_HEIGHT&&(o=this.constants_.MIN_BLOCK_HEIGHT-o,this.bottomRow.height+=o,i+=o),this.recordElemPositions_(t)}this.bottomRow.baseline=i-this.bottomRow.descenderHeight,this.widthWithChildren=e+this.startX+this.constants_.DARK_PATH_OFFSET,this.width+=this.constants_.DARK_PATH_OFFSET,this.height=i+this.constants_.DARK_PATH_OFFSET,this.startY=this.topRow.capline},t.geras.Drawer=function(e,i){t.geras.Drawer.superClass_.constructor.call(this,e,i),this.highlighter_=new t.geras.Highlighter(i)},t.utils.object.inherits(t.geras.Drawer,t.blockRendering.Drawer),t.geras.Drawer.prototype.draw=function(){this.hideHiddenIcons_(),this.drawOutline_(),this.drawInternals_(),this.block_.pathObject.setPaths(this.outlinePath_+"\n"+this.inlinePath_,this.highlighter_.getPath()),this.info_.RTL&&this.block_.pathObject.flipRTL(),t.blockRendering.useDebugger&&this.block_.renderingDebugger.drawDebug(this.block_,this.info_),this.recordSizeOnBlock_()},t.geras.Drawer.prototype.drawTop_=function(){this.highlighter_.drawTopCorner(this.info_.topRow),this.highlighter_.drawRightSideRow(this.info_.topRow),t.geras.Drawer.superClass_.drawTop_.call(this)},t.geras.Drawer.prototype.drawJaggedEdge_=function(e){this.highlighter_.drawJaggedEdge_(e),t.geras.Drawer.superClass_.drawJaggedEdge_.call(this,e)},t.geras.Drawer.prototype.drawValueInput_=function(e){this.highlighter_.drawValueInput(e),t.geras.Drawer.superClass_.drawValueInput_.call(this,e)},t.geras.Drawer.prototype.drawStatementInput_=function(e){this.highlighter_.drawStatementInput(e),t.geras.Drawer.superClass_.drawStatementInput_.call(this,e)},t.geras.Drawer.prototype.drawRightSideRow_=function(e){this.highlighter_.drawRightSideRow(e),t.geras.Drawer.superClass_.drawRightSideRow_.call(this,e)},t.geras.Drawer.prototype.drawBottom_=function(){this.highlighter_.drawBottomRow(this.info_.bottomRow),t.geras.Drawer.superClass_.drawBottom_.call(this)},t.geras.Drawer.prototype.drawLeft_=function(){this.highlighter_.drawLeft(),t.geras.Drawer.superClass_.drawLeft_.call(this)},t.geras.Drawer.prototype.drawInlineInput_=function(e){this.highlighter_.drawInlineInput(e),t.geras.Drawer.superClass_.drawInlineInput_.call(this,e)},t.geras.Drawer.prototype.positionInlineInputConnection_=function(t){var e=t.centerline-t.height/2;if(t.connection){var i=t.xPos+t.connectionWidth+this.constants_.DARK_PATH_OFFSET;this.info_.RTL&&(i*=-1),t.connection.setOffsetInBlock(i,e+t.connectionOffsetY+this.constants_.DARK_PATH_OFFSET)}},t.geras.Drawer.prototype.positionStatementInputConnection_=function(t){var e=t.getLastInput();if(e.connection){var i=t.xPos+t.statementEdge+e.notchOffset;i=this.info_.RTL?-1*i:i+this.constants_.DARK_PATH_OFFSET,e.connection.setOffsetInBlock(i,t.yPos+this.constants_.DARK_PATH_OFFSET)}},t.geras.Drawer.prototype.positionExternalValueConnection_=function(t){var e=t.getLastInput();if(e.connection){var i=t.xPos+t.width+this.constants_.DARK_PATH_OFFSET;this.info_.RTL&&(i*=-1),e.connection.setOffsetInBlock(i,t.yPos)}},t.geras.Drawer.prototype.positionNextConnection_=function(){var t=this.info_.bottomRow;if(t.connection){t=t.connection;var e=t.xPos;t.connectionModel.setOffsetInBlock((this.info_.RTL?-e:e)+this.constants_.DARK_PATH_OFFSET/2,t.centerline-t.height/2+this.constants_.DARK_PATH_OFFSET)}},t.geras.HighlightConstantProvider=function(e){this.constantProvider=e,this.OFFSET=.5,this.START_POINT=t.utils.svgPaths.moveBy(this.OFFSET,this.OFFSET),this.INSIDE_CORNER=this.makeInsideCorner(),this.OUTSIDE_CORNER=this.makeOutsideCorner(),this.PUZZLE_TAB=this.makePuzzleTab(),this.NOTCH=this.makeNotch(),this.JAGGED_TEETH=this.makeJaggedTeeth(),this.START_HAT=this.makeStartHat()},t.geras.HighlightConstantProvider.prototype.makeInsideCorner=function(){var e=this.constantProvider.CORNER_RADIUS,i=this.OFFSET,n=(1-Math.SQRT1_2)*(e+i)-i,o=t.utils.svgPaths.moveBy(n,n)+t.utils.svgPaths.arc("a","0 0,0",e,t.utils.svgPaths.point(-n-i,e-n)),s=t.utils.svgPaths.arc("a","0 0,0",e+i,t.utils.svgPaths.point(e+i,e+i)),r=t.utils.svgPaths.moveBy(n,-n)+t.utils.svgPaths.arc("a","0 0,0",e+i,t.utils.svgPaths.point(e-n,n+i));return{width:e+i,height:e,pathTop:function(t){return t?o:""},pathBottom:function(t){return t?s:r}}},t.geras.HighlightConstantProvider.prototype.makeOutsideCorner=function(){var e=this.constantProvider.CORNER_RADIUS,i=this.OFFSET,n=(1-Math.SQRT1_2)*(e-i)+i,o=t.utils.svgPaths.moveBy(n,n)+t.utils.svgPaths.arc("a","0 0,1",e-i,t.utils.svgPaths.point(e-n,-n+i)),s=t.utils.svgPaths.moveBy(i,e)+t.utils.svgPaths.arc("a","0 0,1",e-i,t.utils.svgPaths.point(e,-e+i)),r=-n,a=t.utils.svgPaths.moveBy(n,r)+t.utils.svgPaths.arc("a","0 0,1",e-i,t.utils.svgPaths.point(-n+i,-r-e));return{height:e,topLeft:function(t){return t?o:s},bottomLeft:function(){return a}}},t.geras.HighlightConstantProvider.prototype.makePuzzleTab=function(){var e=this.constantProvider.TAB_WIDTH,i=this.constantProvider.TAB_HEIGHT,n=t.utils.svgPaths.moveBy(-2,3.4-i)+t.utils.svgPaths.lineTo(-.45*e,-2.1),o=t.utils.svgPaths.lineOnAxis("v",2.5)+t.utils.svgPaths.moveBy(.97*-e,2.5)+t.utils.svgPaths.curve("q",[t.utils.svgPaths.point(.05*-e,10),t.utils.svgPaths.point(.3*e,9.5)])+t.utils.svgPaths.moveBy(.67*e,-1.9)+t.utils.svgPaths.lineOnAxis("v",2.5),s=t.utils.svgPaths.lineOnAxis("v",-1.5)+t.utils.svgPaths.moveBy(-.92*e,-.5)+t.utils.svgPaths.curve("q",[t.utils.svgPaths.point(-.19*e,-5.5),t.utils.svgPaths.point(0,-11)])+t.utils.svgPaths.moveBy(.92*e,1),r=t.utils.svgPaths.moveBy(-5,i-.7)+t.utils.svgPaths.lineTo(.46*e,-2.1);return{width:e,height:i,pathUp:function(t){return t?n:s},pathDown:function(t){return t?o:r}}},t.geras.HighlightConstantProvider.prototype.makeNotch=function(){return{pathLeft:t.utils.svgPaths.lineOnAxis("h",this.OFFSET)+this.constantProvider.NOTCH.pathLeft}},t.geras.HighlightConstantProvider.prototype.makeJaggedTeeth=function(){return{pathLeft:t.utils.svgPaths.lineTo(5.1,2.6)+t.utils.svgPaths.moveBy(-10.2,6.8)+t.utils.svgPaths.lineTo(5.1,2.6)}},t.geras.HighlightConstantProvider.prototype.makeStartHat=function(){var e=this.constantProvider.START_HAT.height,i=t.utils.svgPaths.moveBy(25,-8.7)+t.utils.svgPaths.curve("c",[t.utils.svgPaths.point(29.7,-6.2),t.utils.svgPaths.point(57.2,-.5),t.utils.svgPaths.point(75,8.7)]),n=t.utils.svgPaths.curve("c",[t.utils.svgPaths.point(17.8,-9.2),t.utils.svgPaths.point(45.3,-14.9),t.utils.svgPaths.point(75,-8.7)])+t.utils.svgPaths.moveTo(100.5,e+.5);return{path:function(t){return t?i:n}}},t.geras.Renderer=function(){t.geras.Renderer.superClass_.constructor.call(this),this.highlightConstants_=null},t.utils.object.inherits(t.geras.Renderer,t.blockRendering.Renderer),t.geras.Renderer.prototype.init=function(){t.geras.Renderer.superClass_.init.call(this),this.highlightConstants_=this.makeHighlightConstants_()},t.geras.Renderer.prototype.makeConstants_=function(){return new t.geras.ConstantProvider},t.geras.Renderer.prototype.makeRenderInfo_=function(e){return new t.geras.RenderInfo(this,e)},t.geras.Renderer.prototype.makeDrawer_=function(e,i){return new t.geras.Drawer(e,i)},t.geras.Renderer.prototype.makePathObject=function(e){return new t.geras.PathObject(e)},t.blockRendering.Renderer.prototype.makeHighlightConstants_=function(){return new t.geras.HighlightConstantProvider(this.getConstants())},t.geras.Renderer.prototype.getHighlightConstants=function(){return this.highlightConstants_},t.blockRendering.register("geras",t.geras.Renderer),t.Toolbox=function(t){this.workspace_=t,this.RTL=t.options.RTL,this.horizontalLayout_=t.options.horizontalLayout,this.toolboxPosition=t.options.toolboxPosition,this.config_={indentWidth:19,cssRoot:"blocklyTreeRoot",cssHideRoot:"blocklyHidden",cssTreeRow:"blocklyTreeRow",cssItemLabel:"blocklyTreeLabel",cssTreeIcon:"blocklyTreeIcon",cssExpandedFolderIcon:"blocklyTreeIconOpen",cssFileIcon:"blocklyTreeIconNone",cssSelectedRow:"blocklyTreeSelected"},this.treeSeparatorConfig_={cssTreeRow:"blocklyTreeSeparator"},this.horizontalLayout_&&(this.config_.cssTreeRow+=t.RTL?" blocklyHorizontalTreeRtl":" blocklyHorizontalTree",this.treeSeparatorConfig_.cssTreeRow="blocklyTreeSeparatorHorizontal "+(t.RTL?"blocklyHorizontalTreeRtl":"blocklyHorizontalTree"),this.config_.cssTreeIcon="")},t.Toolbox.prototype.width=0,t.Toolbox.prototype.height=0,t.Toolbox.prototype.selectedOption_=null,t.Toolbox.prototype.lastCategory_=null,t.Toolbox.prototype.init=function(){var e=this.workspace_,i=this.workspace_.getParentSvg();if(this.HtmlDiv=document.createElement("div"),this.HtmlDiv.className="blocklyToolboxDiv blocklyNonSelectable",this.HtmlDiv.setAttribute("dir",e.RTL?"RTL":"LTR"),i.parentNode.insertBefore(this.HtmlDiv,i),i=e.getThemeManager(),i.subscribe(this.HtmlDiv,"toolbox","background-color"),i.subscribe(this.HtmlDiv,"toolboxText","color"),t.bindEventWithChecks_(this.HtmlDiv,"mousedown",this,(function(e){t.utils.isRightButton(e)||e.target==this.HtmlDiv?t.hideChaff(!1):t.hideChaff(!0),t.Touch.clearTouchIdentifier()}),!1,!0),i={disabledPatternId:e.options.disabledPatternId,parentWorkspace:e,RTL:e.RTL,oneBasedIndex:e.options.oneBasedIndex,horizontalLayout:e.horizontalLayout,toolboxPosition:e.options.toolboxPosition,renderer:e.options.renderer},this.flyout_=null,e.horizontalLayout){if(!t.HorizontalFlyout)throw Error("Missing require for Blockly.HorizontalFlyout");this.flyout_=new t.HorizontalFlyout(i)}else{if(!t.VerticalFlyout)throw Error("Missing require for Blockly.VerticalFlyout");this.flyout_=new t.VerticalFlyout(i)}t.utils.dom.insertAfter(this.flyout_.createDom("svg"),this.workspace_.getParentSvg()),this.flyout_.init(e),this.config_.cleardotPath=e.options.pathToMedia+"1x1.gif",this.config_.cssCollapsedFolderIcon="blocklyTreeIconClosed"+(e.RTL?"Rtl":"Ltr"),this.renderTree(e.options.languageTree)},t.Toolbox.prototype.renderTree=function(e){this.tree_&&(this.tree_.dispose(),this.lastCategory_=null);var i=new t.tree.TreeControl(this,this.config_);this.tree_=i,i.setSelectedItem(null),i.onBeforeSelected(this.handleBeforeTreeSelected_),i.onAfterSelected(this.handleAfterTreeSelected_);var n=null;if(e){if(this.tree_.blocks=[],this.hasColours_=!1,n=this.syncTrees_(e,this.tree_,this.workspace_.options.pathToMedia),this.tree_.blocks.length)throw Error("Toolbox cannot have both blocks and categories in the root level.");this.workspace_.resizeContents()}i.render(this.HtmlDiv),n&&i.setSelectedItem(n),this.addColour_(),this.position(),this.horizontalLayout_&&t.utils.aria.setState(this.tree_.getElement(),t.utils.aria.State.ORIENTATION,"horizontal")},t.Toolbox.prototype.handleBeforeTreeSelected_=function(t){if(t==this.tree_)return!1;if(this.lastCategory_&&(this.lastCategory_.getRowElement().style.backgroundColor=""),t){var e=t.hexColour||"#57e";t.getRowElement().style.backgroundColor=e,this.addColour_(t)}return!0},t.Toolbox.prototype.handleAfterTreeSelected_=function(e,i){if(i&&i.blocks&&i.blocks.length?(this.flyout_.show(i.blocks),this.lastCategory_!=i&&this.flyout_.scrollToStart(),t.keyboardAccessibilityMode&&t.navigation.setState(t.navigation.STATE_TOOLBOX)):(this.flyout_.hide(),!t.keyboardAccessibilityMode||i instanceof t.Toolbox.TreeSeparator||t.navigation.setState(t.navigation.STATE_WS)),e!=i&&e!=this){var n=new t.Events.Ui(null,"category",e&&e.getText(),i&&i.getText());n.workspaceId=this.workspace_.id,t.Events.fire(n)}i&&(this.lastCategory_=i)},t.Toolbox.prototype.handleNodeSizeChanged_=function(){t.svgResize(this.workspace_)},t.Toolbox.prototype.onBlocklyAction=function(e){var i=this.tree_.getSelectedItem();if(!i)return!1;switch(e.name){case t.navigation.actionNames.PREVIOUS:return i.selectPrevious();case t.navigation.actionNames.OUT:return i.selectParent();case t.navigation.actionNames.NEXT:return i.selectNext();case t.navigation.actionNames.IN:return i.selectChild();default:return!1}},t.Toolbox.prototype.dispose=function(){this.flyout_.dispose(),this.tree_.dispose(),this.workspace_.getThemeManager().unsubscribe(this.HtmlDiv),t.utils.dom.removeNode(this.HtmlDiv),this.lastCategory_=this.workspace_=null},t.Toolbox.prototype.getWidth=function(){return this.width},t.Toolbox.prototype.getHeight=function(){return this.height},t.Toolbox.prototype.position=function(){var e=this.HtmlDiv;if(e){var i=this.workspace_.getParentSvg();i=t.svgSize(i),this.horizontalLayout_?(e.style.left="0",e.style.height="auto",e.style.width=i.width+"px",this.height=e.offsetHeight,this.toolboxPosition==t.TOOLBOX_AT_TOP?e.style.top="0":e.style.bottom="0"):(this.toolboxPosition==t.TOOLBOX_AT_RIGHT?e.style.right="0":e.style.left="0",e.style.height=i.height+"px",this.width=e.offsetWidth),this.flyout_.position()}},t.Toolbox.prototype.syncTrees_=function(e,i,n){for(var o,s=null,r=null,a=0;o=e.childNodes[a];a++)if(o.tagName)switch(o.tagName.toUpperCase()){case"CATEGORY":r=t.utils.replaceMessageReferences(o.getAttribute("name"));var l=this.tree_.createNode(r);l.onSizeChanged(this.handleNodeSizeChanged_),l.blocks=[],i.add(l);var c=o.getAttribute("custom");c?l.blocks=c:(c=this.syncTrees_(o,l,n))&&(s=c),c=o.getAttribute("categorystyle");var u=o.getAttribute("colour");u&&c?(l.hexColour="",console.warn('Toolbox category "'+r+'" can not have both a style and a colour')):c?this.setColourFromStyle_(c,l,r):this.setColour_(u,l,r),"true"==o.getAttribute("expanded")?(l.blocks.length&&(s=l),l.setExpanded(!0)):l.setExpanded(!1),r=o;break;case"SEP":if(r&&"CATEGORY"==r.tagName.toUpperCase()){i.add(new t.Toolbox.TreeSeparator(this.treeSeparatorConfig_));break}case"BLOCK":case"SHADOW":case"LABEL":case"BUTTON":i.blocks.push(o),r=o}return s},t.Toolbox.prototype.setColour_=function(e,i,n){if(e=t.utils.replaceMessageReferences(e),null===e||""===e)i.hexColour="";else{var o=Number(e);isNaN(o)?(o=t.utils.colour.parse(e))?(i.hexColour=o,this.hasColours_=!0):(i.hexColour="",console.warn('Toolbox category "'+n+'" has unrecognized colour attribute: '+e)):(i.hexColour=t.hueToHex(o),this.hasColours_=!0)}},t.Toolbox.prototype.setColourFromStyle_=function(t,e,i){e.styleName=t;var n=this.workspace_.getTheme();t&&n&&((n=n.getCategoryStyle(t))&&n.colour?this.setColour_(n.colour,e,i):console.warn('Style "'+t+'" must exist and contain a colour value'))},t.Toolbox.prototype.updateColourFromTheme_=function(t){if(t=t||this.tree_){t=t.getChildren(!1);for(var e,i=0;e=t[i];i++)e.styleName&&(this.setColourFromStyle_(e.styleName,e,""),this.addColour_()),this.updateColourFromTheme_(e)}},t.Toolbox.prototype.updateColourFromTheme=function(){var t=this.tree_;t&&(this.updateColourFromTheme_(t),this.updateSelectedItemColour_(t))},t.Toolbox.prototype.updateSelectedItemColour_=function(t){if(t=t.getSelectedItem()){var e=t.hexColour||"#57e";t.getRowElement().style.backgroundColor=e,this.addColour_(t)}},t.Toolbox.prototype.addColour_=function(t){t=(t||this.tree_).getChildren(!1);for(var e,i=0;e=t[i];i++){var n=e.getRowElement();if(n){var o=this.hasColours_?"8px solid "+(e.hexColour||"#ddd"):"none";this.workspace_.RTL?n.style.borderRight=o:n.style.borderLeft=o}this.addColour_(e)}},t.Toolbox.prototype.clearSelection=function(){this.tree_.setSelectedItem(null)},t.Toolbox.prototype.addStyle=function(e){t.utils.dom.addClass(this.HtmlDiv,e)},t.Toolbox.prototype.removeStyle=function(e){t.utils.dom.removeClass(this.HtmlDiv,e)},t.Toolbox.prototype.getClientRect=function(){if(!this.HtmlDiv)return null;var e=this.HtmlDiv.getBoundingClientRect(),i=e.top,n=i+e.height,o=e.left;return e=o+e.width,this.toolboxPosition==t.TOOLBOX_AT_TOP?new t.utils.Rect(-1e7,n,-1e7,1e7):this.toolboxPosition==t.TOOLBOX_AT_BOTTOM?new t.utils.Rect(i,1e7,-1e7,1e7):this.toolboxPosition==t.TOOLBOX_AT_LEFT?new t.utils.Rect(-1e7,1e7,-1e7,e):new t.utils.Rect(-1e7,1e7,o,1e7)},t.Toolbox.prototype.refreshSelection=function(){var t=this.tree_.getSelectedItem();t&&t.blocks&&this.flyout_.show(t.blocks)},t.Toolbox.prototype.selectFirstCategory=function(){this.tree_.getSelectedItem()||this.tree_.selectFirst()},t.Toolbox.TreeSeparator=function(e){t.tree.TreeNode.call(this,null,"",e)},t.utils.object.inherits(t.Toolbox.TreeSeparator,t.tree.TreeNode),t.Css.register([".blocklyToolboxDelete {",'cursor: url("<<<PATH>>>/handdelete.cur"), auto;',"}",".blocklyToolboxGrab {",'cursor: url("<<<PATH>>>/handclosed.cur"), auto;',"cursor: grabbing;","cursor: -webkit-grabbing;","}",".blocklyToolboxDiv {","background-color: #ddd;","overflow-x: visible;","overflow-y: auto;","position: absolute;","z-index: 70;","-webkit-tap-highlight-color: transparent;","}",".blocklyTreeRoot {","padding: 4px 0;","}",".blocklyTreeRoot:focus {","outline: none;","}",".blocklyTreeRow {","height: 22px;","line-height: 22px;","margin-bottom: 3px;","padding-right: 8px;","white-space: nowrap;","}",".blocklyHorizontalTree {","float: left;","margin: 1px 5px 8px 0;","}",".blocklyHorizontalTreeRtl {","float: right;","margin: 1px 0 8px 5px;","}",'.blocklyToolboxDiv[dir="RTL"] .blocklyTreeRow {',"margin-left: 8px;","}",".blocklyTreeRow:not(.blocklyTreeSelected):hover {","background-color: #e4e4e4;","}",".blocklyTreeSeparator {","border-bottom: solid #e5e5e5 1px;","height: 0;","margin: 5px 0;","}",".blocklyTreeSeparatorHorizontal {","border-right: solid #e5e5e5 1px;","width: 0;","padding: 5px 0;","margin: 0 5px;","}",".blocklyTreeIcon {","background-image: url(<<<PATH>>>/sprites.png);","height: 16px;","vertical-align: middle;","width: 16px;","}",".blocklyTreeIconClosedLtr {","background-position: -32px -1px;","}",".blocklyTreeIconClosedRtl {","background-position: 0 -1px;","}",".blocklyTreeIconOpen {","background-position: -16px -1px;","}",".blocklyTreeSelected>.blocklyTreeIconClosedLtr {","background-position: -32px -17px;","}",".blocklyTreeSelected>.blocklyTreeIconClosedRtl {","background-position: 0 -17px;","}",".blocklyTreeSelected>.blocklyTreeIconOpen {","background-position: -16px -17px;","}",".blocklyTreeIconNone,",".blocklyTreeSelected>.blocklyTreeIconNone {","background-position: -48px -1px;","}",".blocklyTreeLabel {","cursor: default;","font-family: sans-serif;","font-size: 16px;","padding: 0 3px;","vertical-align: middle;","}",".blocklyToolboxDelete .blocklyTreeLabel {",'cursor: url("<<<PATH>>>/handdelete.cur"), auto;',"}",".blocklyTreeSelected .blocklyTreeLabel {","color: #fff;","}"]),t.Trashcan=function(e){if(this.workspace_=e,this.contents_=[],!(0>=this.workspace_.options.maxTrashcanContents)){if(e={scrollbars:!0,disabledPatternId:this.workspace_.options.disabledPatternId,parentWorkspace:this.workspace_,RTL:this.workspace_.RTL,oneBasedIndex:this.workspace_.options.oneBasedIndex,renderer:this.workspace_.options.renderer},this.workspace_.horizontalLayout){if(e.toolboxPosition=this.workspace_.toolboxPosition==t.TOOLBOX_AT_TOP?t.TOOLBOX_AT_BOTTOM:t.TOOLBOX_AT_TOP,!t.HorizontalFlyout)throw Error("Missing require for Blockly.HorizontalFlyout");this.flyout_=new t.HorizontalFlyout(e)}else{if(e.toolboxPosition=this.workspace_.toolboxPosition==t.TOOLBOX_AT_RIGHT?t.TOOLBOX_AT_LEFT:t.TOOLBOX_AT_RIGHT,!t.VerticalFlyout)throw Error("Missing require for Blockly.VerticalFlyout");this.flyout_=new t.VerticalFlyout(e)}this.workspace_.addChangeListener(this.onDelete_.bind(this))}},t.Trashcan.prototype.WIDTH_=47,t.Trashcan.prototype.BODY_HEIGHT_=44,t.Trashcan.prototype.LID_HEIGHT_=16,t.Trashcan.prototype.MARGIN_BOTTOM_=20,t.Trashcan.prototype.MARGIN_SIDE_=20,t.Trashcan.prototype.MARGIN_HOTSPOT_=10,t.Trashcan.prototype.SPRITE_LEFT_=0,t.Trashcan.prototype.SPRITE_TOP_=32,t.Trashcan.prototype.HAS_BLOCKS_LID_ANGLE=.1,t.Trashcan.prototype.isOpen=!1,t.Trashcan.prototype.minOpenness_=0,t.Trashcan.prototype.svgGroup_=null,t.Trashcan.prototype.svgLid_=null,t.Trashcan.prototype.lidTask_=0,t.Trashcan.prototype.lidOpen_=0,t.Trashcan.prototype.left_=0,t.Trashcan.prototype.top_=0,t.Trashcan.prototype.createDom=function(){this.svgGroup_=t.utils.dom.createSvgElement("g",{class:"blocklyTrash"},null);var e=String(Math.random()).substring(2),i=t.utils.dom.createSvgElement("clipPath",{id:"blocklyTrashBodyClipPath"+e},this.svgGroup_);t.utils.dom.createSvgElement("rect",{width:this.WIDTH_,height:this.BODY_HEIGHT_,y:this.LID_HEIGHT_},i);var n=t.utils.dom.createSvgElement("image",{width:t.SPRITE.width,x:-this.SPRITE_LEFT_,height:t.SPRITE.height,y:-this.SPRITE_TOP_,"clip-path":"url(#blocklyTrashBodyClipPath"+e+")"},this.svgGroup_);return n.setAttributeNS(t.utils.dom.XLINK_NS,"xlink:href",this.workspace_.options.pathToMedia+t.SPRITE.url),i=t.utils.dom.createSvgElement("clipPath",{id:"blocklyTrashLidClipPath"+e},this.svgGroup_),t.utils.dom.createSvgElement("rect",{width:this.WIDTH_,height:this.LID_HEIGHT_},i),this.svgLid_=t.utils.dom.createSvgElement("image",{width:t.SPRITE.width,x:-this.SPRITE_LEFT_,height:t.SPRITE.height,y:-this.SPRITE_TOP_,"clip-path":"url(#blocklyTrashLidClipPath"+e+")"},this.svgGroup_),this.svgLid_.setAttributeNS(t.utils.dom.XLINK_NS,"xlink:href",this.workspace_.options.pathToMedia+t.SPRITE.url),t.bindEventWithChecks_(this.svgGroup_,"mouseup",this,this.click),t.bindEvent_(n,"mouseover",this,this.mouseOver_),t.bindEvent_(n,"mouseout",this,this.mouseOut_),this.animateLid_(),this.svgGroup_},t.Trashcan.prototype.init=function(e){return 0<this.workspace_.options.maxTrashcanContents&&(t.utils.dom.insertAfter(this.flyout_.createDom("svg"),this.workspace_.getParentSvg()),this.flyout_.init(this.workspace_),this.flyout_.isBlockCreatable_=function(){return!0}),this.verticalSpacing_=this.MARGIN_BOTTOM_+e,this.setOpen_(!1),this.verticalSpacing_+this.BODY_HEIGHT_+this.LID_HEIGHT_},t.Trashcan.prototype.dispose=function(){this.svgGroup_&&(t.utils.dom.removeNode(this.svgGroup_),this.svgGroup_=null),this.workspace_=this.svgLid_=null,clearTimeout(this.lidTask_)},t.Trashcan.prototype.position=function(){if(this.verticalSpacing_){var e=this.workspace_.getMetrics();e&&(this.left_=e.toolboxPosition==t.TOOLBOX_AT_LEFT||this.workspace_.horizontalLayout&&!this.workspace_.RTL?e.viewWidth+e.absoluteLeft-this.WIDTH_-this.MARGIN_SIDE_-t.Scrollbar.scrollbarThickness:this.MARGIN_SIDE_+t.Scrollbar.scrollbarThickness,this.top_=e.toolboxPosition==t.TOOLBOX_AT_BOTTOM?this.verticalSpacing_:e.viewHeight+e.absoluteTop-(this.BODY_HEIGHT_+this.LID_HEIGHT_)-this.verticalSpacing_,this.svgGroup_.setAttribute("transform","translate("+this.left_+","+this.top_+")"))}},t.Trashcan.prototype.getClientRect=function(){if(!this.svgGroup_)return null;var e=this.svgGroup_.getBoundingClientRect(),i=e.top+this.SPRITE_TOP_-this.MARGIN_HOTSPOT_;return e=e.left+this.SPRITE_LEFT_-this.MARGIN_HOTSPOT_,new t.utils.Rect(i,i+this.LID_HEIGHT_+this.BODY_HEIGHT_+2*this.MARGIN_HOTSPOT_,e,e+this.WIDTH_+2*this.MARGIN_HOTSPOT_)},t.Trashcan.prototype.setOpen_=function(t){this.isOpen!=t&&(clearTimeout(this.lidTask_),this.isOpen=t,this.animateLid_())},t.Trashcan.prototype.animateLid_=function(){this.lidOpen_+=this.isOpen?.2:-.2,this.lidOpen_=Math.min(Math.max(this.lidOpen_,this.minOpenness_),1),this.setLidAngle_(45*this.lidOpen_),this.svgGroup_.style.opacity=.4+.4*this.lidOpen_,this.lidOpen_>this.minOpenness_&&1>this.lidOpen_&&(this.lidTask_=setTimeout(this.animateLid_.bind(this),20))},t.Trashcan.prototype.setLidAngle_=function(e){var i=this.workspace_.toolboxPosition==t.TOOLBOX_AT_RIGHT||this.workspace_.horizontalLayout&&this.workspace_.RTL;this.svgLid_.setAttribute("transform","rotate("+(i?-e:e)+","+(i?4:this.WIDTH_-4)+","+(this.LID_HEIGHT_-2)+")")},t.Trashcan.prototype.close=function(){this.setOpen_(!1)},t.Trashcan.prototype.click=function(){if(this.contents_.length){for(var e,i=[],n=0;e=this.contents_[n];n++)i[n]=t.Xml.textToDom(e);this.flyout_.show(i)}},t.Trashcan.prototype.mouseOver_=function(){this.contents_.length&&this.setOpen_(!0)},t.Trashcan.prototype.mouseOut_=function(){this.setOpen_(!1)},t.Trashcan.prototype.onDelete_=function(e){if(!(0>=this.workspace_.options.maxTrashcanContents)&&e.type==t.Events.BLOCK_DELETE&&"shadow"!=e.oldXml.tagName.toLowerCase()&&(e=this.cleanBlockXML_(e.oldXml),-1==this.contents_.indexOf(e))){for(this.contents_.unshift(e);this.contents_.length>this.workspace_.options.maxTrashcanContents;)this.contents_.pop();this.minOpenness_=this.HAS_BLOCKS_LID_ANGLE,this.setLidAngle_(45*this.minOpenness_)}},t.Trashcan.prototype.cleanBlockXML_=function(e){for(var i=e=e.cloneNode(!0);i;){i.removeAttribute&&(i.removeAttribute("x"),i.removeAttribute("y"),i.removeAttribute("id"));var n=i.firstChild||i.nextSibling;if(!n)for(n=i.parentNode;n;){if(n.nextSibling){n=n.nextSibling;break}n=n.parentNode}i=n}return t.Xml.domToText(e)},t.VariablesDynamic={},t.VariablesDynamic.onCreateVariableButtonClick_String=function(e){t.Variables.createVariableButtonHandler(e.getTargetWorkspace(),null,"String")},t.VariablesDynamic.onCreateVariableButtonClick_Number=function(e){t.Variables.createVariableButtonHandler(e.getTargetWorkspace(),null,"Number")},t.VariablesDynamic.onCreateVariableButtonClick_Colour=function(e){t.Variables.createVariableButtonHandler(e.getTargetWorkspace(),null,"Colour")},t.VariablesDynamic.flyoutCategory=function(e){var i=[],n=document.createElement("button");return n.setAttribute("text",t.Msg.NEW_STRING_VARIABLE),n.setAttribute("callbackKey","CREATE_VARIABLE_STRING"),i.push(n),n=document.createElement("button"),n.setAttribute("text",t.Msg.NEW_NUMBER_VARIABLE),n.setAttribute("callbackKey","CREATE_VARIABLE_NUMBER"),i.push(n),n=document.createElement("button"),n.setAttribute("text",t.Msg.NEW_COLOUR_VARIABLE),n.setAttribute("callbackKey","CREATE_VARIABLE_COLOUR"),i.push(n),e.registerButtonCallback("CREATE_VARIABLE_STRING",t.VariablesDynamic.onCreateVariableButtonClick_String),e.registerButtonCallback("CREATE_VARIABLE_NUMBER",t.VariablesDynamic.onCreateVariableButtonClick_Number),e.registerButtonCallback("CREATE_VARIABLE_COLOUR",t.VariablesDynamic.onCreateVariableButtonClick_Colour),e=t.VariablesDynamic.flyoutCategoryBlocks(e),i.concat(e)},t.VariablesDynamic.flyoutCategoryBlocks=function(e){e=e.getAllVariables();var i=[];if(0<e.length){if(t.Blocks.variables_set_dynamic){var n=e[e.length-1],o=t.utils.xml.createElement("block");o.setAttribute("type","variables_set_dynamic"),o.setAttribute("gap",24),o.appendChild(t.Variables.generateVariableFieldDom(n)),i.push(o)}if(t.Blocks.variables_get_dynamic){e.sort(t.VariableModel.compareByName),n=0;for(var s;s=e[n];n++)o=t.utils.xml.createElement("block"),o.setAttribute("type","variables_get_dynamic"),o.setAttribute("gap",8),o.appendChild(t.Variables.generateVariableFieldDom(s)),i.push(o)}}return i},t.ZoomControls=function(t){this.workspace_=t},t.ZoomControls.prototype.WIDTH_=32,t.ZoomControls.prototype.HEIGHT_=110,t.ZoomControls.prototype.MARGIN_BOTTOM_=20,t.ZoomControls.prototype.MARGIN_SIDE_=20,t.ZoomControls.prototype.svgGroup_=null,t.ZoomControls.prototype.left_=0,t.ZoomControls.prototype.top_=0,t.ZoomControls.prototype.createDom=function(){this.svgGroup_=t.utils.dom.createSvgElement("g",{},null);var e=String(Math.random()).substring(2);return this.createZoomOutSvg_(e),this.createZoomInSvg_(e),this.workspace_.isMovable()&&this.createZoomResetSvg_(e),this.svgGroup_},t.ZoomControls.prototype.init=function(t){return this.verticalSpacing_=this.MARGIN_BOTTOM_+t,this.verticalSpacing_+this.HEIGHT_},t.ZoomControls.prototype.dispose=function(){this.svgGroup_&&t.utils.dom.removeNode(this.svgGroup_)},t.ZoomControls.prototype.position=function(){if(this.verticalSpacing_){var e=this.workspace_.getMetrics();e&&(this.left_=e.toolboxPosition==t.TOOLBOX_AT_LEFT||this.workspace_.horizontalLayout&&!this.workspace_.RTL?e.viewWidth+e.absoluteLeft-this.WIDTH_-this.MARGIN_SIDE_-t.Scrollbar.scrollbarThickness:this.MARGIN_SIDE_+t.Scrollbar.scrollbarThickness,e.toolboxPosition==t.TOOLBOX_AT_BOTTOM?(this.top_=this.verticalSpacing_,this.zoomInGroup_.setAttribute("transform","translate(0, 34)"),this.zoomResetGroup_&&this.zoomResetGroup_.setAttribute("transform","translate(0, 77)")):(this.top_=e.viewHeight+e.absoluteTop-this.HEIGHT_-this.verticalSpacing_,this.zoomInGroup_.setAttribute("transform","translate(0, 43)"),this.zoomOutGroup_.setAttribute("transform","translate(0, 77)")),this.svgGroup_.setAttribute("transform","translate("+this.left_+","+this.top_+")"))}},t.ZoomControls.prototype.createZoomOutSvg_=function(e){var i=this.workspace_;this.zoomOutGroup_=t.utils.dom.createSvgElement("g",{class:"blocklyZoom"},this.svgGroup_);var n=t.utils.dom.createSvgElement("clipPath",{id:"blocklyZoomoutClipPath"+e},this.zoomOutGroup_);t.utils.dom.createSvgElement("rect",{width:32,height:32},n),e=t.utils.dom.createSvgElement("image",{width:t.SPRITE.width,height:t.SPRITE.height,x:-64,y:-92,"clip-path":"url(#blocklyZoomoutClipPath"+e+")"},this.zoomOutGroup_),e.setAttributeNS(t.utils.dom.XLINK_NS,"xlink:href",i.options.pathToMedia+t.SPRITE.url),t.bindEventWithChecks_(e,"mousedown",null,(function(e){i.markFocused(),i.zoomCenter(-1),t.Touch.clearTouchIdentifier(),e.stopPropagation(),e.preventDefault()}))},t.ZoomControls.prototype.createZoomInSvg_=function(e){var i=this.workspace_;this.zoomInGroup_=t.utils.dom.createSvgElement("g",{class:"blocklyZoom"},this.svgGroup_);var n=t.utils.dom.createSvgElement("clipPath",{id:"blocklyZoominClipPath"+e},this.zoomInGroup_);t.utils.dom.createSvgElement("rect",{width:32,height:32},n),e=t.utils.dom.createSvgElement("image",{width:t.SPRITE.width,height:t.SPRITE.height,x:-32,y:-92,"clip-path":"url(#blocklyZoominClipPath"+e+")"},this.zoomInGroup_),e.setAttributeNS(t.utils.dom.XLINK_NS,"xlink:href",i.options.pathToMedia+t.SPRITE.url),t.bindEventWithChecks_(e,"mousedown",null,(function(e){i.markFocused(),i.zoomCenter(1),t.Touch.clearTouchIdentifier(),e.stopPropagation(),e.preventDefault()}))},t.ZoomControls.prototype.createZoomResetSvg_=function(e){var i=this.workspace_;this.zoomResetGroup_=t.utils.dom.createSvgElement("g",{class:"blocklyZoom"},this.svgGroup_);var n=t.utils.dom.createSvgElement("clipPath",{id:"blocklyZoomresetClipPath"+e},this.zoomResetGroup_);t.utils.dom.createSvgElement("rect",{width:32,height:32},n),e=t.utils.dom.createSvgElement("image",{width:t.SPRITE.width,height:t.SPRITE.height,y:-92,"clip-path":"url(#blocklyZoomresetClipPath"+e+")"},this.zoomResetGroup_),e.setAttributeNS(t.utils.dom.XLINK_NS,"xlink:href",i.options.pathToMedia+t.SPRITE.url),t.bindEventWithChecks_(e,"mousedown",null,(function(e){i.markFocused(),i.setScale(i.options.zoomOptions.startScale),i.beginCanvasTransition(),i.scrollCenter(),setTimeout(i.endCanvasTransition.bind(i),500),t.Touch.clearTouchIdentifier(),e.stopPropagation(),e.preventDefault()}))},t.Css.register([".blocklyZoom>image, .blocklyZoom>svg>image {","opacity: .4;","}",".blocklyZoom>image:hover, .blocklyZoom>svg>image:hover {","opacity: .6;","}",".blocklyZoom>image:active, .blocklyZoom>svg>image:active {","opacity: .8;","}"]),t.Themes.Dark={},t.Themes.Dark.defaultBlockStyles={colour_blocks:{colourPrimary:"#a5745b",colourSecondary:"#dbc7bd",colourTertiary:"#845d49"},list_blocks:{colourPrimary:"#745ba5",colourSecondary:"#c7bddb",colourTertiary:"#5d4984"},logic_blocks:{colourPrimary:"#5b80a5",colourSecondary:"#bdccdb",colourTertiary:"#496684"},loop_blocks:{colourPrimary:"#5ba55b",colourSecondary:"#bddbbd",colourTertiary:"#498449"},math_blocks:{colourPrimary:"#5b67a5",colourSecondary:"#bdc2db",colourTertiary:"#495284"},procedure_blocks:{colourPrimary:"#995ba5",colourSecondary:"#d6bddb",colourTertiary:"#7a4984"},text_blocks:{colourPrimary:"#5ba58c",colourSecondary:"#bddbd1",colourTertiary:"#498470"},variable_blocks:{colourPrimary:"#a55b99",colourSecondary:"#dbbdd6",colourTertiary:"#84497a"},variable_dynamic_blocks:{colourPrimary:"#a55b99",colourSecondary:"#dbbdd6",colourTertiary:"#84497a"},hat_blocks:{colourPrimary:"#a55b99",colourSecondary:"#dbbdd6",colourTertiary:"#84497a",hat:"cap"}},t.Themes.Dark.categoryStyles={colour_category:{colour:"#a5745b"},list_category:{colour:"#745ba5"},logic_category:{colour:"#5b80a5"},loop_category:{colour:"#5ba55b"},math_category:{colour:"#5b67a5"},procedure_category:{colour:"#995ba5"},text_category:{colour:"#5ba58c"},variable_category:{colour:"#a55b99"},variable_dynamic_category:{colour:"#a55b99"}},t.Themes.Dark=new t.Theme(t.Themes.Dark.defaultBlockStyles,t.Themes.Dark.categoryStyles),t.Themes.Dark.setComponentStyle("workspace","#1e1e1e"),t.Themes.Dark.setComponentStyle("toolbox","#333"),t.Themes.Dark.setComponentStyle("toolboxText","#fff"),t.Themes.Dark.setComponentStyle("flyout","#252526"),t.Themes.Dark.setComponentStyle("flyoutText","#ccc"),t.Themes.Dark.setComponentStyle("flyoutOpacity",1),t.Themes.Dark.setComponentStyle("scrollbar","#797979"),t.Themes.Dark.setComponentStyle("scrollbarOpacity",.4),t.Themes.HighContrast={},t.Themes.HighContrast.defaultBlockStyles={colour_blocks:{colourPrimary:"#a52714",colourSecondary:"#FB9B8C",colourTertiary:"#FBE1DD"},list_blocks:{colourPrimary:"#4a148c",colourSecondary:"#AD7BE9",colourTertiary:"#CDB6E9"},logic_blocks:{colourPrimary:"#01579b",colourSecondary:"#64C7FF",colourTertiary:"#C5EAFF"},loop_blocks:{colourPrimary:"#33691e",colourSecondary:"#9AFF78",colourTertiary:"#E1FFD7"},math_blocks:{colourPrimary:"#1a237e",colourSecondary:"#8A9EFF",colourTertiary:"#DCE2FF"},procedure_blocks:{colourPrimary:"#006064",colourSecondary:"#77E6EE",colourTertiary:"#CFECEE"},text_blocks:{colourPrimary:"#004d40",colourSecondary:"#5ae27c",colourTertiary:"#D2FFDD"},variable_blocks:{colourPrimary:"#880e4f",colourSecondary:"#FF73BE",colourTertiary:"#FFD4EB"},variable_dynamic_blocks:{colourPrimary:"#880e4f",colourSecondary:"#FF73BE",colourTertiary:"#FFD4EB"},hat_blocks:{colourPrimary:"#880e4f",colourSecondary:"#FF73BE",colourTertiary:"#FFD4EB",hat:"cap"}},t.Themes.HighContrast.categoryStyles={colour_category:{colour:"#a52714"},list_category:{colour:"#4a148c"},logic_category:{colour:"#01579b"},loop_category:{colour:"#33691e"},math_category:{colour:"#1a237e"},procedure_category:{colour:"#006064"},text_category:{colour:"#004d40"},variable_category:{colour:"#880e4f"},variable_dynamic_category:{colour:"#880e4f"}},t.Themes.HighContrast=new t.Theme(t.Themes.HighContrast.defaultBlockStyles,t.Themes.HighContrast.categoryStyles),t.Themes.Modern={},t.Themes.Modern.defaultBlockStyles={colour_blocks:{colourPrimary:"#a5745b",colourSecondary:"#dbc7bd",colourTertiary:"#845d49"},list_blocks:{colourPrimary:"#745ba5",colourSecondary:"#c7bddb",colourTertiary:"#5d4984"},logic_blocks:{colourPrimary:"#5b80a5",colourSecondary:"#bdccdb",colourTertiary:"#496684"},loop_blocks:{colourPrimary:"#5ba55b",colourSecondary:"#bddbbd",colourTertiary:"#498449"},math_blocks:{colourPrimary:"#5b67a5",colourSecondary:"#bdc2db",colourTertiary:"#495284"},procedure_blocks:{colourPrimary:"#995ba5",colourSecondary:"#d6bddb",colourTertiary:"#7a4984"},text_blocks:{colourPrimary:"#5ba58c",colourSecondary:"#bddbd1",colourTertiary:"#498470"},variable_blocks:{colourPrimary:"#a55b99",colourSecondary:"#dbbdd6",colourTertiary:"#84497a"},variable_dynamic_blocks:{colourPrimary:"#a55b99",colourSecondary:"#dbbdd6",colourTertiary:"#84497a"},hat_blocks:{colourPrimary:"#a55b99",colourSecondary:"#dbbdd6",colourTertiary:"#84497a",hat:"cap"}},t.Themes.Modern.categoryStyles={colour_category:{colour:"#a5745b"},list_category:{colour:"#745ba5"},logic_category:{colour:"#5b80a5"},loop_category:{colour:"#5ba55b"},math_category:{colour:"#5b67a5"},procedure_category:{colour:"#995ba5"},text_category:{colour:"#5ba58c"},variable_category:{colour:"#a55b99"},variable_dynamic_category:{colour:"#a55b99"}},t.Themes.Modern=new t.Theme(t.Themes.Modern.defaultBlockStyles,t.Themes.Modern.categoryStyles),t.requires={},t}))}).call(this,i("c8ba"))},"8c2e":function(t,e,i){},"8d7e":function(t,e,i){},"8dcb":function(t,e){t.exports=function(t){var e="[A-Za-z0-9\\._:-]+",i={endsWithParent:!0,illegal:/</,relevance:0,contains:[{className:"attr",begin:e,relevance:0},{begin:/=\s*/,relevance:0,contains:[{className:"string",endsParent:!0,variants:[{begin:/"/,end:/"/},{begin:/'/,end:/'/},{begin:/[^\s"'=<>`]+/}]}]}]};return{aliases:["html","xhtml","rss","atom","xjb","xsd","xsl","plist","wsf","svg"],case_insensitive:!0,contains:[{className:"meta",begin:"<!DOCTYPE",end:">",relevance:10,contains:[{begin:"\\[",end:"\\]"}]},t.COMMENT("\x3c!--","--\x3e",{relevance:10}),{begin:"<\\!\\[CDATA\\[",end:"\\]\\]>",relevance:10},{className:"meta",begin:/<\?xml/,end:/\?>/,relevance:10},{begin:/<\?(php)?/,end:/\?>/,subLanguage:"php",contains:[{begin:"/\\*",end:"\\*/",skip:!0},{begin:'b"',end:'"',skip:!0},{begin:"b'",end:"'",skip:!0},t.inherit(t.APOS_STRING_MODE,{illegal:null,className:null,contains:null,skip:!0}),t.inherit(t.QUOTE_STRING_MODE,{illegal:null,className:null,contains:null,skip:!0})]},{className:"tag",begin:"<style(?=\\s|>)",end:">",keywords:{name:"style"},contains:[i],starts:{end:"</style>",returnEnd:!0,subLanguage:["css","xml"]}},{className:"tag",begin:"<script(?=\\s|>)",end:">",keywords:{name:"script"},contains:[i],starts:{end:"<\/script>",returnEnd:!0,subLanguage:["actionscript","javascript","handlebars","xml"]}},{className:"tag",begin:"</?",end:"/?>",contains:[{className:"name",begin:/[^\/><\s]+/,relevance:0},i]}]}}},"8f94":function(t,e,i){!function(e,n){t.exports=n(i("56b3"))}(0,(function(t){return function(t){function e(n){if(i[n])return i[n].exports;var o=i[n]={i:n,l:!1,exports:{}};return t[n].call(o.exports,o,o.exports,e),o.l=!0,o.exports}var i={};return e.m=t,e.c=i,e.i=function(t){return t},e.d=function(t,i,n){e.o(t,i)||Object.defineProperty(t,i,{configurable:!1,enumerable:!0,get:n})},e.n=function(t){var i=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(i,"a",i),i},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="/",e(e.s=3)}([function(e,i){e.exports=t},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(0),o=function(t){return t&&t.__esModule?t:{default:t}}(n),s=window.CodeMirror||o.default;"function"!=typeof Object.assign&&Object.defineProperty(Object,"assign",{value:function(t,e){if(null==t)throw new TypeError("Cannot convert undefined or null to object");for(var i=Object(t),n=1;n<arguments.length;n++){var o=arguments[n];if(null!=o)for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(i[s]=o[s])}return i},writable:!0,configurable:!0}),e.default={name:"codemirror",data:function(){return{content:"",codemirror:null,cminstance:null}},props:{code:String,value:String,marker:Function,unseenLines:Array,name:{type:String,default:"codemirror"},placeholder:{type:String,default:""},merge:{type:Boolean,default:!1},options:{type:Object,default:function(){return{}}},events:{type:Array,default:function(){return[]}},globalOptions:{type:Object,default:function(){return{}}},globalEvents:{type:Array,default:function(){return[]}}},watch:{options:{deep:!0,handler:function(t){for(var e in t)this.cminstance.setOption(e,t[e])}},merge:function(){this.$nextTick(this.switchMerge)},code:function(t){this.handerCodeChange(t)},value:function(t){this.handerCodeChange(t)}},methods:{initialize:function(){var t=this,e=Object.assign({},this.globalOptions,this.options);this.merge?(this.codemirror=s.MergeView(this.$refs.mergeview,e),this.cminstance=this.codemirror.edit):(this.codemirror=s.fromTextArea(this.$refs.textarea,e),this.cminstance=this.codemirror,this.cminstance.setValue(this.code||this.value||this.content)),this.cminstance.on("change",(function(e){t.content=e.getValue(),t.$emit&&t.$emit("input",t.content)}));var i={};["scroll","changes","beforeChange","cursorActivity","keyHandled","inputRead","electricInput","beforeSelectionChange","viewportChange","swapDoc","gutterClick","gutterContextMenu","focus","blur","refresh","optionChange","scrollCursorIntoView","update"].concat(this.events).concat(this.globalEvents).filter((function(t){return!i[t]&&(i[t]=!0)})).forEach((function(e){t.cminstance.on(e,(function(){for(var i=arguments.length,n=Array(i),o=0;o<i;o++)n[o]=arguments[o];t.$emit.apply(t,[e].concat(n));var s=e.replace(/([A-Z])/g,"-$1").toLowerCase();s!==e&&t.$emit.apply(t,[s].concat(n))}))})),this.$emit("ready",this.codemirror),this.unseenLineMarkers(),this.refresh()},refresh:function(){var t=this;this.$nextTick((function(){t.cminstance.refresh()}))},destroy:function(){var t=this.cminstance.doc.cm.getWrapperElement();t&&t.remove&&t.remove()},handerCodeChange:function(t){if(t!==this.cminstance.getValue()){var e=this.cminstance.getScrollInfo();this.cminstance.setValue(t),this.content=t,this.cminstance.scrollTo(e.left,e.top)}this.unseenLineMarkers()},unseenLineMarkers:function(){var t=this;void 0!==this.unseenLines&&void 0!==this.marker&&this.unseenLines.forEach((function(e){var i=t.cminstance.lineInfo(e);t.cminstance.setGutterMarker(e,"breakpoints",i.gutterMarkers?null:t.marker())}))},switchMerge:function(){var t=this.cminstance.doc.history,e=this.cminstance.doc.cleanGeneration;this.options.value=this.cminstance.getValue(),this.destroy(),this.initialize(),this.cminstance.doc.history=t,this.cminstance.doc.cleanGeneration=e}},mounted:function(){this.initialize()},beforeDestroy:function(){this.destroy()}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(1),o=i.n(n);for(var s in n)["default","default"].indexOf(s)<0&&function(t){i.d(e,t,(function(){return n[t]}))}(s);var r=i(5),a=i(4),l=a(o.a,r.a,!1,null,null,null);e.default=l.exports},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0}),e.install=e.codemirror=e.CodeMirror=void 0;var o=i(0),s=n(o),r=i(2),a=n(r),l=window.CodeMirror||s.default,c=function(t,e){e&&(e.options&&(a.default.props.globalOptions.default=function(){return e.options}),e.events&&(a.default.props.globalEvents.default=function(){return e.events})),t.component(a.default.name,a.default)},u={CodeMirror:l,codemirror:a.default,install:c};e.default=u,e.CodeMirror=l,e.codemirror=a.default,e.install=c},function(t,e){t.exports=function(t,e,i,n,o,s){var r,a=t=t||{},l=typeof t.default;"object"!==l&&"function"!==l||(r=t,a=t.default);var c,u="function"==typeof a?a.options:a;if(e&&(u.render=e.render,u.staticRenderFns=e.staticRenderFns,u._compiled=!0),i&&(u.functional=!0),o&&(u._scopeId=o),s?(c=function(t){t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,t||"undefined"==typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),n&&n.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(s)},u._ssrRegister=c):n&&(c=n),c){var h=u.functional,d=h?u.render:u.beforeCreate;h?(u._injectStyles=c,u.render=function(t,e){return c.call(e),d(t,e)}):u.beforeCreate=d?[].concat(d,c):[c]}return{esModule:r,exports:a,options:u}}},function(t,e,i){"use strict";var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"vue-codemirror",class:{merge:t.merge}},[t.merge?i("div",{ref:"mergeview"}):i("textarea",{ref:"textarea",attrs:{name:t.name,placeholder:t.placeholder}})])},o=[],s={render:n,staticRenderFns:o};e.a=s}])}))},"903e":function(t,e,i){(function(t){t(i("56b3"))})((function(t){"use strict";t.registerHelper("wordChars","r",/[\w.]/),t.defineMode("r",(function(e){function i(t){for(var e={},i=0;i<t.length;++i)e[t[i]]=!0;return e}var n=["NULL","NA","Inf","NaN","NA_integer_","NA_real_","NA_complex_","NA_character_","TRUE","FALSE"],o=["list","quote","bquote","eval","return","call","parse","deparse"],s=["if","else","repeat","while","function","for","in","next","break"],r=["if","else","repeat","while","function","for"];t.registerHelper("hintWords","r",n.concat(o,s));var a,l=i(n),c=i(o),u=i(s),h=i(r),d=/[+\-*\/^<>=!&|~$:]/;function p(t,e){a=null;var i=t.next();if("#"==i)return t.skipToEnd(),"comment";if("0"==i&&t.eat("x"))return t.eatWhile(/[\da-f]/i),"number";if("."==i&&t.eat(/\d/))return t.match(/\d*(?:e[+\-]?\d+)?/),"number";if(/\d/.test(i))return t.match(/\d*(?:\.\d+)?(?:e[+\-]\d+)?L?/),"number";if("'"==i||'"'==i)return e.tokenize=_(i),"string";if("`"==i)return t.match(/[^`]+`/),"variable-3";if("."==i&&t.match(/.[.\d]+/))return"keyword";if(/[\w\.]/.test(i)&&"_"!=i){t.eatWhile(/[\w\.]/);var n=t.current();return l.propertyIsEnumerable(n)?"atom":u.propertyIsEnumerable(n)?(h.propertyIsEnumerable(n)&&!t.match(/\s*if(\s+|$)/,!1)&&(a="block"),"keyword"):c.propertyIsEnumerable(n)?"builtin":"variable"}return"%"==i?(t.skipTo("%")&&t.next(),"operator variable-2"):"<"==i&&t.eat("-")||"<"==i&&t.match("<-")||"-"==i&&t.match(/>>?/)?"operator arrow":"="==i&&e.ctx.argList?"arg-is":d.test(i)?"$"==i?"operator dollar":(t.eatWhile(d),"operator"):/[\(\){}\[\];]/.test(i)?(a=i,";"==i?"semi":null):null}function _(t){return function(e,i){if(e.eat("\\")){var n=e.next();return"x"==n?e.match(/^[a-f0-9]{2}/i):("u"==n||"U"==n)&&e.eat("{")&&e.skipTo("}")?e.next():"u"==n?e.match(/^[a-f0-9]{4}/i):"U"==n?e.match(/^[a-f0-9]{8}/i):/[0-7]/.test(n)&&e.match(/^[0-7]{1,2}/),"string-2"}var o;while(null!=(o=e.next())){if(o==t){i.tokenize=p;break}if("\\"==o){e.backUp(1);break}}return"string"}}var g=1,f=2,m=4;function v(t,e,i){t.ctx={type:e,indent:t.indent,flags:0,column:i.column(),prev:t.ctx}}function b(t,e){var i=t.ctx;t.ctx={type:i.type,indent:i.indent,flags:i.flags|e,column:i.column,prev:i.prev}}function y(t){t.indent=t.ctx.indent,t.ctx=t.ctx.prev}return{startState:function(){return{tokenize:p,ctx:{type:"top",indent:-e.indentUnit,flags:f},indent:0,afterIdent:!1}},token:function(t,e){if(t.sol()&&(0==(3&e.ctx.flags)&&(e.ctx.flags|=f),e.ctx.flags&m&&y(e),e.indent=t.indentation()),t.eatSpace())return null;var i=e.tokenize(t,e);return"comment"!=i&&0==(e.ctx.flags&f)&&b(e,g),";"!=a&&"{"!=a&&"}"!=a||"block"!=e.ctx.type||y(e),"{"==a?v(e,"}",t):"("==a?(v(e,")",t),e.afterIdent&&(e.ctx.argList=!0)):"["==a?v(e,"]",t):"block"==a?v(e,"block",t):a==e.ctx.type?y(e):"block"==e.ctx.type&&"comment"!=i&&b(e,m),e.afterIdent="variable"==i||"keyword"==i,i},indent:function(t,i){if(t.tokenize!=p)return 0;var n=i&&i.charAt(0),o=t.ctx,s=n==o.type;return o.flags&m&&(o=o.prev),"block"==o.type?o.indent+("{"==n?0:e.indentUnit):o.flags&g?o.column+(s?0:1):o.indent+(s?0:e.indentUnit)},lineComment:"#"}})),t.defineMIME("text/x-rsrc","r")}))},"906f":function(t,e,i){(function(t){t(i("56b3"))})((function(t){"use strict";function e(t,e){return t.string.charAt(t.pos+(e||0))}function i(t,e){if(e){var i=t.pos-e;return t.string.substr(i>=0?i:0,e)}return t.string.substr(0,t.pos-1)}function n(t,e){var i=t.string.length,n=i-t.pos+1;return t.string.substr(t.pos,e&&e<i?e:n)}function o(t,e){var i,n=t.pos+e;n<=0?t.pos=0:n>=(i=t.string.length-1)?t.pos=i:t.pos=n}t.defineMode("perl",(function(){var t={"->":4,"++":4,"--":4,"**":4,"=~":4,"!~":4,"*":4,"/":4,"%":4,x:4,"+":4,"-":4,".":4,"<<":4,">>":4,"<":4,">":4,"<=":4,">=":4,lt:4,gt:4,le:4,ge:4,"==":4,"!=":4,"<=>":4,eq:4,ne:4,cmp:4,"~~":4,"&":4,"|":4,"^":4,"&&":4,"||":4,"//":4,"..":4,"...":4,"?":4,":":4,"=":4,"+=":4,"-=":4,"*=":4,",":4,"=>":4,"::":4,not:4,and:4,or:4,xor:4,BEGIN:[5,1],END:[5,1],PRINT:[5,1],PRINTF:[5,1],GETC:[5,1],READ:[5,1],READLINE:[5,1],DESTROY:[5,1],TIE:[5,1],TIEHANDLE:[5,1],UNTIE:[5,1],STDIN:5,STDIN_TOP:5,STDOUT:5,STDOUT_TOP:5,STDERR:5,STDERR_TOP:5,$ARG:5,$_:5,"@ARG":5,"@_":5,$LIST_SEPARATOR:5,'$"':5,$PROCESS_ID:5,$PID:5,$$:5,$REAL_GROUP_ID:5,$GID:5,"$(":5,$EFFECTIVE_GROUP_ID:5,$EGID:5,"$)":5,$PROGRAM_NAME:5,$0:5,$SUBSCRIPT_SEPARATOR:5,$SUBSEP:5,"$;":5,$REAL_USER_ID:5,$UID:5,"$<":5,$EFFECTIVE_USER_ID:5,$EUID:5,"$>":5,$a:5,$b:5,$COMPILING:5,"$^C":5,$DEBUGGING:5,"$^D":5,"${^ENCODING}":5,$ENV:5,"%ENV":5,$SYSTEM_FD_MAX:5,"$^F":5,"@F":5,"${^GLOBAL_PHASE}":5,"$^H":5,"%^H":5,"@INC":5,"%INC":5,$INPLACE_EDIT:5,"$^I":5,"$^M":5,$OSNAME:5,"$^O":5,"${^OPEN}":5,$PERLDB:5,"$^P":5,$SIG:5,"%SIG":5,$BASETIME:5,"$^T":5,"${^TAINT}":5,"${^UNICODE}":5,"${^UTF8CACHE}":5,"${^UTF8LOCALE}":5,$PERL_VERSION:5,"$^V":5,"${^WIN32_SLOPPY_STAT}":5,$EXECUTABLE_NAME:5,"$^X":5,$1:5,$MATCH:5,"$&":5,"${^MATCH}":5,$PREMATCH:5,"$`":5,"${^PREMATCH}":5,$POSTMATCH:5,"$'":5,"${^POSTMATCH}":5,$LAST_PAREN_MATCH:5,"$+":5,$LAST_SUBMATCH_RESULT:5,"$^N":5,"@LAST_MATCH_END":5,"@+":5,"%LAST_PAREN_MATCH":5,"%+":5,"@LAST_MATCH_START":5,"@-":5,"%LAST_MATCH_START":5,"%-":5,$LAST_REGEXP_CODE_RESULT:5,"$^R":5,"${^RE_DEBUG_FLAGS}":5,"${^RE_TRIE_MAXBUF}":5,$ARGV:5,"@ARGV":5,ARGV:5,ARGVOUT:5,$OUTPUT_FIELD_SEPARATOR:5,$OFS:5,"$,":5,$INPUT_LINE_NUMBER:5,$NR:5,"$.":5,$INPUT_RECORD_SEPARATOR:5,$RS:5,"$/":5,$OUTPUT_RECORD_SEPARATOR:5,$ORS:5,"$\\":5,$OUTPUT_AUTOFLUSH:5,"$|":5,$ACCUMULATOR:5,"$^A":5,$FORMAT_FORMFEED:5,"$^L":5,$FORMAT_PAGE_NUMBER:5,"$%":5,$FORMAT_LINES_LEFT:5,"$-":5,$FORMAT_LINE_BREAK_CHARACTERS:5,"$:":5,$FORMAT_LINES_PER_PAGE:5,"$=":5,$FORMAT_TOP_NAME:5,"$^":5,$FORMAT_NAME:5,"$~":5,"${^CHILD_ERROR_NATIVE}":5,$EXTENDED_OS_ERROR:5,"$^E":5,$EXCEPTIONS_BEING_CAUGHT:5,"$^S":5,$WARNING:5,"$^W":5,"${^WARNING_BITS}":5,$OS_ERROR:5,$ERRNO:5,"$!":5,"%OS_ERROR":5,"%ERRNO":5,"%!":5,$CHILD_ERROR:5,"$?":5,$EVAL_ERROR:5,"$@":5,$OFMT:5,"$#":5,"$*":5,$ARRAY_BASE:5,"$[":5,$OLD_PERL_VERSION:5,"$]":5,if:[1,1],elsif:[1,1],else:[1,1],while:[1,1],unless:[1,1],for:[1,1],foreach:[1,1],abs:1,accept:1,alarm:1,atan2:1,bind:1,binmode:1,bless:1,bootstrap:1,break:1,caller:1,chdir:1,chmod:1,chomp:1,chop:1,chown:1,chr:1,chroot:1,close:1,closedir:1,connect:1,continue:[1,1],cos:1,crypt:1,dbmclose:1,dbmopen:1,default:1,defined:1,delete:1,die:1,do:1,dump:1,each:1,endgrent:1,endhostent:1,endnetent:1,endprotoent:1,endpwent:1,endservent:1,eof:1,eval:1,exec:1,exists:1,exit:1,exp:1,fcntl:1,fileno:1,flock:1,fork:1,format:1,formline:1,getc:1,getgrent:1,getgrgid:1,getgrnam:1,gethostbyaddr:1,gethostbyname:1,gethostent:1,getlogin:1,getnetbyaddr:1,getnetbyname:1,getnetent:1,getpeername:1,getpgrp:1,getppid:1,getpriority:1,getprotobyname:1,getprotobynumber:1,getprotoent:1,getpwent:1,getpwnam:1,getpwuid:1,getservbyname:1,getservbyport:1,getservent:1,getsockname:1,getsockopt:1,given:1,glob:1,gmtime:1,goto:1,grep:1,hex:1,import:1,index:1,int:1,ioctl:1,join:1,keys:1,kill:1,last:1,lc:1,lcfirst:1,length:1,link:1,listen:1,local:2,localtime:1,lock:1,log:1,lstat:1,m:null,map:1,mkdir:1,msgctl:1,msgget:1,msgrcv:1,msgsnd:1,my:2,new:1,next:1,no:1,oct:1,open:1,opendir:1,ord:1,our:2,pack:1,package:1,pipe:1,pop:1,pos:1,print:1,printf:1,prototype:1,push:1,q:null,qq:null,qr:null,quotemeta:null,qw:null,qx:null,rand:1,read:1,readdir:1,readline:1,readlink:1,readpipe:1,recv:1,redo:1,ref:1,rename:1,require:1,reset:1,return:1,reverse:1,rewinddir:1,rindex:1,rmdir:1,s:null,say:1,scalar:1,seek:1,seekdir:1,select:1,semctl:1,semget:1,semop:1,send:1,setgrent:1,sethostent:1,setnetent:1,setpgrp:1,setpriority:1,setprotoent:1,setpwent:1,setservent:1,setsockopt:1,shift:1,shmctl:1,shmget:1,shmread:1,shmwrite:1,shutdown:1,sin:1,sleep:1,socket:1,socketpair:1,sort:1,splice:1,split:1,sprintf:1,sqrt:1,srand:1,stat:1,state:1,study:1,sub:1,substr:1,symlink:1,syscall:1,sysopen:1,sysread:1,sysseek:1,system:1,syswrite:1,tell:1,telldir:1,tie:1,tied:1,time:1,times:1,tr:null,truncate:1,uc:1,ucfirst:1,umask:1,undef:1,unlink:1,unpack:1,unshift:1,untie:1,use:1,utime:1,values:1,vec:1,wait:1,waitpid:1,wantarray:1,warn:1,when:1,write:1,y:null},s="string-2",r=/[goseximacplud]/;function a(t,e,i,n,o){return e.chain=null,e.style=null,e.tail=null,e.tokenize=function(t,e){var s,r=!1,a=0;while(s=t.next()){if(s===i[a]&&!r)return void 0!==i[++a]?(e.chain=i[a],e.style=n,e.tail=o):o&&t.eatWhile(o),e.tokenize=c,n;r=!r&&"\\"==s}return n},e.tokenize(t,e)}function l(t,e,i){return e.tokenize=function(t,e){return t.string==i&&(e.tokenize=c),t.skipToEnd(),"string"},e.tokenize(t,e)}function c(c,u){if(c.eatSpace())return null;if(u.chain)return a(c,u,u.chain,u.style,u.tail);if(c.match(/^\-?[\d\.]/,!1)&&c.match(/^(\-?(\d*\.\d+(e[+-]?\d+)?|\d+\.\d*)|0x[\da-fA-F]+|0b[01]+|\d+(e[+-]?\d+)?)/))return"number";if(c.match(/^<<(?=\w)/))return c.eatWhile(/\w/),l(c,u,c.current().substr(2));if(c.sol()&&c.match(/^\=item(?!\w)/))return l(c,u,"=cut");var h=c.next();if('"'==h||"'"==h){if(i(c,3)=="<<"+h){var d=c.pos;c.eatWhile(/\w/);var p=c.current().substr(1);if(p&&c.eat(h))return l(c,u,p);c.pos=d}return a(c,u,[h],"string")}if("q"==h){var _=e(c,-2);if(!_||!/\w/.test(_))if(_=e(c,0),"x"==_){if(_=e(c,1),"("==_)return o(c,2),a(c,u,[")"],s,r);if("["==_)return o(c,2),a(c,u,["]"],s,r);if("{"==_)return o(c,2),a(c,u,["}"],s,r);if("<"==_)return o(c,2),a(c,u,[">"],s,r);if(/[\^'"!~\/]/.test(_))return o(c,1),a(c,u,[c.eat(_)],s,r)}else if("q"==_){if(_=e(c,1),"("==_)return o(c,2),a(c,u,[")"],"string");if("["==_)return o(c,2),a(c,u,["]"],"string");if("{"==_)return o(c,2),a(c,u,["}"],"string");if("<"==_)return o(c,2),a(c,u,[">"],"string");if(/[\^'"!~\/]/.test(_))return o(c,1),a(c,u,[c.eat(_)],"string")}else if("w"==_){if(_=e(c,1),"("==_)return o(c,2),a(c,u,[")"],"bracket");if("["==_)return o(c,2),a(c,u,["]"],"bracket");if("{"==_)return o(c,2),a(c,u,["}"],"bracket");if("<"==_)return o(c,2),a(c,u,[">"],"bracket");if(/[\^'"!~\/]/.test(_))return o(c,1),a(c,u,[c.eat(_)],"bracket")}else if("r"==_){if(_=e(c,1),"("==_)return o(c,2),a(c,u,[")"],s,r);if("["==_)return o(c,2),a(c,u,["]"],s,r);if("{"==_)return o(c,2),a(c,u,["}"],s,r);if("<"==_)return o(c,2),a(c,u,[">"],s,r);if(/[\^'"!~\/]/.test(_))return o(c,1),a(c,u,[c.eat(_)],s,r)}else if(/[\^'"!~\/(\[{<]/.test(_)){if("("==_)return o(c,1),a(c,u,[")"],"string");if("["==_)return o(c,1),a(c,u,["]"],"string");if("{"==_)return o(c,1),a(c,u,["}"],"string");if("<"==_)return o(c,1),a(c,u,[">"],"string");if(/[\^'"!~\/]/.test(_))return a(c,u,[c.eat(_)],"string")}}if("m"==h){_=e(c,-2);if((!_||!/\w/.test(_))&&(_=c.eat(/[(\[{<\^'"!~\/]/),_)){if(/[\^'"!~\/]/.test(_))return a(c,u,[_],s,r);if("("==_)return a(c,u,[")"],s,r);if("["==_)return a(c,u,["]"],s,r);if("{"==_)return a(c,u,["}"],s,r);if("<"==_)return a(c,u,[">"],s,r)}}if("s"==h){_=/[\/>\]})\w]/.test(e(c,-2));if(!_&&(_=c.eat(/[(\[{<\^'"!~\/]/),_))return a(c,u,"["==_?["]","]"]:"{"==_?["}","}"]:"<"==_?[">",">"]:"("==_?[")",")"]:[_,_],s,r)}if("y"==h){_=/[\/>\]})\w]/.test(e(c,-2));if(!_&&(_=c.eat(/[(\[{<\^'"!~\/]/),_))return a(c,u,"["==_?["]","]"]:"{"==_?["}","}"]:"<"==_?[">",">"]:"("==_?[")",")"]:[_,_],s,r)}if("t"==h){_=/[\/>\]})\w]/.test(e(c,-2));if(!_&&(_=c.eat("r"),_&&(_=c.eat(/[(\[{<\^'"!~\/]/),_)))return a(c,u,"["==_?["]","]"]:"{"==_?["}","}"]:"<"==_?[">",">"]:"("==_?[")",")"]:[_,_],s,r)}if("`"==h)return a(c,u,[h],"variable-2");if("/"==h)return/~\s*$/.test(i(c))?a(c,u,[h],s,r):"operator";if("$"==h){d=c.pos;if(c.eatWhile(/\d/)||c.eat("{")&&c.eatWhile(/\d/)&&c.eat("}"))return"variable-2";c.pos=d}if(/[$@%]/.test(h)){d=c.pos;if(c.eat("^")&&c.eat(/[A-Z]/)||!/[@$%&]/.test(e(c,-2))&&c.eat(/[=|\\\-#?@;:&`~\^!\[\]*'"$+.,\/<>()]/)){_=c.current();if(t[_])return"variable-2"}c.pos=d}if(/[$@%&]/.test(h)&&(c.eatWhile(/[\w$\[\]]/)||c.eat("{")&&c.eatWhile(/[\w$\[\]]/)&&c.eat("}"))){_=c.current();return t[_]?"variable-2":"variable"}if("#"==h&&"$"!=e(c,-2))return c.skipToEnd(),"comment";if(/[:+\-\^*$&%@=<>!?|\/~\.]/.test(h)){d=c.pos;if(c.eatWhile(/[:+\-\^*$&%@=<>!?|\/~\.]/),t[c.current()])return"operator";c.pos=d}if("_"==h&&1==c.pos){if("_END__"==n(c,6))return a(c,u,["\0"],"comment");if("_DATA__"==n(c,7))return a(c,u,["\0"],"variable-2");if("_C__"==n(c,7))return a(c,u,["\0"],"string")}if(/\w/.test(h)){d=c.pos;if("{"==e(c,-2)&&("}"==e(c,0)||c.eatWhile(/\w/)&&"}"==e(c,0)))return"string";c.pos=d}if(/[A-Z]/.test(h)){var g=e(c,-2);d=c.pos;if(c.eatWhile(/[A-Z_]/),!/[\da-z]/.test(e(c,0))){_=t[c.current()];return _?(_[1]&&(_=_[0]),":"!=g?1==_?"keyword":2==_?"def":3==_?"atom":4==_?"operator":5==_?"variable-2":"meta":"meta"):"meta"}c.pos=d}if(/[a-zA-Z_]/.test(h)){g=e(c,-2);c.eatWhile(/\w/);_=t[c.current()];return _?(_[1]&&(_=_[0]),":"!=g?1==_?"keyword":2==_?"def":3==_?"atom":4==_?"operator":5==_?"variable-2":"meta":"meta"):"meta"}return null}return{startState:function(){return{tokenize:c,chain:null,style:null,tail:null}},token:function(t,e){return(e.tokenize||c)(t,e)},lineComment:"#"}})),t.registerHelper("wordChars","perl",/[\w$]/),t.defineMIME("text/x-perl","perl")}))},9510:function(t,e){t.exports=function(t){var e={keyword:"and elif is global as in if from raise for except finally print import pass return exec else break not with class assert yield try while continue del or def lambda async await nonlocal|10",built_in:"Ellipsis NotImplemented",literal:"False None True"},i={className:"meta",begin:/^(>>>|\.\.\.) /},n={className:"subst",begin:/\{/,end:/\}/,keywords:e,illegal:/#/},o={begin:/\{\{/,relevance:0},s={className:"string",contains:[t.BACKSLASH_ESCAPE],variants:[{begin:/(u|b)?r?'''/,end:/'''/,contains:[t.BACKSLASH_ESCAPE,i],relevance:10},{begin:/(u|b)?r?"""/,end:/"""/,contains:[t.BACKSLASH_ESCAPE,i],relevance:10},{begin:/(fr|rf|f)'''/,end:/'''/,contains:[t.BACKSLASH_ESCAPE,i,o,n]},{begin:/(fr|rf|f)"""/,end:/"""/,contains:[t.BACKSLASH_ESCAPE,i,o,n]},{begin:/(u|r|ur)'/,end:/'/,relevance:10},{begin:/(u|r|ur)"/,end:/"/,relevance:10},{begin:/(b|br)'/,end:/'/},{begin:/(b|br)"/,end:/"/},{begin:/(fr|rf|f)'/,end:/'/,contains:[t.BACKSLASH_ESCAPE,o,n]},{begin:/(fr|rf|f)"/,end:/"/,contains:[t.BACKSLASH_ESCAPE,o,n]},t.APOS_STRING_MODE,t.QUOTE_STRING_MODE]},r={className:"number",relevance:0,variants:[{begin:t.BINARY_NUMBER_RE+"[lLjJ]?"},{begin:"\\b(0o[0-7]+)[lLjJ]?"},{begin:t.C_NUMBER_RE+"[lLjJ]?"}]},a={className:"params",begin:/\(/,end:/\)/,contains:["self",i,r,s,t.HASH_COMMENT_MODE]};return n.contains=[s,r,i],{aliases:["py","gyp","ipython"],keywords:e,illegal:/(<\/|->|\?)|=>/,contains:[i,r,s,t.HASH_COMMENT_MODE,{variants:[{className:"function",beginKeywords:"def"},{className:"class",beginKeywords:"class"}],end:/:/,illegal:/[${=;\n,]/,contains:[t.UNDERSCORE_TITLE_MODE,a,{begin:/->/,endsWithParent:!0,keywords:"None"}]},{className:"meta",begin:/^[\t ]*@/,end:/$/},{begin:/\b(print|exec)\(/}]}}},9603:function(t,e,i){},"9bf2":function(t,e){t.exports=function(t){var e={className:"built_in",begin:"\\b(AV|CA|CF|CG|CI|CL|CM|CN|CT|MK|MP|MTK|MTL|NS|SCN|SK|UI|WK|XC)\\w+"},i={keyword:"int float while char export sizeof typedef const struct for union unsigned long volatile static bool mutable if do return goto void enum else break extern asm case short default double register explicit signed typename this switch continue wchar_t inline readonly assign readwrite self @synchronized id typeof nonatomic super unichar IBOutlet IBAction strong weak copy in out inout bycopy byref oneway __strong __weak __block __autoreleasing @private @protected @public @try @property @end @throw @catch @finally @autoreleasepool @synthesize @dynamic @selector @optional @required @encode @package @import @defs @compatibility_alias __bridge __bridge_transfer __bridge_retained __bridge_retain __covariant __contravariant __kindof _Nonnull _Nullable _Null_unspecified __FUNCTION__ __PRETTY_FUNCTION__ __attribute__ getter setter retain unsafe_unretained nonnull nullable null_unspecified null_resettable class instancetype NS_DESIGNATED_INITIALIZER NS_UNAVAILABLE NS_REQUIRES_SUPER NS_RETURNS_INNER_POINTER NS_INLINE NS_AVAILABLE NS_DEPRECATED NS_ENUM NS_OPTIONS NS_SWIFT_UNAVAILABLE NS_ASSUME_NONNULL_BEGIN NS_ASSUME_NONNULL_END NS_REFINED_FOR_SWIFT NS_SWIFT_NAME NS_SWIFT_NOTHROW NS_DURING NS_HANDLER NS_ENDHANDLER NS_VALUERETURN NS_VOIDRETURN",literal:"false true FALSE TRUE nil YES NO NULL",built_in:"BOOL dispatch_once_t dispatch_queue_t dispatch_sync dispatch_async dispatch_once"},n=/[a-zA-Z@][a-zA-Z0-9_]*/,o="@interface @class @protocol @implementation";return{aliases:["mm","objc","obj-c"],keywords:i,lexemes:n,illegal:"</",contains:[e,t.C_LINE_COMMENT_MODE,t.C_BLOCK_COMMENT_MODE,t.C_NUMBER_MODE,t.QUOTE_STRING_MODE,{className:"string",variants:[{begin:'@"',end:'"',illegal:"\\n",contains:[t.BACKSLASH_ESCAPE]},{begin:"'",end:"[^\\\\]'",illegal:"[^\\\\][^']"}]},{className:"meta",begin:"#",end:"$",contains:[{className:"meta-string",variants:[{begin:'"',end:'"'},{begin:"<",end:">"}]}]},{className:"class",begin:"("+o.split(" ").join("|")+")\\b",end:"({|$)",excludeEnd:!0,keywords:o,lexemes:n,contains:[t.UNDERSCORE_TITLE_MODE]},{begin:"\\."+t.UNDERSCORE_IDENT_RE,relevance:0}]}}},a70e:function(t,e,i){var n,o;(function(i){var s="object"===typeof window&&window||"object"===typeof self&&self;e.nodeType?s&&(s.hljs=i({}),n=[],o=function(){return s.hljs}.apply(e,n),void 0===o||(t.exports=o)):i(e)})((function(t){var e,i=[],n=Object.keys,o={},s={},r=/^(no-?highlight|plain|text)$/i,a=/\blang(?:uage)?-([\w-]+)\b/i,l=/((^(<[^>]+>|\t|)+|(?:\n)))/gm,c="</span>",u={classPrefix:"hljs-",tabReplace:null,useBR:!1,languages:void 0},h="of and for in not or if then".split(" ");function d(t){return t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function p(t){return t.nodeName.toLowerCase()}function _(t,e){var i=t&&t.exec(e);return i&&0===i.index}function g(t){return r.test(t)}function f(t){var e,i,n,o,s=t.className+" ";if(s+=t.parentNode?t.parentNode.className:"",i=a.exec(s),i)return P(i[1])?i[1]:"no-highlight";for(s=s.split(/\s+/),e=0,n=s.length;e<n;e++)if(o=s[e],g(o)||P(o))return o}function m(t){var e,i={},n=Array.prototype.slice.call(arguments,1);for(e in t)i[e]=t[e];return n.forEach((function(t){for(e in t)i[e]=t[e]})),i}function v(t){var e=[];return function t(i,n){for(var o=i.firstChild;o;o=o.nextSibling)3===o.nodeType?n+=o.nodeValue.length:1===o.nodeType&&(e.push({event:"start",offset:n,node:o}),n=t(o,n),p(o).match(/br|hr|img|input/)||e.push({event:"stop",offset:n,node:o}));return n}(t,0),e}function b(t,e,n){var o=0,s="",r=[];function a(){return t.length&&e.length?t[0].offset!==e[0].offset?t[0].offset<e[0].offset?t:e:"start"===e[0].event?t:e:t.length?t:e}function l(t){function e(t){return" "+t.nodeName+'="'+d(t.value).replace('"',"&quot;")+'"'}s+="<"+p(t)+i.map.call(t.attributes,e).join("")+">"}function c(t){s+="</"+p(t)+">"}function u(t){("start"===t.event?l:c)(t.node)}while(t.length||e.length){var h=a();if(s+=d(n.substring(o,h[0].offset)),o=h[0].offset,h===t){r.reverse().forEach(c);do{u(h.splice(0,1)[0]),h=a()}while(h===t&&h.length&&h[0].offset===o);r.reverse().forEach(l)}else"start"===h[0].event?r.push(h[0].node):r.pop(),u(h.splice(0,1)[0])}return s+d(n.substr(o))}function y(t){return!!t&&(t.endsWithParent||y(t.starts))}function T(t){return t.variants&&!t.cached_variants&&(t.cached_variants=t.variants.map((function(e){return m(t,{variants:null},e)}))),t.cached_variants?t.cached_variants:y(t)?[m(t,{starts:t.starts?m(t.starts):null})]:[t]}function E(t){if(e&&!t.langApiRestored){for(var i in t.langApiRestored=!0,e)t[i]&&(t[e[i]]=t[i]);(t.contains||[]).concat(t.variants||[]).forEach(E)}}function S(t,e){var i={};return"string"===typeof t?o("keyword",t):n(t).forEach((function(e){o(e,t[e])})),i;function o(t,n){e&&(n=n.toLowerCase()),n.split(" ").forEach((function(e){var n=e.split("|");i[n[0]]=[t,C(n[0],n[1])]}))}}function C(t,e){return e?Number(e):k(t)?0:1}function k(t){return-1!=h.indexOf(t.toLowerCase())}function w(t){function e(t){return t&&t.source||t}function i(i,n){return new RegExp(e(i),"m"+(t.case_insensitive?"i":"")+(n?"g":""))}function n(t){return new RegExp(t.toString()+"|").exec("").length-1}function o(t,i){for(var n=/\[(?:[^\\\]]|\\.)*\]|\(\??|\\([1-9][0-9]*)|\\./,o=0,s="",r=0;r<t.length;r++){o+=1;var a=o,l=e(t[r]);r>0&&(s+=i),s+="(";while(l.length>0){var c=n.exec(l);if(null==c){s+=l;break}s+=l.substring(0,c.index),l=l.substring(c.index+c[0].length),"\\"==c[0][0]&&c[1]?s+="\\"+String(Number(c[1])+a):(s+=c[0],"("==c[0]&&o++)}s+=")"}return s}function s(t){var e,s,r={},a=[],l={},c=1;function u(t,e){r[c]=t,a.push([t,e]),c+=n(e)+1}for(var h=0;h<t.contains.length;h++){var d;s=t.contains[h],d=s.beginKeywords?"\\.?(?:"+s.begin+")\\.?":s.begin,u(s,d)}t.terminator_end&&u("end",t.terminator_end),t.illegal&&u("illegal",t.illegal);var p=a.map((function(t){return t[1]}));return e=i(o(p,"|"),!0),l.lastIndex=0,l.exec=function(i){var n;if(0===a.length)return null;e.lastIndex=l.lastIndex;var o=e.exec(i);if(!o)return null;for(var s=0;s<o.length;s++)if(void 0!=o[s]&&void 0!=r[""+s]){n=r[""+s];break}return"string"===typeof n?(o.type=n,o.extra=[t.illegal,t.terminator_end]):(o.type="begin",o.rule=n),o},l}function r(n,o){n.compiled||(n.compiled=!0,n.keywords=n.keywords||n.beginKeywords,n.keywords&&(n.keywords=S(n.keywords,t.case_insensitive)),n.lexemesRe=i(n.lexemes||/\w+/,!0),o&&(n.beginKeywords&&(n.begin="\\b("+n.beginKeywords.split(" ").join("|")+")\\b"),n.begin||(n.begin=/\B|\b/),n.beginRe=i(n.begin),n.endSameAsBegin&&(n.end=n.begin),n.end||n.endsWithParent||(n.end=/\B|\b/),n.end&&(n.endRe=i(n.end)),n.terminator_end=e(n.end)||"",n.endsWithParent&&o.terminator_end&&(n.terminator_end+=(n.end?"|":"")+o.terminator_end)),n.illegal&&(n.illegalRe=i(n.illegal)),null==n.relevance&&(n.relevance=1),n.contains||(n.contains=[]),n.contains=Array.prototype.concat.apply([],n.contains.map((function(t){return T("self"===t?n:t)}))),n.contains.forEach((function(t){r(t,n)})),n.starts&&r(n.starts,o),n.terminators=s(n))}r(t)}function R(t,e,i,n){function s(t){return new RegExp(t.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&"),"m")}function r(t,e){if(_(t.endRe,e)){while(t.endsParent&&t.parent)t=t.parent;return t}if(t.endsWithParent)return r(t.parent,e)}function a(t,e){var i=T.case_insensitive?e[0].toLowerCase():e[0];return t.keywords.hasOwnProperty(i)&&t.keywords[i]}function l(t,e,i,n){if(!i&&""===e)return"";if(!t)return e;var o=n?"":u.classPrefix,s='<span class="'+o,r=i?"":c;return s+=t+'">',s+e+r}function h(){var t,e,i,n;if(!S.keywords)return d(x);n="",e=0,S.lexemesRe.lastIndex=0,i=S.lexemesRe.exec(x);while(i)n+=d(x.substring(e,i.index)),t=a(S,i),t?(O+=t[1],n+=l(t[0],d(i[0]))):n+=d(i[0]),e=S.lexemesRe.lastIndex,i=S.lexemesRe.exec(x);return n+d(x.substr(e))}function p(){var t="string"===typeof S.subLanguage;if(t&&!o[S.subLanguage])return d(x);var e=t?R(S.subLanguage,x,!0,C[S.subLanguage]):I(x,S.subLanguage.length?S.subLanguage:void 0);return S.relevance>0&&(O+=e.relevance),t&&(C[S.subLanguage]=e.top),l(e.language,e.value,!1,!0)}function g(){k+=null!=S.subLanguage?p():h(),x=""}function f(t){k+=t.className?l(t.className,"",!0):"",S=Object.create(t,{parent:{value:S}})}function m(t){var e=t[0],i=t.rule;return i&&i.endSameAsBegin&&(i.endRe=s(e)),i.skip?x+=e:(i.excludeBegin&&(x+=e),g(),i.returnBegin||i.excludeBegin||(x=e)),f(i,e),i.returnBegin?0:e.length}function v(t){var e=t[0],i=r(S,e);if(i){var n=S;n.skip?x+=e:(n.returnEnd||n.excludeEnd||(x+=e),g(),n.excludeEnd&&(x=e));do{S.className&&(k+=c),S.skip||S.subLanguage||(O+=S.relevance),S=S.parent}while(S!==i.parent);return i.starts&&(i.endSameAsBegin&&(i.starts.endRe=i.endRe),f(i.starts,"")),n.returnEnd?0:e.length}}var b={};function y(t,n){var o=n&&n[0];if(x+=t,null==o)return g(),0;if("begin"==b.type&&"end"==n.type&&b.index==n.index&&""===o)return x+=e.slice(n.index,n.index+1),1;if(b=n,"begin"===n.type)return m(n);if("illegal"===n.type&&!i)throw new Error('Illegal lexeme "'+o+'" for mode "'+(S.className||"<unnamed>")+'"');if("end"===n.type){var s=v(n);if(void 0!=s)return s}return x+=o,o.length}var T=P(t);if(!T)throw new Error('Unknown language: "'+t+'"');w(T);var E,S=n||T,C={},k="";for(E=S;E!==T;E=E.parent)E.className&&(k=l(E.className,"",!0)+k);var x="",O=0;try{var A,M,N=0;while(1){if(S.terminators.lastIndex=N,A=S.terminators.exec(e),!A)break;M=y(e.substring(N,A.index),A),N=A.index+M}for(y(e.substr(N)),E=S;E.parent;E=E.parent)E.className&&(k+=c);return{relevance:O,value:k,illegal:!1,language:t,top:S}}catch(L){if(L.message&&-1!==L.message.indexOf("Illegal"))return{illegal:!0,relevance:0,value:d(e)};throw L}}function I(t,e){e=e||u.languages||n(o);var i={relevance:0,value:d(t)},s=i;return e.filter(P).filter(F).forEach((function(e){var n=R(e,t,!1);n.language=e,n.relevance>s.relevance&&(s=n),n.relevance>i.relevance&&(s=i,i=n)})),s.language&&(i.second_best=s),i}function x(t){return u.tabReplace||u.useBR?t.replace(l,(function(t,e){return u.useBR&&"\n"===t?"<br>":u.tabReplace?e.replace(/\t/g,u.tabReplace):""})):t}function O(t,e,i){var n=e?s[e]:i,o=[t.trim()];return t.match(/\bhljs\b/)||o.push("hljs"),-1===t.indexOf(n)&&o.push(n),o.join(" ").trim()}function A(t){var e,i,n,o,s,r=f(t);g(r)||(u.useBR?(e=document.createElementNS("http://www.w3.org/1999/xhtml","div"),e.innerHTML=t.innerHTML.replace(/\n/g,"").replace(/<br[ \/]*>/g,"\n")):e=t,s=e.textContent,n=r?R(r,s,!0):I(s),i=v(e),i.length&&(o=document.createElementNS("http://www.w3.org/1999/xhtml","div"),o.innerHTML=n.value,n.value=b(i,v(o),s)),n.value=x(n.value),t.innerHTML=n.value,t.className=O(t.className,r,n.language),t.result={language:n.language,re:n.relevance},n.second_best&&(t.second_best={language:n.second_best.language,re:n.second_best.relevance}))}function M(t){u=m(u,t)}function N(){if(!N.called){N.called=!0;var t=document.querySelectorAll("pre code");i.forEach.call(t,A)}}function L(){addEventListener("DOMContentLoaded",N,!1),addEventListener("load",N,!1)}function D(e,i){var n=o[e]=i(t);E(n),n.rawDefinition=i.bind(null,t),n.aliases&&n.aliases.forEach((function(t){s[t]=e}))}function B(){return n(o)}function P(t){return t=(t||"").toLowerCase(),o[t]||o[s[t]]}function F(t){var e=P(t);return e&&!e.disableAutodetect}return t.highlight=R,t.highlightAuto=I,t.fixMarkup=x,t.highlightBlock=A,t.configure=M,t.initHighlighting=N,t.initHighlightingOnLoad=L,t.registerLanguage=D,t.listLanguages=B,t.getLanguage=P,t.autoDetection=F,t.inherit=m,t.IDENT_RE="[a-zA-Z]\\w*",t.UNDERSCORE_IDENT_RE="[a-zA-Z_]\\w*",t.NUMBER_RE="\\b\\d+(\\.\\d+)?",t.C_NUMBER_RE="(-?)(\\b0[xX][a-fA-F0-9]+|(\\b\\d+(\\.\\d*)?|\\.\\d+)([eE][-+]?\\d+)?)",t.BINARY_NUMBER_RE="\\b(0b[01]+)",t.RE_STARTERS_RE="!|!=|!==|%|%=|&|&&|&=|\\*|\\*=|\\+|\\+=|,|-|-=|/=|/|:|;|<<|<<=|<=|<|===|==|=|>>>=|>>=|>=|>>>|>>|>|\\?|\\[|\\{|\\(|\\^|\\^=|\\||\\|=|\\|\\||~",t.BACKSLASH_ESCAPE={begin:"\\\\[\\s\\S]",relevance:0},t.APOS_STRING_MODE={className:"string",begin:"'",end:"'",illegal:"\\n",contains:[t.BACKSLASH_ESCAPE]},t.QUOTE_STRING_MODE={className:"string",begin:'"',end:'"',illegal:"\\n",contains:[t.BACKSLASH_ESCAPE]},t.PHRASAL_WORDS_MODE={begin:/\b(a|an|the|are|I'm|isn't|don't|doesn't|won't|but|just|should|pretty|simply|enough|gonna|going|wtf|so|such|will|you|your|they|like|more)\b/},t.COMMENT=function(e,i,n){var o=t.inherit({className:"comment",begin:e,end:i,contains:[]},n||{});return o.contains.push(t.PHRASAL_WORDS_MODE),o.contains.push({className:"doctag",begin:"(?:TODO|FIXME|NOTE|BUG|XXX):",relevance:0}),o},t.C_LINE_COMMENT_MODE=t.COMMENT("//","$"),t.C_BLOCK_COMMENT_MODE=t.COMMENT("/\\*","\\*/"),t.HASH_COMMENT_MODE=t.COMMENT("#","$"),t.NUMBER_MODE={className:"number",begin:t.NUMBER_RE,relevance:0},t.C_NUMBER_MODE={className:"number",begin:t.C_NUMBER_RE,relevance:0},t.BINARY_NUMBER_MODE={className:"number",begin:t.BINARY_NUMBER_RE,relevance:0},t.CSS_NUMBER_MODE={className:"number",begin:t.NUMBER_RE+"(%|em|ex|ch|rem|vw|vh|vmin|vmax|cm|mm|in|pt|pc|px|deg|grad|rad|turn|s|ms|Hz|kHz|dpi|dpcm|dppx)?",relevance:0},t.REGEXP_MODE={className:"regexp",begin:/\//,end:/\/[gimuy]*/,illegal:/\n/,contains:[t.BACKSLASH_ESCAPE,{begin:/\[/,end:/\]/,relevance:0,contains:[t.BACKSLASH_ESCAPE]}]},t.TITLE_MODE={className:"title",begin:t.IDENT_RE,relevance:0},t.UNDERSCORE_TITLE_MODE={className:"title",begin:t.UNDERSCORE_IDENT_RE,relevance:0},t.METHOD_GUARD={begin:"\\.\\s*"+t.UNDERSCORE_IDENT_RE,relevance:0},t}))},a7be:function(t,e,i){},a884:function(t,e,i){var n,o,s;(function(r,a){o=[i("b7fd")],n=a,s="function"===typeof n?n.apply(e,o):n,void 0===s||(t.exports=s)})(0,(function(t){t={Msg:{}};return t.Msg["ADD_COMMENT"]="Add Comment",t.Msg["CANNOT_DELETE_VARIABLE_PROCEDURE"]="Can't delete the variable '%1' because it's part of the definition of the function '%2'",t.Msg["CHANGE_VALUE_TITLE"]="Change value:",t.Msg["CLEAN_UP"]="Clean up Blocks",t.Msg["COLLAPSED_WARNINGS_WARNING"]="Collapsed blocks contain warnings.",t.Msg["COLLAPSE_ALL"]="Collapse Blocks",t.Msg["COLLAPSE_BLOCK"]="Collapse Block",t.Msg["COLOUR_BLEND_COLOUR1"]="colour 1",t.Msg["COLOUR_BLEND_COLOUR2"]="colour 2",t.Msg["COLOUR_BLEND_HELPURL"]="https://meyerweb.com/eric/tools/color-blend/#:::rgbp",t.Msg["COLOUR_BLEND_RATIO"]="ratio",t.Msg["COLOUR_BLEND_TITLE"]="blend",t.Msg["COLOUR_BLEND_TOOLTIP"]="Blends two colours together with a given ratio (0.0 - 1.0).",t.Msg["COLOUR_PICKER_HELPURL"]="https://en.wikipedia.org/wiki/Color",t.Msg["COLOUR_PICKER_TOOLTIP"]="Choose a colour from the palette.",t.Msg["COLOUR_RANDOM_HELPURL"]="http://randomcolour.com",t.Msg["COLOUR_RANDOM_TITLE"]="random colour",t.Msg["COLOUR_RANDOM_TOOLTIP"]="Choose a colour at random.",t.Msg["COLOUR_RGB_BLUE"]="blue",t.Msg["COLOUR_RGB_GREEN"]="green",t.Msg["COLOUR_RGB_HELPURL"]="https://www.december.com/html/spec/colorpercompact.html",t.Msg["COLOUR_RGB_RED"]="red",t.Msg["COLOUR_RGB_TITLE"]="colour with",t.Msg["COLOUR_RGB_TOOLTIP"]="Create a colour with the specified amount of red, green, and blue. All values must be between 0 and 100.",t.Msg["CONTROLS_FLOW_STATEMENTS_HELPURL"]="https://github.com/google/blockly/wiki/Loops#loop-termination-blocks",t.Msg["CONTROLS_FLOW_STATEMENTS_OPERATOR_BREAK"]="break out of loop",t.Msg["CONTROLS_FLOW_STATEMENTS_OPERATOR_CONTINUE"]="continue with next iteration of loop",t.Msg["CONTROLS_FLOW_STATEMENTS_TOOLTIP_BREAK"]="Break out of the containing loop.",t.Msg["CONTROLS_FLOW_STATEMENTS_TOOLTIP_CONTINUE"]="Skip the rest of this loop, and continue with the next iteration.",t.Msg["CONTROLS_FLOW_STATEMENTS_WARNING"]="Warning: This block may only be used within a loop.",t.Msg["CONTROLS_FOREACH_HELPURL"]="https://github.com/google/blockly/wiki/Loops#for-each",t.Msg["CONTROLS_FOREACH_TITLE"]="for each item %1 in list %2",t.Msg["CONTROLS_FOREACH_TOOLTIP"]="For each item in a list, set the variable '%1' to the item, and then do some statements.",t.Msg["CONTROLS_FOR_HELPURL"]="https://github.com/google/blockly/wiki/Loops#count-with",t.Msg["CONTROLS_FOR_TITLE"]="count with %1 from %2 to %3 by %4",t.Msg["CONTROLS_FOR_TOOLTIP"]="Have the variable '%1' take on the values from the start number to the end number, counting by the specified interval, and do the specified blocks.",t.Msg["CONTROLS_IF_ELSEIF_TOOLTIP"]="Add a condition to the if block.",t.Msg["CONTROLS_IF_ELSE_TOOLTIP"]="Add a final, catch-all condition to the if block.",t.Msg["CONTROLS_IF_HELPURL"]="https://github.com/google/blockly/wiki/IfElse",t.Msg["CONTROLS_IF_IF_TOOLTIP"]="Add, remove, or reorder sections to reconfigure this if block.",t.Msg["CONTROLS_IF_MSG_ELSE"]="else",t.Msg["CONTROLS_IF_MSG_ELSEIF"]="else if",t.Msg["CONTROLS_IF_MSG_IF"]="if",t.Msg["CONTROLS_IF_TOOLTIP_1"]="If a value is true, then do some statements.",t.Msg["CONTROLS_IF_TOOLTIP_2"]="If a value is true, then do the first block of statements. Otherwise, do the second block of statements.",t.Msg["CONTROLS_IF_TOOLTIP_3"]="If the first value is true, then do the first block of statements. Otherwise, if the second value is true, do the second block of statements.",t.Msg["CONTROLS_IF_TOOLTIP_4"]="If the first value is true, then do the first block of statements. Otherwise, if the second value is true, do the second block of statements. If none of the values are true, do the last block of statements.",t.Msg["CONTROLS_REPEAT_HELPURL"]="https://en.wikipedia.org/wiki/For_loop",t.Msg["CONTROLS_REPEAT_INPUT_DO"]="do",t.Msg["CONTROLS_REPEAT_TITLE"]="repeat %1 times",t.Msg["CONTROLS_REPEAT_TOOLTIP"]="Do some statements several times.",t.Msg["CONTROLS_WHILEUNTIL_HELPURL"]="https://github.com/google/blockly/wiki/Loops#repeat",t.Msg["CONTROLS_WHILEUNTIL_OPERATOR_UNTIL"]="repeat until",t.Msg["CONTROLS_WHILEUNTIL_OPERATOR_WHILE"]="repeat while",t.Msg["CONTROLS_WHILEUNTIL_TOOLTIP_UNTIL"]="While a value is false, then do some statements.",t.Msg["CONTROLS_WHILEUNTIL_TOOLTIP_WHILE"]="While a value is true, then do some statements.",t.Msg["DELETE_ALL_BLOCKS"]="Delete all %1 blocks?",t.Msg["DELETE_BLOCK"]="Delete Block",t.Msg["DELETE_VARIABLE"]="Delete the '%1' variable",t.Msg["DELETE_VARIABLE_CONFIRMATION"]="Delete %1 uses of the '%2' variable?",t.Msg["DELETE_X_BLOCKS"]="Delete %1 Blocks",t.Msg["DISABLE_BLOCK"]="Disable Block",t.Msg["DUPLICATE_BLOCK"]="Duplicate",t.Msg["DUPLICATE_COMMENT"]="Duplicate Comment",t.Msg["ENABLE_BLOCK"]="Enable Block",t.Msg["EXPAND_ALL"]="Expand Blocks",t.Msg["EXPAND_BLOCK"]="Expand Block",t.Msg["EXTERNAL_INPUTS"]="External Inputs",t.Msg["HELP"]="Help",t.Msg["INLINE_INPUTS"]="Inline Inputs",t.Msg["IOS_CANCEL"]="Cancel",t.Msg["IOS_ERROR"]="Error",t.Msg["IOS_OK"]="OK",t.Msg["IOS_PROCEDURES_ADD_INPUT"]="+ Add Input",t.Msg["IOS_PROCEDURES_ALLOW_STATEMENTS"]="Allow statements",t.Msg["IOS_PROCEDURES_DUPLICATE_INPUTS_ERROR"]="This function has duplicate inputs.",t.Msg["IOS_PROCEDURES_INPUTS"]="INPUTS",t.Msg["IOS_VARIABLES_ADD_BUTTON"]="Add",t.Msg["IOS_VARIABLES_ADD_VARIABLE"]="+ Add Variable",t.Msg["IOS_VARIABLES_DELETE_BUTTON"]="Delete",t.Msg["IOS_VARIABLES_EMPTY_NAME_ERROR"]="You can't use an empty variable name.",t.Msg["IOS_VARIABLES_RENAME_BUTTON"]="Rename",t.Msg["IOS_VARIABLES_VARIABLE_NAME"]="Variable name",t.Msg["LISTS_CREATE_EMPTY_HELPURL"]="https://github.com/google/blockly/wiki/Lists#create-empty-list",t.Msg["LISTS_CREATE_EMPTY_TITLE"]="create empty list",t.Msg["LISTS_CREATE_EMPTY_TOOLTIP"]="Returns a list, of length 0, containing no data records",t.Msg["LISTS_CREATE_WITH_CONTAINER_TITLE_ADD"]="list",t.Msg["LISTS_CREATE_WITH_CONTAINER_TOOLTIP"]="Add, remove, or reorder sections to reconfigure this list block.",t.Msg["LISTS_CREATE_WITH_HELPURL"]="https://github.com/google/blockly/wiki/Lists#create-list-with",t.Msg["LISTS_CREATE_WITH_INPUT_WITH"]="create list with",t.Msg["LISTS_CREATE_WITH_ITEM_TOOLTIP"]="Add an item to the list.",t.Msg["LISTS_CREATE_WITH_TOOLTIP"]="Create a list with any number of items.",t.Msg["LISTS_GET_INDEX_FIRST"]="first",t.Msg["LISTS_GET_INDEX_FROM_END"]="# from end",t.Msg["LISTS_GET_INDEX_FROM_START"]="#",t.Msg["LISTS_GET_INDEX_GET"]="get",t.Msg["LISTS_GET_INDEX_GET_REMOVE"]="get and remove",t.Msg["LISTS_GET_INDEX_LAST"]="last",t.Msg["LISTS_GET_INDEX_RANDOM"]="random",t.Msg["LISTS_GET_INDEX_REMOVE"]="remove",t.Msg["LISTS_GET_INDEX_TAIL"]="",t.Msg["LISTS_GET_INDEX_TOOLTIP_GET_FIRST"]="Returns the first item in a list.",t.Msg["LISTS_GET_INDEX_TOOLTIP_GET_FROM"]="Returns the item at the specified position in a list.",t.Msg["LISTS_GET_INDEX_TOOLTIP_GET_LAST"]="Returns the last item in a list.",t.Msg["LISTS_GET_INDEX_TOOLTIP_GET_RANDOM"]="Returns a random item in a list.",t.Msg["LISTS_GET_INDEX_TOOLTIP_GET_REMOVE_FIRST"]="Removes and returns the first item in a list.",t.Msg["LISTS_GET_INDEX_TOOLTIP_GET_REMOVE_FROM"]="Removes and returns the item at the specified position in a list.",t.Msg["LISTS_GET_INDEX_TOOLTIP_GET_REMOVE_LAST"]="Removes and returns the last item in a list.",t.Msg["LISTS_GET_INDEX_TOOLTIP_GET_REMOVE_RANDOM"]="Removes and returns a random item in a list.",t.Msg["LISTS_GET_INDEX_TOOLTIP_REMOVE_FIRST"]="Removes the first item in a list.",t.Msg["LISTS_GET_INDEX_TOOLTIP_REMOVE_FROM"]="Removes the item at the specified position in a list.",t.Msg["LISTS_GET_INDEX_TOOLTIP_REMOVE_LAST"]="Removes the last item in a list.",t.Msg["LISTS_GET_INDEX_TOOLTIP_REMOVE_RANDOM"]="Removes a random item in a list.",t.Msg["LISTS_GET_SUBLIST_END_FROM_END"]="to # from end",t.Msg["LISTS_GET_SUBLIST_END_FROM_START"]="to #",t.Msg["LISTS_GET_SUBLIST_END_LAST"]="to last",t.Msg["LISTS_GET_SUBLIST_HELPURL"]="https://github.com/google/blockly/wiki/Lists#getting-a-sublist",t.Msg["LISTS_GET_SUBLIST_START_FIRST"]="get sub-list from first",t.Msg["LISTS_GET_SUBLIST_START_FROM_END"]="get sub-list from # from end",t.Msg["LISTS_GET_SUBLIST_START_FROM_START"]="get sub-list from #",t.Msg["LISTS_GET_SUBLIST_TAIL"]="",t.Msg["LISTS_GET_SUBLIST_TOOLTIP"]="Creates a copy of the specified portion of a list.",t.Msg["LISTS_INDEX_FROM_END_TOOLTIP"]="%1 is the last item.",t.Msg["LISTS_INDEX_FROM_START_TOOLTIP"]="%1 is the first item.",t.Msg["LISTS_INDEX_OF_FIRST"]="find first occurrence of item",t.Msg["LISTS_INDEX_OF_HELPURL"]="https://github.com/google/blockly/wiki/Lists#getting-items-from-a-list",t.Msg["LISTS_INDEX_OF_LAST"]="find last occurrence of item",t.Msg["LISTS_INDEX_OF_TOOLTIP"]="Returns the index of the first/last occurrence of the item in the list. Returns %1 if item is not found.",t.Msg["LISTS_INLIST"]="in list",t.Msg["LISTS_ISEMPTY_HELPURL"]="https://github.com/google/blockly/wiki/Lists#is-empty",t.Msg["LISTS_ISEMPTY_TITLE"]="%1 is empty",t.Msg["LISTS_ISEMPTY_TOOLTIP"]="Returns true if the list is empty.",t.Msg["LISTS_LENGTH_HELPURL"]="https://github.com/google/blockly/wiki/Lists#length-of",t.Msg["LISTS_LENGTH_TITLE"]="length of %1",t.Msg["LISTS_LENGTH_TOOLTIP"]="Returns the length of a list.",t.Msg["LISTS_REPEAT_HELPURL"]="https://github.com/google/blockly/wiki/Lists#create-list-with",t.Msg["LISTS_REPEAT_TITLE"]="create list with item %1 repeated %2 times",t.Msg["LISTS_REPEAT_TOOLTIP"]="Creates a list consisting of the given value repeated the specified number of times.",t.Msg["LISTS_REVERSE_HELPURL"]="https://github.com/google/blockly/wiki/Lists#reversing-a-list",t.Msg["LISTS_REVERSE_MESSAGE0"]="reverse %1",t.Msg["LISTS_REVERSE_TOOLTIP"]="Reverse a copy of a list.",t.Msg["LISTS_SET_INDEX_HELPURL"]="https://github.com/google/blockly/wiki/Lists#in-list--set",t.Msg["LISTS_SET_INDEX_INPUT_TO"]="as",t.Msg["LISTS_SET_INDEX_INSERT"]="insert at",t.Msg["LISTS_SET_INDEX_SET"]="set",t.Msg["LISTS_SET_INDEX_TOOLTIP_INSERT_FIRST"]="Inserts the item at the start of a list.",t.Msg["LISTS_SET_INDEX_TOOLTIP_INSERT_FROM"]="Inserts the item at the specified position in a list.",t.Msg["LISTS_SET_INDEX_TOOLTIP_INSERT_LAST"]="Append the item to the end of a list.",t.Msg["LISTS_SET_INDEX_TOOLTIP_INSERT_RANDOM"]="Inserts the item randomly in a list.",t.Msg["LISTS_SET_INDEX_TOOLTIP_SET_FIRST"]="Sets the first item in a list.",t.Msg["LISTS_SET_INDEX_TOOLTIP_SET_FROM"]="Sets the item at the specified position in a list.",t.Msg["LISTS_SET_INDEX_TOOLTIP_SET_LAST"]="Sets the last item in a list.",t.Msg["LISTS_SET_INDEX_TOOLTIP_SET_RANDOM"]="Sets a random item in a list.",t.Msg["LISTS_SORT_HELPURL"]="https://github.com/google/blockly/wiki/Lists#sorting-a-list",t.Msg["LISTS_SORT_ORDER_ASCENDING"]="ascending",t.Msg["LISTS_SORT_ORDER_DESCENDING"]="descending",t.Msg["LISTS_SORT_TITLE"]="sort %1 %2 %3",t.Msg["LISTS_SORT_TOOLTIP"]="Sort a copy of a list.",t.Msg["LISTS_SORT_TYPE_IGNORECASE"]="alphabetic, ignore case",t.Msg["LISTS_SORT_TYPE_NUMERIC"]="numeric",t.Msg["LISTS_SORT_TYPE_TEXT"]="alphabetic",t.Msg["LISTS_SPLIT_HELPURL"]="https://github.com/google/blockly/wiki/Lists#splitting-strings-and-joining-lists",t.Msg["LISTS_SPLIT_LIST_FROM_TEXT"]="make list from text",t.Msg["LISTS_SPLIT_TEXT_FROM_LIST"]="make text from list",t.Msg["LISTS_SPLIT_TOOLTIP_JOIN"]="Join a list of texts into one text, separated by a delimiter.",t.Msg["LISTS_SPLIT_TOOLTIP_SPLIT"]="Split text into a list of texts, breaking at each delimiter.",t.Msg["LISTS_SPLIT_WITH_DELIMITER"]="with delimiter",t.Msg["LOGIC_BOOLEAN_FALSE"]="false",t.Msg["LOGIC_BOOLEAN_HELPURL"]="https://github.com/google/blockly/wiki/Logic#values",t.Msg["LOGIC_BOOLEAN_TOOLTIP"]="Returns either true or false.",t.Msg["LOGIC_BOOLEAN_TRUE"]="true",t.Msg["LOGIC_COMPARE_HELPURL"]="https://en.wikipedia.org/wiki/Inequality_(mathematics)",t.Msg["LOGIC_COMPARE_TOOLTIP_EQ"]="Return true if both inputs equal each other.",t.Msg["LOGIC_COMPARE_TOOLTIP_GT"]="Return true if the first input is greater than the second input.",t.Msg["LOGIC_COMPARE_TOOLTIP_GTE"]="Return true if the first input is greater than or equal to the second input.",t.Msg["LOGIC_COMPARE_TOOLTIP_LT"]="Return true if the first input is smaller than the second input.",t.Msg["LOGIC_COMPARE_TOOLTIP_LTE"]="Return true if the first input is smaller than or equal to the second input.",t.Msg["LOGIC_COMPARE_TOOLTIP_NEQ"]="Return true if both inputs are not equal to each other.",t.Msg["LOGIC_NEGATE_HELPURL"]="https://github.com/google/blockly/wiki/Logic#not",t.Msg["LOGIC_NEGATE_TITLE"]="not %1",t.Msg["LOGIC_NEGATE_TOOLTIP"]="Returns true if the input is false. Returns false if the input is true.",t.Msg["LOGIC_NULL"]="null",t.Msg["LOGIC_NULL_HELPURL"]="https://en.wikipedia.org/wiki/Nullable_type",t.Msg["LOGIC_NULL_TOOLTIP"]="Returns null.",t.Msg["LOGIC_OPERATION_AND"]="and",t.Msg["LOGIC_OPERATION_HELPURL"]="https://github.com/google/blockly/wiki/Logic#logical-operations",t.Msg["LOGIC_OPERATION_OR"]="or",t.Msg["LOGIC_OPERATION_TOOLTIP_AND"]="Return true if both inputs are true.",t.Msg["LOGIC_OPERATION_TOOLTIP_OR"]="Return true if at least one of the inputs is true.",t.Msg["LOGIC_TERNARY_CONDITION"]="test",t.Msg["LOGIC_TERNARY_HELPURL"]="https://en.wikipedia.org/wiki/%3F:",t.Msg["LOGIC_TERNARY_IF_FALSE"]="if false",t.Msg["LOGIC_TERNARY_IF_TRUE"]="if true",t.Msg["LOGIC_TERNARY_TOOLTIP"]="Check the condition in 'test'. If the condition is true, returns the 'if true' value; otherwise returns the 'if false' value.",t.Msg["MATH_ADDITION_SYMBOL"]="+",t.Msg["MATH_ARITHMETIC_HELPURL"]="https://en.wikipedia.org/wiki/Arithmetic",t.Msg["MATH_ARITHMETIC_TOOLTIP_ADD"]="Return the sum of the two numbers.",t.Msg["MATH_ARITHMETIC_TOOLTIP_DIVIDE"]="Return the quotient of the two numbers.",t.Msg["MATH_ARITHMETIC_TOOLTIP_MINUS"]="Return the difference of the two numbers.",t.Msg["MATH_ARITHMETIC_TOOLTIP_MULTIPLY"]="Return the product of the two numbers.",t.Msg["MATH_ARITHMETIC_TOOLTIP_POWER"]="Return the first number raised to the power of the second number.",t.Msg["MATH_ATAN2_HELPURL"]="https://en.wikipedia.org/wiki/Atan2",t.Msg["MATH_ATAN2_TITLE"]="atan2 of X:%1 Y:%2",t.Msg["MATH_ATAN2_TOOLTIP"]="Return the arctangent of point (X, Y) in degrees from -180 to 180.",t.Msg["MATH_CHANGE_HELPURL"]="https://en.wikipedia.org/wiki/Programming_idiom#Incrementing_a_counter",t.Msg["MATH_CHANGE_TITLE"]="change %1 by %2",t.Msg["MATH_CHANGE_TOOLTIP"]="Add a number to variable '%1'.",t.Msg["MATH_CONSTANT_HELPURL"]="https://en.wikipedia.org/wiki/Mathematical_constant",t.Msg["MATH_CONSTANT_TOOLTIP"]="Return one of the common constants: π (3.141…), e (2.718…), φ (1.618…), sqrt(2) (1.414…), sqrt(½) (0.707…), or ∞ (infinity).",t.Msg["MATH_CONSTRAIN_HELPURL"]="https://en.wikipedia.org/wiki/Clamping_(graphics)",t.Msg["MATH_CONSTRAIN_TITLE"]="constrain %1 low %2 high %3",t.Msg["MATH_CONSTRAIN_TOOLTIP"]="Constrain a number to be between the specified limits (inclusive).",t.Msg["MATH_DIVISION_SYMBOL"]="÷",t.Msg["MATH_IS_DIVISIBLE_BY"]="is divisible by",t.Msg["MATH_IS_EVEN"]="is even",t.Msg["MATH_IS_NEGATIVE"]="is negative",t.Msg["MATH_IS_ODD"]="is odd",t.Msg["MATH_IS_POSITIVE"]="is positive",t.Msg["MATH_IS_PRIME"]="is prime",t.Msg["MATH_IS_TOOLTIP"]="Check if a number is an even, odd, prime, whole, positive, negative, or if it is divisible by certain number. Returns true or false.",t.Msg["MATH_IS_WHOLE"]="is whole",t.Msg["MATH_MODULO_HELPURL"]="https://en.wikipedia.org/wiki/Modulo_operation",t.Msg["MATH_MODULO_TITLE"]="remainder of %1 ÷ %2",t.Msg["MATH_MODULO_TOOLTIP"]="Return the remainder from dividing the two numbers.",t.Msg["MATH_MULTIPLICATION_SYMBOL"]="×",t.Msg["MATH_NUMBER_HELPURL"]="https://en.wikipedia.org/wiki/Number",t.Msg["MATH_NUMBER_TOOLTIP"]="A number.",t.Msg["MATH_ONLIST_HELPURL"]="",t.Msg["MATH_ONLIST_OPERATOR_AVERAGE"]="average of list",t.Msg["MATH_ONLIST_OPERATOR_MAX"]="max of list",t.Msg["MATH_ONLIST_OPERATOR_MEDIAN"]="median of list",t.Msg["MATH_ONLIST_OPERATOR_MIN"]="min of list",t.Msg["MATH_ONLIST_OPERATOR_MODE"]="modes of list",t.Msg["MATH_ONLIST_OPERATOR_RANDOM"]="random item of list",t.Msg["MATH_ONLIST_OPERATOR_STD_DEV"]="standard deviation of list",t.Msg["MATH_ONLIST_OPERATOR_SUM"]="sum of list",t.Msg["MATH_ONLIST_TOOLTIP_AVERAGE"]="Return the average (arithmetic mean) of the numeric values in the list.",t.Msg["MATH_ONLIST_TOOLTIP_MAX"]="Return the largest number in the list.",t.Msg["MATH_ONLIST_TOOLTIP_MEDIAN"]="Return the median number in the list.",t.Msg["MATH_ONLIST_TOOLTIP_MIN"]="Return the smallest number in the list.",t.Msg["MATH_ONLIST_TOOLTIP_MODE"]="Return a list of the most common item(s) in the list.",t.Msg["MATH_ONLIST_TOOLTIP_RANDOM"]="Return a random element from the list.",t.Msg["MATH_ONLIST_TOOLTIP_STD_DEV"]="Return the standard deviation of the list.",t.Msg["MATH_ONLIST_TOOLTIP_SUM"]="Return the sum of all the numbers in the list.",t.Msg["MATH_POWER_SYMBOL"]="^",t.Msg["MATH_RANDOM_FLOAT_HELPURL"]="https://en.wikipedia.org/wiki/Random_number_generation",t.Msg["MATH_RANDOM_FLOAT_TITLE_RANDOM"]="random fraction",t.Msg["MATH_RANDOM_FLOAT_TOOLTIP"]="Return a random fraction between 0.0 (inclusive) and 1.0 (exclusive).",t.Msg["MATH_RANDOM_INT_HELPURL"]="https://en.wikipedia.org/wiki/Random_number_generation",t.Msg["MATH_RANDOM_INT_TITLE"]="random integer from %1 to %2",t.Msg["MATH_RANDOM_INT_TOOLTIP"]="Return a random integer between the two specified limits, inclusive.",t.Msg["MATH_ROUND_HELPURL"]="https://en.wikipedia.org/wiki/Rounding",t.Msg["MATH_ROUND_OPERATOR_ROUND"]="round",t.Msg["MATH_ROUND_OPERATOR_ROUNDDOWN"]="round down",t.Msg["MATH_ROUND_OPERATOR_ROUNDUP"]="round up",t.Msg["MATH_ROUND_TOOLTIP"]="Round a number up or down.",t.Msg["MATH_SINGLE_HELPURL"]="https://en.wikipedia.org/wiki/Square_root",t.Msg["MATH_SINGLE_OP_ABSOLUTE"]="absolute",t.Msg["MATH_SINGLE_OP_ROOT"]="square root",t.Msg["MATH_SINGLE_TOOLTIP_ABS"]="Return the absolute value of a number.",t.Msg["MATH_SINGLE_TOOLTIP_EXP"]="Return e to the power of a number.",t.Msg["MATH_SINGLE_TOOLTIP_LN"]="Return the natural logarithm of a number.",t.Msg["MATH_SINGLE_TOOLTIP_LOG10"]="Return the base 10 logarithm of a number.",t.Msg["MATH_SINGLE_TOOLTIP_NEG"]="Return the negation of a number.",t.Msg["MATH_SINGLE_TOOLTIP_POW10"]="Return 10 to the power of a number.",t.Msg["MATH_SINGLE_TOOLTIP_ROOT"]="Return the square root of a number.",t.Msg["MATH_SUBTRACTION_SYMBOL"]="-",t.Msg["MATH_TRIG_ACOS"]="acos",t.Msg["MATH_TRIG_ASIN"]="asin",t.Msg["MATH_TRIG_ATAN"]="atan",t.Msg["MATH_TRIG_COS"]="cos",t.Msg["MATH_TRIG_HELPURL"]="https://en.wikipedia.org/wiki/Trigonometric_functions",t.Msg["MATH_TRIG_SIN"]="sin",t.Msg["MATH_TRIG_TAN"]="tan",t.Msg["MATH_TRIG_TOOLTIP_ACOS"]="Return the arccosine of a number.",t.Msg["MATH_TRIG_TOOLTIP_ASIN"]="Return the arcsine of a number.",t.Msg["MATH_TRIG_TOOLTIP_ATAN"]="Return the arctangent of a number.",t.Msg["MATH_TRIG_TOOLTIP_COS"]="Return the cosine of a degree (not radian).",t.Msg["MATH_TRIG_TOOLTIP_SIN"]="Return the sine of a degree (not radian).",t.Msg["MATH_TRIG_TOOLTIP_TAN"]="Return the tangent of a degree (not radian).",t.Msg["NEW_COLOUR_VARIABLE"]="Create colour variable...",t.Msg["NEW_NUMBER_VARIABLE"]="Create number variable...",t.Msg["NEW_STRING_VARIABLE"]="Create string variable...",t.Msg["NEW_VARIABLE"]="Create variable...",t.Msg["NEW_VARIABLE_TITLE"]="New variable name:",t.Msg["NEW_VARIABLE_TYPE_TITLE"]="New variable type:",t.Msg["ORDINAL_NUMBER_SUFFIX"]="",t.Msg["PROCEDURES_ALLOW_STATEMENTS"]="allow statements",t.Msg["PROCEDURES_BEFORE_PARAMS"]="with:",t.Msg["PROCEDURES_CALLNORETURN_HELPURL"]="https://en.wikipedia.org/wiki/Subroutine",t.Msg["PROCEDURES_CALLNORETURN_TOOLTIP"]="Run the user-defined function '%1'.",t.Msg["PROCEDURES_CALLRETURN_HELPURL"]="https://en.wikipedia.org/wiki/Subroutine",t.Msg["PROCEDURES_CALLRETURN_TOOLTIP"]="Run the user-defined function '%1' and use its output.",t.Msg["PROCEDURES_CALL_BEFORE_PARAMS"]="with:",t.Msg["PROCEDURES_CREATE_DO"]="Create '%1'",t.Msg["PROCEDURES_DEFNORETURN_COMMENT"]="Describe this function...",t.Msg["PROCEDURES_DEFNORETURN_DO"]="",t.Msg["PROCEDURES_DEFNORETURN_HELPURL"]="https://en.wikipedia.org/wiki/Subroutine",t.Msg["PROCEDURES_DEFNORETURN_PROCEDURE"]="do something",t.Msg["PROCEDURES_DEFNORETURN_TITLE"]="to",t.Msg["PROCEDURES_DEFNORETURN_TOOLTIP"]="Creates a function with no output.",t.Msg["PROCEDURES_DEFRETURN_HELPURL"]="https://en.wikipedia.org/wiki/Subroutine",t.Msg["PROCEDURES_DEFRETURN_RETURN"]="return",t.Msg["PROCEDURES_DEFRETURN_TOOLTIP"]="Creates a function with an output.",t.Msg["PROCEDURES_DEF_DUPLICATE_WARNING"]="Warning: This function has duplicate parameters.",t.Msg["PROCEDURES_HIGHLIGHT_DEF"]="Highlight function definition",t.Msg["PROCEDURES_IFRETURN_HELPURL"]="http://c2.com/cgi/wiki?GuardClause",t.Msg["PROCEDURES_IFRETURN_TOOLTIP"]="If a value is true, then return a second value.",t.Msg["PROCEDURES_IFRETURN_WARNING"]="Warning: This block may be used only within a function definition.",t.Msg["PROCEDURES_MUTATORARG_TITLE"]="input name:",t.Msg["PROCEDURES_MUTATORARG_TOOLTIP"]="Add an input to the function.",t.Msg["PROCEDURES_MUTATORCONTAINER_TITLE"]="inputs",t.Msg["PROCEDURES_MUTATORCONTAINER_TOOLTIP"]="Add, remove, or reorder inputs to this function.",t.Msg["REDO"]="Redo",t.Msg["REMOVE_COMMENT"]="Remove Comment",t.Msg["RENAME_VARIABLE"]="Rename variable...",t.Msg["RENAME_VARIABLE_TITLE"]="Rename all '%1' variables to:",t.Msg["TEXT_APPEND_HELPURL"]="https://github.com/google/blockly/wiki/Text#text-modification",t.Msg["TEXT_APPEND_TITLE"]="to %1 append text %2",t.Msg["TEXT_APPEND_TOOLTIP"]="Append some text to variable '%1'.",t.Msg["TEXT_CHANGECASE_HELPURL"]="https://github.com/google/blockly/wiki/Text#adjusting-text-case",t.Msg["TEXT_CHANGECASE_OPERATOR_LOWERCASE"]="to lower case",t.Msg["TEXT_CHANGECASE_OPERATOR_TITLECASE"]="to Title Case",t.Msg["TEXT_CHANGECASE_OPERATOR_UPPERCASE"]="to UPPER CASE",t.Msg["TEXT_CHANGECASE_TOOLTIP"]="Return a copy of the text in a different case.",t.Msg["TEXT_CHARAT_FIRST"]="get first letter",t.Msg["TEXT_CHARAT_FROM_END"]="get letter # from end",t.Msg["TEXT_CHARAT_FROM_START"]="get letter #",t.Msg["TEXT_CHARAT_HELPURL"]="https://github.com/google/blockly/wiki/Text#extracting-text",t.Msg["TEXT_CHARAT_LAST"]="get last letter",t.Msg["TEXT_CHARAT_RANDOM"]="get random letter",t.Msg["TEXT_CHARAT_TAIL"]="",t.Msg["TEXT_CHARAT_TITLE"]="in text %1 %2",t.Msg["TEXT_CHARAT_TOOLTIP"]="Returns the letter at the specified position.",t.Msg["TEXT_COUNT_HELPURL"]="https://github.com/google/blockly/wiki/Text#counting-substrings",t.Msg["TEXT_COUNT_MESSAGE0"]="count %1 in %2",t.Msg["TEXT_COUNT_TOOLTIP"]="Count how many times some text occurs within some other text.",t.Msg["TEXT_CREATE_JOIN_ITEM_TOOLTIP"]="Add an item to the text.",t.Msg["TEXT_CREATE_JOIN_TITLE_JOIN"]="join",t.Msg["TEXT_CREATE_JOIN_TOOLTIP"]="Add, remove, or reorder sections to reconfigure this text block.",t.Msg["TEXT_GET_SUBSTRING_END_FROM_END"]="to letter # from end",t.Msg["TEXT_GET_SUBSTRING_END_FROM_START"]="to letter #",t.Msg["TEXT_GET_SUBSTRING_END_LAST"]="to last letter",t.Msg["TEXT_GET_SUBSTRING_HELPURL"]="https://github.com/google/blockly/wiki/Text#extracting-a-region-of-text",t.Msg["TEXT_GET_SUBSTRING_INPUT_IN_TEXT"]="in text",t.Msg["TEXT_GET_SUBSTRING_START_FIRST"]="get substring from first letter",t.Msg["TEXT_GET_SUBSTRING_START_FROM_END"]="get substring from letter # from end",t.Msg["TEXT_GET_SUBSTRING_START_FROM_START"]="get substring from letter #",t.Msg["TEXT_GET_SUBSTRING_TAIL"]="",t.Msg["TEXT_GET_SUBSTRING_TOOLTIP"]="Returns a specified portion of the text.",t.Msg["TEXT_INDEXOF_HELPURL"]="https://github.com/google/blockly/wiki/Text#finding-text",t.Msg["TEXT_INDEXOF_OPERATOR_FIRST"]="find first occurrence of text",t.Msg["TEXT_INDEXOF_OPERATOR_LAST"]="find last occurrence of text",t.Msg["TEXT_INDEXOF_TITLE"]="in text %1 %2 %3",t.Msg["TEXT_INDEXOF_TOOLTIP"]="Returns the index of the first/last occurrence of the first text in the second text. Returns %1 if text is not found.",t.Msg["TEXT_ISEMPTY_HELPURL"]="https://github.com/google/blockly/wiki/Text#checking-for-empty-text",t.Msg["TEXT_ISEMPTY_TITLE"]="%1 is empty",t.Msg["TEXT_ISEMPTY_TOOLTIP"]="Returns true if the provided text is empty.",t.Msg["TEXT_JOIN_HELPURL"]="https://github.com/google/blockly/wiki/Text#text-creation",t.Msg["TEXT_JOIN_TITLE_CREATEWITH"]="create text with",t.Msg["TEXT_JOIN_TOOLTIP"]="Create a piece of text by joining together any number of items.",t.Msg["TEXT_LENGTH_HELPURL"]="https://github.com/google/blockly/wiki/Text#text-modification",t.Msg["TEXT_LENGTH_TITLE"]="length of %1",t.Msg["TEXT_LENGTH_TOOLTIP"]="Returns the number of letters (including spaces) in the provided text.",t.Msg["TEXT_PRINT_HELPURL"]="https://github.com/google/blockly/wiki/Text#printing-text",t.Msg["TEXT_PRINT_TITLE"]="print %1",t.Msg["TEXT_PRINT_TOOLTIP"]="Print the specified text, number or other value.",t.Msg["TEXT_PROMPT_HELPURL"]="https://github.com/google/blockly/wiki/Text#getting-input-from-the-user",t.Msg["TEXT_PROMPT_TOOLTIP_NUMBER"]="Prompt for user for a number.",t.Msg["TEXT_PROMPT_TOOLTIP_TEXT"]="Prompt for user for some text.",t.Msg["TEXT_PROMPT_TYPE_NUMBER"]="prompt for number with message",t.Msg["TEXT_PROMPT_TYPE_TEXT"]="prompt for text with message",t.Msg["TEXT_REPLACE_HELPURL"]="https://github.com/google/blockly/wiki/Text#replacing-substrings",t.Msg["TEXT_REPLACE_MESSAGE0"]="replace %1 with %2 in %3",t.Msg["TEXT_REPLACE_TOOLTIP"]="Replace all occurances of some text within some other text.",t.Msg["TEXT_REVERSE_HELPURL"]="https://github.com/google/blockly/wiki/Text#reversing-text",t.Msg["TEXT_REVERSE_MESSAGE0"]="reverse %1",t.Msg["TEXT_REVERSE_TOOLTIP"]="Reverses the order of the characters in the text.",t.Msg["TEXT_TEXT_HELPURL"]="https://en.wikipedia.org/wiki/String_(computer_science)",t.Msg["TEXT_TEXT_TOOLTIP"]="A letter, word, or line of text.",t.Msg["TEXT_TRIM_HELPURL"]="https://github.com/google/blockly/wiki/Text#trimming-removing-spaces",t.Msg["TEXT_TRIM_OPERATOR_BOTH"]="trim spaces from both sides of",t.Msg["TEXT_TRIM_OPERATOR_LEFT"]="trim spaces from left side of",t.Msg["TEXT_TRIM_OPERATOR_RIGHT"]="trim spaces from right side of",t.Msg["TEXT_TRIM_TOOLTIP"]="Return a copy of the text with spaces removed from one or both ends.",t.Msg["TODAY"]="Today",t.Msg["UNDO"]="Undo",t.Msg["UNNAMED_KEY"]="unnamed",t.Msg["VARIABLES_DEFAULT_NAME"]="item",t.Msg["VARIABLES_GET_CREATE_SET"]="Create 'set %1'",t.Msg["VARIABLES_GET_HELPURL"]="https://github.com/google/blockly/wiki/Variables#get",t.Msg["VARIABLES_GET_TOOLTIP"]="Returns the value of this variable.",t.Msg["VARIABLES_SET"]="set %1 to %2",t.Msg["VARIABLES_SET_CREATE_GET"]="Create 'get %1'",t.Msg["VARIABLES_SET_HELPURL"]="https://github.com/google/blockly/wiki/Variables#set",t.Msg["VARIABLES_SET_TOOLTIP"]="Sets this variable to be equal to the input.",t.Msg["VARIABLE_ALREADY_EXISTS"]="A variable named '%1' already exists.",t.Msg["VARIABLE_ALREADY_EXISTS_FOR_ANOTHER_TYPE"]="A variable named '%1' already exists for another type: '%2'.",t.Msg["WORKSPACE_COMMENT_DEFAULT_TEXT"]="Say something...",t.Msg["CONTROLS_FOREACH_INPUT_DO"]=t.Msg["CONTROLS_REPEAT_INPUT_DO"],t.Msg["CONTROLS_FOR_INPUT_DO"]=t.Msg["CONTROLS_REPEAT_INPUT_DO"],t.Msg["CONTROLS_IF_ELSEIF_TITLE_ELSEIF"]=t.Msg["CONTROLS_IF_MSG_ELSEIF"],t.Msg["CONTROLS_IF_ELSE_TITLE_ELSE"]=t.Msg["CONTROLS_IF_MSG_ELSE"],t.Msg["CONTROLS_IF_IF_TITLE_IF"]=t.Msg["CONTROLS_IF_MSG_IF"],t.Msg["CONTROLS_IF_MSG_THEN"]=t.Msg["CONTROLS_REPEAT_INPUT_DO"],t.Msg["CONTROLS_WHILEUNTIL_INPUT_DO"]=t.Msg["CONTROLS_REPEAT_INPUT_DO"],t.Msg["LISTS_CREATE_WITH_ITEM_TITLE"]=t.Msg["VARIABLES_DEFAULT_NAME"],t.Msg["LISTS_GET_INDEX_HELPURL"]=t.Msg["LISTS_INDEX_OF_HELPURL"],t.Msg["LISTS_GET_INDEX_INPUT_IN_LIST"]=t.Msg["LISTS_INLIST"],t.Msg["LISTS_GET_SUBLIST_INPUT_IN_LIST"]=t.Msg["LISTS_INLIST"],t.Msg["LISTS_INDEX_OF_INPUT_IN_LIST"]=t.Msg["LISTS_INLIST"],t.Msg["LISTS_SET_INDEX_INPUT_IN_LIST"]=t.Msg["LISTS_INLIST"],t.Msg["MATH_CHANGE_TITLE_ITEM"]=t.Msg["VARIABLES_DEFAULT_NAME"],t.Msg["PROCEDURES_DEFRETURN_COMMENT"]=t.Msg["PROCEDURES_DEFNORETURN_COMMENT"],t.Msg["PROCEDURES_DEFRETURN_DO"]=t.Msg["PROCEDURES_DEFNORETURN_DO"],t.Msg["PROCEDURES_DEFRETURN_PROCEDURE"]=t.Msg["PROCEDURES_DEFNORETURN_PROCEDURE"],t.Msg["PROCEDURES_DEFRETURN_TITLE"]=t.Msg["PROCEDURES_DEFNORETURN_TITLE"],t.Msg["TEXT_APPEND_VARIABLE"]=t.Msg["VARIABLES_DEFAULT_NAME"],t.Msg["TEXT_CREATE_JOIN_ITEM_TITLE_ITEM"]=t.Msg["VARIABLES_DEFAULT_NAME"],t.Msg["MATH_HUE"]="230",t.Msg["LOOPS_HUE"]="120",t.Msg["LISTS_HUE"]="260",t.Msg["LOGIC_HUE"]="210",t.Msg["VARIABLES_HUE"]="330",t.Msg["TEXTS_HUE"]="160",t.Msg["PROCEDURES_HUE"]="290",t.Msg["COLOUR_HUE"]="20",t.Msg["VARIABLES_DYNAMIC_HUE"]="310",t.Msg}))},a925:function(t,e,i){"use strict";
/*!
 * vue-i18n v8.15.1 
 * (c) 2019 kazuya kawaguchi
 * Released under the MIT License.
 */var n=["style","currency","currencyDisplay","useGrouping","minimumIntegerDigits","minimumFractionDigits","maximumFractionDigits","minimumSignificantDigits","maximumSignificantDigits","localeMatcher","formatMatcher"];function o(t,e){"undefined"!==typeof console&&(console.warn("[vue-i18n] "+t),e&&console.warn(e.stack))}function s(t,e){"undefined"!==typeof console&&(console.error("[vue-i18n] "+t),e&&console.error(e.stack))}function r(t){return null!==t&&"object"===typeof t}var a=Object.prototype.toString,l="[object Object]";function c(t){return a.call(t)===l}function u(t){return null===t||void 0===t}function h(){var t=[],e=arguments.length;while(e--)t[e]=arguments[e];var i=null,n=null;return 1===t.length?r(t[0])||Array.isArray(t[0])?n=t[0]:"string"===typeof t[0]&&(i=t[0]):2===t.length&&("string"===typeof t[0]&&(i=t[0]),(r(t[1])||Array.isArray(t[1]))&&(n=t[1])),{locale:i,params:n}}function d(t){return JSON.parse(JSON.stringify(t))}function p(t,e){if(t.length){var i=t.indexOf(e);if(i>-1)return t.splice(i,1)}}var _=Object.prototype.hasOwnProperty;function g(t,e){return _.call(t,e)}function f(t){for(var e=arguments,i=Object(t),n=1;n<arguments.length;n++){var o=e[n];if(void 0!==o&&null!==o){var s=void 0;for(s in o)g(o,s)&&(r(o[s])?i[s]=f(i[s],o[s]):i[s]=o[s])}}return i}function m(t,e){if(t===e)return!0;var i=r(t),n=r(e);if(!i||!n)return!i&&!n&&String(t)===String(e);try{var o=Array.isArray(t),s=Array.isArray(e);if(o&&s)return t.length===e.length&&t.every((function(t,i){return m(t,e[i])}));if(o||s)return!1;var a=Object.keys(t),l=Object.keys(e);return a.length===l.length&&a.every((function(i){return m(t[i],e[i])}))}catch(c){return!1}}function v(t){t.prototype.hasOwnProperty("$i18n")||Object.defineProperty(t.prototype,"$i18n",{get:function(){return this._i18n}}),t.prototype.$t=function(t){var e=[],i=arguments.length-1;while(i-- >0)e[i]=arguments[i+1];var n=this.$i18n;return n._t.apply(n,[t,n.locale,n._getMessages(),this].concat(e))},t.prototype.$tc=function(t,e){var i=[],n=arguments.length-2;while(n-- >0)i[n]=arguments[n+2];var o=this.$i18n;return o._tc.apply(o,[t,o.locale,o._getMessages(),this,e].concat(i))},t.prototype.$te=function(t,e){var i=this.$i18n;return i._te(t,i.locale,i._getMessages(),e)},t.prototype.$d=function(t){var e,i=[],n=arguments.length-1;while(n-- >0)i[n]=arguments[n+1];return(e=this.$i18n).d.apply(e,[t].concat(i))},t.prototype.$n=function(t){var e,i=[],n=arguments.length-1;while(n-- >0)i[n]=arguments[n+1];return(e=this.$i18n).n.apply(e,[t].concat(i))}}var b={beforeCreate:function(){var t=this.$options;if(t.i18n=t.i18n||(t.__i18n?{}:null),t.i18n)if(t.i18n instanceof mt){if(t.__i18n)try{var e={};t.__i18n.forEach((function(t){e=f(e,JSON.parse(t))})),Object.keys(e).forEach((function(i){t.i18n.mergeLocaleMessage(i,e[i])}))}catch(s){0}this._i18n=t.i18n,this._i18nWatcher=this._i18n.watchI18nData()}else if(c(t.i18n)){if(this.$root&&this.$root.$i18n&&this.$root.$i18n instanceof mt&&(t.i18n.root=this.$root,t.i18n.formatter=this.$root.$i18n.formatter,t.i18n.fallbackLocale=this.$root.$i18n.fallbackLocale,t.i18n.formatFallbackMessages=this.$root.$i18n.formatFallbackMessages,t.i18n.silentTranslationWarn=this.$root.$i18n.silentTranslationWarn,t.i18n.silentFallbackWarn=this.$root.$i18n.silentFallbackWarn,t.i18n.pluralizationRules=this.$root.$i18n.pluralizationRules,t.i18n.preserveDirectiveContent=this.$root.$i18n.preserveDirectiveContent),t.__i18n)try{var i={};t.__i18n.forEach((function(t){i=f(i,JSON.parse(t))})),t.i18n.messages=i}catch(s){0}var n=t.i18n,o=n.sharedMessages;o&&c(o)&&(t.i18n.messages=f(t.i18n.messages,o)),this._i18n=new mt(t.i18n),this._i18nWatcher=this._i18n.watchI18nData(),(void 0===t.i18n.sync||t.i18n.sync)&&(this._localeWatcher=this.$i18n.watchLocale())}else 0;else this.$root&&this.$root.$i18n&&this.$root.$i18n instanceof mt?this._i18n=this.$root.$i18n:t.parent&&t.parent.$i18n&&t.parent.$i18n instanceof mt&&(this._i18n=t.parent.$i18n)},beforeMount:function(){var t=this.$options;t.i18n=t.i18n||(t.__i18n?{}:null),t.i18n?t.i18n instanceof mt?(this._i18n.subscribeDataChanging(this),this._subscribing=!0):c(t.i18n)&&(this._i18n.subscribeDataChanging(this),this._subscribing=!0):this.$root&&this.$root.$i18n&&this.$root.$i18n instanceof mt?(this._i18n.subscribeDataChanging(this),this._subscribing=!0):t.parent&&t.parent.$i18n&&t.parent.$i18n instanceof mt&&(this._i18n.subscribeDataChanging(this),this._subscribing=!0)},beforeDestroy:function(){if(this._i18n){var t=this;this.$nextTick((function(){t._subscribing&&(t._i18n.unsubscribeDataChanging(t),delete t._subscribing),t._i18nWatcher&&(t._i18nWatcher(),t._i18n.destroyVM(),delete t._i18nWatcher),t._localeWatcher&&(t._localeWatcher(),delete t._localeWatcher),t._i18n=null}))}}},y={name:"i18n",functional:!0,props:{tag:{type:String},path:{type:String,required:!0},locale:{type:String},places:{type:[Array,Object]}},render:function(t,e){var i=e.data,n=e.parent,o=e.props,s=e.slots,r=n.$i18n;if(r){var a=o.path,l=o.locale,c=o.places,u=s(),h=r.i(a,l,T(u)||c?E(u.default,c):u),d=o.tag||"span";return d?t(d,i,h):h}}};function T(t){var e;for(e in t)if("default"!==e)return!1;return Boolean(e)}function E(t,e){var i=e?S(e):{};if(!t)return i;t=t.filter((function(t){return t.tag||""!==t.text.trim()}));var n=t.every(w);return t.reduce(n?C:k,i)}function S(t){return Array.isArray(t)?t.reduce(k,{}):Object.assign({},t)}function C(t,e){return e.data&&e.data.attrs&&e.data.attrs.place&&(t[e.data.attrs.place]=e),t}function k(t,e,i){return t[i]=e,t}function w(t){return Boolean(t.data&&t.data.attrs&&t.data.attrs.place)}var R,I={name:"i18n-n",functional:!0,props:{tag:{type:String,default:"span"},value:{type:Number,required:!0},format:{type:[String,Object]},locale:{type:String}},render:function(t,e){var i=e.props,o=e.parent,s=e.data,a=o.$i18n;if(!a)return null;var l=null,c=null;"string"===typeof i.format?l=i.format:r(i.format)&&(i.format.key&&(l=i.format.key),c=Object.keys(i.format).reduce((function(t,e){var o;return n.includes(e)?Object.assign({},t,(o={},o[e]=i.format[e],o)):t}),null));var u=i.locale||a.locale,h=a._ntp(i.value,u,l,c),d=h.map((function(t,e){var i,n=s.scopedSlots&&s.scopedSlots[t.type];return n?n((i={},i[t.type]=t.value,i.index=e,i.parts=h,i)):t.value}));return t(i.tag,{attrs:s.attrs,class:s["class"],staticClass:s.staticClass},d)}};function x(t,e,i){M(t,i)&&L(t,e,i)}function O(t,e,i,n){if(M(t,i)){var o=i.context.$i18n;N(t,i)&&m(e.value,e.oldValue)&&m(t._localeMessage,o.getLocaleMessage(o.locale))||L(t,e,i)}}function A(t,e,i,n){var s=i.context;if(s){var r=i.context.$i18n||{};e.modifiers.preserve||r.preserveDirectiveContent||(t.textContent=""),t._vt=void 0,delete t["_vt"],t._locale=void 0,delete t["_locale"],t._localeMessage=void 0,delete t["_localeMessage"]}else o("Vue instance does not exists in VNode context")}function M(t,e){var i=e.context;return i?!!i.$i18n||(o("VueI18n instance does not exists in Vue instance"),!1):(o("Vue instance does not exists in VNode context"),!1)}function N(t,e){var i=e.context;return t._locale===i.$i18n.locale}function L(t,e,i){var n,s,r=e.value,a=D(r),l=a.path,c=a.locale,u=a.args,h=a.choice;if(l||c||u)if(l){var d=i.context;t._vt=t.textContent=h?(n=d.$i18n).tc.apply(n,[l,h].concat(B(c,u))):(s=d.$i18n).t.apply(s,[l].concat(B(c,u))),t._locale=d.$i18n.locale,t._localeMessage=d.$i18n.getLocaleMessage(d.$i18n.locale)}else o("`path` is required in v-t directive");else o("value type not supported")}function D(t){var e,i,n,o;return"string"===typeof t?e=t:c(t)&&(e=t.path,i=t.locale,n=t.args,o=t.choice),{path:e,locale:i,args:n,choice:o}}function B(t,e){var i=[];return t&&i.push(t),e&&(Array.isArray(e)||c(e))&&i.push(e),i}function P(t){P.installed=!0,R=t;R.version&&Number(R.version.split(".")[0]);v(R),R.mixin(b),R.directive("t",{bind:x,update:O,unbind:A}),R.component(y.name,y),R.component(I.name,I);var e=R.config.optionMergeStrategies;e.i18n=function(t,e){return void 0===e?t:e}}var F=function(){this._caches=Object.create(null)};F.prototype.interpolate=function(t,e){if(!e)return[t];var i=this._caches[t];return i||(i=U(t),this._caches[t]=i),W(i,e)};var H=/^(?:\d)+/,V=/^(?:\w)+/;function U(t){var e=[],i=0,n="";while(i<t.length){var o=t[i++];if("{"===o){n&&e.push({type:"text",value:n}),n="";var s="";o=t[i++];while(void 0!==o&&"}"!==o)s+=o,o=t[i++];var r="}"===o,a=H.test(s)?"list":r&&V.test(s)?"named":"unknown";e.push({value:s,type:a})}else"%"===o?"{"!==t[i]&&(n+=o):n+=o}return n&&e.push({type:"text",value:n}),e}function W(t,e){var i=[],n=0,o=Array.isArray(e)?"list":r(e)?"named":"unknown";if("unknown"===o)return i;while(n<t.length){var s=t[n];switch(s.type){case"text":i.push(s.value);break;case"list":i.push(e[parseInt(s.value,10)]);break;case"named":"named"===o&&i.push(e[s.value]);break;case"unknown":0;break}n++}return i}var $=0,G=1,q=2,z=3,X=0,Y=1,j=2,K=3,J=4,Q=5,Z=6,tt=7,et=8,it=[];it[X]={ws:[X],ident:[K,$],"[":[J],eof:[tt]},it[Y]={ws:[Y],".":[j],"[":[J],eof:[tt]},it[j]={ws:[j],ident:[K,$],0:[K,$],number:[K,$]},it[K]={ident:[K,$],0:[K,$],number:[K,$],ws:[Y,G],".":[j,G],"[":[J,G],eof:[tt,G]},it[J]={"'":[Q,$],'"':[Z,$],"[":[J,q],"]":[Y,z],eof:et,else:[J,$]},it[Q]={"'":[J,$],eof:et,else:[Q,$]},it[Z]={'"':[J,$],eof:et,else:[Z,$]};var nt=/^\s?(?:true|false|-?[\d.]+|'[^']*'|"[^"]*")\s?$/;function ot(t){return nt.test(t)}function st(t){var e=t.charCodeAt(0),i=t.charCodeAt(t.length-1);return e!==i||34!==e&&39!==e?t:t.slice(1,-1)}function rt(t){if(void 0===t||null===t)return"eof";var e=t.charCodeAt(0);switch(e){case 91:case 93:case 46:case 34:case 39:return t;case 95:case 36:case 45:return"ident";case 9:case 10:case 13:case 160:case 65279:case 8232:case 8233:return"ws"}return"ident"}function at(t){var e=t.trim();return("0"!==t.charAt(0)||!isNaN(t))&&(ot(e)?st(e):"*"+e)}function lt(t){var e,i,n,o,s,r,a,l=[],c=-1,u=X,h=0,d=[];function p(){var e=t[c+1];if(u===Q&&"'"===e||u===Z&&'"'===e)return c++,n="\\"+e,d[$](),!0}d[G]=function(){void 0!==i&&(l.push(i),i=void 0)},d[$]=function(){void 0===i?i=n:i+=n},d[q]=function(){d[$](),h++},d[z]=function(){if(h>0)h--,u=J,d[$]();else{if(h=0,void 0===i)return!1;if(i=at(i),!1===i)return!1;d[G]()}};while(null!==u)if(c++,e=t[c],"\\"!==e||!p()){if(o=rt(e),a=it[u],s=a[o]||a["else"]||et,s===et)return;if(u=s[0],r=d[s[1]],r&&(n=s[2],n=void 0===n?e:n,!1===r()))return;if(u===tt)return l}}var ct=function(){this._cache=Object.create(null)};ct.prototype.parsePath=function(t){var e=this._cache[t];return e||(e=lt(t),e&&(this._cache[t]=e)),e||[]},ct.prototype.getPathValue=function(t,e){if(!r(t))return null;var i=this.parsePath(e);if(0===i.length)return null;var n=i.length,o=t,s=0;while(s<n){var a=o[i[s]];if(void 0===a)return null;o=a,s++}return o};var ut,ht=/<\/?[\w\s="/.':;#-\/]+>/,dt=/(?:@(?:\.[a-z]+)?:(?:[\w\-_|.]+|\([\w\-_|.]+\)))/g,pt=/^@(?:\.([a-z]+))?:/,_t=/[()]/g,gt={upper:function(t){return t.toLocaleUpperCase()},lower:function(t){return t.toLocaleLowerCase()}},ft=new F,mt=function(t){var e=this;void 0===t&&(t={}),!R&&"undefined"!==typeof window&&window.Vue&&P(window.Vue);var i=t.locale||"en-US",n=t.fallbackLocale||"en-US",o=t.messages||{},s=t.dateTimeFormats||{},r=t.numberFormats||{};this._vm=null,this._formatter=t.formatter||ft,this._modifiers=t.modifiers||{},this._missing=t.missing||null,this._root=t.root||null,this._sync=void 0===t.sync||!!t.sync,this._fallbackRoot=void 0===t.fallbackRoot||!!t.fallbackRoot,this._formatFallbackMessages=void 0!==t.formatFallbackMessages&&!!t.formatFallbackMessages,this._silentTranslationWarn=void 0!==t.silentTranslationWarn&&t.silentTranslationWarn,this._silentFallbackWarn=void 0!==t.silentFallbackWarn&&!!t.silentFallbackWarn,this._dateTimeFormatters={},this._numberFormatters={},this._path=new ct,this._dataListeners=[],this._preserveDirectiveContent=void 0!==t.preserveDirectiveContent&&!!t.preserveDirectiveContent,this.pluralizationRules=t.pluralizationRules||{},this._warnHtmlInMessage=t.warnHtmlInMessage||"off",this._exist=function(t,i){return!(!t||!i)&&(!u(e._path.getPathValue(t,i))||!!t[i])},"warn"!==this._warnHtmlInMessage&&"error"!==this._warnHtmlInMessage||Object.keys(o).forEach((function(t){e._checkLocaleMessage(t,e._warnHtmlInMessage,o[t])})),this._initVM({locale:i,fallbackLocale:n,messages:o,dateTimeFormats:s,numberFormats:r})},vt={vm:{configurable:!0},messages:{configurable:!0},dateTimeFormats:{configurable:!0},numberFormats:{configurable:!0},availableLocales:{configurable:!0},locale:{configurable:!0},fallbackLocale:{configurable:!0},formatFallbackMessages:{configurable:!0},missing:{configurable:!0},formatter:{configurable:!0},silentTranslationWarn:{configurable:!0},silentFallbackWarn:{configurable:!0},preserveDirectiveContent:{configurable:!0},warnHtmlInMessage:{configurable:!0}};mt.prototype._checkLocaleMessage=function(t,e,i){var n=[],r=function(t,e,i,n){if(c(i))Object.keys(i).forEach((function(o){var s=i[o];c(s)?(n.push(o),n.push("."),r(t,e,s,n),n.pop(),n.pop()):(n.push(o),r(t,e,s,n),n.pop())}));else if(Array.isArray(i))i.forEach((function(i,o){c(i)?(n.push("["+o+"]"),n.push("."),r(t,e,i,n),n.pop(),n.pop()):(n.push("["+o+"]"),r(t,e,i,n),n.pop())}));else if("string"===typeof i){var a=ht.test(i);if(a){var l="Detected HTML in message '"+i+"' of keypath '"+n.join("")+"' at '"+e+"'. Consider component interpolation with '<i18n>' to avoid XSS. See https://bit.ly/2ZqJzkp";"warn"===t?o(l):"error"===t&&s(l)}}};r(e,t,i,n)},mt.prototype._initVM=function(t){var e=R.config.silent;R.config.silent=!0,this._vm=new R({data:t}),R.config.silent=e},mt.prototype.destroyVM=function(){this._vm.$destroy()},mt.prototype.subscribeDataChanging=function(t){this._dataListeners.push(t)},mt.prototype.unsubscribeDataChanging=function(t){p(this._dataListeners,t)},mt.prototype.watchI18nData=function(){var t=this;return this._vm.$watch("$data",(function(){var e=t._dataListeners.length;while(e--)R.nextTick((function(){t._dataListeners[e]&&t._dataListeners[e].$forceUpdate()}))}),{deep:!0})},mt.prototype.watchLocale=function(){if(!this._sync||!this._root)return null;var t=this._vm;return this._root.$i18n.vm.$watch("locale",(function(e){t.$set(t,"locale",e),t.$forceUpdate()}),{immediate:!0})},vt.vm.get=function(){return this._vm},vt.messages.get=function(){return d(this._getMessages())},vt.dateTimeFormats.get=function(){return d(this._getDateTimeFormats())},vt.numberFormats.get=function(){return d(this._getNumberFormats())},vt.availableLocales.get=function(){return Object.keys(this.messages).sort()},vt.locale.get=function(){return this._vm.locale},vt.locale.set=function(t){this._vm.$set(this._vm,"locale",t)},vt.fallbackLocale.get=function(){return this._vm.fallbackLocale},vt.fallbackLocale.set=function(t){this._vm.$set(this._vm,"fallbackLocale",t)},vt.formatFallbackMessages.get=function(){return this._formatFallbackMessages},vt.formatFallbackMessages.set=function(t){this._formatFallbackMessages=t},vt.missing.get=function(){return this._missing},vt.missing.set=function(t){this._missing=t},vt.formatter.get=function(){return this._formatter},vt.formatter.set=function(t){this._formatter=t},vt.silentTranslationWarn.get=function(){return this._silentTranslationWarn},vt.silentTranslationWarn.set=function(t){this._silentTranslationWarn=t},vt.silentFallbackWarn.get=function(){return this._silentFallbackWarn},vt.silentFallbackWarn.set=function(t){this._silentFallbackWarn=t},vt.preserveDirectiveContent.get=function(){return this._preserveDirectiveContent},vt.preserveDirectiveContent.set=function(t){this._preserveDirectiveContent=t},vt.warnHtmlInMessage.get=function(){return this._warnHtmlInMessage},vt.warnHtmlInMessage.set=function(t){var e=this,i=this._warnHtmlInMessage;if(this._warnHtmlInMessage=t,i!==t&&("warn"===t||"error"===t)){var n=this._getMessages();Object.keys(n).forEach((function(t){e._checkLocaleMessage(t,e._warnHtmlInMessage,n[t])}))}},mt.prototype._getMessages=function(){return this._vm.messages},mt.prototype._getDateTimeFormats=function(){return this._vm.dateTimeFormats},mt.prototype._getNumberFormats=function(){return this._vm.numberFormats},mt.prototype._warnDefault=function(t,e,i,n,o){if(!u(i))return i;if(this._missing){var s=this._missing.apply(null,[t,e,n,o]);if("string"===typeof s)return s}else 0;if(this._formatFallbackMessages){var r=h.apply(void 0,o);return this._render(e,"string",r.params,e)}return e},mt.prototype._isFallbackRoot=function(t){return!t&&!u(this._root)&&this._fallbackRoot},mt.prototype._isSilentFallbackWarn=function(t){return this._silentFallbackWarn instanceof RegExp?this._silentFallbackWarn.test(t):this._silentFallbackWarn},mt.prototype._isSilentFallback=function(t,e){return this._isSilentFallbackWarn(e)&&(this._isFallbackRoot()||t!==this.fallbackLocale)},mt.prototype._isSilentTranslationWarn=function(t){return this._silentTranslationWarn instanceof RegExp?this._silentTranslationWarn.test(t):this._silentTranslationWarn},mt.prototype._interpolate=function(t,e,i,n,o,s,r){if(!e)return null;var a,l=this._path.getPathValue(e,i);if(Array.isArray(l)||c(l))return l;if(u(l)){if(!c(e))return null;if(a=e[i],"string"!==typeof a)return null}else{if("string"!==typeof l)return null;a=l}return(a.indexOf("@:")>=0||a.indexOf("@.")>=0)&&(a=this._link(t,e,a,n,"raw",s,r)),this._render(a,o,s,i)},mt.prototype._link=function(t,e,i,n,o,s,r){var a=i,l=a.match(dt);for(var c in l)if(l.hasOwnProperty(c)){var u=l[c],h=u.match(pt),d=h[0],p=h[1],_=u.replace(d,"").replace(_t,"");if(r.includes(_))return a;r.push(_);var g=this._interpolate(t,e,_,n,"raw"===o?"string":o,"raw"===o?void 0:s,r);if(this._isFallbackRoot(g)){if(!this._root)throw Error("unexpected error");var f=this._root.$i18n;g=f._translate(f._getMessages(),f.locale,f.fallbackLocale,_,n,o,s)}g=this._warnDefault(t,_,g,n,Array.isArray(s)?s:[s]),this._modifiers.hasOwnProperty(p)?g=this._modifiers[p](g):gt.hasOwnProperty(p)&&(g=gt[p](g)),r.pop(),a=g?a.replace(u,g):a}return a},mt.prototype._render=function(t,e,i,n){var o=this._formatter.interpolate(t,i,n);return o||(o=ft.interpolate(t,i,n)),"string"===e?o.join(""):o},mt.prototype._translate=function(t,e,i,n,o,s,r){var a=this._interpolate(e,t[e],n,o,s,r,[n]);return u(a)?(a=this._interpolate(i,t[i],n,o,s,r,[n]),u(a)?null:a):a},mt.prototype._t=function(t,e,i,n){var o,s=[],r=arguments.length-4;while(r-- >0)s[r]=arguments[r+4];if(!t)return"";var a=h.apply(void 0,s),l=a.locale||e,c=this._translate(i,l,this.fallbackLocale,t,n,"string",a.params);if(this._isFallbackRoot(c)){if(!this._root)throw Error("unexpected error");return(o=this._root).$t.apply(o,[t].concat(s))}return this._warnDefault(l,t,c,n,s)},mt.prototype.t=function(t){var e,i=[],n=arguments.length-1;while(n-- >0)i[n]=arguments[n+1];return(e=this)._t.apply(e,[t,this.locale,this._getMessages(),null].concat(i))},mt.prototype._i=function(t,e,i,n,o){var s=this._translate(i,e,this.fallbackLocale,t,n,"raw",o);if(this._isFallbackRoot(s)){if(!this._root)throw Error("unexpected error");return this._root.$i18n.i(t,e,o)}return this._warnDefault(e,t,s,n,[o])},mt.prototype.i=function(t,e,i){return t?("string"!==typeof e&&(e=this.locale),this._i(t,e,this._getMessages(),null,i)):""},mt.prototype._tc=function(t,e,i,n,o){var s,r=[],a=arguments.length-5;while(a-- >0)r[a]=arguments[a+5];if(!t)return"";void 0===o&&(o=1);var l={count:o,n:o},c=h.apply(void 0,r);return c.params=Object.assign(l,c.params),r=null===c.locale?[c.params]:[c.locale,c.params],this.fetchChoice((s=this)._t.apply(s,[t,e,i,n].concat(r)),o)},mt.prototype.fetchChoice=function(t,e){if(!t&&"string"!==typeof t)return null;var i=t.split("|");return e=this.getChoiceIndex(e,i.length),i[e]?i[e].trim():t},mt.prototype.getChoiceIndex=function(t,e){var i=function(t,e){return t=Math.abs(t),2===e?t?t>1?1:0:1:t?Math.min(t,2):0};return this.locale in this.pluralizationRules?this.pluralizationRules[this.locale].apply(this,[t,e]):i(t,e)},mt.prototype.tc=function(t,e){var i,n=[],o=arguments.length-2;while(o-- >0)n[o]=arguments[o+2];return(i=this)._tc.apply(i,[t,this.locale,this._getMessages(),null,e].concat(n))},mt.prototype._te=function(t,e,i){var n=[],o=arguments.length-3;while(o-- >0)n[o]=arguments[o+3];var s=h.apply(void 0,n).locale||e;return this._exist(i[s],t)},mt.prototype.te=function(t,e){return this._te(t,this.locale,this._getMessages(),e)},mt.prototype.getLocaleMessage=function(t){return d(this._vm.messages[t]||{})},mt.prototype.setLocaleMessage=function(t,e){("warn"!==this._warnHtmlInMessage&&"error"!==this._warnHtmlInMessage||(this._checkLocaleMessage(t,this._warnHtmlInMessage,e),"error"!==this._warnHtmlInMessage))&&this._vm.$set(this._vm.messages,t,e)},mt.prototype.mergeLocaleMessage=function(t,e){("warn"!==this._warnHtmlInMessage&&"error"!==this._warnHtmlInMessage||(this._checkLocaleMessage(t,this._warnHtmlInMessage,e),"error"!==this._warnHtmlInMessage))&&this._vm.$set(this._vm.messages,t,f(this._vm.messages[t]||{},e))},mt.prototype.getDateTimeFormat=function(t){return d(this._vm.dateTimeFormats[t]||{})},mt.prototype.setDateTimeFormat=function(t,e){this._vm.$set(this._vm.dateTimeFormats,t,e)},mt.prototype.mergeDateTimeFormat=function(t,e){this._vm.$set(this._vm.dateTimeFormats,t,f(this._vm.dateTimeFormats[t]||{},e))},mt.prototype._localizeDateTime=function(t,e,i,n,o){var s=e,r=n[s];if((u(r)||u(r[o]))&&(s=i,r=n[s]),u(r)||u(r[o]))return null;var a=r[o],l=s+"__"+o,c=this._dateTimeFormatters[l];return c||(c=this._dateTimeFormatters[l]=new Intl.DateTimeFormat(s,a)),c.format(t)},mt.prototype._d=function(t,e,i){if(!i)return new Intl.DateTimeFormat(e).format(t);var n=this._localizeDateTime(t,e,this.fallbackLocale,this._getDateTimeFormats(),i);if(this._isFallbackRoot(n)){if(!this._root)throw Error("unexpected error");return this._root.$i18n.d(t,i,e)}return n||""},mt.prototype.d=function(t){var e=[],i=arguments.length-1;while(i-- >0)e[i]=arguments[i+1];var n=this.locale,o=null;return 1===e.length?"string"===typeof e[0]?o=e[0]:r(e[0])&&(e[0].locale&&(n=e[0].locale),e[0].key&&(o=e[0].key)):2===e.length&&("string"===typeof e[0]&&(o=e[0]),"string"===typeof e[1]&&(n=e[1])),this._d(t,n,o)},mt.prototype.getNumberFormat=function(t){return d(this._vm.numberFormats[t]||{})},mt.prototype.setNumberFormat=function(t,e){this._vm.$set(this._vm.numberFormats,t,e)},mt.prototype.mergeNumberFormat=function(t,e){this._vm.$set(this._vm.numberFormats,t,f(this._vm.numberFormats[t]||{},e))},mt.prototype._getNumberFormatter=function(t,e,i,n,o,s){var r=e,a=n[r];if((u(a)||u(a[o]))&&(r=i,a=n[r]),u(a)||u(a[o]))return null;var l,c=a[o];if(s)l=new Intl.NumberFormat(r,Object.assign({},c,s));else{var h=r+"__"+o;l=this._numberFormatters[h],l||(l=this._numberFormatters[h]=new Intl.NumberFormat(r,c))}return l},mt.prototype._n=function(t,e,i,n){if(!mt.availabilities.numberFormat)return"";if(!i){var o=n?new Intl.NumberFormat(e,n):new Intl.NumberFormat(e);return o.format(t)}var s=this._getNumberFormatter(t,e,this.fallbackLocale,this._getNumberFormats(),i,n),r=s&&s.format(t);if(this._isFallbackRoot(r)){if(!this._root)throw Error("unexpected error");return this._root.$i18n.n(t,Object.assign({},{key:i,locale:e},n))}return r||""},mt.prototype.n=function(t){var e=[],i=arguments.length-1;while(i-- >0)e[i]=arguments[i+1];var o=this.locale,s=null,a=null;return 1===e.length?"string"===typeof e[0]?s=e[0]:r(e[0])&&(e[0].locale&&(o=e[0].locale),e[0].key&&(s=e[0].key),a=Object.keys(e[0]).reduce((function(t,i){var o;return n.includes(i)?Object.assign({},t,(o={},o[i]=e[0][i],o)):t}),null)):2===e.length&&("string"===typeof e[0]&&(s=e[0]),"string"===typeof e[1]&&(o=e[1])),this._n(t,o,s,a)},mt.prototype._ntp=function(t,e,i,n){if(!mt.availabilities.numberFormat)return[];if(!i){var o=n?new Intl.NumberFormat(e,n):new Intl.NumberFormat(e);return o.formatToParts(t)}var s=this._getNumberFormatter(t,e,this.fallbackLocale,this._getNumberFormats(),i,n),r=s&&s.formatToParts(t);if(this._isFallbackRoot(r)){if(!this._root)throw Error("unexpected error");return this._root.$i18n._ntp(t,e,i,n)}return r||[]},Object.defineProperties(mt.prototype,vt),Object.defineProperty(mt,"availabilities",{get:function(){if(!ut){var t="undefined"!==typeof Intl;ut={dateTimeFormat:t&&"undefined"!==typeof Intl.DateTimeFormat,numberFormat:t&&"undefined"!==typeof Intl.NumberFormat}}return ut}}),mt.install=P,mt.version="8.15.1",e["a"]=mt},b6fc:function(t,e,i){},b7fd:function(t,e,i){var n,o,s;(function(r,a){o=[i("8c1d")],n=a,s="function"===typeof n?n.apply(e,o):n,void 0===s||(t.exports=s)})(0,(function(t){
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
"use strict";return t.setLocale=function(e){t.Msg=t.Msg||{},Object.keys(e).forEach((function(i){t.Msg[i]=e[i]}))},t}))},bb63:function(t,e){t.exports=function(t){var e={keyword:"abstract as base bool break byte case catch char checked const continue decimal default delegate do double enum event explicit extern finally fixed float for foreach goto if implicit in int interface internal is lock long object operator out override params private protected public readonly ref sbyte sealed short sizeof stackalloc static string struct switch this try typeof uint ulong unchecked unsafe ushort using virtual void volatile while add alias ascending async await by descending dynamic equals from get global group into join let nameof on orderby partial remove select set value var when where yield",literal:"null false true"},i={className:"number",variants:[{begin:"\\b(0b[01']+)"},{begin:"(-?)\\b([\\d']+(\\.[\\d']*)?|\\.[\\d']+)(u|U|l|L|ul|UL|f|F|b|B)"},{begin:"(-?)(\\b0[xX][a-fA-F0-9']+|(\\b[\\d']+(\\.[\\d']*)?|\\.[\\d']+)([eE][-+]?[\\d']+)?)"}],relevance:0},n={className:"string",begin:'@"',end:'"',contains:[{begin:'""'}]},o=t.inherit(n,{illegal:/\n/}),s={className:"subst",begin:"{",end:"}",keywords:e},r=t.inherit(s,{illegal:/\n/}),a={className:"string",begin:/\$"/,end:'"',illegal:/\n/,contains:[{begin:"{{"},{begin:"}}"},t.BACKSLASH_ESCAPE,r]},l={className:"string",begin:/\$@"/,end:'"',contains:[{begin:"{{"},{begin:"}}"},{begin:'""'},s]},c=t.inherit(l,{illegal:/\n/,contains:[{begin:"{{"},{begin:"}}"},{begin:'""'},r]});s.contains=[l,a,n,t.APOS_STRING_MODE,t.QUOTE_STRING_MODE,i,t.C_BLOCK_COMMENT_MODE],r.contains=[c,a,o,t.APOS_STRING_MODE,t.QUOTE_STRING_MODE,i,t.inherit(t.C_BLOCK_COMMENT_MODE,{illegal:/\n/})];var u={variants:[l,a,n,t.APOS_STRING_MODE,t.QUOTE_STRING_MODE]},h=t.IDENT_RE+"(<"+t.IDENT_RE+"(\\s*,\\s*"+t.IDENT_RE+")*>)?(\\[\\])?";return{aliases:["csharp","c#"],keywords:e,illegal:/::/,contains:[t.COMMENT("///","$",{returnBegin:!0,contains:[{className:"doctag",variants:[{begin:"///",relevance:0},{begin:"\x3c!--|--\x3e"},{begin:"</?",end:">"}]}]}),t.C_LINE_COMMENT_MODE,t.C_BLOCK_COMMENT_MODE,{className:"meta",begin:"#",end:"$",keywords:{"meta-keyword":"if else elif endif define undef warning error line region endregion pragma checksum"}},u,i,{beginKeywords:"class interface",end:/[{;=]/,illegal:/[^\s:,]/,contains:[t.TITLE_MODE,t.C_LINE_COMMENT_MODE,t.C_BLOCK_COMMENT_MODE]},{beginKeywords:"namespace",end:/[{;=]/,illegal:/[^\s:]/,contains:[t.inherit(t.TITLE_MODE,{begin:"[a-zA-Z](\\.?\\w)*"}),t.C_LINE_COMMENT_MODE,t.C_BLOCK_COMMENT_MODE]},{className:"meta",begin:"^\\s*\\[",excludeBegin:!0,end:"\\]",excludeEnd:!0,contains:[{className:"meta-string",begin:/"/,end:/"/}]},{beginKeywords:"new return throw await else",relevance:0},{className:"function",begin:"("+h+"\\s+)+"+t.IDENT_RE+"\\s*\\(",returnBegin:!0,end:/\s*[{;=]/,excludeEnd:!0,keywords:e,contains:[{begin:t.IDENT_RE+"\\s*\\(",returnBegin:!0,contains:[t.TITLE_MODE],relevance:0},{className:"params",begin:/\(/,end:/\)/,excludeBegin:!0,excludeEnd:!0,keywords:e,relevance:0,contains:[u,i,t.C_BLOCK_COMMENT_MODE]},t.C_LINE_COMMENT_MODE,t.C_BLOCK_COMMENT_MODE]}]}}},bd58:function(t,e,i){},c00e:function(t,e,i){},c0a8:function(t){t.exports=JSON.parse('{"a":"1.5.4"}')},c382:function(t,e,i){},c437:function(t,e,i){var n,o,s=i("e1f4"),r=i("2366"),a=0,l=0;function c(t,e,i){var c=e&&i||0,u=e||[];t=t||{};var h=t.node||n,d=void 0!==t.clockseq?t.clockseq:o;if(null==h||null==d){var p=s();null==h&&(h=n=[1|p[0],p[1],p[2],p[3],p[4],p[5]]),null==d&&(d=o=16383&(p[6]<<8|p[7]))}var _=void 0!==t.msecs?t.msecs:(new Date).getTime(),g=void 0!==t.nsecs?t.nsecs:l+1,f=_-a+(g-l)/1e4;if(f<0&&void 0===t.clockseq&&(d=d+1&16383),(f<0||_>a)&&void 0===t.nsecs&&(g=0),g>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");a=_,l=g,o=d,_+=122192928e5;var m=(1e4*(268435455&_)+g)%4294967296;u[c++]=m>>>24&255,u[c++]=m>>>16&255,u[c++]=m>>>8&255,u[c++]=255&m;var v=_/4294967296*1e4&268435455;u[c++]=v>>>8&255,u[c++]=255&v,u[c++]=v>>>24&15|16,u[c++]=v>>>16&255,u[c++]=d>>>8|128,u[c++]=255&d;for(var b=0;b<6;++b)u[c+b]=h[b];return e||r(u)}t.exports=c},c64e:function(t,e,i){var n=i("e1f4"),o=i("2366");function s(t,e,i){var s=e&&i||0;"string"==typeof t&&(e="binary"===t?new Array(16):null,t=null),t=t||{};var r=t.random||(t.rng||n)();if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,e)for(var a=0;a<16;++a)e[s+a]=r[a];return e||o(r)}t.exports=s},c8ba:function(t,e){var i;i=function(){return this}();try{i=i||new Function("return this")()}catch(n){"object"===typeof window&&(i=window)}t.exports=i},cc10:function(t,e,i){},d5db:function(t,e,i){},db91:function(t,e,i){(function(t){t(i("56b3"))})((function(t){"use strict";function e(t){return new RegExp("^(("+t.join(")|(")+"))\\b")}var i=e(["and","or","not","is"]),n=["as","assert","break","class","continue","def","del","elif","else","except","finally","for","from","global","if","import","lambda","pass","raise","return","try","while","with","yield","in"],o=["abs","all","any","bin","bool","bytearray","callable","chr","classmethod","compile","complex","delattr","dict","dir","divmod","enumerate","eval","filter","float","format","frozenset","getattr","globals","hasattr","hash","help","hex","id","input","int","isinstance","issubclass","iter","len","list","locals","map","max","memoryview","min","next","object","oct","open","ord","pow","property","range","repr","reversed","round","set","setattr","slice","sorted","staticmethod","str","sum","super","tuple","type","vars","zip","__import__","NotImplemented","Ellipsis","__debug__"];function s(t){return t.scopes[t.scopes.length-1]}t.registerHelper("hintWords","python",n.concat(o)),t.defineMode("python",(function(r,a){for(var l="error",c=a.delimiters||a.singleDelimiters||/^[\(\)\[\]\{\}@,:`=;\.\\]/,u=[a.singleOperators,a.doubleOperators,a.doubleDelimiters,a.tripleDelimiters,a.operators||/^([-+*/%\/&|^]=?|[<>=]+|\/\/=?|\*\*=?|!=|[~!@]|\.\.\.)/],h=0;h<u.length;h++)u[h]||u.splice(h--,1);var d=a.hangingIndent||r.indentUnit,p=n,_=o;void 0!=a.extra_keywords&&(p=p.concat(a.extra_keywords)),void 0!=a.extra_builtins&&(_=_.concat(a.extra_builtins));var g=!(a.version&&Number(a.version)<3);if(g){var f=a.identifiers||/^[_A-Za-z\u00A1-\uFFFF][_A-Za-z0-9\u00A1-\uFFFF]*/;p=p.concat(["nonlocal","False","True","None","async","await"]),_=_.concat(["ascii","bytes","exec","print"]);var m=new RegExp("^(([rbuf]|(br)|(fr))?('{3}|\"{3}|['\"]))","i")}else{f=a.identifiers||/^[_A-Za-z][_A-Za-z0-9]*/;p=p.concat(["exec","print"]),_=_.concat(["apply","basestring","buffer","cmp","coerce","execfile","file","intern","long","raw_input","reduce","reload","unichr","unicode","xrange","False","True","None"]);m=new RegExp("^(([rubf]|(ur)|(br))?('{3}|\"{3}|['\"]))","i")}var v=e(p),b=e(_);function y(t,e){var i=t.sol()&&"\\"!=e.lastToken;if(i&&(e.indent=t.indentation()),i&&"py"==s(e).type){var n=s(e).offset;if(t.eatSpace()){var o=t.indentation();return o>n?C(e):o<n&&w(t,e)&&"#"!=t.peek()&&(e.errorToken=!0),null}var r=T(t,e);return n>0&&w(t,e)&&(r+=" "+l),r}return T(t,e)}function T(t,e){if(t.eatSpace())return null;if(t.match(/^#.*/))return"comment";if(t.match(/^[0-9\.]/,!1)){var n=!1;if(t.match(/^[\d_]*\.\d+(e[\+\-]?\d+)?/i)&&(n=!0),t.match(/^[\d_]+\.\d*/)&&(n=!0),t.match(/^\.\d+/)&&(n=!0),n)return t.eat(/J/i),"number";var o=!1;if(t.match(/^0x[0-9a-f_]+/i)&&(o=!0),t.match(/^0b[01_]+/i)&&(o=!0),t.match(/^0o[0-7_]+/i)&&(o=!0),t.match(/^[1-9][\d_]*(e[\+\-]?[\d_]+)?/)&&(t.eat(/J/i),o=!0),t.match(/^0(?![\dx])/i)&&(o=!0),o)return t.eat(/L/i),"number"}if(t.match(m)){var s=-1!==t.current().toLowerCase().indexOf("f");return s?(e.tokenize=E(t.current(),e.tokenize),e.tokenize(t,e)):(e.tokenize=S(t.current(),e.tokenize),e.tokenize(t,e))}for(var r=0;r<u.length;r++)if(t.match(u[r]))return"operator";return t.match(c)?"punctuation":"."==e.lastToken&&t.match(f)?"property":t.match(v)||t.match(i)?"keyword":t.match(b)?"builtin":t.match(/^(self|cls)\b/)?"variable-2":t.match(f)?"def"==e.lastToken||"class"==e.lastToken?"def":"variable":(t.next(),l)}function E(t,e){while("rubf".indexOf(t.charAt(0).toLowerCase())>=0)t=t.substr(1);var i=1==t.length,n="string";function o(t){return function(e,i){var n=T(e,i);return"punctuation"==n&&("{"==e.current()?i.tokenize=o(t+1):"}"==e.current()&&(i.tokenize=t>1?o(t-1):s)),n}}function s(s,r){while(!s.eol())if(s.eatWhile(/[^'"\{\}\\]/),s.eat("\\")){if(s.next(),i&&s.eol())return n}else{if(s.match(t))return r.tokenize=e,n;if(s.match("{{"))return n;if(s.match("{",!1))return r.tokenize=o(0),s.current()?n:r.tokenize(s,r);if(s.match("}}"))return n;if(s.match("}"))return l;s.eat(/['"]/)}if(i){if(a.singleLineStringErrors)return l;r.tokenize=e}return n}return s.isString=!0,s}function S(t,e){while("rubf".indexOf(t.charAt(0).toLowerCase())>=0)t=t.substr(1);var i=1==t.length,n="string";function o(o,s){while(!o.eol())if(o.eatWhile(/[^'"\\]/),o.eat("\\")){if(o.next(),i&&o.eol())return n}else{if(o.match(t))return s.tokenize=e,n;o.eat(/['"]/)}if(i){if(a.singleLineStringErrors)return l;s.tokenize=e}return n}return o.isString=!0,o}function C(t){while("py"!=s(t).type)t.scopes.pop();t.scopes.push({offset:s(t).offset+r.indentUnit,type:"py",align:null})}function k(t,e,i){var n=t.match(/^([\s\[\{\(]|#.*)*$/,!1)?null:t.column()+1;e.scopes.push({offset:e.indent+d,type:i,align:n})}function w(t,e){var i=t.indentation();while(e.scopes.length>1&&s(e).offset>i){if("py"!=s(e).type)return!0;e.scopes.pop()}return s(e).offset!=i}function R(t,e){t.sol()&&(e.beginningOfLine=!0);var i=e.tokenize(t,e),n=t.current();if(e.beginningOfLine&&"@"==n)return t.match(f,!1)?"meta":g?"operator":l;if(/\S/.test(n)&&(e.beginningOfLine=!1),"variable"!=i&&"builtin"!=i||"meta"!=e.lastToken||(i="meta"),"pass"!=n&&"return"!=n||(e.dedent+=1),"lambda"==n&&(e.lambda=!0),":"!=n||e.lambda||"py"!=s(e).type||C(e),1==n.length&&!/string|comment/.test(i)){var o="[({".indexOf(n);if(-1!=o&&k(t,e,"])}".slice(o,o+1)),o="])}".indexOf(n),-1!=o){if(s(e).type!=n)return l;e.indent=e.scopes.pop().offset-d}}return e.dedent>0&&t.eol()&&"py"==s(e).type&&(e.scopes.length>1&&e.scopes.pop(),e.dedent-=1),i}var I={startState:function(t){return{tokenize:y,scopes:[{offset:t||0,type:"py",align:null}],indent:t||0,lastToken:null,lambda:!1,dedent:0}},token:function(t,e){var i=e.errorToken;i&&(e.errorToken=!1);var n=R(t,e);return n&&"comment"!=n&&(e.lastToken="keyword"==n||"punctuation"==n?t.current():n),"punctuation"==n&&(n=null),t.eol()&&e.lambda&&(e.lambda=!1),i?n+" "+l:n},indent:function(e,i){if(e.tokenize!=y)return e.tokenize.isString?t.Pass:0;var n=s(e),o=n.type==i.charAt(0);return null!=n.align?n.align-(o?1:0):n.offset-(o?d:0)},electricInput:/^\s*[\}\]\)]$/,closeBrackets:{triples:"'\""},lineComment:"#",fold:"indent"};return I})),t.defineMIME("text/x-python","python");var r=function(t){return t.split(" ")};t.defineMIME("text/x-cython",{name:"python",extra_keywords:r("by cdef cimport cpdef ctypedef enum except extern gil include nogil property public readonly struct union DEF IF ELIF ELSE")})}))},de09:function(t,e){t.exports=function(t){var e=t.COMMENT("--","$");return{case_insensitive:!0,illegal:/[<>{}*]/,contains:[{beginKeywords:"begin end start commit rollback savepoint lock alter create drop rename call delete do handler insert load replace select truncate update set show pragma grant merge describe use explain help declare prepare execute deallocate release unlock purge reset change stop analyze cache flush optimize repair kill install uninstall checksum restore check backup revoke comment values with",end:/;/,endsWithParent:!0,lexemes:/[\w\.]+/,keywords:{keyword:"as abort abs absolute acc acce accep accept access accessed accessible account acos action activate add addtime admin administer advanced advise aes_decrypt aes_encrypt after agent aggregate ali alia alias all allocate allow alter always analyze ancillary and anti any anydata anydataset anyschema anytype apply archive archived archivelog are as asc ascii asin assembly assertion associate asynchronous at atan atn2 attr attri attrib attribu attribut attribute attributes audit authenticated authentication authid authors auto autoallocate autodblink autoextend automatic availability avg backup badfile basicfile before begin beginning benchmark between bfile bfile_base big bigfile bin binary_double binary_float binlog bit_and bit_count bit_length bit_or bit_xor bitmap blob_base block blocksize body both bound bucket buffer_cache buffer_pool build bulk by byte byteordermark bytes cache caching call calling cancel capacity cascade cascaded case cast catalog category ceil ceiling chain change changed char_base char_length character_length characters characterset charindex charset charsetform charsetid check checksum checksum_agg child choose chr chunk class cleanup clear client clob clob_base clone close cluster_id cluster_probability cluster_set clustering coalesce coercibility col collate collation collect colu colum column column_value columns columns_updated comment commit compact compatibility compiled complete composite_limit compound compress compute concat concat_ws concurrent confirm conn connec connect connect_by_iscycle connect_by_isleaf connect_by_root connect_time connection consider consistent constant constraint constraints constructor container content contents context contributors controlfile conv convert convert_tz corr corr_k corr_s corresponding corruption cos cost count count_big counted covar_pop covar_samp cpu_per_call cpu_per_session crc32 create creation critical cross cube cume_dist curdate current current_date current_time current_timestamp current_user cursor curtime customdatum cycle data database databases datafile datafiles datalength date_add date_cache date_format date_sub dateadd datediff datefromparts datename datepart datetime2fromparts day day_to_second dayname dayofmonth dayofweek dayofyear days db_role_change dbtimezone ddl deallocate declare decode decompose decrement decrypt deduplicate def defa defau defaul default defaults deferred defi defin define degrees delayed delegate delete delete_all delimited demand dense_rank depth dequeue des_decrypt des_encrypt des_key_file desc descr descri describ describe descriptor deterministic diagnostics difference dimension direct_load directory disable disable_all disallow disassociate discardfile disconnect diskgroup distinct distinctrow distribute distributed div do document domain dotnet double downgrade drop dumpfile duplicate duration each edition editionable editions element ellipsis else elsif elt empty enable enable_all enclosed encode encoding encrypt end end-exec endian enforced engine engines enqueue enterprise entityescaping eomonth error errors escaped evalname evaluate event eventdata events except exception exceptions exchange exclude excluding execu execut execute exempt exists exit exp expire explain explode export export_set extended extent external external_1 external_2 externally extract failed failed_login_attempts failover failure far fast feature_set feature_value fetch field fields file file_name_convert filesystem_like_logging final finish first first_value fixed flash_cache flashback floor flush following follows for forall force foreign form forma format found found_rows freelist freelists freepools fresh from from_base64 from_days ftp full function general generated get get_format get_lock getdate getutcdate global global_name globally go goto grant grants greatest group group_concat group_id grouping grouping_id groups gtid_subtract guarantee guard handler hash hashkeys having hea head headi headin heading heap help hex hierarchy high high_priority hosts hour hours http id ident_current ident_incr ident_seed identified identity idle_time if ifnull ignore iif ilike ilm immediate import in include including increment index indexes indexing indextype indicator indices inet6_aton inet6_ntoa inet_aton inet_ntoa infile initial initialized initially initrans inmemory inner innodb input insert install instance instantiable instr interface interleaved intersect into invalidate invisible is is_free_lock is_ipv4 is_ipv4_compat is_not is_not_null is_used_lock isdate isnull isolation iterate java join json json_exists keep keep_duplicates key keys kill language large last last_day last_insert_id last_value lateral lax lcase lead leading least leaves left len lenght length less level levels library like like2 like4 likec limit lines link list listagg little ln load load_file lob lobs local localtime localtimestamp locate locator lock locked log log10 log2 logfile logfiles logging logical logical_reads_per_call logoff logon logs long loop low low_priority lower lpad lrtrim ltrim main make_set makedate maketime managed management manual map mapping mask master master_pos_wait match matched materialized max maxextents maximize maxinstances maxlen maxlogfiles maxloghistory maxlogmembers maxsize maxtrans md5 measures median medium member memcompress memory merge microsecond mid migration min minextents minimum mining minus minute minutes minvalue missing mod mode model modification modify module monitoring month months mount move movement multiset mutex name name_const names nan national native natural nav nchar nclob nested never new newline next nextval no no_write_to_binlog noarchivelog noaudit nobadfile nocheck nocompress nocopy nocycle nodelay nodiscardfile noentityescaping noguarantee nokeep nologfile nomapping nomaxvalue nominimize nominvalue nomonitoring none noneditionable nonschema noorder nopr nopro noprom nopromp noprompt norely noresetlogs noreverse normal norowdependencies noschemacheck noswitch not nothing notice notnull notrim novalidate now nowait nth_value nullif nulls num numb numbe nvarchar nvarchar2 object ocicoll ocidate ocidatetime ociduration ociinterval ociloblocator ocinumber ociref ocirefcursor ocirowid ocistring ocitype oct octet_length of off offline offset oid oidindex old on online only opaque open operations operator optimal optimize option optionally or oracle oracle_date oradata ord ordaudio orddicom orddoc order ordimage ordinality ordvideo organization orlany orlvary out outer outfile outline output over overflow overriding package pad parallel parallel_enable parameters parent parse partial partition partitions pascal passing password password_grace_time password_lock_time password_reuse_max password_reuse_time password_verify_function patch path patindex pctincrease pctthreshold pctused pctversion percent percent_rank percentile_cont percentile_disc performance period period_add period_diff permanent physical pi pipe pipelined pivot pluggable plugin policy position post_transaction pow power pragma prebuilt precedes preceding precision prediction prediction_cost prediction_details prediction_probability prediction_set prepare present preserve prior priority private private_sga privileges procedural procedure procedure_analyze processlist profiles project prompt protection public publishingservername purge quarter query quick quiesce quota quotename radians raise rand range rank raw read reads readsize rebuild record records recover recovery recursive recycle redo reduced ref reference referenced references referencing refresh regexp_like register regr_avgx regr_avgy regr_count regr_intercept regr_r2 regr_slope regr_sxx regr_sxy reject rekey relational relative relaylog release release_lock relies_on relocate rely rem remainder rename repair repeat replace replicate replication required reset resetlogs resize resource respect restore restricted result result_cache resumable resume retention return returning returns reuse reverse revoke right rlike role roles rollback rolling rollup round row row_count rowdependencies rowid rownum rows rtrim rules safe salt sample save savepoint sb1 sb2 sb4 scan schema schemacheck scn scope scroll sdo_georaster sdo_topo_geometry search sec_to_time second seconds section securefile security seed segment select self semi sequence sequential serializable server servererror session session_user sessions_per_user set sets settings sha sha1 sha2 share shared shared_pool short show shrink shutdown si_averagecolor si_colorhistogram si_featurelist si_positionalcolor si_stillimage si_texture siblings sid sign sin size size_t sizes skip slave sleep smalldatetimefromparts smallfile snapshot some soname sort soundex source space sparse spfile split sql sql_big_result sql_buffer_result sql_cache sql_calc_found_rows sql_small_result sql_variant_property sqlcode sqldata sqlerror sqlname sqlstate sqrt square standalone standby start starting startup statement static statistics stats_binomial_test stats_crosstab stats_ks_test stats_mode stats_mw_test stats_one_way_anova stats_t_test_ stats_t_test_indep stats_t_test_one stats_t_test_paired stats_wsr_test status std stddev stddev_pop stddev_samp stdev stop storage store stored str str_to_date straight_join strcmp strict string struct stuff style subdate subpartition subpartitions substitutable substr substring subtime subtring_index subtype success sum suspend switch switchoffset switchover sync synchronous synonym sys sys_xmlagg sysasm sysaux sysdate sysdatetimeoffset sysdba sysoper system system_user sysutcdatetime table tables tablespace tablesample tan tdo template temporary terminated tertiary_weights test than then thread through tier ties time time_format time_zone timediff timefromparts timeout timestamp timestampadd timestampdiff timezone_abbr timezone_minute timezone_region to to_base64 to_date to_days to_seconds todatetimeoffset trace tracking transaction transactional translate translation treat trigger trigger_nestlevel triggers trim truncate try_cast try_convert try_parse type ub1 ub2 ub4 ucase unarchived unbounded uncompress under undo unhex unicode uniform uninstall union unique unix_timestamp unknown unlimited unlock unnest unpivot unrecoverable unsafe unsigned until untrusted unusable unused update updated upgrade upped upper upsert url urowid usable usage use use_stored_outlines user user_data user_resources users using utc_date utc_timestamp uuid uuid_short validate validate_password_strength validation valist value values var var_samp varcharc vari varia variab variabl variable variables variance varp varraw varrawc varray verify version versions view virtual visible void wait wallet warning warnings week weekday weekofyear wellformed when whene whenev wheneve whenever where while whitespace window with within without work wrapped xdb xml xmlagg xmlattributes xmlcast xmlcolattval xmlelement xmlexists xmlforest xmlindex xmlnamespaces xmlpi xmlquery xmlroot xmlschema xmlserialize xmltable xmltype xor year year_to_month years yearweek",literal:"true false null unknown",built_in:"array bigint binary bit blob bool boolean char character date dec decimal float int int8 integer interval number numeric real record serial serial8 smallint text time timestamp tinyint varchar varchar2 varying void"},contains:[{className:"string",begin:"'",end:"'",contains:[t.BACKSLASH_ESCAPE,{begin:"''"}]},{className:"string",begin:'"',end:'"',contains:[t.BACKSLASH_ESCAPE,{begin:'""'}]},{className:"string",begin:"`",end:"`",contains:[t.BACKSLASH_ESCAPE]},t.C_NUMBER_MODE,t.C_BLOCK_COMMENT_MODE,e,t.HASH_COMMENT_MODE]},t.C_BLOCK_COMMENT_MODE,e,t.HASH_COMMENT_MODE]}}},df06:function(t,e){t.exports=function(t){return{keywords:{keyword:"break continue discard do else for if return while switch case default attribute binding buffer ccw centroid centroid varying coherent column_major const cw depth_any depth_greater depth_less depth_unchanged early_fragment_tests equal_spacing flat fractional_even_spacing fractional_odd_spacing highp in index inout invariant invocations isolines layout line_strip lines lines_adjacency local_size_x local_size_y local_size_z location lowp max_vertices mediump noperspective offset origin_upper_left out packed patch pixel_center_integer point_mode points precise precision quads r11f_g11f_b10f r16 r16_snorm r16f r16i r16ui r32f r32i r32ui r8 r8_snorm r8i r8ui readonly restrict rg16 rg16_snorm rg16f rg16i rg16ui rg32f rg32i rg32ui rg8 rg8_snorm rg8i rg8ui rgb10_a2 rgb10_a2ui rgba16 rgba16_snorm rgba16f rgba16i rgba16ui rgba32f rgba32i rgba32ui rgba8 rgba8_snorm rgba8i rgba8ui row_major sample shared smooth std140 std430 stream triangle_strip triangles triangles_adjacency uniform varying vertices volatile writeonly",type:"atomic_uint bool bvec2 bvec3 bvec4 dmat2 dmat2x2 dmat2x3 dmat2x4 dmat3 dmat3x2 dmat3x3 dmat3x4 dmat4 dmat4x2 dmat4x3 dmat4x4 double dvec2 dvec3 dvec4 float iimage1D iimage1DArray iimage2D iimage2DArray iimage2DMS iimage2DMSArray iimage2DRect iimage3D iimageBufferiimageCube iimageCubeArray image1D image1DArray image2D image2DArray image2DMS image2DMSArray image2DRect image3D imageBuffer imageCube imageCubeArray int isampler1D isampler1DArray isampler2D isampler2DArray isampler2DMS isampler2DMSArray isampler2DRect isampler3D isamplerBuffer isamplerCube isamplerCubeArray ivec2 ivec3 ivec4 mat2 mat2x2 mat2x3 mat2x4 mat3 mat3x2 mat3x3 mat3x4 mat4 mat4x2 mat4x3 mat4x4 sampler1D sampler1DArray sampler1DArrayShadow sampler1DShadow sampler2D sampler2DArray sampler2DArrayShadow sampler2DMS sampler2DMSArray sampler2DRect sampler2DRectShadow sampler2DShadow sampler3D samplerBuffer samplerCube samplerCubeArray samplerCubeArrayShadow samplerCubeShadow image1D uimage1DArray uimage2D uimage2DArray uimage2DMS uimage2DMSArray uimage2DRect uimage3D uimageBuffer uimageCube uimageCubeArray uint usampler1D usampler1DArray usampler2D usampler2DArray usampler2DMS usampler2DMSArray usampler2DRect usampler3D samplerBuffer usamplerCube usamplerCubeArray uvec2 uvec3 uvec4 vec2 vec3 vec4 void",built_in:"gl_MaxAtomicCounterBindings gl_MaxAtomicCounterBufferSize gl_MaxClipDistances gl_MaxClipPlanes gl_MaxCombinedAtomicCounterBuffers gl_MaxCombinedAtomicCounters gl_MaxCombinedImageUniforms gl_MaxCombinedImageUnitsAndFragmentOutputs gl_MaxCombinedTextureImageUnits gl_MaxComputeAtomicCounterBuffers gl_MaxComputeAtomicCounters gl_MaxComputeImageUniforms gl_MaxComputeTextureImageUnits gl_MaxComputeUniformComponents gl_MaxComputeWorkGroupCount gl_MaxComputeWorkGroupSize gl_MaxDrawBuffers gl_MaxFragmentAtomicCounterBuffers gl_MaxFragmentAtomicCounters gl_MaxFragmentImageUniforms gl_MaxFragmentInputComponents gl_MaxFragmentInputVectors gl_MaxFragmentUniformComponents gl_MaxFragmentUniformVectors gl_MaxGeometryAtomicCounterBuffers gl_MaxGeometryAtomicCounters gl_MaxGeometryImageUniforms gl_MaxGeometryInputComponents gl_MaxGeometryOutputComponents gl_MaxGeometryOutputVertices gl_MaxGeometryTextureImageUnits gl_MaxGeometryTotalOutputComponents gl_MaxGeometryUniformComponents gl_MaxGeometryVaryingComponents gl_MaxImageSamples gl_MaxImageUnits gl_MaxLights gl_MaxPatchVertices gl_MaxProgramTexelOffset gl_MaxTessControlAtomicCounterBuffers gl_MaxTessControlAtomicCounters gl_MaxTessControlImageUniforms gl_MaxTessControlInputComponents gl_MaxTessControlOutputComponents gl_MaxTessControlTextureImageUnits gl_MaxTessControlTotalOutputComponents gl_MaxTessControlUniformComponents gl_MaxTessEvaluationAtomicCounterBuffers gl_MaxTessEvaluationAtomicCounters gl_MaxTessEvaluationImageUniforms gl_MaxTessEvaluationInputComponents gl_MaxTessEvaluationOutputComponents gl_MaxTessEvaluationTextureImageUnits gl_MaxTessEvaluationUniformComponents gl_MaxTessGenLevel gl_MaxTessPatchComponents gl_MaxTextureCoords gl_MaxTextureImageUnits gl_MaxTextureUnits gl_MaxVaryingComponents gl_MaxVaryingFloats gl_MaxVaryingVectors gl_MaxVertexAtomicCounterBuffers gl_MaxVertexAtomicCounters gl_MaxVertexAttribs gl_MaxVertexImageUniforms gl_MaxVertexOutputComponents gl_MaxVertexOutputVectors gl_MaxVertexTextureImageUnits gl_MaxVertexUniformComponents gl_MaxVertexUniformVectors gl_MaxViewports gl_MinProgramTexelOffset gl_BackColor gl_BackLightModelProduct gl_BackLightProduct gl_BackMaterial gl_BackSecondaryColor gl_ClipDistance gl_ClipPlane gl_ClipVertex gl_Color gl_DepthRange gl_EyePlaneQ gl_EyePlaneR gl_EyePlaneS gl_EyePlaneT gl_Fog gl_FogCoord gl_FogFragCoord gl_FragColor gl_FragCoord gl_FragData gl_FragDepth gl_FrontColor gl_FrontFacing gl_FrontLightModelProduct gl_FrontLightProduct gl_FrontMaterial gl_FrontSecondaryColor gl_GlobalInvocationID gl_InstanceID gl_InvocationID gl_Layer gl_LightModel gl_LightSource gl_LocalInvocationID gl_LocalInvocationIndex gl_ModelViewMatrix gl_ModelViewMatrixInverse gl_ModelViewMatrixInverseTranspose gl_ModelViewMatrixTranspose gl_ModelViewProjectionMatrix gl_ModelViewProjectionMatrixInverse gl_ModelViewProjectionMatrixInverseTranspose gl_ModelViewProjectionMatrixTranspose gl_MultiTexCoord0 gl_MultiTexCoord1 gl_MultiTexCoord2 gl_MultiTexCoord3 gl_MultiTexCoord4 gl_MultiTexCoord5 gl_MultiTexCoord6 gl_MultiTexCoord7 gl_Normal gl_NormalMatrix gl_NormalScale gl_NumSamples gl_NumWorkGroups gl_ObjectPlaneQ gl_ObjectPlaneR gl_ObjectPlaneS gl_ObjectPlaneT gl_PatchVerticesIn gl_Point gl_PointCoord gl_PointSize gl_Position gl_PrimitiveID gl_PrimitiveIDIn gl_ProjectionMatrix gl_ProjectionMatrixInverse gl_ProjectionMatrixInverseTranspose gl_ProjectionMatrixTranspose gl_SampleID gl_SampleMask gl_SampleMaskIn gl_SamplePosition gl_SecondaryColor gl_TessCoord gl_TessLevelInner gl_TessLevelOuter gl_TexCoord gl_TextureEnvColor gl_TextureMatrix gl_TextureMatrixInverse gl_TextureMatrixInverseTranspose gl_TextureMatrixTranspose gl_Vertex gl_VertexID gl_ViewportIndex gl_WorkGroupID gl_WorkGroupSize gl_in gl_out EmitStreamVertex EmitVertex EndPrimitive EndStreamPrimitive abs acos acosh all any asin asinh atan atanh atomicAdd atomicAnd atomicCompSwap atomicCounter atomicCounterDecrement atomicCounterIncrement atomicExchange atomicMax atomicMin atomicOr atomicXor barrier bitCount bitfieldExtract bitfieldInsert bitfieldReverse ceil clamp cos cosh cross dFdx dFdy degrees determinant distance dot equal exp exp2 faceforward findLSB findMSB floatBitsToInt floatBitsToUint floor fma fract frexp ftransform fwidth greaterThan greaterThanEqual groupMemoryBarrier imageAtomicAdd imageAtomicAnd imageAtomicCompSwap imageAtomicExchange imageAtomicMax imageAtomicMin imageAtomicOr imageAtomicXor imageLoad imageSize imageStore imulExtended intBitsToFloat interpolateAtCentroid interpolateAtOffset interpolateAtSample inverse inversesqrt isinf isnan ldexp length lessThan lessThanEqual log log2 matrixCompMult max memoryBarrier memoryBarrierAtomicCounter memoryBarrierBuffer memoryBarrierImage memoryBarrierShared min mix mod modf noise1 noise2 noise3 noise4 normalize not notEqual outerProduct packDouble2x32 packHalf2x16 packSnorm2x16 packSnorm4x8 packUnorm2x16 packUnorm4x8 pow radians reflect refract round roundEven shadow1D shadow1DLod shadow1DProj shadow1DProjLod shadow2D shadow2DLod shadow2DProj shadow2DProjLod sign sin sinh smoothstep sqrt step tan tanh texelFetch texelFetchOffset texture texture1D texture1DLod texture1DProj texture1DProjLod texture2D texture2DLod texture2DProj texture2DProjLod texture3D texture3DLod texture3DProj texture3DProjLod textureCube textureCubeLod textureGather textureGatherOffset textureGatherOffsets textureGrad textureGradOffset textureLod textureLodOffset textureOffset textureProj textureProjGrad textureProjGradOffset textureProjLod textureProjLodOffset textureProjOffset textureQueryLevels textureQueryLod textureSize transpose trunc uaddCarry uintBitsToFloat umulExtended unpackDouble2x32 unpackHalf2x16 unpackSnorm2x16 unpackSnorm4x8 unpackUnorm2x16 unpackUnorm4x8 usubBorrow",literal:"true false"},illegal:'"',contains:[t.C_LINE_COMMENT_MODE,t.C_BLOCK_COMMENT_MODE,t.C_NUMBER_MODE,{className:"meta",begin:"#",end:"$"}]}}},e1f4:function(t,e){var i="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof window.msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto);if(i){var n=new Uint8Array(16);t.exports=function(){return i(n),n}}else{var o=new Array(16);t.exports=function(){for(var t,e=0;e<16;e++)0===(3&e)&&(t=4294967296*Math.random()),o[e]=t>>>((3&e)<<3)&255;return o}}},e54f:function(t,e,i){},e8b0:function(t,e,i){},e9fd:function(t,e,i){},eb8f:function(t,e,i){},ee8c:function(t,e){t.exports=function(t){var e="[a-zA-Z-][a-zA-Z0-9_-]*",i={begin:/(?:[A-Z\_\.\-]+|--[a-zA-Z0-9_-]+)\s*:/,returnBegin:!0,end:";",endsWithParent:!0,contains:[{className:"attribute",begin:/\S/,end:":",excludeEnd:!0,starts:{endsWithParent:!0,excludeEnd:!0,contains:[{begin:/[\w-]+\(/,returnBegin:!0,contains:[{className:"built_in",begin:/[\w-]+/},{begin:/\(/,end:/\)/,contains:[t.APOS_STRING_MODE,t.QUOTE_STRING_MODE]}]},t.CSS_NUMBER_MODE,t.QUOTE_STRING_MODE,t.APOS_STRING_MODE,t.C_BLOCK_COMMENT_MODE,{className:"number",begin:"#[0-9A-Fa-f]+"},{className:"meta",begin:"!important"}]}}]};return{case_insensitive:!0,illegal:/[=\/|'\$]/,contains:[t.C_BLOCK_COMMENT_MODE,{className:"selector-id",begin:/#[A-Za-z0-9_-]+/},{className:"selector-class",begin:/\.[A-Za-z0-9_-]+/},{className:"selector-attr",begin:/\[/,end:/\]/,illegal:"$"},{className:"selector-pseudo",begin:/:(:)?[a-zA-Z0-9\_\-\+\(\)"'.]+/},{begin:"@(font-face|page)",lexemes:"[a-z-]+",keywords:"font-face page"},{begin:"@",end:"[{;]",illegal:/:/,contains:[{className:"keyword",begin:/\w+/},{begin:/\s/,endsWithParent:!0,excludeEnd:!0,relevance:0,contains:[t.APOS_STRING_MODE,t.QUOTE_STRING_MODE,t.CSS_NUMBER_MODE]}]},{className:"selector-tag",begin:e,relevance:0},{begin:"{",end:"}",illegal:/\S/,contains:[t.C_BLOCK_COMMENT_MODE,i]}]}}},f029:function(t,e,i){"use strict";i.d(e,"b",(function(){return c}));var n=i("c437"),o=i.n(n),s=i("c64e"),r=i.n(s),a=i("6ba3"),l=i.n(a),c={v1:o.a,v4:r.a,v5:l.a};function u(t){t.prototype.$uuid=c}e["a"]=u},f4d9:function(t,e,i){},f5d1:function(t,e,i){},f6f8:function(t,e,i){
/*!
 * Quasar Framework v1.5.4
 * (c) 2015-present Razvan Stoenescu
 * Released under the MIT License.
 */
!function(e,i){t.exports=i()}(0,(function(){"use strict";return{isoName:"de",nativeName:"Deutsch",label:{clear:"Leeren",ok:"Ok",cancel:"Abbrechen",close:"Schließen",set:"Setzen",select:"Auswählen",reset:"Zurücksetzen",remove:"Löschen",update:"Aktualisieren",create:"Erstellen",search:"Suche",filter:"Filter",refresh:"Aktualisieren"},date:{days:"Sonntag_Montag_Dienstag_Mittwoch_Donnerstag_Freitag_Samstag".split("_"),daysShort:"So_Mo_Di_Mi_Do_Fr_Sa".split("_"),months:"Januar_Februar_März_April_Mai_Juni_Juli_August_September_Oktober_November_Dezember".split("_"),monthsShort:"Jan_Feb_Mar_Apr_Mai_Jun_Jul_Aug_Sep_Okt_Nov_Dez".split("_"),firstDayOfWeek:1,format24h:!0},table:{noData:"Keine Daten vorhanden.",noResults:"Keine Einträge gefunden",loading:"Lade...",selectedRecords:function(t){return t>1?t+" ausgewählte Zeilen":(0===t?"Keine":"1")+" ausgewählt."},recordsPerPage:"Zeilen pro Seite",allRows:"Alle",pagination:function(t,e,i){return t+"-"+e+" von "+i},columns:"Spalten"},editor:{url:"URL",bold:"Fett",italic:"Kursiv",strikethrough:"Durchgestrichen",underline:"Unterstrichen",unorderedList:"Ungeordnete Liste",orderedList:"Geordnete Liste",subscript:"tiefgestellt",superscript:"hochgestellt",hyperlink:"Link",toggleFullscreen:"Vollbild umschalten",quote:"Zitat",left:"linksbündig",center:"zentriert",right:"rechtsbündig",justify:"Ausrichten",print:"Drucken",outdent:"ausrücken",indent:"einrücken",removeFormat:"Entferne Formatierung",formatting:"Formatiere",fontSize:"Schriftgröße",align:"Ausrichten",hr:"Horizontale Linie einfügen",undo:"Rückgänging",redo:"Wiederherstellen",heading1:"Überschrift 1",heading2:"Überschrift 2",heading3:"Überschrift 3",heading4:"Überschrift 4",heading5:"Überschrift 5",heading6:"Überschrift 6",paragraph:"Absatz",code:"Code",size1:"Sehr klein",size2:"klein",size3:"Normal",size4:"Groß",size5:"Größer",size6:"Sehr groß",size7:"Maximum",defaultFont:"Standard Schrift",viewSource:"Quelltext anzeigen"},tree:{noNodes:"Keine Knoten verfügbar",noResults:"Keine passenden Knoten gefunden"}}}))},f9d4:function(t,e,i){(function(t){t(i("56b3"))})((function(t){"use strict";t.defineMode("javascript",(function(e,i){var n,o,s=e.indentUnit,r=i.statementIndent,a=i.jsonld,l=i.json||a,c=i.typescript,u=i.wordCharacters||/[\w$\xa1-\uffff]/,h=function(){function t(t){return{type:t,style:"keyword"}}var e=t("keyword a"),i=t("keyword b"),n=t("keyword c"),o=t("keyword d"),s=t("operator"),r={type:"atom",style:"atom"};return{if:t("if"),while:e,with:e,else:i,do:i,try:i,finally:i,return:o,break:o,continue:o,new:t("new"),delete:n,void:n,throw:n,debugger:t("debugger"),var:t("var"),const:t("var"),let:t("var"),function:t("function"),catch:t("catch"),for:t("for"),switch:t("switch"),case:t("case"),default:t("default"),in:s,typeof:s,instanceof:s,true:r,false:r,null:r,undefined:r,NaN:r,Infinity:r,this:t("this"),class:t("class"),super:t("atom"),yield:n,export:t("export"),import:t("import"),extends:n,await:n}}(),d=/[+\-*&%=<>!?|~^@]/,p=/^@(context|id|value|language|type|container|list|set|reverse|index|base|vocab|graph)"/;function _(t){var e,i=!1,n=!1;while(null!=(e=t.next())){if(!i){if("/"==e&&!n)return;"["==e?n=!0:n&&"]"==e&&(n=!1)}i=!i&&"\\"==e}}function g(t,e,i){return n=t,o=i,e}function f(t,e){var i=t.next();if('"'==i||"'"==i)return e.tokenize=m(i),e.tokenize(t,e);if("."==i&&t.match(/^\d[\d_]*(?:[eE][+\-]?[\d_]+)?/))return g("number","number");if("."==i&&t.match(".."))return g("spread","meta");if(/[\[\]{}\(\),;\:\.]/.test(i))return g(i);if("="==i&&t.eat(">"))return g("=>","operator");if("0"==i&&t.match(/^(?:x[\dA-Fa-f_]+|o[0-7_]+|b[01_]+)n?/))return g("number","number");if(/\d/.test(i))return t.match(/^[\d_]*(?:n|(?:\.[\d_]*)?(?:[eE][+\-]?[\d_]+)?)?/),g("number","number");if("/"==i)return t.eat("*")?(e.tokenize=v,v(t,e)):t.eat("/")?(t.skipToEnd(),g("comment","comment")):te(t,e,1)?(_(t),t.match(/^\b(([gimyus])(?![gimyus]*\2))+\b/),g("regexp","string-2")):(t.eat("="),g("operator","operator",t.current()));if("`"==i)return e.tokenize=b,b(t,e);if("#"==i)return t.skipToEnd(),g("error","error");if("<"==i&&t.match("!--")||"-"==i&&t.match("->"))return t.skipToEnd(),g("comment","comment");if(d.test(i))return">"==i&&e.lexical&&">"==e.lexical.type||(t.eat("=")?"!"!=i&&"="!=i||t.eat("="):/[<>*+\-]/.test(i)&&(t.eat(i),">"==i&&t.eat(i))),g("operator","operator",t.current());if(u.test(i)){t.eatWhile(u);var n=t.current();if("."!=e.lastType){if(h.propertyIsEnumerable(n)){var o=h[n];return g(o.type,o.style,n)}if("async"==n&&t.match(/^(\s|\/\*.*?\*\/)*[\[\(\w]/,!1))return g("async","keyword",n)}return g("variable","variable",n)}}function m(t){return function(e,i){var n,o=!1;if(a&&"@"==e.peek()&&e.match(p))return i.tokenize=f,g("jsonld-keyword","meta");while(null!=(n=e.next())){if(n==t&&!o)break;o=!o&&"\\"==n}return o||(i.tokenize=f),g("string","string")}}function v(t,e){var i,n=!1;while(i=t.next()){if("/"==i&&n){e.tokenize=f;break}n="*"==i}return g("comment","comment")}function b(t,e){var i,n=!1;while(null!=(i=t.next())){if(!n&&("`"==i||"$"==i&&t.eat("{"))){e.tokenize=f;break}n=!n&&"\\"==i}return g("quasi","string-2",t.current())}var y="([{}])";function T(t,e){e.fatArrowAt&&(e.fatArrowAt=null);var i=t.string.indexOf("=>",t.start);if(!(i<0)){if(c){var n=/:\s*(?:\w+(?:<[^>]*>|\[\])?|\{[^}]*\})\s*$/.exec(t.string.slice(t.start,i));n&&(i=n.index)}for(var o=0,s=!1,r=i-1;r>=0;--r){var a=t.string.charAt(r),l=y.indexOf(a);if(l>=0&&l<3){if(!o){++r;break}if(0==--o){"("==a&&(s=!0);break}}else if(l>=3&&l<6)++o;else if(u.test(a))s=!0;else if(/["'\/`]/.test(a))for(;;--r){if(0==r)return;var h=t.string.charAt(r-1);if(h==a&&"\\"!=t.string.charAt(r-2)){r--;break}}else if(s&&!o){++r;break}}s&&!o&&(e.fatArrowAt=r)}}var E={atom:!0,number:!0,variable:!0,string:!0,regexp:!0,this:!0,"jsonld-keyword":!0};function S(t,e,i,n,o,s){this.indented=t,this.column=e,this.type=i,this.prev=o,this.info=s,null!=n&&(this.align=n)}function C(t,e){for(var i=t.localVars;i;i=i.next)if(i.name==e)return!0;for(var n=t.context;n;n=n.prev)for(i=n.vars;i;i=i.next)if(i.name==e)return!0}function k(t,e,i,n,o){var s=t.cc;w.state=t,w.stream=o,w.marked=null,w.cc=s,w.style=e,t.lexical.hasOwnProperty("align")||(t.lexical.align=!0);while(1){var r=s.length?s.pop():l?G:W;if(r(i,n)){while(s.length&&s[s.length-1].lex)s.pop()();return w.marked?w.marked:"variable"==i&&C(t,n)?"variable-2":e}}}var w={state:null,column:null,marked:null,cc:null};function R(){for(var t=arguments.length-1;t>=0;t--)w.cc.push(arguments[t])}function I(){return R.apply(null,arguments),!0}function x(t,e){for(var i=e;i;i=i.next)if(i.name==t)return!0;return!1}function O(t){var e=w.state;if(w.marked="def",e.context)if("var"==e.lexical.info&&e.context&&e.context.block){var n=A(t,e.context);if(null!=n)return void(e.context=n)}else if(!x(t,e.localVars))return void(e.localVars=new L(t,e.localVars));i.globalVars&&!x(t,e.globalVars)&&(e.globalVars=new L(t,e.globalVars))}function A(t,e){if(e){if(e.block){var i=A(t,e.prev);return i?i==e.prev?e:new N(i,e.vars,!0):null}return x(t,e.vars)?e:new N(e.prev,new L(t,e.vars),!1)}return null}function M(t){return"public"==t||"private"==t||"protected"==t||"abstract"==t||"readonly"==t}function N(t,e,i){this.prev=t,this.vars=e,this.block=i}function L(t,e){this.name=t,this.next=e}var D=new L("this",new L("arguments",null));function B(){w.state.context=new N(w.state.context,w.state.localVars,!1),w.state.localVars=D}function P(){w.state.context=new N(w.state.context,w.state.localVars,!0),w.state.localVars=null}function F(){w.state.localVars=w.state.context.vars,w.state.context=w.state.context.prev}function H(t,e){var i=function(){var i=w.state,n=i.indented;if("stat"==i.lexical.type)n=i.lexical.indented;else for(var o=i.lexical;o&&")"==o.type&&o.align;o=o.prev)n=o.indented;i.lexical=new S(n,w.stream.column(),t,null,i.lexical,e)};return i.lex=!0,i}function V(){var t=w.state;t.lexical.prev&&(")"==t.lexical.type&&(t.indented=t.lexical.indented),t.lexical=t.lexical.prev)}function U(t){function e(i){return i==t?I():";"==t||"}"==i||")"==i||"]"==i?R():I(e)}return e}function W(t,e){return"var"==t?I(H("vardef",e),Ct,U(";"),V):"keyword a"==t?I(H("form"),z,W,V):"keyword b"==t?I(H("form"),W,V):"keyword d"==t?w.stream.match(/^\s*$/,!1)?I():I(H("stat"),Y,U(";"),V):"debugger"==t?I(U(";")):"{"==t?I(H("}"),P,ht,V,F):";"==t?I():"if"==t?("else"==w.state.lexical.info&&w.state.cc[w.state.cc.length-1]==V&&w.state.cc.pop()(),I(H("form"),z,W,V,Ot)):"function"==t?I(Lt):"for"==t?I(H("form"),At,W,V):"class"==t||c&&"interface"==e?(w.marked="keyword",I(H("form","class"==t?t:e),Ht,V)):"variable"==t?c&&"declare"==e?(w.marked="keyword",I(W)):c&&("module"==e||"enum"==e||"type"==e)&&w.stream.match(/^\s*\w/,!1)?(w.marked="keyword","enum"==e?I(Jt):"type"==e?I(Bt,U("operator"),ft,U(";")):I(H("form"),kt,U("{"),H("}"),ht,V,V)):c&&"namespace"==e?(w.marked="keyword",I(H("form"),G,W,V)):c&&"abstract"==e?(w.marked="keyword",I(W)):I(H("stat"),ot):"switch"==t?I(H("form"),z,U("{"),H("}","switch"),P,ht,V,V,F):"case"==t?I(G,U(":")):"default"==t?I(U(":")):"catch"==t?I(H("form"),B,$,W,V,F):"export"==t?I(H("stat"),$t,V):"import"==t?I(H("stat"),qt,V):"async"==t?I(W):"@"==e?I(G,W):R(H("stat"),G,U(";"),V)}function $(t){if("("==t)return I(Pt,U(")"))}function G(t,e){return X(t,e,!1)}function q(t,e){return X(t,e,!0)}function z(t){return"("!=t?R():I(H(")"),G,U(")"),V)}function X(t,e,i){if(w.state.fatArrowAt==w.stream.start){var n=i?tt:Z;if("("==t)return I(B,H(")"),ct(Pt,")"),V,U("=>"),n,F);if("variable"==t)return R(B,kt,U("=>"),n,F)}var o=i?K:j;return E.hasOwnProperty(t)?I(o):"function"==t?I(Lt,o):"class"==t||c&&"interface"==e?(w.marked="keyword",I(H("form"),Ft,V)):"keyword c"==t||"async"==t?I(i?q:G):"("==t?I(H(")"),Y,U(")"),V,o):"operator"==t||"spread"==t?I(i?q:G):"["==t?I(H("]"),Kt,V,o):"{"==t?ut(rt,"}",null,o):"quasi"==t?R(J,o):"new"==t?I(et(i)):"import"==t?I(G):I()}function Y(t){return t.match(/[;\}\)\],]/)?R():R(G)}function j(t,e){return","==t?I(G):K(t,e,!1)}function K(t,e,i){var n=0==i?j:K,o=0==i?G:q;return"=>"==t?I(B,i?tt:Z,F):"operator"==t?/\+\+|--/.test(e)||c&&"!"==e?I(n):c&&"<"==e&&w.stream.match(/^([^>]|<.*?>)*>\s*\(/,!1)?I(H(">"),ct(ft,">"),V,n):"?"==e?I(G,U(":"),o):I(o):"quasi"==t?R(J,n):";"!=t?"("==t?ut(q,")","call",n):"."==t?I(st,n):"["==t?I(H("]"),Y,U("]"),V,n):c&&"as"==e?(w.marked="keyword",I(ft,n)):"regexp"==t?(w.state.lastType=w.marked="operator",w.stream.backUp(w.stream.pos-w.stream.start-1),I(o)):void 0:void 0}function J(t,e){return"quasi"!=t?R():"${"!=e.slice(e.length-2)?I(J):I(G,Q)}function Q(t){if("}"==t)return w.marked="string-2",w.state.tokenize=b,I(J)}function Z(t){return T(w.stream,w.state),R("{"==t?W:G)}function tt(t){return T(w.stream,w.state),R("{"==t?W:q)}function et(t){return function(e){return"."==e?I(t?nt:it):"variable"==e&&c?I(Tt,t?K:j):R(t?q:G)}}function it(t,e){if("target"==e)return w.marked="keyword",I(j)}function nt(t,e){if("target"==e)return w.marked="keyword",I(K)}function ot(t){return":"==t?I(V,W):R(j,U(";"),V)}function st(t){if("variable"==t)return w.marked="property",I()}function rt(t,e){return"async"==t?(w.marked="property",I(rt)):"variable"==t||"keyword"==w.style?(w.marked="property","get"==e||"set"==e?I(at):(c&&w.state.fatArrowAt==w.stream.start&&(i=w.stream.match(/^\s*:\s*/,!1))&&(w.state.fatArrowAt=w.stream.pos+i[0].length),I(lt))):"number"==t||"string"==t?(w.marked=a?"property":w.style+" property",I(lt)):"jsonld-keyword"==t?I(lt):c&&M(e)?(w.marked="keyword",I(rt)):"["==t?I(G,dt,U("]"),lt):"spread"==t?I(q,lt):"*"==e?(w.marked="keyword",I(rt)):":"==t?R(lt):void 0;var i}function at(t){return"variable"!=t?R(lt):(w.marked="property",I(Lt))}function lt(t){return":"==t?I(q):"("==t?R(Lt):void 0}function ct(t,e,i){function n(o,s){if(i?i.indexOf(o)>-1:","==o){var r=w.state.lexical;return"call"==r.info&&(r.pos=(r.pos||0)+1),I((function(i,n){return i==e||n==e?R():R(t)}),n)}return o==e||s==e?I():i&&i.indexOf(";")>-1?R(t):I(U(e))}return function(i,o){return i==e||o==e?I():R(t,n)}}function ut(t,e,i){for(var n=3;n<arguments.length;n++)w.cc.push(arguments[n]);return I(H(e,i),ct(t,e),V)}function ht(t){return"}"==t?I():R(W,ht)}function dt(t,e){if(c){if(":"==t)return I(ft);if("?"==e)return I(dt)}}function pt(t,e){if(c&&(":"==t||"in"==e))return I(ft)}function _t(t){if(c&&":"==t)return w.stream.match(/^\s*\w+\s+is\b/,!1)?I(G,gt,ft):I(ft)}function gt(t,e){if("is"==e)return w.marked="keyword",I()}function ft(t,e){return"keyof"==e||"typeof"==e||"infer"==e?(w.marked="keyword",I("typeof"==e?q:ft)):"variable"==t||"void"==e?(w.marked="type",I(yt)):"|"==e||"&"==e?I(ft):"string"==t||"number"==t||"atom"==t?I(yt):"["==t?I(H("]"),ct(ft,"]",","),V,yt):"{"==t?I(H("}"),ct(vt,"}",",;"),V,yt):"("==t?I(ct(bt,")"),mt,yt):"<"==t?I(ct(ft,">"),ft):void 0}function mt(t){if("=>"==t)return I(ft)}function vt(t,e){return"variable"==t||"keyword"==w.style?(w.marked="property",I(vt)):"?"==e||"number"==t||"string"==t?I(vt):":"==t?I(ft):"["==t?I(U("variable"),pt,U("]"),vt):"("==t?R(Dt,vt):void 0}function bt(t,e){return"variable"==t&&w.stream.match(/^\s*[?:]/,!1)||"?"==e?I(bt):":"==t?I(ft):"spread"==t?I(bt):R(ft)}function yt(t,e){return"<"==e?I(H(">"),ct(ft,">"),V,yt):"|"==e||"."==t||"&"==e?I(ft):"["==t?I(ft,U("]"),yt):"extends"==e||"implements"==e?(w.marked="keyword",I(ft)):"?"==e?I(ft,U(":"),ft):void 0}function Tt(t,e){if("<"==e)return I(H(">"),ct(ft,">"),V,yt)}function Et(){return R(ft,St)}function St(t,e){if("="==e)return I(ft)}function Ct(t,e){return"enum"==e?(w.marked="keyword",I(Jt)):R(kt,dt,It,xt)}function kt(t,e){return c&&M(e)?(w.marked="keyword",I(kt)):"variable"==t?(O(e),I()):"spread"==t?I(kt):"["==t?ut(Rt,"]"):"{"==t?ut(wt,"}"):void 0}function wt(t,e){return"variable"!=t||w.stream.match(/^\s*:/,!1)?("variable"==t&&(w.marked="property"),"spread"==t?I(kt):"}"==t?R():"["==t?I(G,U("]"),U(":"),wt):I(U(":"),kt,It)):(O(e),I(It))}function Rt(){return R(kt,It)}function It(t,e){if("="==e)return I(q)}function xt(t){if(","==t)return I(Ct)}function Ot(t,e){if("keyword b"==t&&"else"==e)return I(H("form","else"),W,V)}function At(t,e){return"await"==e?I(At):"("==t?I(H(")"),Mt,V):void 0}function Mt(t){return"var"==t?I(Ct,Nt):"variable"==t?I(Nt):R(Nt)}function Nt(t,e){return")"==t?I():";"==t?I(Nt):"in"==e||"of"==e?(w.marked="keyword",I(G,Nt)):R(G,Nt)}function Lt(t,e){return"*"==e?(w.marked="keyword",I(Lt)):"variable"==t?(O(e),I(Lt)):"("==t?I(B,H(")"),ct(Pt,")"),V,_t,W,F):c&&"<"==e?I(H(">"),ct(Et,">"),V,Lt):void 0}function Dt(t,e){return"*"==e?(w.marked="keyword",I(Dt)):"variable"==t?(O(e),I(Dt)):"("==t?I(B,H(")"),ct(Pt,")"),V,_t,F):c&&"<"==e?I(H(">"),ct(Et,">"),V,Dt):void 0}function Bt(t,e){return"keyword"==t||"variable"==t?(w.marked="type",I(Bt)):"<"==e?I(H(">"),ct(Et,">"),V):void 0}function Pt(t,e){return"@"==e&&I(G,Pt),"spread"==t?I(Pt):c&&M(e)?(w.marked="keyword",I(Pt)):c&&"this"==t?I(dt,It):R(kt,dt,It)}function Ft(t,e){return"variable"==t?Ht(t,e):Vt(t,e)}function Ht(t,e){if("variable"==t)return O(e),I(Vt)}function Vt(t,e){return"<"==e?I(H(">"),ct(Et,">"),V,Vt):"extends"==e||"implements"==e||c&&","==t?("implements"==e&&(w.marked="keyword"),I(c?ft:G,Vt)):"{"==t?I(H("}"),Ut,V):void 0}function Ut(t,e){return"async"==t||"variable"==t&&("static"==e||"get"==e||"set"==e||c&&M(e))&&w.stream.match(/^\s+[\w$\xa1-\uffff]/,!1)?(w.marked="keyword",I(Ut)):"variable"==t||"keyword"==w.style?(w.marked="property",I(c?Wt:Lt,Ut)):"number"==t||"string"==t?I(c?Wt:Lt,Ut):"["==t?I(G,dt,U("]"),c?Wt:Lt,Ut):"*"==e?(w.marked="keyword",I(Ut)):c&&"("==t?R(Dt,Ut):";"==t||","==t?I(Ut):"}"==t?I():"@"==e?I(G,Ut):void 0}function Wt(t,e){if("?"==e)return I(Wt);if(":"==t)return I(ft,It);if("="==e)return I(q);var i=w.state.lexical.prev,n=i&&"interface"==i.info;return R(n?Dt:Lt)}function $t(t,e){return"*"==e?(w.marked="keyword",I(jt,U(";"))):"default"==e?(w.marked="keyword",I(G,U(";"))):"{"==t?I(ct(Gt,"}"),jt,U(";")):R(W)}function Gt(t,e){return"as"==e?(w.marked="keyword",I(U("variable"))):"variable"==t?R(q,Gt):void 0}function qt(t){return"string"==t?I():"("==t?R(G):R(zt,Xt,jt)}function zt(t,e){return"{"==t?ut(zt,"}"):("variable"==t&&O(e),"*"==e&&(w.marked="keyword"),I(Yt))}function Xt(t){if(","==t)return I(zt,Xt)}function Yt(t,e){if("as"==e)return w.marked="keyword",I(zt)}function jt(t,e){if("from"==e)return w.marked="keyword",I(G)}function Kt(t){return"]"==t?I():R(ct(q,"]"))}function Jt(){return R(H("form"),kt,U("{"),H("}"),ct(Qt,"}"),V,V)}function Qt(){return R(kt,It)}function Zt(t,e){return"operator"==t.lastType||","==t.lastType||d.test(e.charAt(0))||/[,.]/.test(e.charAt(0))}function te(t,e,i){return e.tokenize==f&&/^(?:operator|sof|keyword [bcd]|case|new|export|default|spread|[\[{}\(,;:]|=>)$/.test(e.lastType)||"quasi"==e.lastType&&/\{\s*$/.test(t.string.slice(0,t.pos-(i||0)))}return F.lex=!0,V.lex=!0,{startState:function(t){var e={tokenize:f,lastType:"sof",cc:[],lexical:new S((t||0)-s,0,"block",!1),localVars:i.localVars,context:i.localVars&&new N(null,null,!1),indented:t||0};return i.globalVars&&"object"==typeof i.globalVars&&(e.globalVars=i.globalVars),e},token:function(t,e){if(t.sol()&&(e.lexical.hasOwnProperty("align")||(e.lexical.align=!1),e.indented=t.indentation(),T(t,e)),e.tokenize!=v&&t.eatSpace())return null;var i=e.tokenize(t,e);return"comment"==n?i:(e.lastType="operator"!=n||"++"!=o&&"--"!=o?n:"incdec",k(e,i,n,o,t))},indent:function(e,n){if(e.tokenize==v)return t.Pass;if(e.tokenize!=f)return 0;var o,a=n&&n.charAt(0),l=e.lexical;if(!/^\s*else\b/.test(n))for(var c=e.cc.length-1;c>=0;--c){var u=e.cc[c];if(u==V)l=l.prev;else if(u!=Ot)break}while(("stat"==l.type||"form"==l.type)&&("}"==a||(o=e.cc[e.cc.length-1])&&(o==j||o==K)&&!/^[,\.=+\-*:?[\(]/.test(n)))l=l.prev;r&&")"==l.type&&"stat"==l.prev.type&&(l=l.prev);var h=l.type,d=a==h;return"vardef"==h?l.indented+("operator"==e.lastType||","==e.lastType?l.info.length+1:0):"form"==h&&"{"==a?l.indented:"form"==h?l.indented+s:"stat"==h?l.indented+(Zt(e,n)?r||s:0):"switch"!=l.info||d||0==i.doubleIndentSwitch?l.align?l.column+(d?0:1):l.indented+(d?0:s):l.indented+(/^(?:case|default)\b/.test(n)?s:2*s)},electricInput:/^\s*(?:case .*?:|default:|\{|\})$/,blockCommentStart:l?null:"/*",blockCommentEnd:l?null:"*/",blockCommentContinue:l?null:" * ",lineComment:l?null:"//",fold:"brace",closeBrackets:"()[]{}''\"\"``",helperType:l?"json":"javascript",jsonldMode:a,jsonMode:l,expressionAllowed:te,skipExpression:function(t){var e=t.cc[t.cc.length-1];e!=G&&e!=q||t.cc.pop()}}})),t.registerHelper("wordChars","javascript",/[\w$]/),t.defineMIME("text/javascript","javascript"),t.defineMIME("text/ecmascript","javascript"),t.defineMIME("application/javascript","javascript"),t.defineMIME("application/x-javascript","javascript"),t.defineMIME("application/ecmascript","javascript"),t.defineMIME("application/json",{name:"javascript",json:!0}),t.defineMIME("application/x-json",{name:"javascript",json:!0}),t.defineMIME("application/ld+json",{name:"javascript",jsonld:!0}),t.defineMIME("text/typescript",{name:"javascript",typescript:!0}),t.defineMIME("application/typescript",{name:"javascript",typescript:!0})}))},fc06:function(t,e,i){var n,o,s;(function(r,a){o=[i("b7fd")],n=a,s="function"===typeof n?n.apply(e,o):n,void 0===s||(t.exports=s)})(0,(function(t){"use strict";return t.JavaScript=new t.Generator("JavaScript"),t.JavaScript.addReservedWords("Blockly,break,case,catch,continue,debugger,default,delete,do,else,finally,for,function,if,in,instanceof,new,return,switch,this,throw,try,typeof,var,void,while,with,class,enum,export,extends,import,super,implements,interface,let,package,private,protected,public,static,yield,const,null,true,false,Array,ArrayBuffer,Boolean,Date,decodeURI,decodeURIComponent,encodeURI,encodeURIComponent,Error,eval,EvalError,Float32Array,Float64Array,Function,Infinity,Int16Array,Int32Array,Int8Array,isFinite,isNaN,Iterator,JSON,Math,NaN,Number,Object,parseFloat,parseInt,RangeError,ReferenceError,RegExp,StopIteration,String,SyntaxError,TypeError,Uint16Array,Uint32Array,Uint8Array,Uint8ClampedArray,undefined,uneval,URIError,applicationCache,closed,Components,content,_content,controllers,crypto,defaultStatus,dialogArguments,directories,document,frameElement,frames,fullScreen,globalStorage,history,innerHeight,innerWidth,length,location,locationbar,localStorage,menubar,messageManager,mozAnimationStartTime,mozInnerScreenX,mozInnerScreenY,mozPaintCount,name,navigator,opener,outerHeight,outerWidth,pageXOffset,pageYOffset,parent,performance,personalbar,pkcs11,returnValue,screen,screenX,screenY,scrollbars,scrollMaxX,scrollMaxY,scrollX,scrollY,self,sessionStorage,sidebar,status,statusbar,toolbar,top,URL,window,addEventListener,alert,atob,back,blur,btoa,captureEvents,clearImmediate,clearInterval,clearTimeout,close,confirm,disableExternalCapture,dispatchEvent,dump,enableExternalCapture,escape,find,focus,forward,GeckoActiveXObject,getAttention,getAttentionWithCycleCount,getComputedStyle,getSelection,home,matchMedia,maximize,minimize,moveBy,moveTo,mozRequestAnimationFrame,open,openDialog,postMessage,print,prompt,QueryInterface,releaseEvents,removeEventListener,resizeBy,resizeTo,restore,routeEvent,scroll,scrollBy,scrollByLines,scrollByPages,scrollTo,setCursor,setImmediate,setInterval,setResizable,setTimeout,showModalDialog,sizeToContent,stop,unescape,updateCommands,XPCNativeWrapper,XPCSafeJSObjectWrapper,onabort,onbeforeunload,onblur,onchange,onclick,onclose,oncontextmenu,ondevicemotion,ondeviceorientation,ondragdrop,onerror,onfocus,onhashchange,onkeydown,onkeypress,onkeyup,onload,onmousedown,onmousemove,onmouseout,onmouseover,onmouseup,onmozbeforepaint,onpaint,onpopstate,onreset,onresize,onscroll,onselect,onsubmit,onunload,onpageshow,onpagehide,Image,Option,Worker,Event,Range,File,FileReader,Blob,BlobBuilder,Attr,CDATASection,CharacterData,Comment,console,DocumentFragment,DocumentType,DomConfiguration,DOMError,DOMErrorHandler,DOMException,DOMImplementation,DOMImplementationList,DOMImplementationRegistry,DOMImplementationSource,DOMLocator,DOMObject,DOMString,DOMStringList,DOMTimeStamp,DOMUserData,Entity,EntityReference,MediaQueryList,MediaQueryListListener,NameList,NamedNodeMap,Node,NodeFilter,NodeIterator,NodeList,Notation,Plugin,PluginArray,ProcessingInstruction,SharedWorker,Text,TimeRanges,Treewalker,TypeInfo,UserDataHandler,Worker,WorkerGlobalScope,HTMLDocument,HTMLElement,HTMLAnchorElement,HTMLAppletElement,HTMLAudioElement,HTMLAreaElement,HTMLBaseElement,HTMLBaseFontElement,HTMLBodyElement,HTMLBRElement,HTMLButtonElement,HTMLCanvasElement,HTMLDirectoryElement,HTMLDivElement,HTMLDListElement,HTMLEmbedElement,HTMLFieldSetElement,HTMLFontElement,HTMLFormElement,HTMLFrameElement,HTMLFrameSetElement,HTMLHeadElement,HTMLHeadingElement,HTMLHtmlElement,HTMLHRElement,HTMLIFrameElement,HTMLImageElement,HTMLInputElement,HTMLKeygenElement,HTMLLabelElement,HTMLLIElement,HTMLLinkElement,HTMLMapElement,HTMLMenuElement,HTMLMetaElement,HTMLModElement,HTMLObjectElement,HTMLOListElement,HTMLOptGroupElement,HTMLOptionElement,HTMLOutputElement,HTMLParagraphElement,HTMLParamElement,HTMLPreElement,HTMLQuoteElement,HTMLScriptElement,HTMLSelectElement,HTMLSourceElement,HTMLSpanElement,HTMLStyleElement,HTMLTableElement,HTMLTableCaptionElement,HTMLTableCellElement,HTMLTableDataCellElement,HTMLTableHeaderCellElement,HTMLTableColElement,HTMLTableRowElement,HTMLTableSectionElement,HTMLTextAreaElement,HTMLTimeElement,HTMLTitleElement,HTMLTrackElement,HTMLUListElement,HTMLUnknownElement,HTMLVideoElement,HTMLCanvasElement,CanvasRenderingContext2D,CanvasGradient,CanvasPattern,TextMetrics,ImageData,CanvasPixelArray,HTMLAudioElement,HTMLVideoElement,NotifyAudioAvailableEvent,HTMLCollection,HTMLAllCollection,HTMLFormControlsCollection,HTMLOptionsCollection,HTMLPropertiesCollection,DOMTokenList,DOMSettableTokenList,DOMStringMap,RadioNodeList,SVGDocument,SVGElement,SVGAElement,SVGAltGlyphElement,SVGAltGlyphDefElement,SVGAltGlyphItemElement,SVGAnimationElement,SVGAnimateElement,SVGAnimateColorElement,SVGAnimateMotionElement,SVGAnimateTransformElement,SVGSetElement,SVGCircleElement,SVGClipPathElement,SVGColorProfileElement,SVGCursorElement,SVGDefsElement,SVGDescElement,SVGEllipseElement,SVGFilterElement,SVGFilterPrimitiveStandardAttributes,SVGFEBlendElement,SVGFEColorMatrixElement,SVGFEComponentTransferElement,SVGFECompositeElement,SVGFEConvolveMatrixElement,SVGFEDiffuseLightingElement,SVGFEDisplacementMapElement,SVGFEDistantLightElement,SVGFEFloodElement,SVGFEGaussianBlurElement,SVGFEImageElement,SVGFEMergeElement,SVGFEMergeNodeElement,SVGFEMorphologyElement,SVGFEOffsetElement,SVGFEPointLightElement,SVGFESpecularLightingElement,SVGFESpotLightElement,SVGFETileElement,SVGFETurbulenceElement,SVGComponentTransferFunctionElement,SVGFEFuncRElement,SVGFEFuncGElement,SVGFEFuncBElement,SVGFEFuncAElement,SVGFontElement,SVGFontFaceElement,SVGFontFaceFormatElement,SVGFontFaceNameElement,SVGFontFaceSrcElement,SVGFontFaceUriElement,SVGForeignObjectElement,SVGGElement,SVGGlyphElement,SVGGlyphRefElement,SVGGradientElement,SVGLinearGradientElement,SVGRadialGradientElement,SVGHKernElement,SVGImageElement,SVGLineElement,SVGMarkerElement,SVGMaskElement,SVGMetadataElement,SVGMissingGlyphElement,SVGMPathElement,SVGPathElement,SVGPatternElement,SVGPolylineElement,SVGPolygonElement,SVGRectElement,SVGScriptElement,SVGStopElement,SVGStyleElement,SVGSVGElement,SVGSwitchElement,SVGSymbolElement,SVGTextElement,SVGTextPathElement,SVGTitleElement,SVGTRefElement,SVGTSpanElement,SVGUseElement,SVGViewElement,SVGVKernElement,SVGAngle,SVGColor,SVGICCColor,SVGElementInstance,SVGElementInstanceList,SVGLength,SVGLengthList,SVGMatrix,SVGNumber,SVGNumberList,SVGPaint,SVGPoint,SVGPointList,SVGPreserveAspectRatio,SVGRect,SVGStringList,SVGTransform,SVGTransformList,SVGAnimatedAngle,SVGAnimatedBoolean,SVGAnimatedEnumeration,SVGAnimatedInteger,SVGAnimatedLength,SVGAnimatedLengthList,SVGAnimatedNumber,SVGAnimatedNumberList,SVGAnimatedPreserveAspectRatio,SVGAnimatedRect,SVGAnimatedString,SVGAnimatedTransformList,SVGPathSegList,SVGPathSeg,SVGPathSegArcAbs,SVGPathSegArcRel,SVGPathSegClosePath,SVGPathSegCurvetoCubicAbs,SVGPathSegCurvetoCubicRel,SVGPathSegCurvetoCubicSmoothAbs,SVGPathSegCurvetoCubicSmoothRel,SVGPathSegCurvetoQuadraticAbs,SVGPathSegCurvetoQuadraticRel,SVGPathSegCurvetoQuadraticSmoothAbs,SVGPathSegCurvetoQuadraticSmoothRel,SVGPathSegLinetoAbs,SVGPathSegLinetoHorizontalAbs,SVGPathSegLinetoHorizontalRel,SVGPathSegLinetoRel,SVGPathSegLinetoVerticalAbs,SVGPathSegLinetoVerticalRel,SVGPathSegMovetoAbs,SVGPathSegMovetoRel,ElementTimeControl,TimeEvent,SVGAnimatedPathData,SVGAnimatedPoints,SVGColorProfileRule,SVGCSSRule,SVGExternalResourcesRequired,SVGFitToViewBox,SVGLangSpace,SVGLocatable,SVGRenderingIntent,SVGStylable,SVGTests,SVGTextContentElement,SVGTextPositioningElement,SVGTransformable,SVGUnitTypes,SVGURIReference,SVGViewSpec,SVGZoomAndPan"),t.JavaScript.ORDER_ATOMIC=0,t.JavaScript.ORDER_NEW=1.1,t.JavaScript.ORDER_MEMBER=1.2,t.JavaScript.ORDER_FUNCTION_CALL=2,t.JavaScript.ORDER_INCREMENT=3,t.JavaScript.ORDER_DECREMENT=3,t.JavaScript.ORDER_BITWISE_NOT=4.1,t.JavaScript.ORDER_UNARY_PLUS=4.2,t.JavaScript.ORDER_UNARY_NEGATION=4.3,t.JavaScript.ORDER_LOGICAL_NOT=4.4,t.JavaScript.ORDER_TYPEOF=4.5,t.JavaScript.ORDER_VOID=4.6,t.JavaScript.ORDER_DELETE=4.7,t.JavaScript.ORDER_AWAIT=4.8,t.JavaScript.ORDER_EXPONENTIATION=5,t.JavaScript.ORDER_MULTIPLICATION=5.1,t.JavaScript.ORDER_DIVISION=5.2,t.JavaScript.ORDER_MODULUS=5.3,t.JavaScript.ORDER_SUBTRACTION=6.1,t.JavaScript.ORDER_ADDITION=6.2,t.JavaScript.ORDER_BITWISE_SHIFT=7,t.JavaScript.ORDER_RELATIONAL=8,t.JavaScript.ORDER_IN=8,t.JavaScript.ORDER_INSTANCEOF=8,t.JavaScript.ORDER_EQUALITY=9,t.JavaScript.ORDER_BITWISE_AND=10,t.JavaScript.ORDER_BITWISE_XOR=11,t.JavaScript.ORDER_BITWISE_OR=12,t.JavaScript.ORDER_LOGICAL_AND=13,t.JavaScript.ORDER_LOGICAL_OR=14,t.JavaScript.ORDER_CONDITIONAL=15,t.JavaScript.ORDER_ASSIGNMENT=16,t.JavaScript.ORDER_YIELD=17,t.JavaScript.ORDER_COMMA=18,t.JavaScript.ORDER_NONE=99,t.JavaScript.ORDER_OVERRIDES=[[t.JavaScript.ORDER_FUNCTION_CALL,t.JavaScript.ORDER_MEMBER],[t.JavaScript.ORDER_FUNCTION_CALL,t.JavaScript.ORDER_FUNCTION_CALL],[t.JavaScript.ORDER_MEMBER,t.JavaScript.ORDER_MEMBER],[t.JavaScript.ORDER_MEMBER,t.JavaScript.ORDER_FUNCTION_CALL],[t.JavaScript.ORDER_LOGICAL_NOT,t.JavaScript.ORDER_LOGICAL_NOT],[t.JavaScript.ORDER_MULTIPLICATION,t.JavaScript.ORDER_MULTIPLICATION],[t.JavaScript.ORDER_ADDITION,t.JavaScript.ORDER_ADDITION],[t.JavaScript.ORDER_LOGICAL_AND,t.JavaScript.ORDER_LOGICAL_AND],[t.JavaScript.ORDER_LOGICAL_OR,t.JavaScript.ORDER_LOGICAL_OR]],t.JavaScript.init=function(e){t.JavaScript.definitions_=Object.create(null),t.JavaScript.functionNames_=Object.create(null),t.JavaScript.variableDB_?t.JavaScript.variableDB_.reset():t.JavaScript.variableDB_=new t.Names(t.JavaScript.RESERVED_WORDS_),t.JavaScript.variableDB_.setVariableMap(e.getVariableMap());for(var i=[],n=t.Variables.allDeveloperVariables(e),o=0;o<n.length;o++)i.push(t.JavaScript.variableDB_.getName(n[o],t.Names.DEVELOPER_VARIABLE_TYPE));for(e=t.Variables.allUsedVarModels(e),o=0;o<e.length;o++)i.push(t.JavaScript.variableDB_.getName(e[o].getId(),t.Variables.NAME_TYPE));i.length&&(t.JavaScript.definitions_.variables="var "+i.join(", ")+";")},t.JavaScript.finish=function(e){var i,n=[];for(i in t.JavaScript.definitions_)n.push(t.JavaScript.definitions_[i]);return delete t.JavaScript.definitions_,delete t.JavaScript.functionNames_,t.JavaScript.variableDB_.reset(),n.join("\n\n")+"\n\n\n"+e},t.JavaScript.scrubNakedValue=function(t){return t+";\n"},t.JavaScript.quote_=function(t){return t=t.replace(/\\/g,"\\\\").replace(/\n/g,"\\\n").replace(/'/g,"\\'"),"'"+t+"'"},t.JavaScript.multiline_quote_=function(e){return e.split(/\n/g).map(t.JavaScript.quote_).join(" + '\\n' +\n")},t.JavaScript.scrub_=function(e,i,n){var o="";if(!e.outputConnection||!e.outputConnection.targetConnection){var s=e.getCommentText();s&&(s=t.utils.string.wrap(s,t.JavaScript.COMMENT_WRAP-3),o+=t.JavaScript.prefixLines(s+"\n","// "));for(var r=0;r<e.inputList.length;r++)e.inputList[r].type==t.INPUT_VALUE&&(s=e.inputList[r].connection.targetBlock())&&(s=t.JavaScript.allNestedComments(s))&&(o+=t.JavaScript.prefixLines(s,"// "))}return e=e.nextConnection&&e.nextConnection.targetBlock(),n=n?"":t.JavaScript.blockToCode(e),o+i+n},t.JavaScript.getAdjusted=function(e,i,n,o,s){n=n||0,s=s||t.JavaScript.ORDER_NONE,e.workspace.options.oneBasedIndex&&n--;var r=e.workspace.options.oneBasedIndex?"1":"0";if(e=0<n?t.JavaScript.valueToCode(e,i,t.JavaScript.ORDER_ADDITION)||r:0>n?t.JavaScript.valueToCode(e,i,t.JavaScript.ORDER_SUBTRACTION)||r:o?t.JavaScript.valueToCode(e,i,t.JavaScript.ORDER_UNARY_NEGATION)||r:t.JavaScript.valueToCode(e,i,s)||r,t.isNumber(e))e=Number(e)+n,o&&(e=-e);else{if(0<n){e=e+" + "+n;var a=t.JavaScript.ORDER_ADDITION}else 0>n&&(e=e+" - "+-n,a=t.JavaScript.ORDER_SUBTRACTION);o&&(e=n?"-("+e+")":"-"+e,a=t.JavaScript.ORDER_UNARY_NEGATION),a=Math.floor(a),s=Math.floor(s),a&&s>=a&&(e="("+e+")")}return e},t.JavaScript.colour={},t.JavaScript.colour_picker=function(e){return[t.JavaScript.quote_(e.getFieldValue("COLOUR")),t.JavaScript.ORDER_ATOMIC]},t.JavaScript.colour_random=function(e){return[t.JavaScript.provideFunction_("colourRandom",["function "+t.JavaScript.FUNCTION_NAME_PLACEHOLDER_+"() {","  var num = Math.floor(Math.random() * Math.pow(2, 24));","  return '#' + ('00000' + num.toString(16)).substr(-6);","}"])+"()",t.JavaScript.ORDER_FUNCTION_CALL]},t.JavaScript.colour_rgb=function(e){var i=t.JavaScript.valueToCode(e,"RED",t.JavaScript.ORDER_COMMA)||0,n=t.JavaScript.valueToCode(e,"GREEN",t.JavaScript.ORDER_COMMA)||0;return e=t.JavaScript.valueToCode(e,"BLUE",t.JavaScript.ORDER_COMMA)||0,[t.JavaScript.provideFunction_("colourRgb",["function "+t.JavaScript.FUNCTION_NAME_PLACEHOLDER_+"(r, g, b) {","  r = Math.max(Math.min(Number(r), 100), 0) * 2.55;","  g = Math.max(Math.min(Number(g), 100), 0) * 2.55;","  b = Math.max(Math.min(Number(b), 100), 0) * 2.55;","  r = ('0' + (Math.round(r) || 0).toString(16)).slice(-2);","  g = ('0' + (Math.round(g) || 0).toString(16)).slice(-2);","  b = ('0' + (Math.round(b) || 0).toString(16)).slice(-2);","  return '#' + r + g + b;","}"])+"("+i+", "+n+", "+e+")",t.JavaScript.ORDER_FUNCTION_CALL]},t.JavaScript.colour_blend=function(e){var i=t.JavaScript.valueToCode(e,"COLOUR1",t.JavaScript.ORDER_COMMA)||"'#000000'",n=t.JavaScript.valueToCode(e,"COLOUR2",t.JavaScript.ORDER_COMMA)||"'#000000'";return e=t.JavaScript.valueToCode(e,"RATIO",t.JavaScript.ORDER_COMMA)||.5,[t.JavaScript.provideFunction_("colourBlend",["function "+t.JavaScript.FUNCTION_NAME_PLACEHOLDER_+"(c1, c2, ratio) {","  ratio = Math.max(Math.min(Number(ratio), 1), 0);","  var r1 = parseInt(c1.substring(1, 3), 16);","  var g1 = parseInt(c1.substring(3, 5), 16);","  var b1 = parseInt(c1.substring(5, 7), 16);","  var r2 = parseInt(c2.substring(1, 3), 16);","  var g2 = parseInt(c2.substring(3, 5), 16);","  var b2 = parseInt(c2.substring(5, 7), 16);","  var r = Math.round(r1 * (1 - ratio) + r2 * ratio);","  var g = Math.round(g1 * (1 - ratio) + g2 * ratio);","  var b = Math.round(b1 * (1 - ratio) + b2 * ratio);","  r = ('0' + (r || 0).toString(16)).slice(-2);","  g = ('0' + (g || 0).toString(16)).slice(-2);","  b = ('0' + (b || 0).toString(16)).slice(-2);","  return '#' + r + g + b;","}"])+"("+i+", "+n+", "+e+")",t.JavaScript.ORDER_FUNCTION_CALL]},t.JavaScript.lists={},t.JavaScript.lists_create_empty=function(e){return["[]",t.JavaScript.ORDER_ATOMIC]},t.JavaScript.lists_create_with=function(e){for(var i=Array(e.itemCount_),n=0;n<e.itemCount_;n++)i[n]=t.JavaScript.valueToCode(e,"ADD"+n,t.JavaScript.ORDER_COMMA)||"null";return["["+i.join(", ")+"]",t.JavaScript.ORDER_ATOMIC]},t.JavaScript.lists_repeat=function(e){var i=t.JavaScript.provideFunction_("listsRepeat",["function "+t.JavaScript.FUNCTION_NAME_PLACEHOLDER_+"(value, n) {","  var array = [];","  for (var i = 0; i < n; i++) {","    array[i] = value;","  }","  return array;","}"]),n=t.JavaScript.valueToCode(e,"ITEM",t.JavaScript.ORDER_COMMA)||"null";return e=t.JavaScript.valueToCode(e,"NUM",t.JavaScript.ORDER_COMMA)||"0",[i+"("+n+", "+e+")",t.JavaScript.ORDER_FUNCTION_CALL]},t.JavaScript.lists_length=function(e){return[(t.JavaScript.valueToCode(e,"VALUE",t.JavaScript.ORDER_MEMBER)||"[]")+".length",t.JavaScript.ORDER_MEMBER]},t.JavaScript.lists_isEmpty=function(e){return["!"+(t.JavaScript.valueToCode(e,"VALUE",t.JavaScript.ORDER_MEMBER)||"[]")+".length",t.JavaScript.ORDER_LOGICAL_NOT]},t.JavaScript.lists_indexOf=function(e){var i="FIRST"==e.getFieldValue("END")?"indexOf":"lastIndexOf",n=t.JavaScript.valueToCode(e,"FIND",t.JavaScript.ORDER_NONE)||"''";return i=(t.JavaScript.valueToCode(e,"VALUE",t.JavaScript.ORDER_MEMBER)||"[]")+"."+i+"("+n+")",e.workspace.options.oneBasedIndex?[i+" + 1",t.JavaScript.ORDER_ADDITION]:[i,t.JavaScript.ORDER_FUNCTION_CALL]},t.JavaScript.lists_getIndex=function(e){var i=e.getFieldValue("MODE")||"GET",n=e.getFieldValue("WHERE")||"FROM_START",o=t.JavaScript.valueToCode(e,"VALUE","RANDOM"==n?t.JavaScript.ORDER_COMMA:t.JavaScript.ORDER_MEMBER)||"[]";switch(n){case"FIRST":if("GET"==i)return[o+"[0]",t.JavaScript.ORDER_MEMBER];if("GET_REMOVE"==i)return[o+".shift()",t.JavaScript.ORDER_MEMBER];if("REMOVE"==i)return o+".shift();\n";break;case"LAST":if("GET"==i)return[o+".slice(-1)[0]",t.JavaScript.ORDER_MEMBER];if("GET_REMOVE"==i)return[o+".pop()",t.JavaScript.ORDER_MEMBER];if("REMOVE"==i)return o+".pop();\n";break;case"FROM_START":if(e=t.JavaScript.getAdjusted(e,"AT"),"GET"==i)return[o+"["+e+"]",t.JavaScript.ORDER_MEMBER];if("GET_REMOVE"==i)return[o+".splice("+e+", 1)[0]",t.JavaScript.ORDER_FUNCTION_CALL];if("REMOVE"==i)return o+".splice("+e+", 1);\n";break;case"FROM_END":if(e=t.JavaScript.getAdjusted(e,"AT",1,!0),"GET"==i)return[o+".slice("+e+")[0]",t.JavaScript.ORDER_FUNCTION_CALL];if("GET_REMOVE"==i)return[o+".splice("+e+", 1)[0]",t.JavaScript.ORDER_FUNCTION_CALL];if("REMOVE"==i)return o+".splice("+e+", 1);";break;case"RANDOM":if(o=t.JavaScript.provideFunction_("listsGetRandomItem",["function "+t.JavaScript.FUNCTION_NAME_PLACEHOLDER_+"(list, remove) {","  var x = Math.floor(Math.random() * list.length);","  if (remove) {","    return list.splice(x, 1)[0];","  } else {","    return list[x];","  }","}"])+"("+o+", "+("GET"!=i)+")","GET"==i||"GET_REMOVE"==i)return[o,t.JavaScript.ORDER_FUNCTION_CALL];if("REMOVE"==i)return o+";\n"}throw Error("Unhandled combination (lists_getIndex).")},t.JavaScript.lists_setIndex=function(e){function i(){if(n.match(/^\w+$/))return"";var e=t.JavaScript.variableDB_.getDistinctName("tmpList",t.Variables.NAME_TYPE),i="var "+e+" = "+n+";\n";return n=e,i}var n=t.JavaScript.valueToCode(e,"LIST",t.JavaScript.ORDER_MEMBER)||"[]",o=e.getFieldValue("MODE")||"GET",s=e.getFieldValue("WHERE")||"FROM_START",r=t.JavaScript.valueToCode(e,"TO",t.JavaScript.ORDER_ASSIGNMENT)||"null";switch(s){case"FIRST":if("SET"==o)return n+"[0] = "+r+";\n";if("INSERT"==o)return n+".unshift("+r+");\n";break;case"LAST":if("SET"==o)return e=i(),e+(n+"[")+n+".length - 1] = "+r+";\n";if("INSERT"==o)return n+".push("+r+");\n";break;case"FROM_START":if(s=t.JavaScript.getAdjusted(e,"AT"),"SET"==o)return n+"["+s+"] = "+r+";\n";if("INSERT"==o)return n+".splice("+s+", 0, "+r+");\n";break;case"FROM_END":if(s=t.JavaScript.getAdjusted(e,"AT",1,!1,t.JavaScript.ORDER_SUBTRACTION),e=i(),"SET"==o)return e+(n+"[")+n+".length - "+s+"] = "+r+";\n";if("INSERT"==o)return e+(n+".splice(")+n+".length - "+s+", 0, "+r+");\n";break;case"RANDOM":if(e=i(),s=t.JavaScript.variableDB_.getDistinctName("tmpX",t.Variables.NAME_TYPE),e+="var "+s+" = Math.floor(Math.random() * "+n+".length);\n","SET"==o)return e+(n+"[")+s+"] = "+r+";\n";if("INSERT"==o)return e+(n+".splice(")+s+", 0, "+r+");\n"}throw Error("Unhandled combination (lists_setIndex).")},t.JavaScript.lists.getIndex_=function(t,e,i){return"FIRST"==e?"0":"FROM_END"==e?t+".length - 1 - "+i:"LAST"==e?t+".length - 1":i},t.JavaScript.lists_getSublist=function(e){var i=t.JavaScript.valueToCode(e,"LIST",t.JavaScript.ORDER_MEMBER)||"[]",n=e.getFieldValue("WHERE1"),o=e.getFieldValue("WHERE2");if("FIRST"==n&&"LAST"==o)i+=".slice(0)";else if(i.match(/^\w+$/)||"FROM_END"!=n&&"FROM_START"==o){switch(n){case"FROM_START":var s=t.JavaScript.getAdjusted(e,"AT1");break;case"FROM_END":s=t.JavaScript.getAdjusted(e,"AT1",1,!1,t.JavaScript.ORDER_SUBTRACTION),s=i+".length - "+s;break;case"FIRST":s="0";break;default:throw Error("Unhandled option (lists_getSublist).")}switch(o){case"FROM_START":e=t.JavaScript.getAdjusted(e,"AT2",1);break;case"FROM_END":e=t.JavaScript.getAdjusted(e,"AT2",0,!1,t.JavaScript.ORDER_SUBTRACTION),e=i+".length - "+e;break;case"LAST":e=i+".length";break;default:throw Error("Unhandled option (lists_getSublist).")}i=i+".slice("+s+", "+e+")"}else{s=t.JavaScript.getAdjusted(e,"AT1"),e=t.JavaScript.getAdjusted(e,"AT2");var r=t.JavaScript.lists.getIndex_,a={FIRST:"First",LAST:"Last",FROM_START:"FromStart",FROM_END:"FromEnd"};i=t.JavaScript.provideFunction_("subsequence"+a[n]+a[o],["function "+t.JavaScript.FUNCTION_NAME_PLACEHOLDER_+"(sequence"+("FROM_END"==n||"FROM_START"==n?", at1":"")+("FROM_END"==o||"FROM_START"==o?", at2":"")+") {","  var start = "+r("sequence",n,"at1")+";","  var end = "+r("sequence",o,"at2")+" + 1;","  return sequence.slice(start, end);","}"])+"("+i+("FROM_END"==n||"FROM_START"==n?", "+s:"")+("FROM_END"==o||"FROM_START"==o?", "+e:"")+")"}return[i,t.JavaScript.ORDER_FUNCTION_CALL]},t.JavaScript.lists_sort=function(e){var i=t.JavaScript.valueToCode(e,"LIST",t.JavaScript.ORDER_FUNCTION_CALL)||"[]",n="1"===e.getFieldValue("DIRECTION")?1:-1;e=e.getFieldValue("TYPE");var o=t.JavaScript.provideFunction_("listsGetSortCompare",["function "+t.JavaScript.FUNCTION_NAME_PLACEHOLDER_+"(type, direction) {","  var compareFuncs = {",'    "NUMERIC": function(a, b) {',"        return Number(a) - Number(b); },",'    "TEXT": function(a, b) {',"        return a.toString() > b.toString() ? 1 : -1; },",'    "IGNORE_CASE": function(a, b) {',"        return a.toString().toLowerCase() > b.toString().toLowerCase() ? 1 : -1; },","  };","  var compare = compareFuncs[type];","  return function(a, b) { return compare(a, b) * direction; }","}"]);return[i+".slice().sort("+o+'("'+e+'", '+n+"))",t.JavaScript.ORDER_FUNCTION_CALL]},t.JavaScript.lists_split=function(e){var i=t.JavaScript.valueToCode(e,"INPUT",t.JavaScript.ORDER_MEMBER),n=t.JavaScript.valueToCode(e,"DELIM",t.JavaScript.ORDER_NONE)||"''";if(e=e.getFieldValue("MODE"),"SPLIT"==e)i||(i="''"),e="split";else{if("JOIN"!=e)throw Error("Unknown mode: "+e);i||(i="[]"),e="join"}return[i+"."+e+"("+n+")",t.JavaScript.ORDER_FUNCTION_CALL]},t.JavaScript.lists_reverse=function(e){return[(t.JavaScript.valueToCode(e,"LIST",t.JavaScript.ORDER_FUNCTION_CALL)||"[]")+".slice().reverse()",t.JavaScript.ORDER_FUNCTION_CALL]},t.JavaScript.logic={},t.JavaScript.controls_if=function(e){var i=0,n="";t.JavaScript.STATEMENT_PREFIX&&(n+=t.JavaScript.injectId(t.JavaScript.STATEMENT_PREFIX,e));do{var o=t.JavaScript.valueToCode(e,"IF"+i,t.JavaScript.ORDER_NONE)||"false",s=t.JavaScript.statementToCode(e,"DO"+i);t.JavaScript.STATEMENT_SUFFIX&&(s=t.JavaScript.prefixLines(t.JavaScript.injectId(t.JavaScript.STATEMENT_SUFFIX,e),t.JavaScript.INDENT)+s),n+=(0<i?" else ":"")+"if ("+o+") {\n"+s+"}",++i}while(e.getInput("IF"+i));return(e.getInput("ELSE")||t.JavaScript.STATEMENT_SUFFIX)&&(s=t.JavaScript.statementToCode(e,"ELSE"),t.JavaScript.STATEMENT_SUFFIX&&(s=t.JavaScript.prefixLines(t.JavaScript.injectId(t.JavaScript.STATEMENT_SUFFIX,e),t.JavaScript.INDENT)+s),n+=" else {\n"+s+"}"),n+"\n"},t.JavaScript.controls_ifelse=t.JavaScript.controls_if,t.JavaScript.logic_compare=function(e){var i={EQ:"==",NEQ:"!=",LT:"<",LTE:"<=",GT:">",GTE:">="}[e.getFieldValue("OP")],n="=="==i||"!="==i?t.JavaScript.ORDER_EQUALITY:t.JavaScript.ORDER_RELATIONAL,o=t.JavaScript.valueToCode(e,"A",n)||"0";return e=t.JavaScript.valueToCode(e,"B",n)||"0",[o+" "+i+" "+e,n]},t.JavaScript.logic_operation=function(e){var i="AND"==e.getFieldValue("OP")?"&&":"||",n="&&"==i?t.JavaScript.ORDER_LOGICAL_AND:t.JavaScript.ORDER_LOGICAL_OR,o=t.JavaScript.valueToCode(e,"A",n);if(e=t.JavaScript.valueToCode(e,"B",n),o||e){var s="&&"==i?"true":"false";o||(o=s),e||(e=s)}else e=o="false";return[o+" "+i+" "+e,n]},t.JavaScript.logic_negate=function(e){var i=t.JavaScript.ORDER_LOGICAL_NOT;return["!"+(t.JavaScript.valueToCode(e,"BOOL",i)||"true"),i]},t.JavaScript.logic_boolean=function(e){return["TRUE"==e.getFieldValue("BOOL")?"true":"false",t.JavaScript.ORDER_ATOMIC]},t.JavaScript.logic_null=function(e){return["null",t.JavaScript.ORDER_ATOMIC]},t.JavaScript.logic_ternary=function(e){var i=t.JavaScript.valueToCode(e,"IF",t.JavaScript.ORDER_CONDITIONAL)||"false",n=t.JavaScript.valueToCode(e,"THEN",t.JavaScript.ORDER_CONDITIONAL)||"null";return e=t.JavaScript.valueToCode(e,"ELSE",t.JavaScript.ORDER_CONDITIONAL)||"null",[i+" ? "+n+" : "+e,t.JavaScript.ORDER_CONDITIONAL]},t.JavaScript.loops={},t.JavaScript.controls_repeat_ext=function(e){var i=e.getField("TIMES")?String(Number(e.getFieldValue("TIMES"))):t.JavaScript.valueToCode(e,"TIMES",t.JavaScript.ORDER_ASSIGNMENT)||"0",n=t.JavaScript.statementToCode(e,"DO");n=t.JavaScript.addLoopTrap(n,e),e="";var o=t.JavaScript.variableDB_.getDistinctName("count",t.Variables.NAME_TYPE),s=i;return i.match(/^\w+$/)||t.isNumber(i)||(s=t.JavaScript.variableDB_.getDistinctName("repeat_end",t.Variables.NAME_TYPE),e+="var "+s+" = "+i+";\n"),e+"for (var "+o+" = 0; "+o+" < "+s+"; "+o+"++) {\n"+n+"}\n"},t.JavaScript.controls_repeat=t.JavaScript.controls_repeat_ext,t.JavaScript.controls_whileUntil=function(e){var i="UNTIL"==e.getFieldValue("MODE"),n=t.JavaScript.valueToCode(e,"BOOL",i?t.JavaScript.ORDER_LOGICAL_NOT:t.JavaScript.ORDER_NONE)||"false",o=t.JavaScript.statementToCode(e,"DO");return o=t.JavaScript.addLoopTrap(o,e),i&&(n="!"+n),"while ("+n+") {\n"+o+"}\n"},t.JavaScript.controls_for=function(e){var i=t.JavaScript.variableDB_.getName(e.getFieldValue("VAR"),t.Variables.NAME_TYPE),n=t.JavaScript.valueToCode(e,"FROM",t.JavaScript.ORDER_ASSIGNMENT)||"0",o=t.JavaScript.valueToCode(e,"TO",t.JavaScript.ORDER_ASSIGNMENT)||"0",s=t.JavaScript.valueToCode(e,"BY",t.JavaScript.ORDER_ASSIGNMENT)||"1",r=t.JavaScript.statementToCode(e,"DO");if(r=t.JavaScript.addLoopTrap(r,e),t.isNumber(n)&&t.isNumber(o)&&t.isNumber(s)){var a=Number(n)<=Number(o);e="for ("+i+" = "+n+"; "+i+(a?" <= ":" >= ")+o+"; "+i,i=Math.abs(Number(s)),e=(1==i?e+(a?"++":"--"):e+(a?" += ":" -= ")+i)+") {\n"+r+"}\n"}else e="",a=n,n.match(/^\w+$/)||t.isNumber(n)||(a=t.JavaScript.variableDB_.getDistinctName(i+"_start",t.Variables.NAME_TYPE),e+="var "+a+" = "+n+";\n"),n=o,o.match(/^\w+$/)||t.isNumber(o)||(n=t.JavaScript.variableDB_.getDistinctName(i+"_end",t.Variables.NAME_TYPE),e+="var "+n+" = "+o+";\n"),o=t.JavaScript.variableDB_.getDistinctName(i+"_inc",t.Variables.NAME_TYPE),e+="var "+o+" = ",e=t.isNumber(s)?e+(Math.abs(s)+";\n"):e+"Math.abs("+s+");\n",e=e+"if ("+a+" > "+n+") {\n"+(t.JavaScript.INDENT+o)+" = -"+o+";\n",e+="}\n",e+="for ("+i+" = "+a+"; "+o+" >= 0 ? "+i+" <= "+n+" : "+i+" >= "+n+"; "+i+" += "+o+") {\n"+r+"}\n";return e},t.JavaScript.controls_forEach=function(e){var i=t.JavaScript.variableDB_.getName(e.getFieldValue("VAR"),t.Variables.NAME_TYPE),n=t.JavaScript.valueToCode(e,"LIST",t.JavaScript.ORDER_ASSIGNMENT)||"[]",o=t.JavaScript.statementToCode(e,"DO");o=t.JavaScript.addLoopTrap(o,e),e="";var s=n;return n.match(/^\w+$/)||(s=t.JavaScript.variableDB_.getDistinctName(i+"_list",t.Variables.NAME_TYPE),e+="var "+s+" = "+n+";\n"),n=t.JavaScript.variableDB_.getDistinctName(i+"_index",t.Variables.NAME_TYPE),o=t.JavaScript.INDENT+i+" = "+s+"["+n+"];\n"+o,e+"for (var "+n+" in "+s+") {\n"+o+"}\n"},t.JavaScript.controls_flow_statements=function(e){var i="";if(t.JavaScript.STATEMENT_PREFIX&&(i+=t.JavaScript.injectId(t.JavaScript.STATEMENT_PREFIX,e)),t.JavaScript.STATEMENT_SUFFIX&&(i+=t.JavaScript.injectId(t.JavaScript.STATEMENT_SUFFIX,e)),t.JavaScript.STATEMENT_PREFIX){var n=t.Constants.Loops.CONTROL_FLOW_IN_LOOP_CHECK_MIXIN.getSurroundLoop(e);n&&!n.suppressPrefixSuffix&&(i+=t.JavaScript.injectId(t.JavaScript.STATEMENT_PREFIX,n))}switch(e.getFieldValue("FLOW")){case"BREAK":return i+"break;\n";case"CONTINUE":return i+"continue;\n"}throw Error("Unknown flow statement.")},t.JavaScript.math={},t.JavaScript.math_number=function(e){return e=Number(e.getFieldValue("NUM")),[e,0<=e?t.JavaScript.ORDER_ATOMIC:t.JavaScript.ORDER_UNARY_NEGATION]},t.JavaScript.math_arithmetic=function(e){var i={ADD:[" + ",t.JavaScript.ORDER_ADDITION],MINUS:[" - ",t.JavaScript.ORDER_SUBTRACTION],MULTIPLY:[" * ",t.JavaScript.ORDER_MULTIPLICATION],DIVIDE:[" / ",t.JavaScript.ORDER_DIVISION],POWER:[null,t.JavaScript.ORDER_COMMA]}[e.getFieldValue("OP")],n=i[0];i=i[1];var o=t.JavaScript.valueToCode(e,"A",i)||"0";return e=t.JavaScript.valueToCode(e,"B",i)||"0",n?[o+n+e,i]:["Math.pow("+o+", "+e+")",t.JavaScript.ORDER_FUNCTION_CALL]},t.JavaScript.math_single=function(e){var i=e.getFieldValue("OP");if("NEG"==i)return e=t.JavaScript.valueToCode(e,"NUM",t.JavaScript.ORDER_UNARY_NEGATION)||"0","-"==e[0]&&(e=" "+e),["-"+e,t.JavaScript.ORDER_UNARY_NEGATION];switch(e="SIN"==i||"COS"==i||"TAN"==i?t.JavaScript.valueToCode(e,"NUM",t.JavaScript.ORDER_DIVISION)||"0":t.JavaScript.valueToCode(e,"NUM",t.JavaScript.ORDER_NONE)||"0",i){case"ABS":var n="Math.abs("+e+")";break;case"ROOT":n="Math.sqrt("+e+")";break;case"LN":n="Math.log("+e+")";break;case"EXP":n="Math.exp("+e+")";break;case"POW10":n="Math.pow(10,"+e+")";break;case"ROUND":n="Math.round("+e+")";break;case"ROUNDUP":n="Math.ceil("+e+")";break;case"ROUNDDOWN":n="Math.floor("+e+")";break;case"SIN":n="Math.sin("+e+" / 180 * Math.PI)";break;case"COS":n="Math.cos("+e+" / 180 * Math.PI)";break;case"TAN":n="Math.tan("+e+" / 180 * Math.PI)"}if(n)return[n,t.JavaScript.ORDER_FUNCTION_CALL];switch(i){case"LOG10":n="Math.log("+e+") / Math.log(10)";break;case"ASIN":n="Math.asin("+e+") / Math.PI * 180";break;case"ACOS":n="Math.acos("+e+") / Math.PI * 180";break;case"ATAN":n="Math.atan("+e+") / Math.PI * 180";break;default:throw Error("Unknown math operator: "+i)}return[n,t.JavaScript.ORDER_DIVISION]},t.JavaScript.math_constant=function(e){return{PI:["Math.PI",t.JavaScript.ORDER_MEMBER],E:["Math.E",t.JavaScript.ORDER_MEMBER],GOLDEN_RATIO:["(1 + Math.sqrt(5)) / 2",t.JavaScript.ORDER_DIVISION],SQRT2:["Math.SQRT2",t.JavaScript.ORDER_MEMBER],SQRT1_2:["Math.SQRT1_2",t.JavaScript.ORDER_MEMBER],INFINITY:["Infinity",t.JavaScript.ORDER_ATOMIC]}[e.getFieldValue("CONSTANT")]},t.JavaScript.math_number_property=function(e){var i=t.JavaScript.valueToCode(e,"NUMBER_TO_CHECK",t.JavaScript.ORDER_MODULUS)||"0",n=e.getFieldValue("PROPERTY");if("PRIME"==n)return[t.JavaScript.provideFunction_("mathIsPrime",["function "+t.JavaScript.FUNCTION_NAME_PLACEHOLDER_+"(n) {","  // https://en.wikipedia.org/wiki/Primality_test#Naive_methods","  if (n == 2 || n == 3) {","    return true;","  }","  // False if n is NaN, negative, is 1, or not whole.","  // And false if n is divisible by 2 or 3.","  if (isNaN(n) || n <= 1 || n % 1 != 0 || n % 2 == 0 || n % 3 == 0) {","    return false;","  }","  // Check all the numbers of form 6k +/- 1, up to sqrt(n).","  for (var x = 6; x <= Math.sqrt(n) + 1; x += 6) {","    if (n % (x - 1) == 0 || n % (x + 1) == 0) {","      return false;","    }","  }","  return true;","}"])+"("+i+")",t.JavaScript.ORDER_FUNCTION_CALL];switch(n){case"EVEN":var o=i+" % 2 == 0";break;case"ODD":o=i+" % 2 == 1";break;case"WHOLE":o=i+" % 1 == 0";break;case"POSITIVE":o=i+" > 0";break;case"NEGATIVE":o=i+" < 0";break;case"DIVISIBLE_BY":e=t.JavaScript.valueToCode(e,"DIVISOR",t.JavaScript.ORDER_MODULUS)||"0",o=i+" % "+e+" == 0"}return[o,t.JavaScript.ORDER_EQUALITY]},t.JavaScript.math_change=function(e){var i=t.JavaScript.valueToCode(e,"DELTA",t.JavaScript.ORDER_ADDITION)||"0";return e=t.JavaScript.variableDB_.getName(e.getFieldValue("VAR"),t.Variables.NAME_TYPE),e+" = (typeof "+e+" == 'number' ? "+e+" : 0) + "+i+";\n"},t.JavaScript.math_round=t.JavaScript.math_single,t.JavaScript.math_trig=t.JavaScript.math_single,t.JavaScript.math_on_list=function(e){var i=e.getFieldValue("OP");switch(i){case"SUM":e=t.JavaScript.valueToCode(e,"LIST",t.JavaScript.ORDER_MEMBER)||"[]",e+=".reduce(function(x, y) {return x + y;})";break;case"MIN":e=t.JavaScript.valueToCode(e,"LIST",t.JavaScript.ORDER_COMMA)||"[]",e="Math.min.apply(null, "+e+")";break;case"MAX":e=t.JavaScript.valueToCode(e,"LIST",t.JavaScript.ORDER_COMMA)||"[]",e="Math.max.apply(null, "+e+")";break;case"AVERAGE":i=t.JavaScript.provideFunction_("mathMean",["function "+t.JavaScript.FUNCTION_NAME_PLACEHOLDER_+"(myList) {","  return myList.reduce(function(x, y) {return x + y;}) / myList.length;","}"]),e=t.JavaScript.valueToCode(e,"LIST",t.JavaScript.ORDER_NONE)||"[]",e=i+"("+e+")";break;case"MEDIAN":i=t.JavaScript.provideFunction_("mathMedian",["function "+t.JavaScript.FUNCTION_NAME_PLACEHOLDER_+"(myList) {","  var localList = myList.filter(function (x) {return typeof x == 'number';});","  if (!localList.length) return null;","  localList.sort(function(a, b) {return b - a;});","  if (localList.length % 2 == 0) {","    return (localList[localList.length / 2 - 1] + localList[localList.length / 2]) / 2;","  } else {","    return localList[(localList.length - 1) / 2];","  }","}"]),e=t.JavaScript.valueToCode(e,"LIST",t.JavaScript.ORDER_NONE)||"[]",e=i+"("+e+")";break;case"MODE":i=t.JavaScript.provideFunction_("mathModes",["function "+t.JavaScript.FUNCTION_NAME_PLACEHOLDER_+"(values) {","  var modes = [];","  var counts = [];","  var maxCount = 0;","  for (var i = 0; i < values.length; i++) {","    var value = values[i];","    var found = false;","    var thisCount;","    for (var j = 0; j < counts.length; j++) {","      if (counts[j][0] === value) {","        thisCount = ++counts[j][1];","        found = true;","        break;","      }","    }","    if (!found) {","      counts.push([value, 1]);","      thisCount = 1;","    }","    maxCount = Math.max(thisCount, maxCount);","  }","  for (var j = 0; j < counts.length; j++) {","    if (counts[j][1] == maxCount) {","        modes.push(counts[j][0]);","    }","  }","  return modes;","}"]),e=t.JavaScript.valueToCode(e,"LIST",t.JavaScript.ORDER_NONE)||"[]",e=i+"("+e+")";break;case"STD_DEV":i=t.JavaScript.provideFunction_("mathStandardDeviation",["function "+t.JavaScript.FUNCTION_NAME_PLACEHOLDER_+"(numbers) {","  var n = numbers.length;","  if (!n) return null;","  var mean = numbers.reduce(function(x, y) {return x + y;}) / n;","  var variance = 0;","  for (var j = 0; j < n; j++) {","    variance += Math.pow(numbers[j] - mean, 2);","  }","  variance = variance / n;","  return Math.sqrt(variance);","}"]),e=t.JavaScript.valueToCode(e,"LIST",t.JavaScript.ORDER_NONE)||"[]",e=i+"("+e+")";break;case"RANDOM":i=t.JavaScript.provideFunction_("mathRandomList",["function "+t.JavaScript.FUNCTION_NAME_PLACEHOLDER_+"(list) {","  var x = Math.floor(Math.random() * list.length);","  return list[x];","}"]),e=t.JavaScript.valueToCode(e,"LIST",t.JavaScript.ORDER_NONE)||"[]",e=i+"("+e+")";break;default:throw Error("Unknown operator: "+i)}return[e,t.JavaScript.ORDER_FUNCTION_CALL]},t.JavaScript.math_modulo=function(e){var i=t.JavaScript.valueToCode(e,"DIVIDEND",t.JavaScript.ORDER_MODULUS)||"0";return e=t.JavaScript.valueToCode(e,"DIVISOR",t.JavaScript.ORDER_MODULUS)||"0",[i+" % "+e,t.JavaScript.ORDER_MODULUS]},t.JavaScript.math_constrain=function(e){var i=t.JavaScript.valueToCode(e,"VALUE",t.JavaScript.ORDER_COMMA)||"0",n=t.JavaScript.valueToCode(e,"LOW",t.JavaScript.ORDER_COMMA)||"0";return e=t.JavaScript.valueToCode(e,"HIGH",t.JavaScript.ORDER_COMMA)||"Infinity",["Math.min(Math.max("+i+", "+n+"), "+e+")",t.JavaScript.ORDER_FUNCTION_CALL]},t.JavaScript.math_random_int=function(e){var i=t.JavaScript.valueToCode(e,"FROM",t.JavaScript.ORDER_COMMA)||"0";return e=t.JavaScript.valueToCode(e,"TO",t.JavaScript.ORDER_COMMA)||"0",[t.JavaScript.provideFunction_("mathRandomInt",["function "+t.JavaScript.FUNCTION_NAME_PLACEHOLDER_+"(a, b) {","  if (a > b) {","    // Swap a and b to ensure a is smaller.","    var c = a;","    a = b;","    b = c;","  }","  return Math.floor(Math.random() * (b - a + 1) + a);","}"])+"("+i+", "+e+")",t.JavaScript.ORDER_FUNCTION_CALL]},t.JavaScript.math_random_float=function(e){return["Math.random()",t.JavaScript.ORDER_FUNCTION_CALL]},t.JavaScript.math_atan2=function(e){var i=t.JavaScript.valueToCode(e,"X",t.JavaScript.ORDER_COMMA)||"0";return["Math.atan2("+(t.JavaScript.valueToCode(e,"Y",t.JavaScript.ORDER_COMMA)||"0")+", "+i+") / Math.PI * 180",t.JavaScript.ORDER_DIVISION]},t.JavaScript.procedures={},t.JavaScript.procedures_defreturn=function(e){var i=t.JavaScript.variableDB_.getName(e.getFieldValue("NAME"),t.Procedures.NAME_TYPE),n="";t.JavaScript.STATEMENT_PREFIX&&(n+=t.JavaScript.injectId(t.JavaScript.STATEMENT_PREFIX,e)),t.JavaScript.STATEMENT_SUFFIX&&(n+=t.JavaScript.injectId(t.JavaScript.STATEMENT_SUFFIX,e)),n&&(n=t.JavaScript.prefixLines(n,t.JavaScript.INDENT));var o="";t.JavaScript.INFINITE_LOOP_TRAP&&(o=t.JavaScript.prefixLines(t.JavaScript.injectId(t.JavaScript.INFINITE_LOOP_TRAP,e),t.JavaScript.INDENT));var s=t.JavaScript.statementToCode(e,"STACK"),r=t.JavaScript.valueToCode(e,"RETURN",t.JavaScript.ORDER_NONE)||"",a="";s&&r&&(a=n),r&&(r=t.JavaScript.INDENT+"return "+r+";\n");for(var l=[],c=0;c<e.arguments_.length;c++)l[c]=t.JavaScript.variableDB_.getName(e.arguments_[c],t.Variables.NAME_TYPE);return n="function "+i+"("+l.join(", ")+") {\n"+n+o+s+a+r+"}",n=t.JavaScript.scrub_(e,n),t.JavaScript.definitions_["%"+i]=n,null},t.JavaScript.procedures_defnoreturn=t.JavaScript.procedures_defreturn,t.JavaScript.procedures_callreturn=function(e){for(var i=t.JavaScript.variableDB_.getName(e.getFieldValue("NAME"),t.Procedures.NAME_TYPE),n=[],o=0;o<e.arguments_.length;o++)n[o]=t.JavaScript.valueToCode(e,"ARG"+o,t.JavaScript.ORDER_COMMA)||"null";return[i+"("+n.join(", ")+")",t.JavaScript.ORDER_FUNCTION_CALL]},t.JavaScript.procedures_callnoreturn=function(e){return t.JavaScript.procedures_callreturn(e)[0]+";\n"},t.JavaScript.procedures_ifreturn=function(e){var i="if ("+(t.JavaScript.valueToCode(e,"CONDITION",t.JavaScript.ORDER_NONE)||"false")+") {\n";return t.JavaScript.STATEMENT_SUFFIX&&(i+=t.JavaScript.prefixLines(t.JavaScript.injectId(t.JavaScript.STATEMENT_SUFFIX,e),t.JavaScript.INDENT)),e.hasReturnValue_?(e=t.JavaScript.valueToCode(e,"VALUE",t.JavaScript.ORDER_NONE)||"null",i+=t.JavaScript.INDENT+"return "+e+";\n"):i+=t.JavaScript.INDENT+"return;\n",i+"}\n"},t.JavaScript.texts={},t.JavaScript.text=function(e){return[t.JavaScript.quote_(e.getFieldValue("TEXT")),t.JavaScript.ORDER_ATOMIC]},t.JavaScript.text_multiline=function(e){return e=t.JavaScript.multiline_quote_(e.getFieldValue("TEXT")),e.includes("\n")&&(e="("+e+")"),[e,t.JavaScript.ORDER_ATOMIC]},t.JavaScript.text.forceString_=function(e){return t.JavaScript.text.forceString_.strRegExp.test(e)?e:"String("+e+")"},t.JavaScript.text.forceString_.strRegExp=/^\s*'([^']|\\')*'\s*$/,t.JavaScript.text_join=function(e){switch(e.itemCount_){case 0:return["''",t.JavaScript.ORDER_ATOMIC];case 1:return e=t.JavaScript.valueToCode(e,"ADD0",t.JavaScript.ORDER_NONE)||"''",e=t.JavaScript.text.forceString_(e),[e,t.JavaScript.ORDER_FUNCTION_CALL];case 2:var i=t.JavaScript.valueToCode(e,"ADD0",t.JavaScript.ORDER_NONE)||"''";return e=t.JavaScript.valueToCode(e,"ADD1",t.JavaScript.ORDER_NONE)||"''",e=t.JavaScript.text.forceString_(i)+" + "+t.JavaScript.text.forceString_(e),[e,t.JavaScript.ORDER_ADDITION];default:i=Array(e.itemCount_);for(var n=0;n<e.itemCount_;n++)i[n]=t.JavaScript.valueToCode(e,"ADD"+n,t.JavaScript.ORDER_COMMA)||"''";return e="["+i.join(",")+"].join('')",[e,t.JavaScript.ORDER_FUNCTION_CALL]}},t.JavaScript.text_append=function(e){var i=t.JavaScript.variableDB_.getName(e.getFieldValue("VAR"),t.Variables.NAME_TYPE);return e=t.JavaScript.valueToCode(e,"TEXT",t.JavaScript.ORDER_NONE)||"''",i+" += "+t.JavaScript.text.forceString_(e)+";\n"},t.JavaScript.text_length=function(e){return[(t.JavaScript.valueToCode(e,"VALUE",t.JavaScript.ORDER_FUNCTION_CALL)||"''")+".length",t.JavaScript.ORDER_MEMBER]},t.JavaScript.text_isEmpty=function(e){return["!"+(t.JavaScript.valueToCode(e,"VALUE",t.JavaScript.ORDER_MEMBER)||"''")+".length",t.JavaScript.ORDER_LOGICAL_NOT]},t.JavaScript.text_indexOf=function(e){var i="FIRST"==e.getFieldValue("END")?"indexOf":"lastIndexOf",n=t.JavaScript.valueToCode(e,"FIND",t.JavaScript.ORDER_NONE)||"''";return i=(t.JavaScript.valueToCode(e,"VALUE",t.JavaScript.ORDER_MEMBER)||"''")+"."+i+"("+n+")",e.workspace.options.oneBasedIndex?[i+" + 1",t.JavaScript.ORDER_ADDITION]:[i,t.JavaScript.ORDER_FUNCTION_CALL]},t.JavaScript.text_charAt=function(e){var i=e.getFieldValue("WHERE")||"FROM_START",n=t.JavaScript.valueToCode(e,"VALUE","RANDOM"==i?t.JavaScript.ORDER_NONE:t.JavaScript.ORDER_MEMBER)||"''";switch(i){case"FIRST":return[n+".charAt(0)",t.JavaScript.ORDER_FUNCTION_CALL];case"LAST":return[n+".slice(-1)",t.JavaScript.ORDER_FUNCTION_CALL];case"FROM_START":return e=t.JavaScript.getAdjusted(e,"AT"),[n+".charAt("+e+")",t.JavaScript.ORDER_FUNCTION_CALL];case"FROM_END":return e=t.JavaScript.getAdjusted(e,"AT",1,!0),[n+".slice("+e+").charAt(0)",t.JavaScript.ORDER_FUNCTION_CALL];case"RANDOM":return[t.JavaScript.provideFunction_("textRandomLetter",["function "+t.JavaScript.FUNCTION_NAME_PLACEHOLDER_+"(text) {","  var x = Math.floor(Math.random() * text.length);","  return text[x];","}"])+"("+n+")",t.JavaScript.ORDER_FUNCTION_CALL]}throw Error("Unhandled option (text_charAt).")},t.JavaScript.text.getIndex_=function(t,e,i){return"FIRST"==e?"0":"FROM_END"==e?t+".length - 1 - "+i:"LAST"==e?t+".length - 1":i},t.JavaScript.text_getSubstring=function(e){var i=t.JavaScript.valueToCode(e,"STRING",t.JavaScript.ORDER_FUNCTION_CALL)||"''",n=e.getFieldValue("WHERE1"),o=e.getFieldValue("WHERE2");if("FIRST"!=n||"LAST"!=o)if(i.match(/^'?\w+'?$/)||"FROM_END"!=n&&"LAST"!=n&&"FROM_END"!=o&&"LAST"!=o){switch(n){case"FROM_START":var s=t.JavaScript.getAdjusted(e,"AT1");break;case"FROM_END":s=t.JavaScript.getAdjusted(e,"AT1",1,!1,t.JavaScript.ORDER_SUBTRACTION),s=i+".length - "+s;break;case"FIRST":s="0";break;default:throw Error("Unhandled option (text_getSubstring).")}switch(o){case"FROM_START":e=t.JavaScript.getAdjusted(e,"AT2",1);break;case"FROM_END":e=t.JavaScript.getAdjusted(e,"AT2",0,!1,t.JavaScript.ORDER_SUBTRACTION),e=i+".length - "+e;break;case"LAST":e=i+".length";break;default:throw Error("Unhandled option (text_getSubstring).")}i=i+".slice("+s+", "+e+")"}else{s=t.JavaScript.getAdjusted(e,"AT1"),e=t.JavaScript.getAdjusted(e,"AT2");var r=t.JavaScript.text.getIndex_,a={FIRST:"First",LAST:"Last",FROM_START:"FromStart",FROM_END:"FromEnd"};i=t.JavaScript.provideFunction_("subsequence"+a[n]+a[o],["function "+t.JavaScript.FUNCTION_NAME_PLACEHOLDER_+"(sequence"+("FROM_END"==n||"FROM_START"==n?", at1":"")+("FROM_END"==o||"FROM_START"==o?", at2":"")+") {","  var start = "+r("sequence",n,"at1")+";","  var end = "+r("sequence",o,"at2")+" + 1;","  return sequence.slice(start, end);","}"])+"("+i+("FROM_END"==n||"FROM_START"==n?", "+s:"")+("FROM_END"==o||"FROM_START"==o?", "+e:"")+")"}return[i,t.JavaScript.ORDER_FUNCTION_CALL]},t.JavaScript.text_changeCase=function(e){var i={UPPERCASE:".toUpperCase()",LOWERCASE:".toLowerCase()",TITLECASE:null}[e.getFieldValue("CASE")];return e=t.JavaScript.valueToCode(e,"TEXT",i?t.JavaScript.ORDER_MEMBER:t.JavaScript.ORDER_NONE)||"''",[i?e+i:t.JavaScript.provideFunction_("textToTitleCase",["function "+t.JavaScript.FUNCTION_NAME_PLACEHOLDER_+"(str) {","  return str.replace(/\\S+/g,","      function(txt) {return txt[0].toUpperCase() + txt.substring(1).toLowerCase();});","}"])+"("+e+")",t.JavaScript.ORDER_FUNCTION_CALL]},t.JavaScript.text_trim=function(e){var i={LEFT:".replace(/^[\\s\\xa0]+/, '')",RIGHT:".replace(/[\\s\\xa0]+$/, '')",BOTH:".trim()"}[e.getFieldValue("MODE")];return[(t.JavaScript.valueToCode(e,"TEXT",t.JavaScript.ORDER_MEMBER)||"''")+i,t.JavaScript.ORDER_FUNCTION_CALL]},t.JavaScript.text_print=function(e){return"window.alert("+(t.JavaScript.valueToCode(e,"TEXT",t.JavaScript.ORDER_NONE)||"''")+");\n"},t.JavaScript.text_prompt_ext=function(e){var i="window.prompt("+(e.getField("TEXT")?t.JavaScript.quote_(e.getFieldValue("TEXT")):t.JavaScript.valueToCode(e,"TEXT",t.JavaScript.ORDER_NONE)||"''")+")";return"NUMBER"==e.getFieldValue("TYPE")&&(i="Number("+i+")"),[i,t.JavaScript.ORDER_FUNCTION_CALL]},t.JavaScript.text_prompt=t.JavaScript.text_prompt_ext,t.JavaScript.text_count=function(e){var i=t.JavaScript.valueToCode(e,"TEXT",t.JavaScript.ORDER_MEMBER)||"''";return e=t.JavaScript.valueToCode(e,"SUB",t.JavaScript.ORDER_NONE)||"''",[t.JavaScript.provideFunction_("textCount",["function "+t.JavaScript.FUNCTION_NAME_PLACEHOLDER_+"(haystack, needle) {","  if (needle.length === 0) {","    return haystack.length + 1;","  } else {","    return haystack.split(needle).length - 1;","  }","}"])+"("+i+", "+e+")",t.JavaScript.ORDER_SUBTRACTION]},t.JavaScript.text_replace=function(e){var i=t.JavaScript.valueToCode(e,"TEXT",t.JavaScript.ORDER_MEMBER)||"''",n=t.JavaScript.valueToCode(e,"FROM",t.JavaScript.ORDER_NONE)||"''";return e=t.JavaScript.valueToCode(e,"TO",t.JavaScript.ORDER_NONE)||"''",[t.JavaScript.provideFunction_("textReplace",["function "+t.JavaScript.FUNCTION_NAME_PLACEHOLDER_+"(haystack, needle, replacement) {",'  needle = needle.replace(/([-()\\[\\]{}+?*.$\\^|,:#<!\\\\])/g,"\\\\$1")','                 .replace(/\\x08/g,"\\\\x08");',"  return haystack.replace(new RegExp(needle, 'g'), replacement);","}"])+"("+i+", "+n+", "+e+")",t.JavaScript.ORDER_MEMBER]},t.JavaScript.text_reverse=function(e){return[(t.JavaScript.valueToCode(e,"TEXT",t.JavaScript.ORDER_MEMBER)||"''")+".split('').reverse().join('')",t.JavaScript.ORDER_MEMBER]},t.JavaScript.variables={},t.JavaScript.variables_get=function(e){return[t.JavaScript.variableDB_.getName(e.getFieldValue("VAR"),t.Variables.NAME_TYPE),t.JavaScript.ORDER_ATOMIC]},t.JavaScript.variables_set=function(e){var i=t.JavaScript.valueToCode(e,"VALUE",t.JavaScript.ORDER_ASSIGNMENT)||"0";return t.JavaScript.variableDB_.getName(e.getFieldValue("VAR"),t.Variables.NAME_TYPE)+" = "+i+";\n"},t.JavaScript.variablesDynamic={},t.JavaScript.variables_get_dynamic=t.JavaScript.variables_get,t.JavaScript.variables_set_dynamic=t.JavaScript.variables_set,t.JavaScript}))},fe09:function(t,e,i){"use strict";var n={};i.r(n),i.d(n,"QAjaxBar",(function(){return At})),i.d(n,"QAvatar",(function(){return Ht})),i.d(n,"QBadge",(function(){return Vt})),i.d(n,"QBanner",(function(){return Wt})),i.d(n,"QBar",(function(){return $t})),i.d(n,"QBreadcrumbs",(function(){return Xt})),i.d(n,"QBreadcrumbsEl",(function(){return Kt})),i.d(n,"QBtn",(function(){return ye})),i.d(n,"QBtnDropdown",(function(){return di})),i.d(n,"QBtnGroup",(function(){return Te})),i.d(n,"QBtnToggle",(function(){return pi})),i.d(n,"QCard",(function(){return _i})),i.d(n,"QCardSection",(function(){return gi})),i.d(n,"QCardActions",(function(){return fi})),i.d(n,"QCarousel",(function(){return wi})),i.d(n,"QCarouselSlide",(function(){return Ri})),i.d(n,"QCarouselControl",(function(){return Ii})),i.d(n,"QChatMessage",(function(){return xi})),i.d(n,"QCheckbox",(function(){return Ai})),i.d(n,"QChip",(function(){return Ni})),i.d(n,"QCircularProgress",(function(){return Fi})),i.d(n,"QColor",(function(){return gn})),i.d(n,"QDate",(function(){return Kn})),i.d(n,"QDialog",(function(){return _o})),i.d(n,"QDrawer",(function(){return vo})),i.d(n,"QEditor",(function(){return Zo})),i.d(n,"QExpansionItem",(function(){return os})),i.d(n,"QFab",(function(){return rs})),i.d(n,"QFabAction",(function(){return as})),i.d(n,"QField",(function(){return yo})),i.d(n,"QFooter",(function(){return ls})),i.d(n,"QForm",(function(){return cs})),i.d(n,"QHeader",(function(){return us})),i.d(n,"QIcon",(function(){return Ft})),i.d(n,"QImg",(function(){return hs})),i.d(n,"QInfiniteScroll",(function(){return ds})),i.d(n,"QInnerLoading",(function(){return ps})),i.d(n,"QInput",(function(){return Ao})),i.d(n,"QIntersection",(function(){return vs})),i.d(n,"QList",(function(){return No})),i.d(n,"QItem",(function(){return Lo})),i.d(n,"QItemSection",(function(){return Do})),i.d(n,"QItemLabel",(function(){return ts})),i.d(n,"QKnob",(function(){return ys})),i.d(n,"QLayout",(function(){return Es})),i.d(n,"QMarkupTable",(function(){return Ss})),i.d(n,"QMenu",(function(){return hi})),i.d(n,"QNoSsr",(function(){return Cs})),i.d(n,"QOptionGroup",(function(){return Is})),i.d(n,"QPage",(function(){return xs})),i.d(n,"QPageContainer",(function(){return Os})),i.d(n,"QPageScroller",(function(){return Ms})),i.d(n,"QPageSticky",(function(){return As})),i.d(n,"QPagination",(function(){return Ns})),i.d(n,"QParallax",(function(){return Ds})),i.d(n,"QPopupEdit",(function(){return Ps})),i.d(n,"QPopupProxy",(function(){return Fs})),i.d(n,"QLinearProgress",(function(){return Us})),i.d(n,"QPullToRefresh",(function(){return Gs})),i.d(n,"QRadio",(function(){return ks})),i.d(n,"QRange",(function(){return zs})),i.d(n,"QRating",(function(){return Xs})),i.d(n,"QResizeObserver",(function(){return en})),i.d(n,"QScrollArea",(function(){return Ys})),i.d(n,"QScrollObserver",(function(){return Ts})),i.d(n,"QSelect",(function(){return or})),i.d(n,"QSeparator",(function(){return is})),i.d(n,"QSlideItem",(function(){return rr})),i.d(n,"QSlideTransition",(function(){return es})),i.d(n,"QSlider",(function(){return Zi})),i.d(n,"QSpace",(function(){return ar})),i.d(n,"QSpinner",(function(){return Qt})),i.d(n,"QSpinnerAudio",(function(){return lr})),i.d(n,"QSpinnerBall",(function(){return cr})),i.d(n,"QSpinnerBars",(function(){return ur})),i.d(n,"QSpinnerComment",(function(){return hr})),i.d(n,"QSpinnerCube",(function(){return dr})),i.d(n,"QSpinnerDots",(function(){return pr})),i.d(n,"QSpinnerFacebook",(function(){return _r})),i.d(n,"QSpinnerGears",(function(){return gr})),i.d(n,"QSpinnerGrid",(function(){return fr})),i.d(n,"QSpinnerHearts",(function(){return mr})),i.d(n,"QSpinnerHourglass",(function(){return vr})),i.d(n,"QSpinnerInfinity",(function(){return br})),i.d(n,"QSpinnerIos",(function(){return yr})),i.d(n,"QSpinnerOval",(function(){return Tr})),i.d(n,"QSpinnerPie",(function(){return Er})),i.d(n,"QSpinnerPuff",(function(){return Sr})),i.d(n,"QSpinnerRadio",(function(){return Cr})),i.d(n,"QSpinnerRings",(function(){return kr})),i.d(n,"QSpinnerTail",(function(){return wr})),i.d(n,"QSplitter",(function(){return Rr})),i.d(n,"QStep",(function(){return Or})),i.d(n,"QStepper",(function(){return Ar})),i.d(n,"QStepperNavigation",(function(){return Mr})),i.d(n,"QTabPanels",(function(){return dn})),i.d(n,"QTabPanel",(function(){return pn})),i.d(n,"QTable",(function(){return Jr})),i.d(n,"QTh",(function(){return Lr})),i.d(n,"QTr",(function(){return Qr})),i.d(n,"QTd",(function(){return Zr})),i.d(n,"QTabs",(function(){return ln})),i.d(n,"QTab",(function(){return hn})),i.d(n,"QRouteTab",(function(){return oa})),i.d(n,"QTime",(function(){return sa})),i.d(n,"QTimeline",(function(){return ra})),i.d(n,"QTimelineEntry",(function(){return aa})),i.d(n,"QToggle",(function(){return ws})),i.d(n,"QToolbar",(function(){return la})),i.d(n,"QToolbarTitle",(function(){return ca})),i.d(n,"QTooltip",(function(){return Mo})),i.d(n,"QTree",(function(){return ua})),i.d(n,"QUploader",(function(){return _a})),i.d(n,"QUploaderBase",(function(){return ha})),i.d(n,"QUploaderAddTrigger",(function(){return ga})),i.d(n,"QVideo",(function(){return fa})),i.d(n,"QVirtualScroll",(function(){return Ur}));var o={};i.r(o),i.d(o,"ClosePopup",(function(){return va})),i.d(o,"GoBack",(function(){return ba})),i.d(o,"Intersection",(function(){return ms})),i.d(o,"Mutation",(function(){return Sa})),i.d(o,"Ripple",(function(){return se})),i.d(o,"ScrollFire",(function(){return ka})),i.d(o,"Scroll",(function(){return Ra})),i.d(o,"TouchHold",(function(){return xa})),i.d(o,"TouchPan",(function(){return Yi})),i.d(o,"TouchRepeat",(function(){return Na})),i.d(o,"TouchSwipe",(function(){return vi}));var s={};i.r(s),i.d(s,"AddressbarColor",(function(){return Fa})),i.d(s,"AppFullscreen",(function(){return Ua})),i.d(s,"AppVisibility",(function(){return Wa})),i.d(s,"BottomSheet",(function(){return za})),i.d(s,"Cookies",(function(){return il})),i.d(s,"Dark",(function(){return B})),i.d(s,"Dialog",(function(){return ol})),i.d(s,"LoadingBar",(function(){return sl})),i.d(s,"Loading",(function(){return dl})),i.d(s,"Meta",(function(){return xl})),i.d(s,"Notify",(function(){return Ll})),i.d(s,"Platform",(function(){return v})),i.d(s,"Screen",(function(){return L})),i.d(s,"LocalStorage",(function(){return Hl})),i.d(s,"SessionStorage",(function(){return Vl}));var r=i("c0a8"),a=i("2b0e");const l="undefined"===typeof window;let c=!1,u=l;function h(t,e){const i=/(edge|edga|edgios)\/([\w.]+)/.exec(t)||/(opr)[\/]([\w.]+)/.exec(t)||/(vivaldi)[\/]([\w.]+)/.exec(t)||/(chrome|crios)[\/]([\w.]+)/.exec(t)||/(iemobile)[\/]([\w.]+)/.exec(t)||/(version)(applewebkit)[\/]([\w.]+).*(safari)[\/]([\w.]+)/.exec(t)||/(webkit)[\/]([\w.]+).*(version)[\/]([\w.]+).*(safari)[\/]([\w.]+)/.exec(t)||/(firefox|fxios)[\/]([\w.]+)/.exec(t)||/(webkit)[\/]([\w.]+)/.exec(t)||/(opera)(?:.*version|)[\/]([\w.]+)/.exec(t)||/(msie) ([\w.]+)/.exec(t)||t.indexOf("trident")>=0&&/(rv)(?::| )([\w.]+)/.exec(t)||t.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(t)||[];return{browser:i[5]||i[3]||i[1]||"",version:i[2]||i[4]||"0",versionNumber:i[4]||i[2]||"0",platform:e[0]||""}}function d(t){return/(ipad)/.exec(t)||/(ipod)/.exec(t)||/(windows phone)/.exec(t)||/(iphone)/.exec(t)||/(kindle)/.exec(t)||/(silk)/.exec(t)||/(android)/.exec(t)||/(win)/.exec(t)||/(mac)/.exec(t)||/(linux)/.exec(t)||/(cros)/.exec(t)||/(playbook)/.exec(t)||/(bb)/.exec(t)||/(blackberry)/.exec(t)||[]}function p(t){const e=d(t),i=h(t,e),n={};i.browser&&(n[i.browser]=!0,n.version=i.version,n.versionNumber=parseInt(i.versionNumber,10)),i.platform&&(n[i.platform]=!0);const o=n.android||n.ios||n.bb||n.blackberry||n.ipad||n.iphone||n.ipod||n.kindle||n.playbook||n.silk||n["windows phone"];return!0===o||t.indexOf("mobile")>-1?(n.mobile=!0,n.edga||n.edgios?(n.edge=!0,i.browser="edge"):n.crios?(n.chrome=!0,i.browser="chrome"):n.fxios&&(n.firefox=!0,i.browser="firefox")):n.desktop=!0,(n.ipod||n.ipad||n.iphone)&&(n.ios=!0),n["windows phone"]&&(n.winphone=!0,delete n["windows phone"]),(n.chrome||n.opr||n.safari||n.vivaldi||!0===n.mobile&&!0!==n.ios&&!0!==o)&&(n.webkit=!0),(n.rv||n.iemobile)&&(i.browser="ie",n.ie=!0),(n.safari&&n.blackberry||n.bb)&&(i.browser="blackberry",n.blackberry=!0),n.safari&&n.playbook&&(i.browser="playbook",n.playbook=!0),n.opr&&(i.browser="opera",n.opera=!0),n.safari&&n.android&&(i.browser="android",n.android=!0),n.safari&&n.kindle&&(i.browser="kindle",n.kindle=!0),n.safari&&n.silk&&(i.browser="silk",n.silk=!0),n.vivaldi&&(i.browser="vivaldi",n.vivaldi=!0),n.name=i.browser,n.platform=i.platform,!1===l&&(t.indexOf("electron")>-1?n.electron=!0:document.location.href.indexOf("-extension://")>-1?n.bex=!0:void 0!==window.Capacitor?(n.capacitor=!0,n.nativeMobile=!0,n.nativeMobileWrapper="capacitor"):void 0===window._cordovaNative&&void 0===window.cordova||(n.cordova=!0,n.nativeMobile=!0,n.nativeMobileWrapper="cordova"),c=void 0===n.nativeMobile&&void 0===n.electron&&!!document.querySelector("[data-server-rendered]"),!0===c&&(u=!0)),n}const _=!1===l?(navigator.userAgent||navigator.vendor||window.opera).toLowerCase():"",g={has:{touch:!1,webStorage:!1},within:{iframe:!1}},f=!1===l?{userAgent:_,is:p(_),has:{touch:(()=>"ontouchstart"in window||window.navigator.maxTouchPoints>0)(),webStorage:(()=>{try{if(window.localStorage)return!0}catch(t){}return!1})()},within:{iframe:window.self!==window.top}}:g,m={install(t,e){!0===l?e.server.push((t,e)=>{t.platform=this.parseSSR(e.ssr)}):!0===c?(Object.assign(this,f,g),e.takeover.push(t=>{u=c=!1,Object.assign(t.platform,f)}),a["a"].util.defineReactive(t,"platform",this)):(Object.assign(this,f),t.platform=this)}};!0===l&&(m.parseSSR=t=>{const e=(t.req.headers["user-agent"]||t.req.headers["User-Agent"]||"").toLowerCase();return{...f,userAgent:e,is:p(e)}});var v=m;const b={hasPassive:!1,passiveCapture:!0,notPassiveCapture:!0};try{var y=Object.defineProperty({},"passive",{get(){Object.assign(b,{hasPassive:!0,passive:{passive:!0},notPassive:{passive:!1},passiveCapture:{passive:!0,capture:!0},notPassiveCapture:{passive:!1,capture:!0}})}});window.addEventListener("qtest",null,y),window.removeEventListener("qtest",null,y)}catch(Ul){}function T(t){return 0===t.button}function E(t){return t.touches&&t.touches[0]?t=t.touches[0]:t.changedTouches&&t.changedTouches[0]?t=t.changedTouches[0]:t.targetTouches&&t.targetTouches[0]&&(t=t.targetTouches[0]),{top:t.clientY,left:t.clientX}}function S(t){if(t.path)return t.path;if(t.composedPath)return t.composedPath();const e=[];let i=t.target;while(i){if(e.push(i),"HTML"===i.tagName)return e.push(document),e.push(window),e;i=i.parentElement}}const C=40,k=800;function w(t){let e=t.deltaX,i=t.deltaY;if((e||i)&&t.deltaMode){const n=1===t.deltaMode?C:k;e*=n,i*=n}return t.shiftKey&&!e&&([i,e]=[e,i]),{x:e,y:i}}function R(t){t.stopPropagation()}function I(t){!1!==t.cancelable&&t.preventDefault()}function x(t){!1!==t.cancelable&&t.preventDefault(),t.stopPropagation()}function O(t,e){if(void 0===t||!0===e&&!0===t.__dragPrevented)return;const i=!0===e?t=>{t.__dragPrevented=!0,t.addEventListener("dragstart",I,b.notPassiveCapture)}:t=>{delete t.__dragPrevented,t.removeEventListener("dragstart",I,b.notPassiveCapture)};t.querySelectorAll("a, img").forEach(i)}function A(t,{bubbles:e=!1,cancelable:i=!1}={}){try{return new Event(t,{bubbles:e,cancelable:i})}catch(Ul){const o=document.createEvent("Event");return o.initEvent(t,e,i),o}}var M=function(t,e=250,i){let n;function o(){const o=arguments,s=()=>{n=void 0,!0!==i&&t.apply(this,o)};clearTimeout(n),!0===i&&void 0===n&&t.apply(this,o),n=setTimeout(s,e)}return o.cancel=()=>{clearTimeout(n)},o};const N=["sm","md","lg","xl"];var L={width:0,height:0,name:"xs",sizes:{sm:600,md:1024,lg:1440,xl:1920},lt:{sm:!0,md:!0,lg:!0,xl:!0},gt:{xs:!1,sm:!1,md:!1,lg:!1},xs:!0,sm:!1,md:!1,lg:!1,xl:!1,setSizes(){},setDebounce(){},install(t,e,i){if(!0===l)return void(t.screen=this);const n=void 0!==i.screen&&!0===i.screen.bodyClasses,o=t=>{const e=window.innerWidth,i=window.innerHeight;if(i!==this.height&&(this.height=i),e!==this.width)this.width=e;else if(!0!==t)return;let o=this.sizes;this.gt.xs=e>=o.sm,this.gt.sm=e>=o.md,this.gt.md=e>=o.lg,this.gt.lg=e>=o.xl,this.lt.sm=e<o.sm,this.lt.md=e<o.md,this.lt.lg=e<o.lg,this.lt.xl=e<o.xl,this.xs=this.lt.sm,this.sm=!0===this.gt.xs&&!0===this.lt.md,this.md=!0===this.gt.sm&&!0===this.lt.lg,this.lg=!0===this.gt.md&&!0===this.lt.xl,this.xl=this.gt.lg,o=(!0===this.xs?"xs":!0===this.sm&&"sm")||!0===this.md&&"md"||!0===this.lg&&"lg"||"xl",o!==this.name&&(!0===n&&(document.body.classList.remove(`screen--${this.name}`),document.body.classList.add(`screen--${o}`)),this.name=o)};let s,r={},u=16;this.setSizes=t=>{N.forEach(e=>{void 0!==t[e]&&(r[e]=t[e])})},this.setDebounce=t=>{u=t};const h=()=>{const t=getComputedStyle(document.body),e=void 0!==window.visualViewport?window.visualViewport:window;t.getPropertyValue("--q-size-sm")&&N.forEach(e=>{this.sizes[e]=parseInt(t.getPropertyValue(`--q-size-${e}`),10)}),this.setSizes=t=>{N.forEach(e=>{t[e]&&(this.sizes[e]=t[e])}),o(!0)},this.setDebounce=t=>{void 0!==s&&e.removeEventListener("resize",s,b.passive),s=t>0?M(o,t):o,e.addEventListener("resize",s,b.passive)},this.setDebounce(u),Object.keys(r).length>0?(this.setSizes(r),r=void 0):o()};!0===c?e.takeover.push(h):h(),a["a"].util.defineReactive(t,"screen",this)}};const D={isActive:!1,mode:!1,install(t,e,{dark:i}){if(this.isActive=!0===i,!0===l)return e.server.push((t,e)=>{t.dark={isActive:!1,mode:!1,set:i=>{e.ssr.Q_BODY_CLASSES=e.ssr.Q_BODY_CLASSES.replace(" body--light","").replace(" body--dark","")+` body--${!0===i?"dark":"light"}`,t.dark.isActive=!0===i,t.dark.mode=i},toggle:()=>{t.dark.set(!1===t.dark.isActive)}},t.dark.set(i)}),void(this.set=()=>{});if(!0===c){const t=t=>{this.__fromSSR=t},n=this.set;this.set=t,t(i),e.takeover.push(()=>{this.set=n,this.set(this.__fromSSR)})}else this.set(i);a["a"].util.defineReactive(this,"isActive",this.isActive),a["a"].util.defineReactive(t,"dark",this)},set(t){this.mode=t,"auto"===t?(void 0===this.__media&&(this.__media=window.matchMedia("(prefers-color-scheme: dark)"),this.__updateMedia=()=>{this.set("auto")},this.__media.addListener(this.__updateMedia)),t=this.__media.matches):void 0!==this.__media&&(this.__media.removeListener(this.__updateMedia),this.__media=void 0),this.isActive=!0===t,document.body.classList.remove(`body--${!0===t?"light":"dark"}`),document.body.classList.add(`body--${!0===t?"dark":"light"}`)},toggle(){D.set(!1===D.isActive)},__media:void 0};var B=D;const P=()=>!0;var F={__history:[],add:()=>{},remove:()=>{},install(t,e){if(!0===l||!0!==t.platform.is.cordova)return;this.add=t=>{void 0===t.condition&&(t.condition=P),this.__history.push(t)},this.remove=t=>{const e=this.__history.indexOf(t);e>=0&&this.__history.splice(e,1)};const i=void 0===e.cordova||!1!==e.cordova.backButtonExit;document.addEventListener("deviceready",()=>{document.addEventListener("backbutton",()=>{if(this.__history.length){const t=this.__history[this.__history.length-1];!0===t.condition()&&(this.__history.pop(),t.handler())}else i&&"#/"===window.location.hash?navigator.app.exitApp():window.history.back()},!1)})}},H={isoName:"en-us",nativeName:"English (US)",label:{clear:"Clear",ok:"OK",cancel:"Cancel",close:"Close",set:"Set",select:"Select",reset:"Reset",remove:"Remove",update:"Update",create:"Create",search:"Search",filter:"Filter",refresh:"Refresh"},date:{days:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),daysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),firstDayOfWeek:0,format24h:!1},table:{noData:"No data available",noResults:"No matching records found",loading:"Loading...",selectedRecords:function(t){return 1===t?"1 record selected.":(0===t?"No":t)+" records selected."},recordsPerPage:"Records per page:",allRows:"All",pagination:function(t,e,i){return t+"-"+e+" of "+i},columns:"Columns"},editor:{url:"URL",bold:"Bold",italic:"Italic",strikethrough:"Strikethrough",underline:"Underline",unorderedList:"Unordered List",orderedList:"Ordered List",subscript:"Subscript",superscript:"Superscript",hyperlink:"Hyperlink",toggleFullscreen:"Toggle Fullscreen",quote:"Quote",left:"Left align",center:"Center align",right:"Right align",justify:"Justify align",print:"Print",outdent:"Decrease indentation",indent:"Increase indentation",removeFormat:"Remove formatting",formatting:"Formatting",fontSize:"Font Size",align:"Align",hr:"Insert Horizontal Rule",undo:"Undo",redo:"Redo",heading1:"Heading 1",heading2:"Heading 2",heading3:"Heading 3",heading4:"Heading 4",heading5:"Heading 5",heading6:"Heading 6",paragraph:"Paragraph",code:"Code",size1:"Very small",size2:"A bit small",size3:"Normal",size4:"Medium-large",size5:"Big",size6:"Very big",size7:"Maximum",defaultFont:"Default Font",viewSource:"View Source"},tree:{noNodes:"No nodes available",noResults:"No matching nodes found"}},V={install(t,e,i){!0===l&&e.server.push((t,e)=>{const i={lang:t.lang.isoName,dir:!0===t.lang.rtl?"rtl":"ltr"},n=e.ssr.setHtmlAttrs;"function"===typeof n?n(i):e.ssr.Q_HTML_ATTRS=Object.keys(i).map(t=>`${t}=${i[t]}`).join(" ")}),this.set=(e=H)=>{if(e.set=this.set,e.getLocale=this.getLocale,e.rtl=!0===e.rtl||!1,!1===l){const t=document.documentElement;t.setAttribute("dir",e.rtl?"rtl":"ltr"),t.setAttribute("lang",e.isoName)}!0===l||void 0!==t.lang?t.lang=e:a["a"].util.defineReactive(t,"lang",e),this.isoName=e.isoName,this.nativeName=e.nativeName,this.props=e},this.set(i)},getLocale(){if(!0===l)return;let t=navigator.language||navigator.languages[0]||navigator.browserLanguage||navigator.userLanguage||navigator.systemLanguage;return t?t.toLowerCase():void 0}};function U({r:t,g:e,b:i,a:n}){const o=void 0!==n;if(t=Math.round(t),e=Math.round(e),i=Math.round(i),t>255||e>255||i>255||o&&n>100)throw new TypeError("Expected 3 numbers below 256 (and optionally one below 100)");return n=o?(256|Math.round(255*n/100)).toString(16).slice(1):"","#"+(i|e<<8|t<<16|1<<24).toString(16).slice(1)+n}function W({r:t,g:e,b:i,a:n}){return`rgb${void 0!==n?"a":""}(${t},${e},${i}${void 0!==n?","+n/100:""})`}function $(t){if("string"!==typeof t)throw new TypeError("Expected a string");if(t=t.replace(/ /g,""),t.startsWith("#"))return G(t);const e=t.substring(t.indexOf("(")+1,t.length-1).split(",");return{r:parseInt(e[0],10),g:parseInt(e[1],10),b:parseInt(e[2],10),a:void 0!==e[3]?100*parseFloat(e[3]):void 0}}function G(t){if("string"!==typeof t)throw new TypeError("Expected a string");t=t.replace(/^#/,""),3===t.length?t=t[0]+t[0]+t[1]+t[1]+t[2]+t[2]:4===t.length&&(t=t[0]+t[0]+t[1]+t[1]+t[2]+t[2]+t[3]+t[3]);let e=parseInt(t,16);return t.length>6?{r:e>>24&255,g:e>>16&255,b:e>>8&255,a:Math.round((255&e)/2.55)}:{r:e>>16,g:e>>8&255,b:255&e}}function q({h:t,s:e,v:i,a:n}){let o,s,r,a,l,c,u,h;switch(e/=100,i/=100,t/=360,a=Math.floor(6*t),l=6*t-a,c=i*(1-e),u=i*(1-l*e),h=i*(1-(1-l)*e),a%6){case 0:o=i,s=h,r=c;break;case 1:o=u,s=i,r=c;break;case 2:o=c,s=i,r=h;break;case 3:o=c,s=u,r=i;break;case 4:o=h,s=c,r=i;break;case 5:o=i,s=c,r=u;break}return{r:Math.round(255*o),g:Math.round(255*s),b:Math.round(255*r),a:n}}function z({r:t,g:e,b:i,a:n}){let o,s=Math.max(t,e,i),r=Math.min(t,e,i),a=s-r,l=0===s?0:a/s,c=s/255;switch(s){case r:o=0;break;case t:o=e-i+a*(e<i?6:0),o/=6*a;break;case e:o=i-t+2*a,o/=6*a;break;case i:o=t-e+4*a,o/=6*a;break}return{h:Math.round(360*o),s:Math.round(100*l),v:Math.round(100*c),a:n}}const X=/^\s*rgb(a)?\s*\((\s*(\d+)\s*,\s*?){2}(\d+)\s*,?\s*([01]?\.?\d*?)?\s*\)\s*$/;function Y(t){if("string"!==typeof t)throw new TypeError("Expected a string");const e=X.exec(t);if(e){const t={r:Math.min(255,parseInt(e[2],10)),g:Math.min(255,parseInt(e[3],10)),b:Math.min(255,parseInt(e[4],10))};return e[1]&&(t.a=Math.min(1,parseFloat(e[5]))),t}return G(t)}function j(t){if("string"!==typeof t&&(!t||void 0===t.r))throw new TypeError("Expected a string or a {r, g, b} object as color");const e="string"===typeof t?Y(t):t,i=e.r/255,n=e.g/255,o=e.b/255,s=i<=.03928?i/12.92:Math.pow((i+.055)/1.055,2.4),r=n<=.03928?n/12.92:Math.pow((n+.055)/1.055,2.4),a=o<=.03928?o/12.92:Math.pow((o+.055)/1.055,2.4);return.2126*s+.7152*r+.0722*a}function K(t,e,i=document.body){if("string"!==typeof t)throw new TypeError("Expected a string as color");if("string"!==typeof e)throw new TypeError("Expected a string as value");if(!(i instanceof Element))throw new TypeError("Expected a DOM element");i.style.setProperty(`--q-color-${t}`,e)}function J(t,e=document.body){if("string"!==typeof t)throw new TypeError("Expected a string as color");if(!(e instanceof Element))throw new TypeError("Expected a DOM element");return getComputedStyle(e).getPropertyValue(`--q-color-${t}`).trim()||null}let Q=!1;function Z(t){Q=!0===t.isComposing}function tt(t){return!0===Q||t!==Object(t)||!0===t.isComposing||!0===t.qKeyEvent}function et(t,e){return!0!==Q&&t===Object(t)&&!0!==t.isComposing&&!0!==t.qKeyEvent&&[].concat(e).includes(t.keyCode)}function it(t){return!0===t.ios?"ios":!0===t.android?"android":void 0}function nt({is:t,has:e,within:i},n){const o=[!0===t.desktop?"desktop":"mobile",`${!1===e.touch?"no-":""}touch`];if(!0===t.mobile){const e=it(t);void 0!==e&&o.push("platform-"+e)}if(!0===t.nativeMobile){const e=t.nativeMobileWrapper;o.push(e),o.push("native-mobile"),!0!==t.ios||void 0!==n[e]&&!1===n[e].iosStatusBarPadding||o.push("q-ios-padding")}else!0===t.electron?o.push("electron"):!0===t.bex&&o.push("bex");return!0===i.iframe&&o.push("within-iframe"),o}function ot(t){!0===f.is.ie&&11===f.is.versionNumber?t.forEach(t=>document.body.classList.add(t)):document.body.classList.add.apply(document.body.classList,t)}function st(){const t=[];!0===f.has.touch&&(document.body.classList.remove("no-touch"),t.push("touch")),!0===f.within.iframe&&t.push("within-iframe"),t.length>0&&ot(t)}function rt(t){for(let e in t)K(e,t[e])}var at={install(t,e){!0===l?t.server.push((t,i)=>{const n=nt(t.platform,e),o=i.ssr.setBodyClasses;void 0!==e.screen&&!0===e.screen.bodyClass&&n.push("screen--xs"),"function"===typeof o?o(n):i.ssr.Q_BODY_CLASSES=n.join(" ")}):(!0===c?st():ot(nt(f,e)),void 0!==e.brand&&rt(e.brand),!0===f.is.ios&&document.body.addEventListener("touchstart",()=>{}),window.addEventListener("keydown",Z,!0))}},lt={name:"material-icons",type:{positive:"check_circle",negative:"warning",info:"info",warning:"priority_high"},arrow:{up:"arrow_upward",right:"arrow_forward",down:"arrow_downward",left:"arrow_back",dropdown:"arrow_drop_down"},chevron:{left:"chevron_left",right:"chevron_right"},colorPicker:{spectrum:"gradient",tune:"tune",palette:"style"},pullToRefresh:{icon:"refresh"},carousel:{left:"chevron_left",right:"chevron_right",navigationIcon:"lens",thumbnails:"view_carousel"},chip:{remove:"cancel",selected:"check"},datetime:{arrowLeft:"chevron_left",arrowRight:"chevron_right",now:"access_time",today:"today"},editor:{bold:"format_bold",italic:"format_italic",strikethrough:"strikethrough_s",underline:"format_underlined",unorderedList:"format_list_bulleted",orderedList:"format_list_numbered",subscript:"vertical_align_bottom",superscript:"vertical_align_top",hyperlink:"link",toggleFullscreen:"fullscreen",quote:"format_quote",left:"format_align_left",center:"format_align_center",right:"format_align_right",justify:"format_align_justify",print:"print",outdent:"format_indent_decrease",indent:"format_indent_increase",removeFormat:"format_clear",formatting:"text_format",fontSize:"format_size",align:"format_align_left",hr:"remove",undo:"undo",redo:"redo",heading:"format_size",code:"code",size:"format_size",font:"font_download",viewSource:"code"},expansionItem:{icon:"keyboard_arrow_down",denseIcon:"arrow_drop_down"},fab:{icon:"add",activeIcon:"close"},field:{clear:"cancel",error:"error"},pagination:{first:"first_page",prev:"keyboard_arrow_left",next:"keyboard_arrow_right",last:"last_page"},rating:{icon:"grade"},stepper:{done:"check",active:"edit",error:"warning"},tabs:{left:"chevron_left",right:"chevron_right",up:"keyboard_arrow_up",down:"keyboard_arrow_down"},table:{arrowUp:"arrow_upward",warning:"warning",prevPage:"chevron_left",nextPage:"chevron_right"},tree:{icon:"play_arrow"},uploader:{done:"done",clear:"clear",add:"add_box",upload:"cloud_upload",removeQueue:"clear_all",removeUploaded:"done_all"}},ct={install(t,e){this.set=(e=lt)=>{e.set=this.set,!0===l||void 0!==t.iconSet?t.iconSet=e:a["a"].util.defineReactive(t,"iconSet",e),this.name=e.name,this.def=e},this.set(e),!0!==l&&a["a"].util.defineReactive(t,"iconMapFn",void 0)}};const ut=[v,L,B],ht={server:[],takeover:[]},dt={version:r["a"]};var pt=function(t,e={}){if(!0===this.__qInstalled)return;this.__qInstalled=!0;const i=e.config||{};if(v.install(dt,ht),at.install(ht,i),B.install(dt,ht,i),L.install(dt,ht,i),F.install(dt,i),V.install(dt,ht,e.lang),ct.install(dt,e.iconSet),!0===l?t.mixin({beforeCreate(){this.$q=this.$root.$options.$q}}):t.prototype.$q=dt,e.components&&Object.keys(e.components).forEach(i=>{const n=e.components[i];"function"===typeof n&&t.component(n.options.name,n)}),e.directives&&Object.keys(e.directives).forEach(i=>{const n=e.directives[i];void 0!==n.name&&void 0!==n.unbind&&t.directive(n.name,n)}),e.plugins){const t={$q:dt,queues:ht,cfg:i};Object.keys(e.plugins).forEach(i=>{const n=e.plugins[i];"function"===typeof n.install&&!1===ut.includes(n)&&n.install(t)})}};const _t={mounted(){ht.takeover.forEach(t=>{t(this.$q)})}};var gt=function(t){if(t.ssr){const e={...dt};Object.assign(t.ssr,{Q_HEAD_TAGS:"",Q_BODY_ATTRS:"",Q_BODY_TAGS:""}),ht.server.forEach(i=>{i(e,t)}),t.app.$q=e}else{const e=t.app.mixins||[];!1===e.includes(_t)&&(t.app.mixins=e.concat(_t))}},ft={version:r["a"],install:pt,lang:V,iconSet:ct,ssrUpdate:gt};const mt=["B","KB","MB","GB","TB","PB"];function vt(t){let e=0;while(parseInt(t,10)>=1024&&e<mt.length-1)t/=1024,++e;return`${t.toFixed(1)} ${mt[e]}`}function bt(t,e,i){return i<=e?e:Math.min(i,Math.max(e,t))}function yt(t,e,i){if(i<=e)return e;const n=i-e+1;let o=e+(t-e)%n;return o<e&&(o=n+o),0===o?0:o}function Tt(t,e=2,i="0"){if(void 0===t||null===t)return t;let n=""+t;return n.length>=e?n:new Array(e-n.length+1).join(i)+n}const Et=l?null:XMLHttpRequest,St=l?null:Et.prototype.send,Ct=[],kt=[];let wt=0;function Rt({p:t,pos:e,active:i,horiz:n,reverse:o,dir:s}){let r=1,a=1;return n?(o&&(r=-1),"bottom"===e&&(a=-1),{transform:`translate3d(${r*(t-100)}%,${i?0:-200*a}%,0)`}):(o&&(a=-1),"right"===e&&(r=-1),{transform:`translate3d(${i?0:s*r*-200}%,${a*(t-100)}%,0)`})}function It(t,e){return"number"!==typeof e&&(e=t<25?3*Math.random()+3:t<65?3*Math.random():t<85?2*Math.random():t<99?.6:0),bt(t+e,0,100)}function xt(t,e){function i(){kt.forEach(t=>{t()})}Ct.push(t),kt.push(e),wt++,wt>1||(Et.prototype.send=function(){Ct.forEach(t=>{t()}),this.addEventListener("loadend",i,!1),St.apply(this,arguments)})}function Ot(t,e){Ct.splice(Ct.indexOf(t),1),kt.splice(kt.indexOf(e),1),wt=Math.max(0,wt-1),wt||(Et.prototype.send=St)}var At=a["a"].extend({name:"QAjaxBar",props:{position:{type:String,default:"top",validator(t){return["top","right","bottom","left"].includes(t)}},size:{type:String,default:"2px"},color:{type:String,default:"red"},skipHijack:Boolean,reverse:Boolean},data(){return{calls:0,progress:0,onScreen:!1,animate:!0}},computed:{classes(){return`q-loading-bar q-loading-bar--${this.position} bg-${this.color}`+(!0===this.animate?"":" no-transition")},style(){const t=this.onScreen;let e=Rt({p:this.progress,pos:this.position,active:t,horiz:this.horizontal,reverse:!0===this.$q.lang.rtl&&["top","bottom"].includes(this.position)?!this.reverse:this.reverse,dir:!0===this.$q.lang.rtl?-1:1});return e[this.sizeProp]=this.size,e.opacity=t?1:0,e},horizontal(){return"top"===this.position||"bottom"===this.position},sizeProp(){return this.horizontal?"height":"width"}},methods:{start(t=300){const e=this.speed;this.speed=Math.max(0,t)||0,this.calls++,this.calls>1?0===e&&t>0?this.__work():e>0&&t<=0&&clearTimeout(this.timer):(clearTimeout(this.timer),this.$emit("start"),this.progress=0,!0!==this.onScreen&&(this.onScreen=!0,this.animate=!1,this.timer=setTimeout(()=>{this.animate=!0,t>0&&this.__work()},100)))},increment(t){this.calls>0&&(this.progress=It(this.progress,t))},stop(){if(this.calls=Math.max(0,this.calls-1),this.calls>0)return;clearTimeout(this.timer),this.$emit("stop");const t=()=>{this.animate=!0,this.progress=100,this.timer=setTimeout(()=>{this.onScreen=!1},1e3)};0===this.progress?this.timer=setTimeout(t,1):t()},__work(){this.progress<100&&(this.timer=setTimeout(()=>{this.increment(),this.__work()},this.speed))}},mounted(){!0!==this.skipHijack&&(this.hijacked=!0,xt(this.start,this.stop))},beforeDestroy(){clearTimeout(this.timer),this.hijacked&&Ot(this.start,this.stop)},render(t){return t("div",{class:this.classes,style:this.style})}});const Mt={xs:18,sm:24,md:32,lg:38,xl:46};var Nt={props:{size:String},computed:{sizeStyle(){if(void 0!==this.size)return{fontSize:this.size in Mt?`${Mt[this.size]}px`:this.size}}}};function Lt(t,e,i){return void 0!==t.$scopedSlots[e]?t.$scopedSlots[e]():i}function Dt(t,e,i){return void 0!==t.$scopedSlots[e]?t.$scopedSlots[e]().slice():i}function Bt(t,e,i){return void 0!==e.$scopedSlots[i]?t.concat(e.$scopedSlots[i]()):t}function Pt(t,e,i){if(void 0===e.$scopedSlots[i])return t;const n=e.$scopedSlots[i]();return void 0!==t?t.concat(n):n}var Ft=a["a"].extend({name:"QIcon",mixins:[Nt],props:{name:String,color:String,left:Boolean,right:Boolean},computed:{type(){let t,e=this.name;if(!e)return{cls:void 0,content:void 0};const i="q-icon"+(!0===this.left?" on-left":"")+(!0===this.right?" on-right":"")+(void 0!==this.color?` text-${this.color}`:"");if(void 0!==this.$q.iconMapFn){const t=this.$q.iconMapFn(e);if(void 0!==t){if(void 0===t.icon)return{cls:t.cls+" "+i,content:void 0!==t.content?t.content:" "};e=t.icon}}if(!0===e.startsWith("img:"))return{img:!0,cls:i,src:e.substring(4)};let n=" ";return/^fa[s|r|l|b|d]{0,1} /.test(e)||!0===e.startsWith("icon-")?t=e:!0===e.startsWith("bt-")?t=`bt ${e}`:!0===e.startsWith("eva-")?t=`eva ${e}`:!0===/^ion-(md|ios|logo)/.test(e)?t=`ionicons ${e}`:!0===e.startsWith("ion-")?t=`ionicons ion-${!0===this.$q.platform.is.ios?"ios":"md"}${e.substr(3)}`:!0===e.startsWith("mdi-")?t=`mdi ${e}`:!0===e.startsWith("iconfont ")?t=`${e}`:!0===e.startsWith("ti-")?t=`themify-icon ${e}`:(t="material-icons",!0===e.startsWith("o_")?(e=e.substring(2),t+="-outlined"):!0===e.startsWith("r_")?(e=e.substring(2),t+="-round"):!0===e.startsWith("s_")&&(e=e.substring(2),t+="-sharp"),n=e),{cls:t+" "+i,content:n}}},render(t){return!0===this.type.img?t("img",{staticClass:this.type.cls,style:this.sizeStyle,on:this.$listeners,attrs:{src:this.type.src}}):t("i",{staticClass:this.type.cls,style:this.sizeStyle,on:this.$listeners,attrs:{"aria-hidden":!0}},Bt([this.type.content],this,"default"))}}),Ht=a["a"].extend({name:"QAvatar",mixins:[Nt],props:{fontSize:String,color:String,textColor:String,icon:String,square:Boolean,rounded:Boolean},computed:{contentClass(){return{[`bg-${this.color}`]:this.color,[`text-${this.textColor} q-chip--colored`]:this.textColor,"q-avatar__content--square":this.square,"rounded-borders":this.rounded}},contentStyle(){if(this.fontSize)return{fontSize:this.fontSize}}},render(t){const e=void 0!==this.icon?[t(Ft,{props:{name:this.icon}})]:void 0;return t("div",{staticClass:"q-avatar",style:this.sizeStyle,on:this.$listeners},[t("div",{staticClass:"q-avatar__content row flex-center overflow-hidden",class:this.contentClass,style:this.contentStyle},Pt(e,this,"default"))])}}),Vt=a["a"].extend({name:"QBadge",props:{color:String,textColor:String,floating:Boolean,transparent:Boolean,multiLine:Boolean,outline:Boolean,label:[Number,String],align:{type:String,validator:t=>["top","middle","bottom"].includes(t)}},computed:{style(){if(void 0!==this.align)return{verticalAlign:this.align}},classes(){const t=!0===this.outline&&this.color||this.textColor;return"q-badge flex inline items-center no-wrap"+` q-badge--${!0===this.multiLine?"multi":"single"}-line`+(!0===this.outline?" q-badge--outline":void 0!==this.color?` bg-${this.color}`:"")+(void 0!==t?` text-${t}`:"")+(!0===this.floating?" q-badge--floating":"")+(!0===this.transparent?" q-badge--transparent":"")}},render(t){return t("div",{style:this.style,class:this.classes,on:this.$listeners},void 0!==this.label?[this.label]:Lt(this,"default"))}}),Ut={props:{dark:{type:Boolean,default:null}},computed:{isDark(){return null===this.dark?this.$q.dark.isActive:this.dark}}},Wt=a["a"].extend({name:"QBanner",mixins:[Ut],props:{inlineActions:Boolean,dense:Boolean,rounded:Boolean},render(t){const e=Lt(this,"action"),i=[t("div",{staticClass:"q-banner__avatar col-auto row items-center"},Lt(this,"avatar")),t("div",{staticClass:"q-banner__content col text-body2"},Lt(this,"default"))];return void 0!==e&&i.push(t("div",{staticClass:"q-banner__actions row items-center justify-end",class:`col-${!0===this.inlineActions?"auto":"all"}`},e)),t("div",{staticClass:"q-banner row items-center",class:{"q-banner--top-padding":void 0!==e&&!this.inlineActions,"q-banner--dense":this.dense,"q-banner--dark q-dark":this.isDark,"rounded-borders":this.rounded},on:this.$listeners},i)}}),$t=a["a"].extend({name:"QBar",mixins:[Ut],props:{dense:Boolean},computed:{classes(){return`q-bar--${!0===this.dense?"dense":"standard"} `+`q-bar--${!0===this.isDark?"dark":"light"}`}},render(t){return t("div",{staticClass:"q-bar row no-wrap items-center",class:this.classes,on:this.$listeners},Lt(this,"default"))}});const Gt={left:"start",center:"center",right:"end",between:"between",around:"around",evenly:"evenly",stretch:"stretch"},qt=Object.keys(Gt);var zt={props:{align:{type:String,validator:t=>qt.includes(t)}},computed:{alignClass(){const t=void 0===this.align?!0===this.vertical?"stretch":"left":this.align;return`${!0===this.vertical?"items":"justify"}-${Gt[t]}`}}},Xt=a["a"].extend({name:"QBreadcrumbs",mixins:[zt],props:{separator:{type:String,default:"/"},separatorColor:String,activeColor:{type:String,default:"primary"},gutter:{type:String,validator:t=>["none","xs","sm","md","lg","xl"].includes(t),default:"sm"}},computed:{classes(){return`${this.alignClass}${"none"===this.gutter?"":` q-gutter-${this.gutter}`}`},sepClass(){if(this.separatorColor)return`text-${this.separatorColor}`},activeClass(){return`text-${this.activeColor}`}},render(t){const e=Lt(this,"default");if(void 0===e)return;let i=1;const n=[],o=e.filter(t=>void 0!==t.tag&&t.tag.endsWith("-QBreadcrumbsEl")).length,s=void 0!==this.$scopedSlots.separator?this.$scopedSlots.separator:()=>this.separator;return e.forEach(e=>{if(void 0!==e.tag&&e.tag.endsWith("-QBreadcrumbsEl")){const r=i<o;i++,n.push(t("div",{staticClass:"flex items-center",class:r?this.activeClass:"q-breadcrumbs--last"},[e])),r&&n.push(t("div",{staticClass:"q-breadcrumbs__separator",class:this.sepClass},s()))}else n.push(e)}),t("div",{staticClass:"q-breadcrumbs",on:this.$listeners},[t("div",{staticClass:"flex items-center",class:this.classes},n)])}});const Yt={to:[String,Object],exact:Boolean,append:Boolean,replace:Boolean,activeClass:String,exactActiveClass:String,disable:Boolean},jt={props:Yt,computed:{hasRouterLink(){return!0!==this.disable&&void 0!==this.to&&null!==this.to&&""!==this.to},routerLinkProps(){return{to:this.to,exact:this.exact,append:this.append,replace:this.replace,activeClass:this.activeClass||"q-router-link--active",exactActiveClass:this.exactActiveClass||"q-router-link--exact-active",event:!0===this.disable?"":void 0}}}};var Kt=a["a"].extend({name:"QBreadcrumbsEl",mixins:[jt],props:{label:String,icon:String},render(t){const e=[];return void 0!==this.icon&&e.push(t(Ft,{staticClass:"q-breadcrumbs__el-icon",class:void 0!==this.label?"q-breadcrumbs__el-icon--with-label":null,props:{name:this.icon}})),this.label&&e.push(this.label),t(!0===this.hasRouterLink?"router-link":"span",{staticClass:"q-breadcrumbs__el q-link flex inline items-center relative-position",props:!0===this.hasRouterLink?this.routerLinkProps:null,[!0===this.hasRouterLink?"nativeOn":"on"]:this.$listeners},Bt(e,this,"default"))}}),Jt={props:{color:String,size:{type:[Number,String],default:"1em"}},computed:{cSize(){return this.size in Mt?`${Mt[this.size]}px`:this.size},classes(){if(this.color)return`text-${this.color}`}}},Qt=a["a"].extend({name:"QSpinner",mixins:[Jt],props:{thickness:{type:Number,default:5}},render(t){return t("svg",{staticClass:"q-spinner q-spinner-mat",class:this.classes,on:this.$listeners,attrs:{focusable:"false",width:this.cSize,height:this.cSize,viewBox:"25 25 50 50"}},[t("circle",{staticClass:"path",attrs:{cx:"50",cy:"50",r:"20",fill:"none",stroke:"currentColor","stroke-width":this.thickness,"stroke-miterlimit":"10"}})])}});function Zt(t){if(t===window)return{top:0,left:0};const{top:e,left:i}=t.getBoundingClientRect();return{top:e,left:i}}function te(t){return t===window?window.innerHeight:t.getBoundingClientRect().height}function ee(t,e){let i=t.style;Object.keys(e).forEach(t=>{i[t]=e[t]})}function ie(t,e){if(void 0===t||!0===t.contains(e))return!0;for(let i=t.nextElementSibling;null!==i;i=i.nextElementSibling)if(i.contains(e))return!0;return!1}function ne(t,e,i,n){!0===i.modifiers.stop&&R(t);let{center:o,color:s}=i.modifiers;o=!0===o||!0===n;const r=document.createElement("span"),a=document.createElement("span"),l=E(t),{left:c,top:u,width:h,height:d}=e.getBoundingClientRect(),p=Math.sqrt(h*h+d*d),_=p/2,g=`${(h-p)/2}px`,f=o?g:`${l.left-c-_}px`,m=`${(d-p)/2}px`,v=o?m:`${l.top-u-_}px`;a.className="q-ripple__inner",ee(a,{height:`${p}px`,width:`${p}px`,transform:`translate3d(${f}, ${v}, 0) scale3d(0.2, 0.2, 1)`,opacity:0}),r.className=`q-ripple${s?" text-"+s:""}`,r.setAttribute("dir","ltr"),r.appendChild(a),e.appendChild(r);const b=()=>{r.remove(),clearTimeout(y)};i.abort.push(b);let y=setTimeout(()=>{a.classList.add("q-ripple__inner--enter"),a.style.transform=`translate3d(${g}, ${m}, 0) scale3d(1, 1, 1)`,a.style.opacity=.2,y=setTimeout(()=>{a.classList.remove("q-ripple__inner--enter"),a.classList.add("q-ripple__inner--leave"),a.style.opacity=0,y=setTimeout(()=>{r.remove(),i.abort.splice(i.abort.indexOf(b),1)},275)},250)},50)}function oe(t,{value:e,modifiers:i,arg:n}){t.enabled=!1!==e,!0===t.enabled&&(t.modifiers=Object(e)===e?{stop:!0===e.stop||!0===i.stop,center:!0===e.center||!0===i.center,color:e.color||n,keyCodes:[].concat(e.keyCodes||13)}:{stop:i.stop,center:i.center,color:n,keyCodes:[13]})}var se={name:"ripple",inserted(t,e){const i={modifiers:{},abort:[],click(e){!0===i.enabled&&(!0!==f.is.ie||e.clientX>=0)&&ne(e,t,i,!0===e.qKeyEvent)},keyup(e){!0===i.enabled&&!0===et(e,i.modifiers.keyCodes)&&ne(e,t,i,!0)}};oe(i,e),t.__qripple&&(t.__qripple_old=t.__qripple),t.__qripple=i,t.addEventListener("click",i.click,b.passive),t.addEventListener("keyup",i.keyup,b.passive)},update(t,e){void 0!==t.__qripple&&oe(t.__qripple,e)},unbind(t){const e=t.__qripple_old||t.__qripple;void 0!==e&&(e.abort.forEach(t=>{t()}),t.removeEventListener("click",e.click,b.passive),t.removeEventListener("keyup",e.keyup,b.passive),delete t[t.__qripple_old?"__qripple_old":"__qripple"])}},re={directives:{Ripple:se},props:{ripple:{type:[Boolean,Object],default:!0}}};const ae={xs:8,sm:10,md:14,lg:20,xl:24};var le={mixins:[re,zt],props:{type:String,to:[Object,String],replace:Boolean,label:[Number,String],icon:String,iconRight:String,round:Boolean,outline:Boolean,flat:Boolean,unelevated:Boolean,rounded:Boolean,push:Boolean,glossy:Boolean,size:String,fab:Boolean,fabMini:Boolean,color:String,textColor:String,noCaps:Boolean,noWrap:Boolean,dense:Boolean,tabindex:[Number,String],align:{default:"center"},stack:Boolean,stretch:Boolean,loading:{type:Boolean,default:null},disable:Boolean},computed:{style(){if(!1===this.fab&&!1===this.fabMini&&this.size)return{fontSize:this.size in ae?`${ae[this.size]}px`:this.size}},isRound(){return!0===this.round||!0===this.fab||!0===this.fabMini},isActionable(){return!0!==this.disable&&!0!==this.loading},computedTabIndex(){return!0===this.isActionable?this.tabindex||0:-1},hasRouterLink(){return!0!==this.disable&&void 0!==this.to&&null!==this.to&&""!==this.to},isLink(){return"a"===this.type||!0===this.hasRouterLink},design(){return!0===this.flat?"flat":!0===this.outline?"outline":!0===this.push?"push":!0===this.unelevated?"unelevated":"standard"},attrs(){const t={tabindex:this.computedTabIndex};return"a"!==this.type&&(t.type=this.type||"button"),!0===this.hasRouterLink&&(t.href=this.$router.resolve(this.to).href),!0===this.disable&&(t.disabled=!0),t},classes(){let t;return void 0!==this.color?t=!0===this.flat||!0===this.outline?`text-${this.textColor||this.color}`:`bg-${this.color} text-${this.textColor||"white"}`:this.textColor&&(t=`text-${this.textColor}`),`q-btn--${this.design} q-btn--${!0===this.isRound?"round":"rectangle"}`+(void 0!==t?" "+t:"")+(!0===this.isActionable?" q-btn--actionable q-focusable q-hoverable":!0===this.disable?" disabled":"")+(!0===this.fab?" q-btn--fab":!0===this.fabMini?" q-btn--fab-mini":"")+(!0===this.noCaps?" q-btn--no-uppercase":"")+(!0===this.rounded&&!0!==this.isRound?" q-btn--rounded":"")+(!0===this.dense?" q-btn--dense":"")+(!0===this.stretch?" no-border-radius self-stretch":"")+(!0===this.glossy?" glossy":"")},innerClasses(){return this.alignClass+(!0===this.stack?" column":" row")+(!0===this.noWrap?" no-wrap text-no-wrap":"")+(!0===this.loading?" q-btn__content--hidden":"")}}};const ce=["left","right","up","down","horizontal","vertical"],ue={left:!0,right:!0,up:!0,down:!0,horizontal:!0,vertical:!0,all:!0};function he(t){let e={};return ce.forEach(i=>{t[i]&&(e[i]=!0)}),0===Object.keys(e).length?ue:(!0===e.horizontal&&(e.left=e.right=!0),!0===e.vertical&&(e.up=e.down=!0),!0===e.left&&!0===e.right&&(e.horizontal=!0),!0===e.up&&!0===e.down&&(e.vertical=!0),!0===e.horizontal&&!0===e.vertical&&(e.all=!0),e)}function de(t,{oldValue:e,value:i,modifiers:n}){e!==i&&(t.handler=i),ce.some(e=>n[e]!==t.modifiers[e])&&(t.modifiers=n,t.direction=he(n))}function pe(t,e,i){e+="Evt",void 0!==t[e]?t[e]=t[e].concat(i):t[e]=i,i.forEach(e=>{e[0].addEventListener(e[1],t[e[2]],b[e[3]])})}function _e(t,e){e+="Evt",void 0!==t[e]&&(t[e].forEach(e=>{e[0].removeEventListener(e[1],t[e[2]],b[e[3]])}),t[e]=void 0)}const ge=!1===l&&(!0===f.is.ios||!0===f.is.mac&&!0===f.has.touch||window.navigator.vendor.toLowerCase().indexOf("apple")>-1)?()=>document:t=>t,{passiveCapture:fe}=b;let me=void 0,ve=void 0,be=void 0;var ye=a["a"].extend({name:"QBtn",mixins:[le],props:{percentage:Number,darkPercentage:Boolean},computed:{hasLabel(){return void 0!==this.label&&null!==this.label&&""!==this.label},computedRipple(){return!1!==this.ripple&&Object.assign({keyCodes:[]},!0===this.ripple?{}:this.ripple)},percentageStyle(){const t=Math.max(0,Math.min(100,this.percentage));if(t>0)return{transition:"transform 0.6s",transform:`translateX(${t-100}%)`}}},methods:{click(t){if(void 0!==t){if(!0===t.defaultPrevented)return;const e=document.activeElement;if("submit"===this.type&&(!0===this.$q.platform.is.ie&&(t.clientX<0||t.clientY<0)||e!==document.body&&!1===this.$el.contains(e)&&!1===e.contains(this.$el))){this.$el.focus();const t=()=>{document.removeEventListener("keydown",x,!0),document.removeEventListener("keyup",t,fe),void 0!==this.$el&&this.$el.removeEventListener("blur",t,fe)};document.addEventListener("keydown",x,!0),document.addEventListener("keyup",t,fe),this.$el.addEventListener("blur",t,fe)}!0===this.hasRouterLink&&x(t)}const e=()=>{const t=this.$router[!0===this.replace?"replace":"push"](this.to);void 0!==t&&"function"===typeof t.catch&&t.catch(()=>{})};this.$emit("click",t,e),!0===this.hasRouterLink&&!1!==t.navigate&&e()},__onKeydown(t){!0===et(t,[13,32])&&(x(t),ve!==this.$el&&(void 0!==ve&&this.__cleanup(),this.$el.focus(),ve=this.$el,this.$el.classList.add("q-btn--active"),document.addEventListener("keyup",this.__onPressEnd,!0),this.$el.addEventListener("blur",this.__onPressEnd,fe))),this.$emit("keydown",t)},__onTouchstart(t){if(me!==this.$el){void 0!==me&&this.__cleanup(),me=t.target;const e=ge(me);e.addEventListener("touchcancel",this.__onPressEnd,fe),e.addEventListener("touchend",this.__onPressEnd,fe)}this.$emit("touchstart",t)},__onMousedown(t){be!==this.$el&&(void 0!==be&&this.__cleanup(),be=this.$el,document.addEventListener("mouseup",this.__onPressEnd,fe)),this.$emit("mousedown",t)},__onPressEnd(t){if(void 0===t||"blur"!==t.type||document.activeElement!==this.$el){if(void 0!==t&&"keyup"===t.type){if(ve===this.$el&&!0===et(t,[13,32])){const e=new MouseEvent("click",t);e.qKeyEvent=!0,!0===t.defaultPrevented&&I(e),!0===t.cancelBubble&&R(e),this.$el.dispatchEvent(e),x(t),t.qKeyEvent=!0}this.$emit("keyup",t)}this.__cleanup()}},__cleanup(t){if(!0===t||me!==this.$el&&be!==this.$el||void 0===this.$refs.blurTarget||this.$refs.blurTarget===document.activeElement||this.$refs.blurTarget.focus(),me===this.$el){const t=ge(me);t.removeEventListener("touchcancel",this.__onPressEnd,fe),t.removeEventListener("touchend",this.__onPressEnd,fe),me=void 0}be===this.$el&&(document.removeEventListener("mouseup",this.__onPressEnd,fe),be=void 0),ve===this.$el&&(document.removeEventListener("keyup",this.__onPressEnd,!0),void 0!==this.$el&&this.$el.removeEventListener("blur",this.__onPressEnd,fe),ve=void 0),void 0!==this.$el&&this.$el.classList.remove("q-btn--active")}},beforeDestroy(){this.__cleanup(!0)},render(t){let e=[];const i={staticClass:"q-btn q-btn-item non-selectable no-outline",class:this.classes,style:this.style,attrs:this.attrs};!0===this.isActionable&&(i.on={...this.$listeners,click:this.click,keydown:this.__onKeydown,mousedown:this.__onMousedown},!0===this.$q.platform.has.touch&&(i.on.touchstart=this.__onTouchstart)),!0!==this.disable&&!1!==this.ripple&&(i.directives=[{name:"ripple",value:this.computedRipple,modifiers:{center:this.isRound}}]),void 0!==this.icon&&e.push(t(Ft,{props:{name:this.icon,left:!1===this.stack&&!0===this.hasLabel}})),!0===this.hasLabel&&e.push(t("div",[this.label])),e=Bt(e,this,"default"),void 0!==this.iconRight&&!1===this.isRound&&e.push(t(Ft,{props:{name:this.iconRight,right:!1===this.stack&&!0===this.hasLabel}}));const n=[t("div",{staticClass:"q-focus-helper",ref:"blurTarget",attrs:{tabindex:-1}})];return!0===this.loading&&void 0!==this.percentage&&n.push(t("div",{staticClass:"q-btn__progress absolute-full overflow-hidden"},[t("div",{staticClass:"q-btn__progress-indicator fit",class:!0===this.darkPercentage?"q-btn__progress--dark":"",style:this.percentageStyle})])),n.push(t("div",{staticClass:"q-btn__wrapper col row no-wrap q-anchor--skip"},[t("div",{staticClass:"q-btn__content text-center col items-center q-anchor--skip",class:this.innerClasses},e)])),null!==this.loading&&n.push(t("transition",{props:{name:"q-transition--fade"}},!0===this.loading?[t("div",{key:"loading",staticClass:"absolute-full flex flex-center"},void 0!==this.$scopedSlots.loading?this.$scopedSlots.loading():[t(Qt)])]:void 0)),t(!0===this.isLink?"a":"button",i,n)}}),Te=a["a"].extend({name:"QBtnGroup",props:{unelevated:Boolean,outline:Boolean,flat:Boolean,rounded:Boolean,push:Boolean,stretch:Boolean,glossy:Boolean,spread:Boolean},computed:{classes(){return["unelevated","outline","flat","rounded","push","stretch","glossy"].filter(t=>!0===this[t]).map(t=>`q-btn-group--${t}`).join(" ")}},render(t){return t("div",{staticClass:"q-btn-group row no-wrap "+(!0===this.spread?"q-btn-group--spread":"inline"),class:this.classes,on:this.$listeners},Lt(this,"default"))}});function Ee(){if(void 0!==window.getSelection){const t=window.getSelection();void 0!==t.empty?t.empty():void 0!==t.removeAllRanges&&(t.removeAllRanges(),!0!==v.is.mobile&&t.addRange(document.createRange()))}else void 0!==document.selection&&document.selection.empty()}var Se={props:{target:{type:[Boolean,String],default:!0},noParentEvent:Boolean,contextMenu:Boolean},watch:{contextMenu(t){void 0!==this.anchorEl&&(this.__unconfigureAnchorEl(),this.__configureAnchorEl(t))},target(){void 0!==this.anchorEl&&this.__unconfigureAnchorEl(),this.__pickAnchorEl()},noParentEvent(t){void 0!==this.anchorEl&&(!0===t?this.__unconfigureAnchorEl():this.__configureAnchorEl())}},methods:{__showCondition(t){return void 0!==this.anchorEl&&(void 0===t||(void 0===t.touches||t.touches.length<=1))},__contextClick(t){this.hide(t),this.$nextTick(()=>{this.show(t)}),I(t)},__toggleKey(t){!0===et(t,13)&&this.toggle(t)},__mobileCleanup(t){this.anchorEl.classList.remove("non-selectable"),clearTimeout(this.touchTimer),!0===this.showing&&void 0!==t&&Ee()},__mobilePrevent:I,__mobileTouch(t){if(this.__mobileCleanup(t),!0!==this.__showCondition(t))return;this.hide(t),this.anchorEl.classList.add("non-selectable");const e=ge(t.target);pe(this,"anchor",[[e,"touchmove","__mobileCleanup","passive"],[e,"touchend","__mobileCleanup","passive"],[e,"touchcancel","__mobileCleanup","passive"],[this.anchorEl,"contextmenu","__mobilePrevent","notPassive"]]),this.touchTimer=setTimeout(()=>{this.show(t)},300)},__unconfigureAnchorEl(){_e(this,"anchor")},__configureAnchorEl(t=this.contextMenu){if(!0===this.noParentEvent||void 0===this.anchorEl)return;let e;e=!0===t?!0===this.$q.platform.is.mobile?[[this.anchorEl,"touchstart","__mobileTouch","passive"]]:[[this.anchorEl,"click","hide","passive"],[this.anchorEl,"contextmenu","__contextClick","notPassive"]]:[[this.anchorEl,"click","toggle","passive"],[this.anchorEl,"keyup","__toggleKey","passive"]],pe(this,"anchor",e)},__setAnchorEl(t){this.anchorEl=t;while(this.anchorEl.classList.contains("q-anchor--skip"))this.anchorEl=this.anchorEl.parentNode;this.__configureAnchorEl()},__pickAnchorEl(){if(this.target&&"string"===typeof this.target){const t=document.querySelector(this.target);null!==t?(this.anchorEl=t,this.__configureAnchorEl()):(this.anchorEl=void 0,console.error(`Anchor: target "${this.target}" not found`,this))}else!1!==this.target?this.__setAnchorEl(this.parentEl):this.anchorEl=void 0},__changeScrollEvent(t,e){const i=`${void 0!==e?"add":"remove"}EventListener`,n=void 0!==e?e:this.__scrollFn;t!==window&&t[i]("scroll",n,b.passive),window[i]("scroll",n,b.passive),this.__scrollFn=e}},created(){"function"===typeof this.__configureScrollTarget&&"function"===typeof this.__unconfigureScrollTarget&&(this.noParentEventWatcher=this.$watch("noParentEvent",()=>{void 0!==this.scrollTarget&&(this.__unconfigureScrollTarget(),this.__configureScrollTarget())}))},mounted(){this.parentEl=this.$el.parentNode,this.__pickAnchorEl(),!0===this.value&&void 0===this.anchorEl&&this.$emit("input",!1)},beforeDestroy(){clearTimeout(this.touchTimer),void 0!==this.noParentEventWatcher&&this.noParentEventWatcher(),void 0!==this.__anchorCleanup&&this.__anchorCleanup(),this.__unconfigureAnchorEl()}},Ce={methods:{__nextTick(t){this.__tickFn=t},__prepareTick(){if(void 0!==this.__tickFn){const t=this.__tickFn;this.$nextTick(()=>{this.__tickFn===t&&(this.__tickFn(),this.__tickFn=void 0)})}},__clearTick(){this.__tickFn=void 0},__setTimeout(t,e){clearTimeout(this.__timer),this.__timer=setTimeout(t,e)},__clearTimeout(){clearTimeout(this.__timer)}},beforeDestroy(){this.__tickFn=void 0,clearTimeout(this.__timer)}},ke={mixins:[Ce],props:{value:{type:Boolean,default:void 0}},data(){return{showing:!1}},watch:{value(t){this.__processModelChange(t)},$route(){!0===this.hideOnRouteChange&&this.hide()}},methods:{toggle(t){this[!0===this.showing?"hide":"show"](t)},show(t){!0===this.disable||void 0!==this.__showCondition&&!0!==this.__showCondition(t)||(void 0!==this.$listeners.input&&!1===l&&(this.$emit("input",!0),this.payload=t,this.$nextTick(()=>{this.payload===t&&(this.payload=void 0)})),void 0!==this.value&&void 0!==this.$listeners.input&&!0!==l||this.__processShow(t))},__processShow(t){!0!==this.showing&&(void 0!==this.__preparePortal&&this.__preparePortal(),this.showing=!0,this.$emit("before-show",t),void 0!==this.__show?(this.__clearTick(),this.__show(t),this.__prepareTick()):this.$emit("show",t))},hide(t){!0!==this.disable&&(void 0!==this.$listeners.input&&!1===l&&(this.$emit("input",!1),this.payload=t,this.$nextTick(()=>{this.payload===t&&(this.payload=void 0)})),void 0!==this.value&&void 0!==this.$listeners.input&&!0!==l||this.__processHide(t))},__processHide(t){!1!==this.showing&&(this.showing=!1,this.$emit("before-hide",t),void 0!==this.__hide?(this.__clearTick(),this.__hide(t),this.__prepareTick()):this.$emit("hide",t))},__processModelChange(t){!0===this.disable&&!0===t?void 0!==this.$listeners.input&&this.$emit("input",!1):!0===t!==this.showing&&this[`__process${!0===t?"Show":"Hide"}`](this.payload)}}};function we(t,e){do{if("QMenu"===t.$options.name){if(t.hide(e),!0===t.separateClosePopup)return t.$parent}else if(void 0!==t.__renderPortal)return void 0!==t.$parent&&"QPopupProxy"===t.$parent.$options.name?(t.hide(e),t.$parent):t;t=t.$parent}while(void 0!==t)}function Re(t,e,i){while(0!==i&&void 0!==t){if(void 0!==t.__renderPortal){if(i--,"QMenu"===t.$options.name){t=we(t,e);continue}t.hide(e)}t=t.$parent}}var Ie={inheritAttrs:!1,props:{contentClass:[Array,String,Object],contentStyle:[Array,String,Object]},methods:{__showPortal(){void 0!==this.__portal&&document.body.appendChild(this.__portal.$el)},__hidePortal(){void 0!==this.__portal&&(this.__portal.$destroy(),this.__portal.$el.remove(),this.__portal=void 0)},__preparePortal(){void 0===this.__portal&&(this.__portal=new a["a"]({name:"QPortal",parent:this,inheritAttrs:!1,render:t=>this.__renderPortal(t),components:this.$options.components,directives:this.$options.directives}).$mount())}},render(){void 0!==this.__portal&&this.__portal.$forceUpdate()},beforeDestroy(){this.__hidePortal()}},xe={props:{transitionShow:{type:String,default:"fade"},transitionHide:{type:String,default:"fade"}},data(){return{transitionState:this.showing}},watch:{showing(t){this.transitionShow!==this.transitionHide&&this.$nextTick(()=>{this.transitionState=t})}},computed:{transition(){return"q-transition--"+(!0===this.transitionState?this.transitionHide:this.transitionShow)}}};function Oe(t,e=[]){return t.$children.forEach((function(t){e.push(t),t.$children.length>0&&Oe(t,e)})),e}function Ae(t){for(let e=t;null!==e;e=e.parentNode){if(null===e.__vue__)return;if(void 0!==e.__vue__)return e.__vue__}}function Me(t,e){for(let i=t;void 0!==i;i=i.$parent)if(i===e)return!0;return!1}function Ne(t,e,i){if(!0===l)return i;const n=`__qcache_${e}`;return void 0===t[n]?t[n]=i:t[n]}let Le;const{notPassiveCapture:De,passiveCapture:Be}=b,Pe={click:[],focus:[]};function Fe(t,e){for(let i=t.length-1;i>=0;i--)if(void 0===t[i](e))return}function He(t){clearTimeout(Le),"focusin"===t.type?Le=setTimeout(()=>{Fe(Pe.focus,t)},200):Fe(Pe.click,t)}var Ve={name:"click-outside",bind(t,{value:e,arg:i},n){const o=n.componentInstance||n.context,s={trigger:e,toggleEl:i,handler(t){const e=t.target;if(void 0!==e&&8!==e.nodeType&&e!==document.documentElement&&!1===e.classList.contains("no-pointer-events")&&(void 0===s.toggleEl||!1===s.toggleEl.contains(e))&&(e===document.body||!1===Me(Ae(e),o)))return t.qClickOutside=!0,s.trigger(t)}};t.__qclickoutside&&(t.__qclickoutside_old=t.__qclickoutside),t.__qclickoutside=s,0===Pe.click.length&&(document.addEventListener("click",He,De),document.addEventListener("touchstart",He,De),document.addEventListener("focusin",He,Be)),Pe.click.push(s.handler),s.timerFocusin=setTimeout(()=>{Pe.focus.push(s.handler)},500)},update(t,{value:e,oldValue:i,arg:n}){const o=t.__qclickoutside;e!==i&&(o.trigger=e),n!==o.arg&&(o.toggleEl=n)},unbind(t){const e=t.__qclickoutside_old||t.__qclickoutside;if(void 0!==e){clearTimeout(e.timerFocusin);const i=Pe.click.findIndex(t=>t===e.handler),n=Pe.focus.findIndex(t=>t===e.handler);i>-1&&Pe.click.splice(i,1),n>-1&&Pe.focus.splice(n,1),0===Pe.click.length&&(clearTimeout(Le),document.removeEventListener("click",He,De),document.removeEventListener("touchstart",He,De),document.removeEventListener("focusin",He,Be)),delete t[t.__qclickoutside_old?"__qclickoutside_old":"__qclickoutside"]}}};function Ue(t){return t.closest(".scroll,.scroll-y,.overflow-auto")||window}function We(t){return(t===window?document.body:t).scrollHeight}function $e(t){return t===window?window.pageYOffset||window.scrollY||document.body.scrollTop||0:t.scrollTop}function Ge(t){return t===window?window.pageXOffset||window.scrollX||document.body.scrollLeft||0:t.scrollLeft}function qe(t,e,i){const n=$e(t);i<=0?n!==e&&Xe(t,e):requestAnimationFrame(()=>{const o=n+(e-n)/Math.max(16,i)*16;Xe(t,o),o!==e&&qe(t,e,i-16)})}function ze(t,e,i){const n=Ge(t);i<=0?n!==e&&Ye(t,e):requestAnimationFrame(()=>{const o=n+(e-n)/Math.max(16,i)*16;Ye(t,o),o!==e&&ze(t,e,i-16)})}function Xe(t,e){t!==window?t.scrollTop=e:window.scrollTo(0,e)}function Ye(t,e){t!==window?t.scrollLeft=e:window.scrollTo(e,0)}function je(t,e,i){i?qe(t,e,i):Xe(t,e)}function Ke(t,e,i){i?ze(t,e,i):Ye(t,e)}let Je;function Qe(){if(void 0!==Je)return Je;const t=document.createElement("p"),e=document.createElement("div");ee(t,{width:"100%",height:"200px"}),ee(e,{position:"absolute",top:"0px",left:"0px",visibility:"hidden",width:"200px",height:"150px",overflow:"hidden"}),e.appendChild(t),document.body.appendChild(e);let i=t.offsetWidth;e.style.overflow="scroll";let n=t.offsetWidth;return i===n&&(n=e.clientWidth),e.remove(),Je=i-n,Je}function Ze(t,e=!0){return!(!t||t.nodeType!==Node.ELEMENT_NODE)&&(e?t.scrollHeight>t.clientHeight&&(t.classList.contains("scroll")||t.classList.contains("overflow-auto")||["auto","scroll"].includes(window.getComputedStyle(t)["overflow-y"])):t.scrollWidth>t.clientWidth&&(t.classList.contains("scroll")||t.classList.contains("overflow-auto")||["auto","scroll"].includes(window.getComputedStyle(t)["overflow-x"])))}let ti=[];var ei={__install(){this.__installed=!0,window.addEventListener("keyup",t=>{0!==ti.length&&!0===et(t,27)&&ti[ti.length-1].fn(t)})},register(t,e){!0===t.$q.platform.is.desktop&&(!0!==this.__installed&&this.__install(),ti.push({comp:t,fn:e}))},pop(t){if(!0===t.$q.platform.is.desktop){const e=ti.findIndex(e=>e.comp===t);e>-1&&ti.splice(e,1)}}};let ii,ni;function oi(t){let e=t.split(" ");return 2===e.length&&(["top","center","bottom"].includes(e[0])?!!["left","middle","right"].includes(e[1])||(console.error("Anchor/Self position must end with one of left/middle/right"),!1):(console.error("Anchor/Self position must start with one of top/center/bottom"),!1))}function si(t){return!t||2===t.length&&("number"===typeof t[0]&&"number"===typeof t[1])}function ri(t){let e=t.split(" ");return{vertical:e[0],horizontal:e[1]}}function ai(t,e){let{top:i,left:n,right:o,bottom:s,width:r,height:a}=t.getBoundingClientRect();return void 0!==e&&(i-=e[1],n-=e[0],s+=e[1],o+=e[0],r+=e[0],a+=e[1]),{top:i,left:n,right:o,bottom:s,width:r,height:a,middle:n+(o-n)/2,center:i+(s-i)/2}}function li(t){return{top:0,center:t.offsetHeight/2,bottom:t.offsetHeight,left:0,middle:t.offsetWidth/2,right:t.offsetWidth}}function ci(t){if(!0===f.is.ios&&void 0!==window.visualViewport){const t=document.body.style,{offsetLeft:e,offsetTop:i}=window.visualViewport;e!==ii&&(t.setProperty("--q-vp-left",e+"px"),ii=e),i!==ni&&(t.setProperty("--q-vp-top",i+"px"),ni=i)}let e;const i=t.el.scrollTop;if(t.el.style.maxHeight=t.maxHeight,t.el.style.maxWidth=t.maxWidth,void 0===t.absoluteOffset)e=ai(t.anchorEl,!0===t.cover?[0,0]:t.offset);else{const{top:i,left:n}=t.anchorEl.getBoundingClientRect(),o=i+t.absoluteOffset.top,s=n+t.absoluteOffset.left;e={top:o,left:s,width:1,height:1,right:s+1,center:o,middle:s,bottom:o+1}}!0!==t.fit&&!0!==t.cover||(t.el.style.minWidth=e.width+"px",!0===t.cover&&(t.el.style.minHeight=e.height+"px"));const n=li(t.el),o={top:e[t.anchorOrigin.vertical]-n[t.selfOrigin.vertical],left:e[t.anchorOrigin.horizontal]-n[t.selfOrigin.horizontal]};ui(o,e,n,t.anchorOrigin,t.selfOrigin),t.el.style.top=Math.max(0,Math.floor(o.top))+"px",t.el.style.left=Math.max(0,Math.floor(o.left))+"px",void 0!==o.maxHeight&&(t.el.style.maxHeight=Math.floor(o.maxHeight)+"px"),void 0!==o.maxWidth&&(t.el.style.maxWidth=Math.floor(o.maxWidth)+"px"),t.el.scrollTop!==i&&(t.el.scrollTop=i)}function ui(t,e,i,n,o){const s=Qe();let{innerHeight:r,innerWidth:a}=window;if(r-=s,a-=s,t.top<0||t.top+i.bottom>r)if("center"===o.vertical)t.top=e[o.vertical]>r/2?r-i.bottom:0,t.maxHeight=Math.min(i.bottom,r);else if(e[o.vertical]>r/2){const s=Math.min(r,"center"===n.vertical?e.center:n.vertical===o.vertical?e.bottom:e.top);t.maxHeight=Math.min(i.bottom,s),t.top=Math.max(0,s-t.maxHeight)}else t.top="center"===n.vertical?e.center:n.vertical===o.vertical?e.top:e.bottom,t.maxHeight=Math.min(i.bottom,r-t.top);if(t.left<0||t.left+i.right>a)if(t.maxWidth=Math.min(i.right,a),"middle"===o.horizontal)t.left=e[o.horizontal]>a/2?a-i.right:0;else if(e[o.horizontal]>a/2){const s=Math.min(a,"middle"===n.horizontal?e.center:n.horizontal===o.horizontal?e.right:e.left);t.maxWidth=Math.min(i.right,s),t.left=Math.max(0,s-t.maxWidth)}else t.left="middle"===n.horizontal?e.center:n.horizontal===o.horizontal?e.left:e.right,t.maxWidth=Math.min(i.right,a-t.left)}var hi=a["a"].extend({name:"QMenu",mixins:[Ut,Se,ke,Ie,xe],directives:{ClickOutside:Ve},props:{persistent:Boolean,autoClose:Boolean,separateClosePopup:Boolean,noRefocus:Boolean,noFocus:Boolean,fit:Boolean,cover:Boolean,square:Boolean,anchor:{type:String,validator:oi},self:{type:String,validator:oi},offset:{type:Array,validator:si},touchPosition:Boolean,maxHeight:{type:String,default:null},maxWidth:{type:String,default:null}},computed:{horizSide(){return!0===this.$q.lang.rtl?"right":"left"},anchorOrigin(){return ri(this.anchor||(!0===this.cover?"center middle":`bottom ${this.horizSide}`))},selfOrigin(){return!0===this.cover?this.anchorOrigin:ri(this.self||`top ${this.horizSide}`)},menuClass(){return(!0===this.square?" q-menu--square":"")+(!0===this.isDark?" q-menu--dark q-dark":"")},hideOnRouteChange(){return!0!==this.persistent}},methods:{focus(){let t=void 0!==this.__portal&&void 0!==this.__portal.$refs?this.__portal.$refs.inner:void 0;void 0!==t&&!0!==t.contains(document.activeElement)&&(t=t.querySelector("[autofocus]")||t,t.focus())},__show(t){if(this.__refocusTarget=!1===this.noRefocus&&null!==document.activeElement?document.activeElement:void 0,ei.register(this,()=>{!0!==this.persistent&&(this.$emit("escape-key"),this.hide())}),this.__showPortal(),this.__configureScrollTarget(),this.absoluteOffset=void 0,void 0!==t&&(this.touchPosition||this.contextMenu)){const e=E(t);if(void 0!==e.left){const{top:t,left:i}=this.anchorEl.getBoundingClientRect();this.absoluteOffset={left:e.left-i,top:e.top-t}}}void 0===this.unwatch&&(this.unwatch=this.$watch(()=>this.$q.screen.width+"|"+this.$q.screen.height,this.updatePosition)),this.$el.dispatchEvent(A("popup-show",{bubbles:!0})),!0!==this.noFocus&&null!==document.activeElement&&document.activeElement.blur(),this.__nextTick(()=>{this.updatePosition(),!0!==this.noFocus&&this.focus()}),this.__setTimeout(()=>{!0===this.$q.platform.is.ios&&(this.__avoidAutoClose=this.autoClose,this.__portal.$el.click()),this.$emit("show",t)},300)},__hide(t){this.__anchorCleanup(!0),void 0===this.__refocusTarget||null===this.__refocusTarget||void 0!==t&&!0===t.qClickOutside||this.__refocusTarget.focus(),this.$el.dispatchEvent(A("popup-hide",{bubbles:!0})),this.__setTimeout(()=>{this.__hidePortal(),this.$emit("hide",t)},300)},__anchorCleanup(t){this.absoluteOffset=void 0,void 0!==this.unwatch&&(this.unwatch(),this.unwatch=void 0),!0!==t&&!0!==this.showing||(ei.pop(this),this.__unconfigureScrollTarget())},__unconfigureScrollTarget(){void 0!==this.scrollTarget&&(this.__changeScrollEvent(this.scrollTarget),this.scrollTarget=void 0)},__configureScrollTarget(){void 0!==this.anchorEl&&(this.scrollTarget=Ue(this.anchorEl),this.__changeScrollEvent(this.scrollTarget,this.updatePosition))},__onAutoClose(t){!0!==this.__avoidAutoClose?(we(this,t),void 0!==this.$listeners.click&&this.$emit("click",t)):this.__avoidAutoClose=!1},updatePosition(){if(void 0===this.__portal)return;const t=this.__portal.$el;8!==t.nodeType?ci({el:t,offset:this.offset,anchorEl:this.anchorEl,anchorOrigin:this.anchorOrigin,selfOrigin:this.selfOrigin,absoluteOffset:this.absoluteOffset,fit:this.fit,cover:this.cover,maxHeight:this.maxHeight,maxWidth:this.maxWidth}):setTimeout(this.updatePosition,25)},__onClickOutside(t){if(!0!==this.persistent&&!0===this.showing){const e=t.target.classList;return this.hide(t),("touchstart"===t.type||e.contains("q-dialog__backdrop"))&&x(t),!0}},__renderPortal(t){const e={...this.$listeners,input:R,"popup-show":R,"popup-hide":R};return!0===this.autoClose&&(e.click=this.__onAutoClose),t("transition",{props:{name:this.transition}},[!0===this.showing?t("div",{ref:"inner",staticClass:"q-menu scroll"+this.menuClass,class:this.contentClass,style:this.contentStyle,attrs:{tabindex:-1,...this.$attrs},on:e,directives:[{name:"click-outside",value:this.__onClickOutside,arg:this.anchorEl}]},Lt(this,"default")):null])}},mounted(){this.__processModelChange(this.value)},beforeDestroy(){!0===this.showing&&void 0!==this.anchorEl&&this.anchorEl.dispatchEvent(A("popup-hide",{bubbles:!0}))}}),di=a["a"].extend({name:"QBtnDropdown",mixins:[le],props:{value:Boolean,split:Boolean,dropdownIcon:String,contentClass:[Array,String,Object],contentStyle:[Array,String,Object],cover:Boolean,persistent:Boolean,autoClose:Boolean,menuAnchor:{type:String,default:"bottom right"},menuSelf:{type:String,default:"top right"},disableMainBtn:Boolean,disableDropdown:Boolean},data(){return{showing:this.value}},watch:{value(t){void 0!==this.$refs.menu&&this.$refs.menu[t?"show":"hide"]()}},render(t){const e=Lt(this,"label",[]),i=[t(Ft,{props:{name:this.dropdownIcon||this.$q.iconSet.arrow.dropdown},staticClass:"q-btn-dropdown__arrow",class:{"rotate-180":this.showing,"q-btn-dropdown__arrow-container":!1===this.split}})];if(!0!==this.disableDropdown&&i.push(t(hi,{ref:"menu",props:{cover:this.cover,fit:!0,persistent:this.persistent,autoClose:this.autoClose,anchor:this.menuAnchor,self:this.menuSelf,contentClass:this.contentClass,contentStyle:this.contentStyle,separateClosePopup:!0},on:Ne(this,"menu",{"before-show":t=>{this.showing=!0,this.$emit("before-show",t)},show:t=>{this.$emit("show",t),this.$emit("input",!0)},"before-hide":t=>{this.showing=!1,this.$emit("before-hide",t)},hide:t=>{this.$emit("hide",t),this.$emit("input",!1)}})},Lt(this,"default"))),!1===this.split)return t(ye,{class:"q-btn-dropdown q-btn-dropdown--simple",props:{...this.$props,disable:!0===this.disable||!0===this.disableMainBtn,noWrap:!0,round:!1},on:Ne(this,"nonSpl",{click:t=>{this.$emit("click",t)}})},e.concat(i));const n=t(ye,{class:"q-btn-dropdown--current",props:{...this.$props,disable:!0===this.disable||!0===this.disableMainBtn,noWrap:!0,iconRight:this.iconRight,round:!1},on:Ne(this,"spl",{click:t=>{this.hide(),this.$emit("click",t)}})},e);return t(Te,{props:{outline:this.outline,flat:this.flat,rounded:this.rounded,push:this.push,unelevated:this.unelevated,glossy:this.glossy,stretch:this.stretch},staticClass:"q-btn-dropdown q-btn-dropdown--split no-wrap q-btn-item"},[n,t(ye,{staticClass:"q-btn-dropdown__arrow-container",props:{disable:!0===this.disable||!0===this.disableDropdown,outline:this.outline,flat:this.flat,rounded:this.rounded,push:this.push,size:this.size,color:this.color,stretch:this.stretch,textColor:this.textColor,dense:this.dense,ripple:this.ripple}},i)])},methods:{toggle(t){this.$refs.menu&&this.$refs.menu.toggle(t)},show(t){this.$refs.menu&&this.$refs.menu.show(t)},hide(t){this.$refs.menu&&this.$refs.menu.hide(t)}},mounted(){!0===this.value&&this.show()}}),pi=a["a"].extend({name:"QBtnToggle",mixins:[re],props:{value:{required:!0},options:{type:Array,required:!0,validator:t=>t.every(t=>("label"in t||"icon"in t||"slot"in t)&&"value"in t)},color:String,textColor:String,toggleColor:{type:String,default:"primary"},toggleTextColor:String,outline:Boolean,flat:Boolean,unelevated:Boolean,rounded:Boolean,push:Boolean,glossy:Boolean,size:String,noCaps:Boolean,noWrap:Boolean,dense:Boolean,readonly:Boolean,disable:Boolean,stack:Boolean,stretch:Boolean,spread:Boolean,clearable:Boolean},computed:{val(){return this.options.map(t=>t.value===this.value)}},methods:{__set(t,e){!0!==this.readonly&&(this.value===t?!0===this.clearable&&(this.$emit("input",null,null),this.$emit("clear")):this.$emit("input",t,e))}},render(t){return t(Te,{staticClass:"q-btn-toggle",props:{outline:this.outline,flat:this.flat,rounded:this.rounded,push:this.push,stretch:this.stretch,unelevated:this.unelevated,glossy:this.glossy,spread:this.spread},on:this.$listeners},this.options.map((e,i)=>t(ye,{key:i,on:{click:()=>this.__set(e.value,e)},props:{disable:this.disable||e.disable,label:e.label,color:!0===this.val[i]?e.toggleColor||this.toggleColor:e.color||this.color,textColor:!0===this.val[i]?e.toggleTextColor||this.toggleTextColor:e.textColor||this.textColor,icon:e.icon,iconRight:e.iconRight,noCaps:!0===this.noCaps||!0===e.noCaps,noWrap:!0===this.noWrap||!0===e.noWrap,outline:this.outline,flat:this.flat,rounded:this.rounded,push:this.push,unelevated:this.unelevated,size:this.size,dense:this.dense,ripple:void 0!==this.ripple?this.ripple:e.ripple,stack:!0===this.stack||!0===e.stack,tabindex:e.tabindex,stretch:this.stretch}},void 0!==e.slot?Lt(this,e.slot):void 0)))}}),_i=a["a"].extend({name:"QCard",mixins:[Ut],props:{square:Boolean,flat:Boolean,bordered:Boolean},render(t){return t("div",{staticClass:"q-card",class:{"q-card--dark q-dark":this.isDark,"q-card--bordered":this.bordered,"q-card--square no-border-radius":this.square,"q-card--flat no-shadow":this.flat},on:this.$listeners},Lt(this,"default"))}}),gi=a["a"].extend({name:"QCardSection",render(t){return t("div",{staticClass:"q-card__section",on:this.$listeners},Lt(this,"default"))}}),fi=a["a"].extend({name:"QCardActions",mixins:[zt],props:{vertical:Boolean},computed:{classes(){return`q-card__actions--${!0===this.vertical?"vert column":"horiz row"} ${this.alignClass}`}},render(t){return t("div",{staticClass:"q-card__actions",class:this.classes,on:this.$listeners},Lt(this,"default"))}});function mi(t){const e=[.06,6,50];return"string"===typeof t&&t.length&&t.split(":").forEach((t,i)=>{const n=parseFloat(t);n&&(e[i]=n)}),e}var vi={name:"touch-swipe",bind(t,{value:e,arg:i,modifiers:n}){if(!0!==n.mouse&&!0!==f.has.touch)return;const o=!0===n.mouseCapture?"Capture":"",s={handler:e,sensitivity:mi(i),modifiers:n,direction:he(n),noop(){},mouseStart(t){void 0===s.event&&void 0!==t.target&&!0!==t.target.draggable&&T(t)&&(pe(s,"temp",[[document,"mousemove","move",`notPassive${o}`],[document,"mouseup","end","notPassiveCapture"]]),s.start(t,!0))},touchStart(t){if(void 0===s.event&&void 0!==t.target&&!0!==t.target.draggable){const e=ge(t.target);pe(s,"temp",[[e,"touchmove","move","notPassiveCapture"],[e,"touchcancel","end","notPassiveCapture"],[e,"touchend","end","notPassiveCapture"]]),s.start(t)}},start(e,i){!0===f.is.firefox&&O(t,!0);const n=E(e);s.event={x:n.left,y:n.top,time:Date.now(),mouse:!0===i,dir:!1}},move(t){if(void 0===s.event)return;if(!1!==s.event.dir)return void x(t);const e=Date.now()-s.event.time;if(0===e)return;const i=E(t),n=i.left-s.event.x,o=Math.abs(n),r=i.top-s.event.y,a=Math.abs(r);if(!0!==s.event.mouse){if(o<s.sensitivity[1]&&a<s.sensitivity[1])return void s.end(t)}else if(o<s.sensitivity[2]&&a<s.sensitivity[2])return;const l=o/e,c=a/e;!0===s.direction.vertical&&o<a&&o<100&&c>s.sensitivity[0]&&(s.event.dir=r<0?"up":"down"),!0===s.direction.horizontal&&o>a&&a<100&&l>s.sensitivity[0]&&(s.event.dir=n<0?"left":"right"),!0===s.direction.up&&o<a&&r<0&&o<100&&c>s.sensitivity[0]&&(s.event.dir="up"),!0===s.direction.down&&o<a&&r>0&&o<100&&c>s.sensitivity[0]&&(s.event.dir="down"),!0===s.direction.left&&o>a&&n<0&&a<100&&l>s.sensitivity[0]&&(s.event.dir="left"),!0===s.direction.right&&o>a&&n>0&&a<100&&l>s.sensitivity[0]&&(s.event.dir="right"),!1!==s.event.dir?(x(t),!0===s.event.mouse&&(document.body.classList.add("no-pointer-events"),document.body.classList.add("non-selectable"),Ee()),s.handler({evt:t,touch:!0!==s.event.mouse,mouse:s.event.mouse,direction:s.event.dir,duration:e,distance:{x:o,y:a}})):s.end(t)},end(e){void 0!==s.event&&(_e(s,"temp"),!0===f.is.firefox&&O(t,!1),!1!==s.event.dir&&(x(e),!0===s.event.mouse&&(setTimeout(()=>{document.body.classList.remove("no-pointer-events")},50),document.body.classList.remove("non-selectable"))),s.event=void 0)}};t.__qtouchswipe&&(t.__qtouchswipe_old=t.__qtouchswipe),t.__qtouchswipe=s,!0===n.mouse&&pe(s,"main",[[t,"mousedown","mouseStart",`passive${o}`]]),!0===f.has.touch&&pe(s,"main",[[t,"touchstart","touchStart",`passive${!0===n.capture?"Capture":""}`],[t,"touchmove","noop","notPassiveCapture"]])},update(t,e){const i=t.__qtouchswipe;void 0!==i&&de(i,e)},unbind(t){const e=t.__qtouchswipe_old||t.__qtouchswipe;void 0!==e&&(_e(e,"main"),_e(e,"temp"),!0===f.is.firefox&&O(t,!1),void 0!==e.event&&!1!==e.event.dir&&!0===e.event.mouse&&(document.body.classList.remove("no-pointer-events"),document.body.classList.remove("non-selectable")),delete t[t.__qtouchswipe_old?"__qtouchswipe_old":"__qtouchswipe"])}};const bi=a["a"].extend({name:"QTabPanelWrapper",render(t){return t("div",{staticClass:"q-panel scroll",attrs:{role:"tabpanel"},on:Ne(this,"stop",{input:R})},Lt(this,"default"))}}),yi={directives:{TouchSwipe:vi},props:{value:{required:!0},animated:Boolean,infinite:Boolean,swipeable:Boolean,transitionPrev:{type:String,default:"slide-right"},transitionNext:{type:String,default:"slide-left"},keepAlive:Boolean},data(){return{panelIndex:null,panelTransition:null}},computed:{panelDirectives(){if(this.swipeable)return[{name:"touch-swipe",value:this.__swipe,modifiers:{horizontal:!0,mouse:!0}}]},contentKey(){return"string"===typeof this.value||"number"===typeof this.value?this.value:String(this.value)}},watch:{value(t,e){const i=!0===this.__isValidPanelName(t)?this.__getPanelIndex(t):-1;!0!==this.__forcedPanelTransition&&this.__updatePanelTransition(-1===i?0:i<this.__getPanelIndex(e)?-1:1),this.panelIndex!==i&&(this.panelIndex=i,this.$emit("before-transition",t,e),this.$nextTick(()=>{this.$emit("transition",t,e)}))}},methods:{next(){this.__go(1)},previous(){this.__go(-1)},goTo(t){this.$emit("input",t)},__isValidPanelName(t){return void 0!==t&&null!==t&&""!==t},__getPanelIndex(t){return this.panels.findIndex(e=>{const i=e.componentOptions;return i&&i.propsData.name===t&&""!==i.propsData.disable&&!0!==i.propsData.disable})},__getAllPanels(){return this.panels.filter(t=>void 0!==t.componentOptions&&this.__isValidPanelName(t.componentOptions.propsData.name))},__getAvailablePanels(){return this.panels.filter(t=>{const e=t.componentOptions;return e&&void 0!==e.propsData.name&&""!==e.propsData.disable&&!0!==e.propsData.disable})},__updatePanelTransition(t){const e=0!==t&&!0===this.animated&&-1!==this.panelIndex?"q-transition--"+(-1===t?this.transitionPrev:this.transitionNext):null;this.panelTransition!==e&&(this.panelTransition=e)},__go(t,e=this.panelIndex){let i=e+t;const n=this.panels;while(i>-1&&i<n.length){const e=n[i].componentOptions;if(void 0!==e&&""!==e.propsData.disable&&!0!==e.propsData.disable)return this.__updatePanelTransition(t),this.__forcedPanelTransition=!0,this.$emit("input",n[i].componentOptions.propsData.name),void setTimeout(()=>{this.__forcedPanelTransition=!1});i+=t}!0===this.infinite&&n.length>0&&-1!==e&&e!==n.length&&this.__go(t,-1===t?n.length:-1)},__swipe(t){this.__go((!0===this.$q.lang.rtl?-1:1)*("left"===t.direction?1:-1))},__updatePanelIndex(){const t=this.__getPanelIndex(this.value);return this.panelIndex!==t&&(this.panelIndex=t),!0},__getPanelContent(t){if(0===this.panels.length)return;const e=this.__isValidPanelName(this.value)&&this.__updatePanelIndex()&&this.panels[this.panelIndex],i=!0===this.keepAlive?[t("keep-alive",[t(bi,{key:this.contentKey},[e])])]:[t("div",{staticClass:"q-panel scroll",key:this.contentKey,attrs:{role:"tabpanel"},on:Ne(this,"stop",{input:R})},[e])];return!0===this.animated?[t("transition",{props:{name:this.panelTransition}},i)]:i}},render(t){return this.panels=Lt(this,"default",[]),this.__renderPanels(t)}},Ti={props:{name:{required:!0},disable:Boolean}};var Ei={props:{fullscreen:Boolean,noRouteFullscreenExit:Boolean},data(){return{inFullscreen:!1}},watch:{$route(){!0!==this.noRouteFullscreenExit&&this.exitFullscreen()},fullscreen(t){this.inFullscreen!==t&&this.toggleFullscreen()},inFullscreen(t){this.$emit("update:fullscreen",t),this.$emit("fullscreen",t)}},methods:{toggleFullscreen(){!0===this.inFullscreen?this.exitFullscreen():this.setFullscreen()},setFullscreen(){!0!==this.inFullscreen&&(this.inFullscreen=!0,this.container=this.$el.parentNode,this.container.replaceChild(this.fullscreenFillerNode,this.$el),document.body.appendChild(this.$el),document.body.classList.add("q-body--fullscreen-mixin"),this.__historyFullscreen={handler:this.exitFullscreen},F.add(this.__historyFullscreen))},exitFullscreen(){!0===this.inFullscreen&&(void 0!==this.__historyFullscreen&&(F.remove(this.__historyFullscreen),this.__historyFullscreen=void 0),this.container.replaceChild(this.$el,this.fullscreenFillerNode),document.body.classList.remove("q-body--fullscreen-mixin"),this.inFullscreen=!1,void 0!==this.$el.scrollIntoView&&setTimeout(()=>{this.$el.scrollIntoView()}))}},beforeMount(){this.fullscreenFillerNode=document.createElement("span")},mounted(){!0===this.fullscreen&&this.setFullscreen()},beforeDestroy(){this.exitFullscreen()}};function Si(t,e){if(t===e)return!0;if(t instanceof Date&&e instanceof Date)return t.getTime()===e.getTime();if(t!==Object(t)||e!==Object(e))return!1;const i=Object.keys(t);return i.length===Object.keys(e).length&&i.every(i=>Si(t[i],e[i]))}function Ci(t){return"[object Date]"===Object.prototype.toString.call(t)}function ki(t){return"number"===typeof t&&isFinite(t)}var wi=a["a"].extend({name:"QCarousel",mixins:[Ut,yi,Ei],props:{height:String,padding:Boolean,transitionPrev:{default:"fade"},transitionNext:{default:"fade"},controlColor:String,autoplay:[Number,Boolean],arrows:Boolean,prevIcon:String,nextIcon:String,navigation:Boolean,navigationIcon:String,thumbnails:Boolean},computed:{style(){if(!0!==this.inFullscreen&&void 0!==this.height)return{height:this.height}},classes(){return{fullscreen:this.inFullscreen,"q-carousel--arrows":!0===this.padding&&!0===this.arrows,"q-carousel--navigation":!0===this.padding&&!0===this.navigation,"q-carousel--dark q-dark":this.isDark}},arrowIcons(){const t=[this.prevIcon||this.$q.iconSet.carousel.left,this.nextIcon||this.$q.iconSet.carousel.right];return!0===this.$q.lang.rtl?t.reverse():t},navIcon(){return this.navigationIcon||this.$q.iconSet.carousel.navigationIcon}},watch:{value(){this.autoplay&&(clearInterval(this.timer),this.__startTimer())},autoplay(t){t?this.__startTimer():clearInterval(this.timer)}},methods:{__startTimer(){this.timer=setTimeout(this.next,ki(this.autoplay)?this.autoplay:5e3)},__getNavigationContainer(t,e,i){return t("div",{staticClass:"q-carousel__control q-carousel__navigation no-wrap absolute flex scroll-x q-carousel__navigation--"+e,class:this.controlColor?`text-${this.controlColor}`:null},[t("div",{staticClass:"q-carousel__navigation-inner flex no-wrap justify-center"},this.__getAvailablePanels().map(i))])},__getContent(t){const e=[];return!0===this.arrows&&e.push(t(ye,{staticClass:"q-carousel__control q-carousel__prev-arrow absolute",props:{size:"lg",color:this.controlColor,icon:this.arrowIcons[0],round:!0,flat:!0,dense:!0},on:Ne(this,"prev",{click:this.previous})}),t(ye,{staticClass:"q-carousel__control q-carousel__next-arrow absolute",props:{size:"lg",color:this.controlColor,icon:this.arrowIcons[1],round:!0,flat:!0,dense:!0},on:Ne(this,"next",{click:this.next})})),!0===this.navigation?e.push(this.__getNavigationContainer(t,"buttons",e=>{const i=e.componentOptions.propsData.name;return t(ye,{key:i,staticClass:"q-carousel__navigation-icon",class:{"q-carousel__navigation-icon--active":i===this.value},props:{icon:this.navIcon,round:!0,flat:!0,size:"sm"},on:Ne(this,"nav#"+i,{click:()=>{this.goTo(i)}})})})):!0===this.thumbnails&&e.push(this.__getNavigationContainer(t,"thumbnails",e=>{const i=e.componentOptions.propsData;return t("img",{class:{"q-carousel__thumbnail--active":i.name===this.value},attrs:{src:i.imgSrc},key:"tmb#"+i.name,on:Ne(this,"tmb#"+i.name,{click:()=>{this.goTo(i.name)}})})})),Bt(e,this,"control")},__renderPanels(t){return t("div",{staticClass:"q-carousel q-panel-parent",style:this.style,class:this.classes},[t("div",{staticClass:"q-carousel__slides-container",directives:this.panelDirectives},this.__getPanelContent(t))].concat(this.__getContent(t)))}},mounted(){this.autoplay&&this.__startTimer()},beforeDestroy(){clearInterval(this.timer)}}),Ri=a["a"].extend({name:"QCarouselSlide",mixins:[Ti],props:{imgSrc:String},computed:{style(){if(this.imgSrc)return{backgroundImage:`url(${this.imgSrc})`}}},render(t){return t("div",{staticClass:"q-carousel__slide",style:this.style,on:this.$listeners},Lt(this,"default"))}}),Ii=a["a"].extend({name:"QCarouselControl",props:{position:{type:String,default:"bottom-right"},offset:{type:Array,default:()=>[18,18]}},computed:{classes(){return`absolute-${this.position}`},style(){return{margin:`${this.offset[1]}px ${this.offset[0]}px`}}},render(t){return t("div",{staticClass:"q-carousel__control absolute",style:this.style,class:this.classes,on:this.$listeners},Lt(this,"default"))}}),xi=a["a"].extend({name:"QChatMessage",props:{sent:Boolean,label:String,bgColor:String,textColor:String,name:String,avatar:String,text:Array,stamp:String,size:String,labelSanitize:Boolean,nameSanitize:Boolean,textSanitize:Boolean,stampSanitize:Boolean},computed:{textClass(){if(this.textColor)return`text-${this.textColor}`},messageClass(){if(this.bgColor)return`text-${this.bgColor}`},sizeClass(){if(this.size)return`col-${this.size}`},classes(){return{"q-message-sent":this.sent,"q-message-received":!this.sent}}},methods:{__getText(t){const e=!0===this.textSanitize?"textContent":"innerHTML",i=!0===this.stampSanitize?"textContent":"innerHTML";return this.text.map((n,o)=>t("div",{key:o,staticClass:"q-message-text",class:this.messageClass},[t("span",{staticClass:"q-message-text-content",class:this.textClass},[t("div",{domProps:{[e]:n}}),this.stamp?t("div",{staticClass:"q-message-stamp",domProps:{[i]:this.stamp}}):null])]))},__getMessage(t){const e=Dt(this,"default",[]);return void 0!==this.stamp&&e.push(t("div",{staticClass:"q-message-stamp",domProps:{[!0===this.stampSanitize?"textContent":"innerHTML"]:this.stamp}})),t("div",{staticClass:"q-message-text",class:this.messageClass},[t("span",{staticClass:"q-message-text-content",class:this.textClass},e)])}},render(t){return t("div",{staticClass:"q-message",class:this.classes},[this.label?t("div",{staticClass:"q-message-label text-center",domProps:{[!0===this.labelSanitize?"textContent":"innerHTML"]:this.label}}):null,t("div",{staticClass:"q-message-container row items-end no-wrap"},[void 0!==this.$scopedSlots.avatar?this.$scopedSlots.avatar():void 0!==this.avatar?t("img",{staticClass:"q-message-avatar",attrs:{src:this.avatar}}):null,t("div",{class:this.sizeClass},[void 0!==this.name?t("div",{staticClass:"q-message-name",domProps:{[!0===this.nameSanitize?"textContent":"innerHTML"]:this.name}}):null,void 0!==this.text?this.__getText(t):null,void 0!==this.$scopedSlots.default?this.__getMessage(t):null])])])}}),Oi={mixins:[Ut],props:{value:{required:!0},val:{},trueValue:{default:!0},falseValue:{default:!1},label:String,leftLabel:Boolean,color:String,keepColor:Boolean,dense:Boolean,disable:Boolean,tabindex:[String,Number]},computed:{isTrue(){return this.modelIsArray?this.index>-1:this.value===this.trueValue},isFalse(){return this.modelIsArray?-1===this.index:this.value===this.falseValue},index(){if(!0===this.modelIsArray)return this.value.indexOf(this.val)},modelIsArray(){return void 0!==this.val&&Array.isArray(this.value)},computedTabindex(){return!0===this.disable?-1:this.tabindex||0}},methods:{toggle(t){if(void 0!==t&&x(t),!0===this.disable)return;let e;!0===this.modelIsArray?!0===this.isTrue?(e=this.value.slice(),e.splice(this.index,1)):e=this.value.concat([this.val]):e=!0===this.isTrue?!0===this.toggleIndeterminate?this.indeterminateValue:this.falseValue:!0===this.isFalse?this.trueValue:this.falseValue,this.$emit("input",e)},__onKeydown(t){13!==t.keyCode&&32!==t.keyCode||x(t)},__onKeyup(t){13!==t.keyCode&&32!==t.keyCode||this.toggle(t)}}},Ai=a["a"].extend({name:"QCheckbox",mixins:[Oi],props:{toggleIndeterminate:Boolean,indeterminateValue:{default:null}},computed:{isIndeterminate(){return void 0===this.value||this.value===this.indeterminateValue},classes(){return{disabled:this.disable,"q-checkbox--dark":this.isDark,"q-checkbox--dense":this.dense,reverse:this.leftLabel}},innerClass(){return!0===this.isTrue?"q-checkbox__inner--active"+(void 0!==this.color?" text-"+this.color:""):!0===this.isIndeterminate?"q-checkbox__inner--indeterminate"+(void 0!==this.color?" text-"+this.color:""):!0===this.keepColor&&void 0!==this.color?"text-"+this.color:void 0}},render(t){const e=[t("div",{staticClass:"q-checkbox__bg absolute"},[t("svg",{staticClass:"q-checkbox__check fit absolute-full",attrs:{focusable:"false",viewBox:"0 0 24 24"}},[t("path",{attrs:{fill:"none",d:"M1.73,12.91 8.1,19.28 22.79,4.59"}})]),t("div",{staticClass:"q-checkbox__check-indet absolute"})])];!0!==this.disable&&e.unshift(t("input",{staticClass:"q-checkbox__native q-ma-none q-pa-none invisible",attrs:{type:"checkbox"}}));const i=[t("div",{staticClass:"q-checkbox__inner relative-position no-pointer-events",class:this.innerClass},e)],n=void 0!==this.label?Bt([this.label],this,"default"):Lt(this,"default");return void 0!==n&&i.push(t("div",{staticClass:"q-checkbox__label q-anchor--skip"},n)),t("div",{staticClass:"q-checkbox cursor-pointer no-outline row inline no-wrap items-center",class:this.classes,attrs:{tabindex:this.computedTabindex},on:Ne(this,"inpExt",{click:this.toggle,keydown:this.__onKeydown,keyup:this.__onKeyup})},i)}});const Mi={xs:8,sm:10,md:14,lg:20,xl:24};var Ni=a["a"].extend({name:"QChip",mixins:[re,Nt,Ut],model:{event:"remove"},props:{dense:Boolean,icon:String,iconRight:String,label:[String,Number],color:String,textColor:String,value:{type:Boolean,default:!0},selected:{type:Boolean,default:null},size:String,square:Boolean,outline:Boolean,clickable:Boolean,removable:Boolean,tabindex:[String,Number],disable:Boolean},computed:{classes(){const t=!0===this.outline&&this.color||this.textColor;return{[`bg-${this.color}`]:!1===this.outline&&void 0!==this.color,[`text-${t} q-chip--colored`]:t,disabled:this.disable,"q-chip--dense":this.dense,"q-chip--outline":this.outline,"q-chip--selected":this.selected,"q-chip--clickable cursor-pointer non-selectable q-hoverable":this.isClickable,"q-chip--square":this.square,"q-chip--dark q-dark":this.isDark}},style(){if(void 0!==this.size)return{fontSize:this.size in Mi?`${Mi[this.size]}px`:this.size}},hasLeftIcon(){return!0===this.selected||void 0!==this.icon},isClickable(){return!1===this.disable&&(!0===this.clickable||null!==this.selected)},computedTabindex(){return!0===this.disable?-1:this.tabindex||0}},methods:{__onKeyup(t){13===t.keyCode&&this.__onClick(t)},__onClick(t){this.disable||(this.$emit("update:selected",!this.selected),this.$emit("click",t))},__onRemove(t){void 0!==t.keyCode&&13!==t.keyCode||(x(t),!this.disable&&this.$emit("remove",!1))},__getContent(t){const e=[];!0===this.isClickable&&e.push(t("div",{staticClass:"q-focus-helper"})),!0===this.hasLeftIcon&&e.push(t(Ft,{staticClass:"q-chip__icon q-chip__icon--left",props:{name:!0===this.selected?this.$q.iconSet.chip.selected:this.icon}}));const i=void 0!==this.label?[this.label]:void 0;return e.push(t("div",{staticClass:"q-chip__content row no-wrap items-center q-anchor--skip"},Pt(i,this,"default"))),this.iconRight&&e.push(t(Ft,{staticClass:"q-chip__icon q-chip__icon--right",props:{name:this.iconRight}})),this.removable&&e.push(t(Ft,{staticClass:"q-chip__icon q-chip__icon--remove cursor-pointer",props:{name:this.$q.iconSet.chip.remove},attrs:{tabindex:this.computedTabindex},nativeOn:{click:this.__onRemove,keyup:this.__onRemove}})),e}},render(t){if(!1===this.value)return;const e={staticClass:"q-chip row inline no-wrap items-center",class:this.classes,style:this.style};return!0===this.isClickable&&Object.assign(e,{attrs:{tabindex:this.computedTabindex},on:Ne(this,"click",{click:this.__onClick,keyup:this.__onKeyup}),directives:[{name:"ripple",value:this.ripple}]}),t("div",e,this.__getContent(t))}});const Li=50,Di=2*Li,Bi=Di*Math.PI,Pi=Math.round(1e3*Bi)/1e3;var Fi=a["a"].extend({name:"QCircularProgress",mixins:[Nt],props:{value:{type:Number,default:0},min:{type:Number,default:0},max:{type:Number,default:100},color:String,centerColor:String,trackColor:String,fontSize:String,thickness:{type:Number,default:.2,validator:t=>t>=0&&t<=1},angle:{type:Number,default:0},indeterminate:Boolean,showValue:Boolean,reverse:Boolean,instantFeedback:Boolean},computed:{svgStyle(){return{transform:`rotate3d(0, 0, 1, ${this.angle-90}deg)`}},circleStyle(){if(!0!==this.instantFeedback&&!0!==this.indeterminate)return{transition:"stroke-dashoffset 0.6s ease 0s, stroke 0.6s ease"}},dir(){return(!0===this.$q.lang.rtl?-1:1)*(this.reverse?-1:1)},viewBox(){return Di/(1-this.thickness/2)},viewBoxAttr(){return`${this.viewBox/2} ${this.viewBox/2} ${this.viewBox} ${this.viewBox}`},strokeDashOffset(){const t=1-(this.value-this.min)/(this.max-this.min);return this.dir*t*Bi},strokeWidth(){return this.thickness/2*this.viewBox}},methods:{__getCircle(t,{thickness:e,offset:i,color:n,cls:o}){return t("circle",{staticClass:"q-circular-progress__"+o,class:void 0!==n?`text-${n}`:null,style:this.circleStyle,attrs:{fill:"transparent",stroke:"currentColor","stroke-width":e,"stroke-dasharray":Pi,"stroke-dashoffset":i,cx:this.viewBox,cy:this.viewBox,r:Li}})}},render(t){return t("div",{staticClass:"q-circular-progress",class:`q-circular-progress--${!0===this.indeterminate?"in":""}determinate`,style:this.sizeStyle,on:this.$listeners,attrs:{role:"progressbar","aria-valuemin":this.min,"aria-valuemax":this.max,"aria-valuenow":!0!==this.indeterminate?this.value:null}},[t("svg",{staticClass:"q-circular-progress__svg",style:this.svgStyle,attrs:{focusable:"false",viewBox:this.viewBoxAttr}},[void 0!==this.centerColor&&"transparent"!==this.centerColor?t("circle",{staticClass:"q-circular-progress__center",class:`text-${this.centerColor}`,attrs:{fill:"currentColor",r:Li-this.strokeWidth/2,cx:this.viewBox,cy:this.viewBox}}):null,void 0!==this.trackColor&&"transparent"!==this.trackColor?this.__getCircle(t,{cls:"track",thickness:this.strokeWidth,offset:0,color:this.trackColor}):null,this.__getCircle(t,{cls:"circle",thickness:this.strokeWidth,offset:this.strokeDashOffset,color:this.color})]),!0===this.showValue?t("div",{staticClass:"q-circular-progress__text absolute-full row flex-center content-center",style:{fontSize:this.fontSize}},void 0!==this.$scopedSlots.default?this.$scopedSlots.default():[t("div",[this.value])]):null])}});const Hi=/^#[0-9a-fA-F]{3}([0-9a-fA-F]{3})?$/,Vi=/^#[0-9a-fA-F]{4}([0-9a-fA-F]{4})?$/,Ui=/^#([0-9a-fA-F]{3}|[0-9a-fA-F]{4}|[0-9a-fA-F]{6}|[0-9a-fA-F]{8})$/,Wi=/^rgb\(((0|[1-9][\d]?|1[\d]{0,2}|2[\d]?|2[0-4][\d]|25[0-5]),){2}(0|[1-9][\d]?|1[\d]{0,2}|2[\d]?|2[0-4][\d]|25[0-5])\)$/,$i=/^rgba\(((0|[1-9][\d]?|1[\d]{0,2}|2[\d]?|2[0-4][\d]|25[0-5]),){2}(0|[1-9][\d]?|1[\d]{0,2}|2[\d]?|2[0-4][\d]|25[0-5]),(0|0\.[0-9]+[1-9]|0\.[1-9]+|1)\)$/,Gi={date:t=>/^-?[\d]+\/[0-1]\d\/[0-3]\d$/.test(t),time:t=>/^([0-1]?\d|2[0-3]):[0-5]\d$/.test(t),fulltime:t=>/^([0-1]?\d|2[0-3]):[0-5]\d:[0-5]\d$/.test(t),timeOrFulltime:t=>/^([0-1]?\d|2[0-3]):[0-5]\d(:[0-5]\d)?$/.test(t),hexColor:t=>Hi.test(t),hexaColor:t=>Vi.test(t),hexOrHexaColor:t=>Ui.test(t),rgbColor:t=>Wi.test(t),rgbaColor:t=>$i.test(t),rgbOrRgbaColor:t=>Wi.test(t)||$i.test(t),hexOrRgbColor:t=>Hi.test(t)||Wi.test(t),hexaOrRgbaColor:t=>Vi.test(t)||$i.test(t),anyColor:t=>Ui.test(t)||Wi.test(t)||$i.test(t)};var qi=function(t,e=250){let i,n=!1;return function(){return!1===n&&(n=!0,setTimeout(()=>{n=!1},e),i=t.apply(this,arguments)),i}};function zi(t,e,i){let n,o=E(t),s=o.left-e.event.x,r=o.top-e.event.y,a=Math.abs(s),l=Math.abs(r);const c=e.direction;!0===c.horizontal&&!0!==c.vertical?n=s<0?"left":"right":!0!==c.horizontal&&!0===c.vertical?n=r<0?"up":"down":!0===c.up&&r<0?(n="up",a>l&&(!0===c.left&&s<0?n="left":!0===c.right&&s>0&&(n="right"))):!0===c.down&&r>0?(n="down",a>l&&(!0===c.left&&s<0?n="left":!0===c.right&&s>0&&(n="right"))):!0===c.left&&s<0?(n="left",a<l&&(!0===c.up&&r<0?n="up":!0===c.down&&r>0&&(n="down"))):!0===c.right&&s>0&&(n="right",a<l&&(!0===c.up&&r<0?n="up":!0===c.down&&r>0&&(n="down")));let u=!1;if(void 0===n&&!0!==i){if(!0===e.event.isFirst||void 0===e.event.lastDir)return{};n=e.event.lastDir,u=!0,"left"===n||"right"===n?(o.left-=s,a=0,s=0):(o.top-=r,l=0,r=0)}return{synthetic:u,payload:{evt:t,touch:!0!==e.event.mouse,mouse:!0===e.event.mouse,position:o,direction:n,isFirst:e.event.isFirst,isFinal:!0===i,duration:Date.now()-e.event.time,distance:{x:a,y:l},offset:{x:s,y:r},delta:{x:o.left-e.event.lastX,y:o.top-e.event.lastY}}}}let Xi=0;var Yi={name:"touch-pan",bind(t,{value:e,modifiers:i}){if(!0!==i.mouse&&!0!==f.has.touch)return;function n(t,e){!0===i.mouse&&!0===e?x(t):(!0===i.stop&&R(t),!0===i.prevent&&I(t))}const o={uid:"qvtp_"+Xi++,handler:e,modifiers:i,direction:he(i),noop(){},mouseStart(t){void 0!==o.event||void 0===t.target||!0===t.target.draggable||!0!==T(t)||void 0!==t.qClonedBy&&-1!==t.qClonedBy.indexOf(o.uid)||(pe(o,"temp",[[document,"mousemove","move","notPassiveCapture"],[document,"mouseup","end","passiveCapture"]]),o.start(t,!0))},touchStart(t){if(void 0===o.event&&void 0!==t.target&&!0!==t.target.draggable&&(void 0===t.qClonedBy||-1===t.qClonedBy.indexOf(o.uid))){const e=ge(t.target);pe(o,"temp",[[e,"touchmove","move","notPassiveCapture"],[e,"touchcancel","end","passiveCapture"],[e,"touchend","end","passiveCapture"]]),o.start(t)}},start(e,n){!0===f.is.firefox&&O(t,!0);const s=E(e);if(!0===n&&!0===i.mouseAllDir||!0!==n&&!0===i.stop){const t=e.type.indexOf("mouse")>-1?new MouseEvent(e.type,e):new TouchEvent(e.type,e);!0===e.defaultPrevented&&I(t),!0===e.cancelBubble&&R(t),t.qClonedBy=void 0===e.qClonedBy?[o.uid]:e.qClonedBy.concat(o.uid),t.qKeyEvent=e.qKeyEvent,t.qClickOutside=e.qClickOutside,o.initialEvent={target:e.target,event:t},R(e)}o.event={x:s.left,y:s.top,time:Date.now(),mouse:!0===n,detected:!1,isFirst:!0,isFinal:!1,lastX:s.left,lastY:s.top}},move(t){if(void 0===o.event)return;if(!0===o.event.detected){!0!==o.event.isFirst&&n(t,o.event.mouse);const{payload:e,synthetic:i}=zi(t,o,!1);return void(void 0!==e&&(!1===o.handler(e)?o.end(t):(!0===o.event.isFirst&&(n(t,o.event.mouse),document.documentElement.style.cursor="grabbing",!0===o.event.mouse&&document.body.classList.add("no-pointer-events"),document.body.classList.add("non-selectable"),Ee()),o.event.lastX=e.position.left,o.event.lastY=e.position.top,o.event.lastDir=!0===i?void 0:e.direction,o.event.isFirst=!1)))}if(!0===o.direction.all)return o.event.detected=!0,void o.move(t);const e=E(t),s=e.left-o.event.x,r=e.top-o.event.y,a=Math.abs(s),l=Math.abs(r);a!==l&&(!0===o.direction.horizontal&&a>l||!0===o.direction.vertical&&a<l||!0===o.direction.up&&a<l&&r<0||!0===o.direction.down&&a<l&&r>0||!0===o.direction.left&&a>l&&s<0||!0===o.direction.right&&a>l&&s>0?(o.event.detected=!0,o.move(t)):(!0!==o.event.mouse||!0!==i.mouseAllDir||Date.now()-o.event.time>200)&&o.end(t,!0))},end(e,i){void 0!==o.event&&(_e(o,"temp"),!0===f.is.firefox&&O(t,!1),document.documentElement.style.cursor="",document.body.classList.remove("non-selectable"),!0===o.event.detected&&!0===o.event.mouse&&setTimeout(()=>{document.body.classList.remove("no-pointer-events")},50),!0!==i&&!0===o.event.detected&&!0!==o.event.isFirst&&o.handler(zi(e,o,!0).payload),!0===i&&!0!==o.event.detected&&void 0!==o.initialEvent&&o.initialEvent.target.dispatchEvent(o.initialEvent.event),o.event=void 0,o.initialEvent=void 0)}};t.__qtouchpan&&(t.__qtouchpan_old=t.__qtouchpan),t.__qtouchpan=o,!0===i.mouse&&pe(o,"main",[[t,"mousedown","mouseStart",`passive${!0===i.mouseCapture?"Capture":""}`]]),!0===f.has.touch&&pe(o,"main",[[t,"touchstart","touchStart",`passive${!0===i.capture?"Capture":""}`],[t,"touchmove","noop","notPassiveCapture"]])},update(t,e){const i=t.__qtouchpan;void 0!==i&&de(i,e)},unbind(t){const e=t.__qtouchpan_old||t.__qtouchpan;void 0!==e&&(_e(e,"main"),_e(e,"temp"),!0===f.is.firefox&&O(t,!1),document.documentElement.style.cursor="",document.body.classList.remove("non-selectable"),void 0!==e.event&&!0===e.event.detected&&!0===e.event.mouse&&document.body.classList.remove("no-pointer-events"),delete t[t.__qtouchpan_old?"__qtouchpan_old":"__qtouchpan"])}};const ji=[34,37,40,33,39,38];function Ki(t,e,i){const n=E(t),o=bt((n.left-e.left)/e.width,0,1);return!0===i?1-o:o}function Ji(t,e,i,n,o){let s=e+t*(i-e);if(n>0){const t=(s-e)%n;s+=(Math.abs(t)>=n/2?(t<0?-1:1)*n:0)-t}return o>0&&(s=parseFloat(s.toFixed(o))),bt(s,e,i)}let Qi={mixins:[Ut],directives:{TouchPan:Yi},props:{min:{type:Number,default:0},max:{type:Number,default:100},step:{type:Number,default:1,validator:t=>t>=0},color:String,labelColor:String,labelTextColor:String,dense:Boolean,label:Boolean,labelAlways:Boolean,markers:Boolean,snap:Boolean,reverse:Boolean,disable:Boolean,readonly:Boolean,tabindex:[String,Number]},data(){return{active:!1,preventFocus:!1,focus:!1}},computed:{classes(){return`q-slider q-slider--${!0===this.active?"":"in"}active`+(!0===this.isReversed?" q-slider--reversed":"")+(void 0!==this.color?` text-${this.color}`:"")+(!0===this.disable?" disabled":"")+(!0===this.editable?" q-slider--editable":"")+("both"===this.focus?" q-slider--focus":"")+(this.label||!0===this.labelAlways?" q-slider--label":"")+(!0===this.labelAlways?" q-slider--label-always":"")+(!0===this.isDark?" q-slider--dark":"")+(!0===this.dense?" q-slider--dense":"")},editable(){return!this.disable&&!this.readonly},decimals(){return(String(this.step).trim("0").split(".")[1]||"").length},computedStep(){return 0===this.step?1:this.step},markerStyle(){return{backgroundSize:100*this.computedStep/(this.max-this.min)+"% 2px"}},computedTabindex(){return!0===this.editable?this.tabindex||0:-1},isReversed(){return this.reverse!==(!0===this.$q.lang.rtl)},horizProp(){return!0===this.isReversed?"right":"left"}},methods:{__pan(t){t.isFinal?(this.dragging&&(this.__updatePosition(t.evt),!0===t.touch&&this.__updateValue(!0),this.dragging=!1),this.active=!1):t.isFirst?(this.dragging=this.__getDragging(t.evt),this.__updatePosition(t.evt),this.active=!0):(this.__updatePosition(t.evt),this.__updateValue())},__blur(){this.focus=!1},__activate(t){this.__updatePosition(t,this.__getDragging(t)),this.preventFocus=!0,this.active=!0,document.addEventListener("mouseup",this.__deactivate,!0)},__deactivate(){this.preventFocus=!1,this.active=!1,this.__updateValue(!0),this.__blur(),document.removeEventListener("mouseup",this.__deactivate,!0)},__mobileClick(t){this.__updatePosition(t,this.__getDragging(t)),this.__updateValue(!0)},__keyup(t){ji.includes(t.keyCode)&&this.__updateValue(!0)}},beforeDestroy(){document.removeEventListener("mouseup",this.__deactivate,!0)}};var Zi=a["a"].extend({name:"QSlider",mixins:[Qi],props:{value:{required:!0,default:null,validator:t=>"number"===typeof t||null===t},labelValue:[String,Number]},data(){return{model:null===this.value?this.min:this.value,curRatio:0}},watch:{value(t){this.model=null===t?0:bt(t,this.min,this.max)},min(t){this.model=bt(this.model,t,this.max)},max(t){this.model=bt(this.model,this.min,t)}},computed:{ratio(){return!0===this.active?this.curRatio:this.modelRatio},modelRatio(){return(this.model-this.min)/(this.max-this.min)},trackStyle(){return{[this.horizProp]:0,width:100*this.ratio+"%"}},thumbStyle(){return{[this.horizProp]:100*this.ratio+"%"}},thumbClass(){if(!1===this.preventFocus&&!0===this.focus)return"q-slider--focus"},pinClass(){return"q-slider__pin absolute flex flex-center"+(void 0!==this.labelColor?` text-${this.labelColor}`:"")},pinTextClass(){return"q-slider__pin-value-marker-text"+(void 0!==this.labelTextColor?` text-${this.labelTextColor}`:"")},events(){if(!0===this.editable)return!0===this.$q.platform.is.mobile?{click:this.__mobileClick}:{mousedown:this.__activate,focus:this.__focus,blur:this.__blur,keydown:this.__keydown,keyup:this.__keyup}},computedLabel(){return void 0!==this.labelValue?this.labelValue:this.model}},methods:{__updateValue(t){this.model!==this.value&&this.$emit("input",this.model),!0===t&&this.$emit("change",this.model)},__getDragging(){return this.$el.getBoundingClientRect()},__updatePosition(t,e=this.dragging){const i=Ki(t,e,this.isReversed);this.model=Ji(i,this.min,this.max,this.step,this.decimals),this.curRatio=!0!==this.snap||0===this.step?i:(this.model-this.min)/(this.max-this.min)},__focus(){this.focus=!0},__keydown(t){if(!ji.includes(t.keyCode))return;x(t);const e=([34,33].includes(t.keyCode)?10:1)*this.computedStep,i=[34,37,40].includes(t.keyCode)?-e:e;this.model=bt(parseFloat((this.model+i).toFixed(this.decimals)),this.min,this.max),this.__updateValue()}},render(t){return t("div",{staticClass:null===this.value?" q-slider--no-value":"",attrs:{role:"slider","aria-valuemin":this.min,"aria-valuemax":this.max,"aria-valuenow":this.value,"data-step":this.step,"aria-disabled":this.disable,tabindex:this.computedTabindex},class:this.classes,on:this.events,directives:!0===this.editable?Ne(this,"dir",[{name:"touch-pan",value:this.__pan,modifiers:{horizontal:!0,prevent:!0,stop:!0,mouse:!0,mouseAllDir:!0}}]):null},[t("div",{staticClass:"q-slider__track-container absolute overflow-hidden"},[t("div",{staticClass:"q-slider__track absolute",style:this.trackStyle}),!0===this.markers?t("div",{staticClass:"q-slider__track-markers absolute-full fit",style:this.markerStyle}):null]),t("div",{staticClass:"q-slider__thumb-container absolute non-selectable",class:this.thumbClass,style:this.thumbStyle},[t("svg",{staticClass:"q-slider__thumb absolute",attrs:{focusable:"false",width:"21",height:"21"}},[t("circle",{attrs:{cx:"10.5",cy:"10.5",r:"7.875"}})]),!0===this.label||!0===this.labelAlways?t("div",{class:this.pinClass},[t("div",{staticClass:"q-slider__pin-value-marker"},[t("div",{staticClass:"q-slider__pin-value-marker-bg"}),t("div",{class:this.pinTextClass},[this.computedLabel])])]):null,t("div",{staticClass:"q-slider__focus-ring"})])])}}),tn={data(){return{canRender:!u}},mounted(){!1===this.canRender&&(this.canRender=!0)}},en=a["a"].extend({name:"QResizeObserver",mixins:[tn],props:{debounce:{type:[String,Number],default:100}},data(){return!0===this.hasObserver?{}:{url:!0===this.$q.platform.is.ie?null:"about:blank"}},methods:{trigger(t){!0===t||0===this.debounce||"0"===this.debounce?this.__onResize():this.timer||(this.timer=setTimeout(this.__onResize,this.debounce))},__onResize(){if(this.timer=null,!this.$el||!this.$el.parentNode)return;const t=this.$el.parentNode,e={width:t.offsetWidth,height:t.offsetHeight};e.width===this.size.width&&e.height===this.size.height||(this.size=e,this.$emit("resize",this.size))},__cleanup(){void 0!==this.curDocView&&(void 0!==this.curDocView.removeEventListener&&this.curDocView.removeEventListener("resize",this.trigger,b.passive),this.curDocView=void 0)},__onObjLoad(){this.__cleanup(),this.$el.contentDocument&&(this.curDocView=this.$el.contentDocument.defaultView,this.curDocView.addEventListener("resize",this.trigger,b.passive)),this.__onResize()}},render(t){if(!1!==this.canRender&&!0!==this.hasObserver)return t("object",{style:this.style,attrs:{tabindex:-1,type:"text/html",data:this.url,"aria-hidden":!0},on:Ne(this,"load",{load:this.__onObjLoad})})},beforeCreate(){this.size={width:-1,height:-1},!0!==l&&(this.hasObserver="undefined"!==typeof ResizeObserver,!0!==this.hasObserver&&(this.style=`${this.$q.platform.is.ie?"visibility:hidden;":""}display:block;position:absolute;top:0;left:0;right:0;bottom:0;height:100%;width:100%;overflow:hidden;pointer-events:none;z-index:-1;`))},mounted(){if(!0===this.hasObserver)return this.observer=new ResizeObserver(this.trigger),this.observer.observe(this.$el.parentNode),void this.__onResize();!0===this.$q.platform.is.ie?(this.url="about:blank",this.__onResize()):this.__onObjLoad()},beforeDestroy(){clearTimeout(this.timer),!0!==this.hasObserver?this.__cleanup():this.$el.parentNode&&this.observer.unobserve(this.$el.parentNode)}});function nn(t,e,i){const n=!0===i?["left","right"]:["top","bottom"];return`absolute-${!0===e?n[0]:n[1]}${t?` text-${t}`:""}`}function on(t,e){return t.priorityMatched===e.priorityMatched?e.priorityHref-t.priorityHref:e.priorityMatched-t.priorityMatched}function sn(t){return t.selected=!1,t}const rn=[function(t){return!0===t.selected&&!0===t.exact&&!0!==t.redirected},function(t){return!0===t.selected&&!0===t.exact},function(t){return!0===t.selected&&!0!==t.redirected},function(t){return!0===t.selected},function(t){return!0===t.exact&&!0!==t.redirected},function(t){return!0!==t.redirected},function(t){return!0===t.exact},function(t){return!0}],an=rn.length;var ln=a["a"].extend({name:"QTabs",mixins:[Ce],provide(){return{tabs:this.tabs,__recalculateScroll:this.__recalculateScroll,__activateTab:this.__activateTab,__activateRoute:this.__activateRoute}},props:{value:[Number,String],align:{type:String,default:"center",validator:t=>["left","center","right","justify"].includes(t)},breakpoint:{type:[String,Number],default:600},vertical:Boolean,shrink:Boolean,stretch:Boolean,activeColor:String,activeBgColor:String,indicatorColor:String,leftIcon:String,rightIcon:String,switchIndicator:Boolean,narrowIndicator:Boolean,inlineLabel:Boolean,noCaps:Boolean,dense:Boolean},data(){return{tabs:{current:this.value,activeColor:this.activeColor,activeBgColor:this.activeBgColor,indicatorClass:nn(this.indicatorColor,this.switchIndicator,this.vertical),narrowIndicator:this.narrowIndicator,inlineLabel:this.inlineLabel,noCaps:this.noCaps},scrollable:!1,leftArrow:!0,rightArrow:!1,justify:!1}},watch:{value(t){this.__activateTab(t,!0,!0)},activeColor(t){this.tabs.activeColor=t},activeBgColor(t){this.tabs.activeBgColor=t},vertical(t){this.tabs.indicatorClass=nn(this.indicatorColor,this.switchIndicator,t)},indicatorColor(t){this.tabs.indicatorClass=nn(t,this.switchIndicator,this.vertical)},switchIndicator(t){this.tabs.indicatorClass=nn(this.indicatorColor,t,this.vertical)},narrowIndicator(t){this.tabs.narrowIndicator=t},inlineLabel(t){this.tabs.inlineLabel=t},noCaps(t){this.tabs.noCaps=t}},computed:{alignClass(){const t=!0===this.scrollable?"left":!0===this.justify?"justify":this.align;return`q-tabs__content--align-${t}`},classes(){return`q-tabs--${!0===this.scrollable?"":"not-"}scrollable`+` q-tabs--${!0===this.vertical?"vertical":"horizontal"}`+(!0===this.dense?" q-tabs--dense":"")+(!0===this.shrink?" col-shrink":"")+(!0===this.stretch?" self-stretch":"")},domProps(){return!0===this.vertical?{container:"height",content:"scrollHeight",posLeft:"top",posRight:"bottom"}:{container:"width",content:"scrollWidth",posLeft:"left",posRight:"right"}}},methods:{__activateTab(t,e,i){this.tabs.current!==t&&(!0!==i&&this.$emit("input",t),!0!==e&&void 0!==this.$listeners.input||(this.__animate(this.tabs.current,t),this.tabs.current=t))},__activateRoute(t){this.bufferRoute!==this.$route&&this.buffer.length>0&&(clearTimeout(this.bufferTimer),this.bufferTimer=void 0,this.buffer.length=0),this.bufferRoute=this.$route,void 0!==t&&(!0===t.remove?this.buffer=this.buffer.filter(e=>e.name!==t.name):this.buffer.push(t)),void 0===this.bufferTimer&&(this.bufferTimer=setTimeout(()=>{let t=[];for(let e=0;e<an&&0===t.length;e++)t=this.buffer.filter(rn[e]);t.sort(on),this.__activateTab(0===t.length?null:t[0].name,!0),this.buffer=this.buffer.map(sn),this.bufferTimer=void 0},1))},__recalculateScroll(){this.__nextTick(()=>{!0!==this._isDestroyed&&this.__updateContainer({width:this.$el.offsetWidth,height:this.$el.offsetHeight})}),this.__prepareTick()},__updateContainer(t){const e=t[this.domProps.container],i=this.$refs.content[this.domProps.content],n=e>0&&i>e;this.scrollable!==n&&(this.scrollable=n),!0===n&&this.$nextTick(()=>this.__updateArrows());const o=e<parseInt(this.breakpoint,10);this.justify!==o&&(this.justify=o)},__animate(t,e){const i=void 0!==t&&null!==t&&""!==t?this.$children.find(e=>e.name===t):null,n=void 0!==e&&null!==e&&""!==e?this.$children.find(t=>t.name===e):null;if(i&&n){const t=i.$el.getElementsByClassName("q-tab__indicator")[0],e=n.$el.getElementsByClassName("q-tab__indicator")[0];clearTimeout(this.animateTimer),t.style.transition="none",t.style.transform="none",e.style.transition="none",e.style.transform="none";const o=t.getBoundingClientRect(),s=e.getBoundingClientRect();e.style.transform=!0===this.vertical?`translate3d(0,${o.top-s.top}px,0) scale3d(1,${s.height?o.height/s.height:1},1)`:`translate3d(${o.left-s.left}px,0,0) scale3d(${s.width?o.width/s.width:1},1,1)`,this.$nextTick(()=>{this.animateTimer=setTimeout(()=>{e.style.transition="transform .25s cubic-bezier(.4, 0, .2, 1)",e.style.transform="none"},30)})}if(n&&!0===this.scrollable){const{left:t,width:e,top:i,height:o}=this.$refs.content.getBoundingClientRect(),s=n.$el.getBoundingClientRect();let r=!0===this.vertical?s.top-i:s.left-t;if(r<0)return this.$refs.content[!0===this.vertical?"scrollTop":"scrollLeft"]+=r,void this.__updateArrows();r+=!0===this.vertical?s.height-o:s.width-e,r>0&&(this.$refs.content[!0===this.vertical?"scrollTop":"scrollLeft"]+=r,this.__updateArrows())}},__updateArrows(){const t=this.$refs.content,e=t.getBoundingClientRect(),i=!0===this.vertical?t.scrollTop:t.scrollLeft;this.leftArrow=i>0,this.rightArrow=!0===this.vertical?Math.ceil(i+e.height)<t.scrollHeight:Math.ceil(i+e.width)<t.scrollWidth},__animScrollTo(t){this.__stopAnimScroll(),this.__scrollTowards(t),this.scrollTimer=setInterval(()=>{this.__scrollTowards(t)&&this.__stopAnimScroll()},5)},__scrollToStart(){this.__animScrollTo(0)},__scrollToEnd(){this.__animScrollTo(9999)},__stopAnimScroll(){clearInterval(this.scrollTimer)},__scrollTowards(t){let e=this.$refs.content,i=!0===this.vertical?e.scrollTop:e.scrollLeft,n=t<i?-1:1,o=!1;return i+=5*n,i<0?(o=!0,i=0):(-1===n&&i<=t||1===n&&i>=t)&&(o=!0,i=t),e[!0===this.vertical?"scrollTop":"scrollLeft"]=i,this.__updateArrows(),o}},created(){this.buffer=[],!0!==this.$q.platform.is.desktop&&(this.__updateArrows=()=>{})},beforeDestroy(){clearTimeout(this.bufferTimer),clearTimeout(this.animateTimer)},render(t){const e=[t(en,{on:Ne(this,"resize",{resize:this.__updateContainer})}),t("div",{ref:"content",staticClass:"q-tabs__content row no-wrap items-center self-stretch hide-scrollbar",class:this.alignClass},Lt(this,"default"))];return!0===this.$q.platform.is.desktop&&e.push(t(Ft,{staticClass:"q-tabs__arrow q-tabs__arrow--left absolute q-tab__icon",class:!0===this.leftArrow?"":"q-tabs__arrow--faded",props:{name:this.leftIcon||(!0===this.vertical?this.$q.iconSet.tabs.up:this.$q.iconSet.tabs.left)},nativeOn:{mousedown:this.__scrollToStart,touchstart:this.__scrollToStart,mouseup:this.__stopAnimScroll,mouseleave:this.__stopAnimScroll,touchend:this.__stopAnimScroll}}),t(Ft,{staticClass:"q-tabs__arrow q-tabs__arrow--right absolute q-tab__icon",class:!0===this.rightArrow?"":"q-tabs__arrow--faded",props:{name:this.rightIcon||(!0===this.vertical?this.$q.iconSet.tabs.down:this.$q.iconSet.tabs.right)},nativeOn:{mousedown:this.__scrollToEnd,touchstart:this.__scrollToEnd,mouseup:this.__stopAnimScroll,mouseleave:this.__stopAnimScroll,touchend:this.__stopAnimScroll}})),t("div",{staticClass:"q-tabs row no-wrap items-center",class:this.classes,on:{input:R,...this.$listeners},attrs:{role:"tablist"}},e)}});function cn(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}var un=function(){return cn()+cn()+"-"+cn()+"-"+cn()+"-"+cn()+"-"+cn()+cn()+cn()},hn=a["a"].extend({name:"QTab",mixins:[re],inject:{tabs:{default(){console.error("QTab/QRouteTab components need to be child of QTabsBar")}},__activateTab:{},__recalculateScroll:{}},props:{icon:String,label:[Number,String],alert:[Boolean,String],name:{type:[Number,String],default:()=>un()},noCaps:Boolean,tabindex:[String,Number],disable:Boolean},computed:{isActive(){return this.tabs.current===this.name},classes(){return{[`q-tab--${this.isActive?"":"in"}active`]:!0,[`text-${this.tabs.activeColor}`]:this.isActive&&this.tabs.activeColor,[`bg-${this.tabs.activeBgColor}`]:this.isActive&&this.tabs.activeBgColor,"q-tab--full":this.icon&&this.label&&!this.tabs.inlineLabel,"q-tab--no-caps":!0===this.noCaps||!0===this.tabs.noCaps,"q-focusable q-hoverable cursor-pointer":!this.disable,disabled:this.disable}},computedTabIndex(){return!0===this.disable||!0===this.isActive?-1:this.tabindex||0}},methods:{__activate(t,e){!0!==e&&void 0!==this.$refs.blurTarget&&this.$refs.blurTarget.focus(),!0!==this.disable&&(void 0!==this.$listeners.click&&this.$emit("click",t),this.__activateTab(this.name))},__onKeyup(t){!0===et(t,13)&&this.__activate(t,!0)},__getContent(t){const e=this.tabs.narrowIndicator,i=[],n=t("div",{staticClass:"q-tab__indicator",class:this.tabs.indicatorClass});void 0!==this.icon&&i.push(t(Ft,{staticClass:"q-tab__icon",props:{name:this.icon}})),void 0!==this.label&&i.push(t("div",{staticClass:"q-tab__label"},[this.label])),!1!==this.alert&&i.push(t("div",{staticClass:"q-tab__alert",class:!0!==this.alert?`text-${this.alert}`:null})),e&&i.push(n);const o=[t("div",{staticClass:"q-focus-helper",attrs:{tabindex:-1},ref:"blurTarget"}),t("div",{staticClass:"q-tab__content self-stretch flex-center relative-position q-anchor--skip non-selectable",class:!0===this.tabs.inlineLabel?"row no-wrap q-tab__content--inline":"column"},Bt(i,this,"default"))];return!e&&o.push(n),o},__renderTab(t,e,i){const n={staticClass:"q-tab relative-position self-stretch flex flex-center text-center",class:this.classes,attrs:{tabindex:this.computedTabIndex,role:"tab","aria-selected":this.isActive},directives:!1!==this.ripple&&!0===this.disable?null:[{name:"ripple",value:this.ripple}],["div"===e?"on":"nativeOn"]:{input:R,...this.$listeners,click:this.__activate,keyup:this.__onKeyup}};return void 0!==i&&(n.props=i),t(e,n,this.__getContent(t))}},mounted(){this.__recalculateScroll()},beforeDestroy(){this.__recalculateScroll()},render(t){return this.__renderTab(t,"div")}}),dn=a["a"].extend({name:"QTabPanels",mixins:[Ut,yi],methods:{__renderPanels(t){return t("div",{staticClass:"q-tab-panels q-panel-parent",class:!0===this.isDark?"q-tab-panels--dark q-dark":"",directives:this.panelDirectives,on:this.$listeners},this.__getPanelContent(t))}}}),pn=a["a"].extend({name:"QTabPanel",mixins:[Ti],render(t){return t("div",{staticClass:"q-tab-panel",on:this.$listeners},Lt(this,"default"))}});const _n=["rgb(255,204,204)","rgb(255,230,204)","rgb(255,255,204)","rgb(204,255,204)","rgb(204,255,230)","rgb(204,255,255)","rgb(204,230,255)","rgb(204,204,255)","rgb(230,204,255)","rgb(255,204,255)","rgb(255,153,153)","rgb(255,204,153)","rgb(255,255,153)","rgb(153,255,153)","rgb(153,255,204)","rgb(153,255,255)","rgb(153,204,255)","rgb(153,153,255)","rgb(204,153,255)","rgb(255,153,255)","rgb(255,102,102)","rgb(255,179,102)","rgb(255,255,102)","rgb(102,255,102)","rgb(102,255,179)","rgb(102,255,255)","rgb(102,179,255)","rgb(102,102,255)","rgb(179,102,255)","rgb(255,102,255)","rgb(255,51,51)","rgb(255,153,51)","rgb(255,255,51)","rgb(51,255,51)","rgb(51,255,153)","rgb(51,255,255)","rgb(51,153,255)","rgb(51,51,255)","rgb(153,51,255)","rgb(255,51,255)","rgb(255,0,0)","rgb(255,128,0)","rgb(255,255,0)","rgb(0,255,0)","rgb(0,255,128)","rgb(0,255,255)","rgb(0,128,255)","rgb(0,0,255)","rgb(128,0,255)","rgb(255,0,255)","rgb(245,0,0)","rgb(245,123,0)","rgb(245,245,0)","rgb(0,245,0)","rgb(0,245,123)","rgb(0,245,245)","rgb(0,123,245)","rgb(0,0,245)","rgb(123,0,245)","rgb(245,0,245)","rgb(214,0,0)","rgb(214,108,0)","rgb(214,214,0)","rgb(0,214,0)","rgb(0,214,108)","rgb(0,214,214)","rgb(0,108,214)","rgb(0,0,214)","rgb(108,0,214)","rgb(214,0,214)","rgb(163,0,0)","rgb(163,82,0)","rgb(163,163,0)","rgb(0,163,0)","rgb(0,163,82)","rgb(0,163,163)","rgb(0,82,163)","rgb(0,0,163)","rgb(82,0,163)","rgb(163,0,163)","rgb(92,0,0)","rgb(92,46,0)","rgb(92,92,0)","rgb(0,92,0)","rgb(0,92,46)","rgb(0,92,92)","rgb(0,46,92)","rgb(0,0,92)","rgb(46,0,92)","rgb(92,0,92)","rgb(255,255,255)","rgb(205,205,205)","rgb(178,178,178)","rgb(153,153,153)","rgb(127,127,127)","rgb(102,102,102)","rgb(76,76,76)","rgb(51,51,51)","rgb(25,25,25)","rgb(0,0,0)"];var gn=a["a"].extend({name:"QColor",mixins:[Ut],directives:{TouchPan:Yi},props:{value:String,defaultValue:String,defaultView:{type:String,default:"spectrum",validator:t=>["spectrum","tune","palette"].includes(t)},formatModel:{type:String,default:"auto",validator:t=>["auto","hex","rgb","hexa","rgba"].includes(t)},palette:Array,noHeader:Boolean,noFooter:Boolean,square:Boolean,flat:Boolean,bordered:Boolean,disable:Boolean,readonly:Boolean},data(){return{topView:"auto"===this.formatModel?void 0===this.value||null===this.value||""===this.value||this.value.startsWith("#")?"hex":"rgb":this.formatModel.startsWith("hex")?"hex":"rgb",view:this.defaultView,model:this.__parseModel(this.value||this.defaultValue)}},watch:{value(t){const e=this.__parseModel(t||this.defaultValue);e.hex!==this.model.hex&&(this.model=e)},defaultValue(t){if(!this.value&&t){const e=this.__parseModel(t);e.hex!==this.model.hex&&(this.model=e)}}},computed:{editable(){return!0!==this.disable&&!0!==this.readonly},forceHex(){return"auto"===this.formatModel?null:this.formatModel.indexOf("hex")>-1},forceAlpha(){return"auto"===this.formatModel?null:this.formatModel.indexOf("a")>-1},isHex(){return void 0===this.value||null===this.value||""===this.value||this.value.startsWith("#")},isOutputHex(){return null!==this.forceHex?this.forceHex:this.isHex},hasAlpha(){return null!==this.forceAlpha?this.forceAlpha:void 0!==this.model.a},currentBgColor(){return{backgroundColor:this.model.rgb||"#000"}},headerClass(){const t=void 0!==this.model.a&&this.model.a<65||j(this.model)>.4;return`q-color-picker__header-content--${t?"light":"dark"}`},spectrumStyle(){return{background:`hsl(${this.model.h},100%,50%)`}},spectrumPointerStyle(){return{top:`${100-this.model.v}%`,[!0===this.$q.lang.rtl?"right":"left"]:`${this.model.s}%`}},inputsArray(){const t=["r","g","b"];return!0===this.hasAlpha&&t.push("a"),t},computedPalette(){return void 0!==this.palette&&this.palette.length>0?this.palette:_n},classes(){return"q-color-picker"+(!0===this.bordered?" q-color-picker--bordered":"")+(!0===this.square?" q-color-picker--square no-border-radius":"")+(!0===this.flat?" q-color-picker--flat no-shadow":"")+(!0===this.disable?" disabled":"")+(!0===this.isDark?" q-color-picker--dark q-dark":"")}},created(){this.__spectrumChange=qi(this.__spectrumChange,20)},render(t){const e=[this.__getContent(t)];return!0!==this.noHeader&&e.unshift(this.__getHeader(t)),!0!==this.noFooter&&e.push(this.__getFooter(t)),t("div",{class:this.classes},e)},methods:{__getHeader(t){return t("div",{staticClass:"q-color-picker__header relative-position overflow-hidden"},[t("div",{staticClass:"q-color-picker__header-bg absolute-full"}),t("div",{staticClass:"q-color-picker__header-content absolute-full",class:this.headerClass,style:this.currentBgColor},[t(ln,{props:{value:this.topView,dense:!0,align:"justify"},on:Ne(this,"topVTab",{input:t=>{this.topView=t}})},[t(hn,{props:{label:"HEX"+(!0===this.hasAlpha?"A":""),name:"hex",ripple:!1}}),t(hn,{props:{label:"RGB"+(!0===this.hasAlpha?"A":""),name:"rgb",ripple:!1}})]),t("div",{staticClass:"q-color-picker__header-banner row flex-center no-wrap"},[t("input",{staticClass:"fit",domProps:{value:this.model[this.topView]},attrs:!0!==this.editable?{readonly:!0}:null,on:Ne(this,"topIn",{input:t=>{this.__updateErrorIcon(!0===this.__onEditorChange(t))},blur:t=>{!0===this.__onEditorChange(t,!0)&&this.$forceUpdate(),this.__updateErrorIcon(!1)}})}),t(Ft,{ref:"errorIcon",staticClass:"q-color-picker__error-icon absolute no-pointer-events",props:{name:this.$q.iconSet.type.negative}})])])])},__getContent(t){return t(dn,{props:{value:this.view,animated:!0}},[t(pn,{staticClass:"q-color-picker__spectrum-tab",props:{name:"spectrum"}},this.__getSpectrumTab(t)),t(pn,{staticClass:"q-pa-md q-color-picker__tune-tab",props:{name:"tune"}},this.__getTuneTab(t)),t(pn,{staticClass:"q-pa-sm q-color-picker__palette-tab",props:{name:"palette"}},this.__getPaletteTab(t))])},__getFooter(t){return t("div",{staticClass:"q-color-picker__footer relative-position overflow-hidden"},[t(ln,{staticClass:"absolute-full",props:{value:this.view,dense:!0,align:"justify"},on:Ne(this,"ftIn",{input:t=>{this.view=t}})},[t(hn,{props:{icon:this.$q.iconSet.colorPicker.spectrum,name:"spectrum",ripple:!1}}),t(hn,{props:{icon:this.$q.iconSet.colorPicker.tune,name:"tune",ripple:!1}}),t(hn,{props:{icon:this.$q.iconSet.colorPicker.palette,name:"palette",ripple:!1}})])])},__getSpectrumTab(t){return[t("div",{ref:"spectrum",staticClass:"q-color-picker__spectrum non-selectable relative-position cursor-pointer",style:this.spectrumStyle,class:{readonly:!0!==this.editable},on:!0===this.editable?Ne(this,"spectrT",{click:this.__spectrumClick}):null,directives:!0===this.editable?Ne(this,"spectrDir",[{name:"touch-pan",modifiers:{prevent:!0,stop:!0,mouse:!0},value:this.__spectrumPan}]):null},[t("div",{style:{paddingBottom:"100%"}}),t("div",{staticClass:"q-color-picker__spectrum-white absolute-full"}),t("div",{staticClass:"q-color-picker__spectrum-black absolute-full"}),t("div",{staticClass:"absolute",style:this.spectrumPointerStyle},[void 0!==this.model.hex?t("div",{staticClass:"q-color-picker__spectrum-circle"}):null])]),t("div",{staticClass:"q-color-picker__sliders"},[t("div",{staticClass:"q-color-picker__hue q-mx-sm non-selectable"},[t(Zi,{props:{value:this.model.h,min:0,max:360,fillHandleAlways:!0,readonly:!0!==this.editable},on:Ne(this,"hueSlide",{input:this.__onHueChange,change:t=>this.__onHueChange(t,!0)})})]),!0===this.hasAlpha?t("div",{staticClass:"q-mx-sm q-color-picker__alpha non-selectable"},[t(Zi,{props:{value:this.model.a,min:0,max:100,fillHandleAlways:!0,readonly:!0!==this.editable},on:Ne(this,"alphaSlide",{input:t=>this.__onNumericChange({target:{value:t}},"a",100),change:t=>this.__onNumericChange({target:{value:t}},"a",100,!0)})})]):null])]},__getTuneTab(t){return[t("div",{staticClass:"row items-center no-wrap"},[t("div",["R"]),t(Zi,{props:{value:this.model.r,min:0,max:255,color:"red",dark:this.isDark,readonly:!0!==this.editable},on:Ne(this,"rSlide",{input:t=>this.__onNumericChange({target:{value:t}},"r",255),change:t=>this.__onNumericChange({target:{value:t}},"r",255,!0)})}),t("input",{domProps:{value:this.model.r},attrs:{maxlength:3,readonly:!0!==this.editable},on:Ne(this,"rIn",{input:t=>this.__onNumericChange(t,"r",255),blur:t=>this.__onNumericChange(t,"r",255,!0)})})]),t("div",{staticClass:"row items-center no-wrap"},[t("div",["G"]),t(Zi,{props:{value:this.model.g,min:0,max:255,color:"green",dark:this.isDark,readonly:!0!==this.editable},on:Ne(this,"gSlide",{input:t=>this.__onNumericChange({target:{value:t}},"g",255),change:t=>this.__onNumericChange({target:{value:t}},"g",255,!0)})}),t("input",{domProps:{value:this.model.g},attrs:{maxlength:3,readonly:!0!==this.editable},on:Ne(this,"gIn",{input:t=>this.__onNumericChange(t,"g",255),blur:t=>this.__onNumericChange(t,"g",255,!0)})})]),t("div",{staticClass:"row items-center no-wrap"},[t("div",["B"]),t(Zi,{props:{value:this.model.b,min:0,max:255,color:"blue",readonly:!0!==this.editable,dark:this.isDark},on:Ne(this,"bSlide",{input:t=>this.__onNumericChange({target:{value:t}},"b",255),change:t=>this.__onNumericChange({target:{value:t}},"b",255,!0)})}),t("input",{domProps:{value:this.model.b},attrs:{maxlength:3,readonly:!0!==this.editable},on:Ne(this,"bIn",{input:t=>this.__onNumericChange(t,"b",255),blur:t=>this.__onNumericChange(t,"b",255,!0)})})]),!0===this.hasAlpha?t("div",{staticClass:"row items-center no-wrap"},[t("div",["A"]),t(Zi,{props:{value:this.model.a,color:"grey",readonly:!0!==this.editable,dark:this.isDark},on:Ne(this,"aSlide",{input:t=>this.__onNumericChange({target:{value:t}},"a",100),change:t=>this.__onNumericChange({target:{value:t}},"a",100,!0)})}),t("input",{domProps:{value:this.model.a},attrs:{maxlength:3,readonly:!0!==this.editable},on:Ne(this,"aIn",{input:t=>this.__onNumericChange(t,"a",100),blur:t=>this.__onNumericChange(t,"a",100,!0)})})]):null]},__getPaletteTab(t){return[t("div",{staticClass:"row items-center q-color-picker__palette-rows",class:!0===this.editable?"q-color-picker__palette-rows--editable":null},this.computedPalette.map(e=>t("div",{staticClass:"q-color-picker__cube col-auto",style:{backgroundColor:e},on:!0===this.editable?Ne(this,"palette#"+e,{click:()=>{this.__onPalettePick(e)}}):null})))]},__onSpectrumChange(t,e,i){const n=this.$refs.spectrum;if(void 0===n)return;const o=n.clientWidth,s=n.clientHeight,r=n.getBoundingClientRect();let a=Math.min(o,Math.max(0,t-r.left));!0===this.$q.lang.rtl&&(a=o-a);const l=Math.min(s,Math.max(0,e-r.top)),c=Math.round(100*a/o),u=Math.round(100*Math.max(0,Math.min(1,-l/s+1))),h=q({h:this.model.h,s:c,v:u,a:!0===this.hasAlpha?this.model.a:void 0});this.model.s=c,this.model.v=u,this.__update(h,i)},__onHueChange(t,e){t=Math.round(t);const i=q({h:t,s:this.model.s,v:this.model.v,a:!0===this.hasAlpha?this.model.a:void 0});this.model.h=t,this.__update(i,e)},__onNumericChange(t,e,i,n){if(!/^[0-9]+$/.test(t.target.value))return void(n&&this.$forceUpdate());const o=Math.floor(Number(t.target.value));if(o<0||o>i)return void(n&&this.$forceUpdate());const s={r:"r"===e?o:this.model.r,g:"g"===e?o:this.model.g,b:"b"===e?o:this.model.b,a:!0===this.hasAlpha?"a"===e?o:this.model.a:void 0};if("a"!==e){const t=z(s);this.model.h=t.h,this.model.s=t.s,this.model.v=t.v}if(this.__update(s,n),!0!==n&&void 0!==t.target.selectionEnd){const e=t.target.selectionEnd;this.$nextTick(()=>{t.target.setSelectionRange(e,e)})}},__onEditorChange(t,e){let i;const n=t.target.value;if("hex"===this.topView){if(n.length!==(!0===this.hasAlpha?9:7)||!/^#[0-9A-Fa-f]+$/.test(n))return!0;i=G(n)}else{let t;if(!n.endsWith(")"))return!0;if(!0!==this.hasAlpha&&n.startsWith("rgb(")){if(t=n.substring(4,n.length-1).split(",").map(t=>parseInt(t,10)),3!==t.length||!/^rgb\([0-9]{1,3},[0-9]{1,3},[0-9]{1,3}\)$/.test(n))return!0}else{if(!0!==this.hasAlpha||!n.startsWith("rgba("))return!0;{if(t=n.substring(5,n.length-1).split(","),4!==t.length||!/^rgba\([0-9]{1,3},[0-9]{1,3},[0-9]{1,3},(0|0\.[0-9]+[1-9]|0\.[1-9]+|1)\)$/.test(n))return!0;for(let i=0;i<3;i++){const e=parseInt(t[i],10);if(e<0||e>255)return!0;t[i]=e}const e=parseFloat(t[3]);if(e<0||e>1)return!0;t[3]=e}}if(t[0]<0||t[0]>255||t[1]<0||t[1]>255||t[2]<0||t[2]>255||!0===this.hasAlpha&&(t[3]<0||t[3]>1))return!0;i={r:t[0],g:t[1],b:t[2],a:!0===this.hasAlpha?100*t[3]:void 0}}const o=z(i);if(this.model.h=o.h,this.model.s=o.s,this.model.v=o.v,this.__update(i,e),!0!==e){const e=t.target.selectionEnd;this.$nextTick(()=>{t.target.setSelectionRange(e,e)})}},__onPalettePick(t){const e=this.__parseModel(t),i={r:e.r,g:e.g,b:e.b,a:e.a};void 0===i.a&&(i.a=this.model.a),this.model.h=e.h,this.model.s=e.s,this.model.v=e.v,this.__update(i,!0)},__update(t,e){this.model.hex=U(t),this.model.rgb=W(t),this.model.r=t.r,this.model.g=t.g,this.model.b=t.b,this.model.a=t.a;const i=this.model[!0===this.isOutputHex?"hex":"rgb"];this.$emit("input",i),!0===e&&this.$emit("change",i)},__updateErrorIcon(t){this.$refs.errorIcon.$el.style.opacity=t?1:0},__parseModel(t){const e=void 0!==this.forceAlpha?this.forceAlpha:"auto"===this.formatModel?null:this.formatModel.indexOf("a")>-1;if(null===t||void 0===t||""===t||!0!==Gi.anyColor(t))return{h:0,s:0,v:0,r:0,g:0,b:0,a:!0===e?100:void 0,hex:void 0,rgb:void 0};let i=$(t);return!0===e&&void 0===i.a&&(i.a=100),i.hex=U(i),i.rgb=W(i),Object.assign(i,z(i))},__spectrumPan(t){t.isFinal?this.__onSpectrumChange(t.position.left,t.position.top,!0):this.__spectrumChange(t)},__spectrumChange(t){this.__onSpectrumChange(t.position.left,t.position.top)},__spectrumClick(t){this.__onSpectrumChange(t.pageX-window.pageXOffset,t.pageY-window.pageYOffset,!0)}}});const fn=[-61,9,38,199,426,686,756,818,1111,1181,1210,1635,2060,2097,2192,2262,2324,2394,2456,3178];function mn(t,e,i){return"[object Date]"===Object.prototype.toString.call(t)&&(i=t.getDate(),e=t.getMonth()+1,t=t.getFullYear()),Cn(kn(t,e,i))}function vn(t,e,i){return wn(Sn(t,e,i))}function bn(t){return 0===Tn(t)}function yn(t,e){return e<=6?31:e<=11?30:bn(t)?30:29}function Tn(t){let e,i,n,o,s,r=fn.length,a=fn[0];if(t<a||t>=fn[r-1])throw new Error("Invalid Jalaali year "+t);for(s=1;s<r;s+=1){if(e=fn[s],i=e-a,t<e)break;a=e}return o=t-a,i-o<6&&(o=o-i+33*Rn(i+4,33)),n=In(In(o+1,33)-1,4),-1===n&&(n=4),n}function En(t,e){let i,n,o,s,r,a,l,c=fn.length,u=t+621,h=-14,d=fn[0];if(t<d||t>=fn[c-1])throw new Error("Invalid Jalaali year "+t);for(l=1;l<c;l+=1){if(i=fn[l],n=i-d,t<i)break;h=h+8*Rn(n,33)+Rn(In(n,33),4),d=i}return a=t-d,h=h+8*Rn(a,33)+Rn(In(a,33)+3,4),4===In(n,33)&&n-a===4&&(h+=1),s=Rn(u,4)-Rn(3*(Rn(u,100)+1),4)-150,r=20+h-s,e||(n-a<6&&(a=a-n+33*Rn(n+4,33)),o=In(In(a+1,33)-1,4),-1===o&&(o=4)),{leap:o,gy:u,march:r}}function Sn(t,e,i){const n=En(t,!0);return kn(n.gy,3,n.march)+31*(e-1)-Rn(e,7)*(e-7)+i-1}function Cn(t){let e,i,n,o=wn(t).gy,s=o-621,r=En(s,!1),a=kn(o,3,r.march);if(n=t-a,n>=0){if(n<=185)return i=1+Rn(n,31),e=In(n,31)+1,{jy:s,jm:i,jd:e};n-=186}else s-=1,n+=179,1===r.leap&&(n+=1);return i=7+Rn(n,30),e=In(n,30)+1,{jy:s,jm:i,jd:e}}function kn(t,e,i){let n=Rn(1461*(t+Rn(e-8,6)+100100),4)+Rn(153*In(e+9,12)+2,5)+i-34840408;return n=n-Rn(3*Rn(t+100100+Rn(e-8,6),100),4)+752,n}function wn(t){let e,i,n,o,s;return e=4*t+139361631,e=e+4*Rn(3*Rn(4*t+183187720,146097),4)-3908,i=5*Rn(In(e,1461),4)+308,n=Rn(In(i,153),5)+1,o=In(Rn(i,153),12)+1,s=Rn(e,1461)-100100+Rn(8-o,6),{gy:s,gm:o,gd:n}}function Rn(t,e){return~~(t/e)}function In(t,e){return t-~~(t/e)*e}var xn={mixins:[Ut],props:{value:{required:!0},mask:{type:String},locale:Object,calendar:{type:String,validator:t=>["gregorian","persian"].includes(t),default:"gregorian"},landscape:Boolean,color:String,textColor:String,square:Boolean,flat:Boolean,bordered:Boolean,readonly:Boolean,disable:Boolean},watch:{mask(){this.$nextTick(()=>{this.__updateValue({},"mask")})},computedLocale(){this.$nextTick(()=>{this.__updateValue({},"locale")})}},computed:{editable(){return!0!==this.disable&&!0!==this.readonly},computedColor(){return this.color||"primary"},computedTextColor(){return this.textColor||"white"},computedTabindex(){return!0===this.editable?0:-1},headerClass(){const t=[];return void 0!==this.color&&t.push(`bg-${this.color}`),void 0!==this.textColor&&t.push(`text-${this.textColor}`),t.join(" ")},computedLocale(){return this.__getComputedLocale()}},methods:{__getComputedLocale(){return this.locale||this.$q.lang.date},__getCurrentDate(){const t=new Date;if("persian"===this.calendar){const e=mn(t);return{year:e.jy,month:e.jm,day:e.jd}}return{year:t.getFullYear(),month:t.getMonth()+1,day:t.getDate()}},__getCurrentTime(){const t=new Date;return{hour:t.getHours(),minute:t.getMinutes(),second:t.getSeconds(),millisecond:t.getMilliseconds()}}}};const On=864e5,An=36e5,Mn=6e4,Nn="YYYY-MM-DDTHH:mm:ss.SSSZ",Ln=/\[((?:[^\]\\]|\\]|\\)*)\]|d{1,4}|M{1,4}|m{1,2}|w{1,2}|Qo|Do|D{1,4}|YY(?:YY)?|H{1,2}|h{1,2}|s{1,2}|S{1,3}|Z{1,2}|a{1,2}|[AQExX]/g,Dn=/(\[[^\]]*\])|d{1,4}|M{1,4}|m{1,2}|w{1,2}|Qo|Do|D{1,4}|YY(?:YY)?|H{1,2}|h{1,2}|s{1,2}|S{1,3}|Z{1,2}|a{1,2}|[AQExX]|([.*+:?^,\s${}()|\\]+)/g,Bn={};function Pn(t,e){const i="("+e.days.join("|")+")",n=t+i;if(void 0!==Bn[n])return Bn[n];const o="("+e.daysShort.join("|")+")",s="("+e.months.join("|")+")",r="("+e.monthsShort.join("|")+")",a={};let l=0;const c=t.replace(Dn,t=>{switch(l++,t){case"YY":return a.YY=l,"(-?\\d{1,2})";case"YYYY":return a.YYYY=l,"(-?\\d{1,4})";case"M":return a.M=l,"(\\d{1,2})";case"MM":return a.M=l,"(\\d{2})";case"MMM":return a.MMM=l,r;case"MMMM":return a.MMMM=l,s;case"D":return a.D=l,"(\\d{1,2})";case"Do":return a.D=l++,"(\\d{1,2}(st|nd|rd|th))";case"DD":return a.D=l,"(\\d{2})";case"H":return a.H=l,"(\\d{1,2})";case"HH":return a.H=l,"(\\d{2})";case"h":return a.h=l,"(\\d{1,2})";case"hh":return a.h=l,"(\\d{2})";case"m":return a.m=l,"(\\d{1,2})";case"mm":return a.m=l,"(\\d{2})";case"s":return a.s=l,"(\\d{1,2})";case"ss":return a.s=l,"(\\d{2})";case"S":return a.S=l,"(\\d{1})";case"SS":return a.S=l,"(\\d{2})";case"SSS":return a.S=l,"(\\d{3})";case"A":return a.A=l,"(AM|PM)";case"a":return a.a=l,"(am|pm)";case"aa":return a.aa=l,"(a\\.m\\.|p\\.m\\.)";case"ddd":return o;case"dddd":return i;case"Q":case"d":case"E":return"(\\d{1})";case"Qo":return"(1st|2nd|3rd|4th)";case"DDD":case"DDDD":return"(\\d{1,3})";case"w":return"(\\d{1,2})";case"ww":return"(\\d{2})";case"Z":return"(Z|[+-]\\d{2}:\\d{2})";case"ZZ":return"(Z|[+-]\\d{2}\\d{2})";case"X":return a.X=l,"(-?\\d+)";case"x":return a.x=l,"(-?\\d{4,})";default:return l--,"["===t[0]&&(t=t.substring(1,t.length-1)),t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}}),u={map:a,regex:new RegExp("^"+c)};return Bn[n]=u,u}function Fn(t,e,i,n){const o={year:null,month:null,day:null,hour:null,minute:null,second:null,millisecond:null,dateHash:null,timeHash:null};if(void 0===t||null===t||""===t||"string"!==typeof t)return o;void 0===e&&(e=Nn);const s=void 0!==i?i:V.props.date,r=s.months,a=s.monthsShort,{regex:l,map:c}=Pn(e,s),u=t.match(l);if(null===u)return o;if(void 0!==c.X||void 0!==c.x){const t=parseInt(u[void 0!==c.X?c.X:c.x],10);if(!0===isNaN(t)||t<0)return o;const e=new Date(t*(void 0!==c.X?1e3:1));o.year=e.getFullYear(),o.month=e.getMonth()+1,o.day=e.getDate(),o.hour=e.getHours(),o.minute=e.getMinutes(),o.second=e.getSeconds(),o.millisecond=e.getMilliseconds()}else{if(void 0!==c.YYYY)o.year=parseInt(u[c.YYYY],10);else if(void 0!==c.YY){const t=parseInt(u[c.YY],10);o.year=t<0?t:2e3+t}if(void 0!==c.M){if(o.month=parseInt(u[c.M],10),o.month<1||o.month>12)return o}else void 0!==c.MMM?o.month=a.indexOf(u[c.MMM])+1:void 0!==c.MMMM&&(o.month=r.indexOf(u[c.MMMM])+1);if(void 0!==c.D){if(o.day=parseInt(u[c.D],10),null===o.year||null===o.month||o.day<1)return o;const t="persian"!==n?new Date(o.year,o.month,0).getDate():yn(o.year,o.month);if(o.day>t)return o}void 0!==c.H?o.hour=parseInt(u[c.H],10)%24:void 0!==c.h&&(o.hour=parseInt(u[c.h],10)%12,(c.A&&"PM"===u[c.A]||c.a&&"pm"===u[c.a]||c.aa&&"p.m."===u[c.aa])&&(o.hour+=12),o.hour=o.hour%24),void 0!==c.m&&(o.minute=parseInt(u[c.m],10)%60),void 0!==c.s&&(o.second=parseInt(u[c.s],10)%60),void 0!==c.S&&(o.millisecond=parseInt(u[c.S],10)*10**(3-u[c.S].length))}return o.dateHash=o.year+"/"+Tt(o.month)+"/"+Tt(o.day),o.timeHash=Tt(o.hour)+":"+Tt(o.minute)+":"+Tt(o.second),o}function Hn(t,e=""){const i=t>0?"-":"+",n=Math.abs(t),o=Math.floor(n/60),s=n%60;return i+Tt(o)+e+Tt(s)}function Vn(t){const e=new Date(t.getFullYear(),t.getMonth(),t.getDate());e.setDate(e.getDate()-(e.getDay()+6)%7+3);const i=new Date(e.getFullYear(),0,4);i.setDate(i.getDate()-(i.getDay()+6)%7+3);const n=e.getTimezoneOffset()-i.getTimezoneOffset();e.setHours(e.getHours()-n);const o=(e-i)/(7*On);return 1+Math.floor(o)}function Un(t,e){const i=new Date(t);switch(e){case"year":i.setMonth(0);case"month":i.setDate(1);case"day":i.setHours(0);case"hour":i.setMinutes(0);case"minute":i.setSeconds(0);case"second":i.setMilliseconds(0)}return i}function Wn(t,e,i){return(t.getTime()-t.getTimezoneOffset()*Mn-(e.getTime()-e.getTimezoneOffset()*Mn))/i}function $n(t,e,i="days"){let n=new Date(t),o=new Date(e);switch(i){case"years":return n.getFullYear()-o.getFullYear();case"months":return 12*(n.getFullYear()-o.getFullYear())+n.getMonth()-o.getMonth();case"days":return Wn(Un(n,"day"),Un(o,"day"),On);case"hours":return Wn(Un(n,"hour"),Un(o,"hour"),An);case"minutes":return Wn(Un(n,"minute"),Un(o,"minute"),Mn);case"seconds":return Wn(Un(n,"second"),Un(o,"second"),1e3)}}function Gn(t){return $n(t,Un(t,"year"),"days")+1}function qn(t){if(t>=11&&t<=13)return`${t}th`;switch(t%10){case 1:return`${t}st`;case 2:return`${t}nd`;case 3:return`${t}rd`}return`${t}th`}const zn={YY(t,e,i){const n=this.YYYY(t,e,i)%100;return n>0?Tt(n):"-"+Tt(Math.abs(n))},YYYY(t,e,i){return void 0!==i&&null!==i?i:t.getFullYear()},M(t){return t.getMonth()+1},MM(t){return Tt(t.getMonth()+1)},MMM(t,e){return e.monthsShort[t.getMonth()]},MMMM(t,e){return e.months[t.getMonth()]},Q(t){return Math.ceil((t.getMonth()+1)/3)},Qo(t){return qn(this.Q(t))},D(t){return t.getDate()},Do(t){return qn(t.getDate())},DD(t){return Tt(t.getDate())},DDD(t){return Gn(t)},DDDD(t){return Tt(Gn(t),3)},d(t){return t.getDay()},dd(t,e){return this.dddd(t,e).slice(0,2)},ddd(t,e){return e.daysShort[t.getDay()]},dddd(t,e){return e.days[t.getDay()]},E(t){return t.getDay()||7},w(t){return Vn(t)},ww(t){return Tt(Vn(t))},H(t){return t.getHours()},HH(t){return Tt(t.getHours())},h(t){const e=t.getHours();return 0===e?12:e>12?e%12:e},hh(t){return Tt(this.h(t))},m(t){return t.getMinutes()},mm(t){return Tt(t.getMinutes())},s(t){return t.getSeconds()},ss(t){return Tt(t.getSeconds())},S(t){return Math.floor(t.getMilliseconds()/100)},SS(t){return Tt(Math.floor(t.getMilliseconds()/10))},SSS(t){return Tt(t.getMilliseconds(),3)},A(t){return this.H(t)<12?"AM":"PM"},a(t){return this.H(t)<12?"am":"pm"},aa(t){return this.H(t)<12?"a.m.":"p.m."},Z(t){return Hn(t.getTimezoneOffset(),":")},ZZ(t){return Hn(t.getTimezoneOffset())},X(t){return Math.floor(t.getTime()/1e3)},x(t){return t.getTime()}};function Xn(t,e,i,n){if(0!==t&&!t||t===1/0||t===-1/0)return;let o=new Date(t);if(isNaN(o))return;void 0===e&&(e=Nn);const s=void 0!==i?i:V.props.date;return e.replace(Ln,(t,e)=>t in zn?zn[t](o,s,n):void 0===e?t:e.split("\\]").join("]"))}const Yn=20,jn=t=>["Calendar","Years","Months"].includes(t);var Kn=a["a"].extend({name:"QDate",mixins:[xn],props:{title:String,subtitle:String,emitImmediately:Boolean,mask:{default:"YYYY/MM/DD"},defaultYearMonth:{type:String,validator:t=>/^-?[\d]+\/[0-1]\d$/.test(t)},events:[Array,Function],eventColor:[String,Function],options:[Array,Function],firstDayOfWeek:[String,Number],todayBtn:Boolean,minimal:Boolean,defaultView:{type:String,default:"Calendar",validator:jn}},data(){const{inner:t,external:e}=this.__getModels(this.value,this.mask,this.__getComputedLocale()),i=!0===this.$q.lang.rtl?"right":"left";return{view:this.defaultView,monthDirection:i,yearDirection:i,startYear:t.year-t.year%Yn,innerModel:t,extModel:e}},watch:{value(t){const{inner:e,external:i}=this.__getModels(t,this.mask,this.__getComputedLocale());this.extModel.dateHash===i.dateHash&&this.extModel.timeHash===i.timeHash||(this.extModel=i),e.dateHash!==this.innerModel.dateHash&&(this.monthDirection=this.innerModel.dateHash<e.dateHash===(!0!==this.$q.lang.rtl)?"left":"right",e.year!==this.innerModel.year&&(this.yearDirection=this.monthDirection),this.$nextTick(()=>{this.startYear=e.year-e.year%Yn,this.innerModel=e}))},view(){void 0!==this.$refs.blurTarget&&this.$refs.blurTarget.focus()}},computed:{classes(){const t=!0===this.landscape?"landscape":"portrait";return`q-date--${t} q-date--${t}-${!0===this.minimal?"minimal":"standard"}`+(!0===this.isDark?" q-date--dark q-dark":"")+(!0===this.bordered?" q-date--bordered":"")+(!0===this.square?" q-date--square no-border-radius":"")+(!0===this.flat?" q-date--flat no-shadow":"")+(!0===this.readonly&&!0!==this.disable?" q-date--readonly":"")+(!0===this.disable?" disabled":"")},headerTitle(){if(void 0!==this.title&&null!==this.title&&this.title.length>0)return this.title;const t=this.extModel;if(null===t.dateHash)return" --- ";let e;if("persian"!==this.calendar)e=new Date(t.year,t.month-1,t.day);else{const i=vn(t.year,t.month,t.day);e=new Date(i.gy,i.gm-1,i.gd)}return!0===isNaN(e.valueOf())?" --- ":void 0!==this.computedLocale.headerTitle?this.computedLocale.headerTitle(e,t):this.computedLocale.daysShort[e.getDay()]+", "+this.computedLocale.monthsShort[t.month-1]+" "+t.day},headerSubtitle(){return void 0!==this.subtitle&&null!==this.subtitle&&this.subtitle.length>0?this.subtitle:null!==this.extModel.year?this.extModel.year:" --- "},dateArrow(){const t=[this.$q.iconSet.datetime.arrowLeft,this.$q.iconSet.datetime.arrowRight];return!0===this.$q.lang.rtl?t.reverse():t},computedFirstDayOfWeek(){return void 0!==this.firstDayOfWeek?Number(this.firstDayOfWeek):this.computedLocale.firstDayOfWeek},daysOfWeek(){const t=this.computedLocale.daysShort,e=this.computedFirstDayOfWeek;return e>0?t.slice(e,7).concat(t.slice(0,e)):t},daysInMonth(){return this.__getDaysInMonth(this.innerModel)},today(){return this.__getCurrentDate()},evtFn(){return"function"===typeof this.events?this.events:t=>this.events.includes(t)},evtColor(){return"function"===typeof this.eventColor?this.eventColor:t=>this.eventColor},isInSelection(){return"function"===typeof this.options?this.options:t=>this.options.includes(t)},days(){let t,e;const i=[];if("persian"!==this.calendar)t=new Date(this.innerModel.year,this.innerModel.month-1,1),e=new Date(this.innerModel.year,this.innerModel.month-1,0).getDate();else{const i=vn(this.innerModel.year,this.innerModel.month,1);t=new Date(i.gy,i.gm-1,i.gd);let n=this.innerModel.month-1,o=this.innerModel.year;0===n&&(n=12,o--),e=yn(o,n)}const n=t.getDay()-this.computedFirstDayOfWeek-1,o=n<0?n+7:n;if(o<6)for(let l=e-o;l<=e;l++)i.push({i:l,fill:!0});const s=i.length,r=this.innerModel.year+"/"+Tt(this.innerModel.month)+"/";for(let l=1;l<=this.daysInMonth;l++){const t=r+Tt(l);if(void 0!==this.options&&!0!==this.isInSelection(t))i.push({i:l});else{const e=void 0!==this.events&&!0===this.evtFn(t)&&this.evtColor(t);i.push({i:l,in:!0,flat:!0,event:e})}}if(this.innerModel.year===this.extModel.year&&this.innerModel.month===this.extModel.month){const t=s+this.innerModel.day-1;void 0!==i[t]&&Object.assign(i[t],{unelevated:!0,flat:!1,color:this.computedColor,textColor:this.computedTextColor})}this.innerModel.year===this.today.year&&this.innerModel.month===this.today.month&&(i[s+this.today.day-1].today=!0);const a=i.length%7;if(a>0){const t=7-a;for(let e=1;e<=t;e++)i.push({i:e,fill:!0})}return i}},methods:{setToday(){this.__updateValue({...this.today},"today"),this.view="Calendar"},setView(t){!0===jn(t)&&(this.view=t)},offsetCalendar(t,e){["month","year"].includes(t)&&this[`__goTo${"month"===t?"Month":"Year"}`](!0===e?-1:1)},__getModels(t,e,i){const n=Fn(t,"persian"===this.calendar?"YYYY/MM/DD":e,i,this.calendar);return{external:n,inner:null===n.dateHash?this.__getDefaultModel():{...n}}},__getDefaultModel(){let t,e;if(void 0!==this.defaultYearMonth){const i=this.defaultYearMonth.split("/");t=parseInt(i[0],10),e=parseInt(i[1],10)}else{const i=void 0!==this.today?this.today:this.__getCurrentDate();t=i.year,e=i.month}return{year:t,month:e,day:1,hour:0,minute:0,second:0,millisecond:0,dateHash:t+"/"+Tt(e)+"/01"}},__getHeader(t){if(!0!==this.minimal)return t("div",{staticClass:"q-date__header",class:this.headerClass},[t("div",{staticClass:"relative-position"},[t("transition",{props:{name:"q-transition--fade"}},[t("div",{key:"h-yr-"+this.headerSubtitle,staticClass:"q-date__header-subtitle q-date__header-link",class:"Years"===this.view?"q-date__header-link--active":"cursor-pointer",attrs:{tabindex:this.computedTabindex},on:Ne(this,"vY",{click:()=>{this.view="Years"},keyup:t=>{13===t.keyCode&&(this.view="Years")}})},[this.headerSubtitle])])]),t("div",{staticClass:"q-date__header-title relative-position flex no-wrap"},[t("div",{staticClass:"relative-position col"},[t("transition",{props:{name:"q-transition--fade"}},[t("div",{key:"h-sub"+this.headerTitle,staticClass:"q-date__header-title-label q-date__header-link",class:"Calendar"===this.view?"q-date__header-link--active":"cursor-pointer",attrs:{tabindex:this.computedTabindex},on:Ne(this,"vC",{click:()=>{this.view="Calendar"},keyup:t=>{13===t.keyCode&&(this.view="Calendar")}})},[this.headerTitle])])]),!0===this.todayBtn?t(ye,{staticClass:"q-date__header-today",props:{icon:this.$q.iconSet.datetime.today,flat:!0,size:"sm",round:!0,tabindex:this.computedTabindex},on:Ne(this,"today",{click:this.setToday})}):null])])},__getNavigation(t,{label:e,view:i,key:n,dir:o,goTo:s,cls:r}){return[t("div",{staticClass:"row items-center q-date__arrow"},[t(ye,{props:{round:!0,dense:!0,size:"sm",flat:!0,icon:this.dateArrow[0],tabindex:this.computedTabindex},on:Ne(this,"go-#"+i,{click(){s(-1)}})})]),t("div",{staticClass:"relative-position overflow-hidden flex flex-center"+r},[t("transition",{props:{name:"q-transition--jump-"+o}},[t("div",{key:n},[t(ye,{props:{flat:!0,dense:!0,noCaps:!0,label:e,tabindex:this.computedTabindex},on:Ne(this,"view#"+i,{click:()=>{this.view=i}})})])])]),t("div",{staticClass:"row items-center q-date__arrow"},[t(ye,{props:{round:!0,dense:!0,size:"sm",flat:!0,icon:this.dateArrow[1],tabindex:this.computedTabindex},on:Ne(this,"go+#"+i,{click(){s(1)}})})])]},__getCalendarView(t){return[t("div",{key:"calendar-view",staticClass:"q-date__view q-date__calendar"},[t("div",{staticClass:"q-date__navigation row items-center no-wrap"},this.__getNavigation(t,{label:this.computedLocale.months[this.innerModel.month-1],view:"Months",key:this.innerModel.month,dir:this.monthDirection,goTo:this.__goToMonth,cls:" col"}).concat(this.__getNavigation(t,{label:this.innerModel.year,view:"Years",key:this.innerModel.year,dir:this.yearDirection,goTo:this.__goToYear,cls:""}))),t("div",{staticClass:"q-date__calendar-weekdays row items-center no-wrap"},this.daysOfWeek.map(e=>t("div",{staticClass:"q-date__calendar-item"},[t("div",[e])]))),t("div",{staticClass:"q-date__calendar-days-container relative-position overflow-hidden"},[t("transition",{props:{name:"q-transition--slide-"+this.monthDirection}},[t("div",{key:this.innerModel.year+"/"+this.innerModel.month,staticClass:"q-date__calendar-days fit"},this.days.map(e=>t("div",{staticClass:`q-date__calendar-item q-date__calendar-item--${!0===e.fill?"fill":!0===e.in?"in":"out"}`},[!0===e.in?t(ye,{staticClass:!0===e.today?"q-date__today":null,props:{dense:!0,flat:e.flat,unelevated:e.unelevated,color:e.color,textColor:e.textColor,label:e.i,tabindex:this.computedTabindex},on:Ne(this,"day#"+e.i,{click:()=>{this.__setDay(e.i)}})},!1!==e.event?[t("div",{staticClass:"q-date__event bg-"+e.event})]:null):t("div",[e.i])])))])])])]},__getMonthsView(t){const e=this.innerModel.year===this.today.year,i=this.computedLocale.monthsShort.map((i,n)=>{const o=this.innerModel.month===n+1;return t("div",{staticClass:"q-date__months-item flex flex-center"},[t(ye,{staticClass:!0===e&&this.today.month===n+1?"q-date__today":null,props:{flat:!o,label:i,unelevated:o,color:o?this.computedColor:null,textColor:o?this.computedTextColor:null,tabindex:this.computedTabindex},on:Ne(this,"month#"+n,{click:()=>{this.__setMonth(n+1)}})})])});return t("div",{key:"months-view",staticClass:"q-date__view q-date__months flex flex-center"},i)},__getYearsView(t){const e=this.startYear,i=e+Yn,n=[];for(let o=e;o<=i;o++){const e=this.innerModel.year===o;n.push(t("div",{staticClass:"q-date__years-item flex flex-center"},[t(ye,{key:"yr"+o,staticClass:this.today.year===o?"q-date__today":null,props:{flat:!e,label:o,dense:!0,unelevated:e,color:e?this.computedColor:null,textColor:e?this.computedTextColor:null,tabindex:this.computedTabindex},on:Ne(this,"yr#"+o,{click:()=>{this.__setYear(o)}})})]))}return t("div",{staticClass:"q-date__view q-date__years flex flex-center"},[t("div",{staticClass:"col-auto"},[t(ye,{props:{round:!0,dense:!0,flat:!0,icon:this.dateArrow[0],tabindex:this.computedTabindex},on:Ne(this,"y-",{click:()=>{this.startYear-=Yn}})})]),t("div",{staticClass:"q-date__years-content col self-stretch row items-center"},n),t("div",{staticClass:"col-auto"},[t(ye,{props:{round:!0,dense:!0,flat:!0,icon:this.dateArrow[1],tabindex:this.computedTabindex},on:Ne(this,"y+",{click:()=>{this.startYear+=Yn}})})])])},__getDaysInMonth(t){return"persian"!==this.calendar?new Date(t.year,t.month,0).getDate():yn(t.year,t.month)},__goToMonth(t){let e=Number(this.innerModel.month)+t,i=this.yearDirection;13===e?(e=1,this.innerModel.year++,i=!0!==this.$q.lang.rtl?"left":"right"):0===e&&(e=12,this.innerModel.year--,i=!0!==this.$q.lang.rtl?"right":"left"),this.monthDirection=t>0===(!0!==this.$q.lang.rtl)?"left":"right",this.yearDirection=i,this.innerModel.month=e,!0===this.emitImmediately&&this.__updateValue({},"month")},__goToYear(t){this.monthDirection=this.yearDirection=t>0===(!0!==this.$q.lang.rtl)?"left":"right",this.innerModel.year=Number(this.innerModel.year)+t,!0===this.emitImmediately&&this.__updateValue({},"year")},__setYear(t){this.innerModel.year=t,!0===this.emitImmediately&&this.__updateValue({year:t},"year"),this.view=null===this.extModel.month||"Years"===this.defaultView?"Months":"Calendar"},__setMonth(t){this.innerModel.month=t,!0===this.emitImmediately&&this.__updateValue({month:t},"month"),this.view="Calendar"},__setDay(t){this.__updateValue({day:t},"day")},__updateValue(t,e){if(void 0===t.year&&(t.year=this.innerModel.year),void 0===t.month&&(t.month=this.innerModel.month),void 0===t.day||!0===this.emitImmediately&&("year"===e||"month"===e)){t.day=this.innerModel.day;const e=!0===this.emitImmediately?this.__getDaysInMonth(t):this.daysInMonth;t.day=Math.min(t.day,e)}const i="persian"===this.calendar?t.year+"/"+Tt(t.month)+"/"+Tt(t.day):Xn(new Date(t.year,t.month-1,t.day,this.extModel.hour,this.extModel.minute,this.extModel.second,this.extModel.millisecond),this.mask,this.computedLocale,t.year);if(t.changed=i!==this.value,this.$emit("input",i,e,t),i===this.value&&"today"===e){const e=t.year+"/"+Tt(t.month)+"/"+Tt(t.day),i=this.innerModel.year+"/"+Tt(this.innerModel.month)+"/"+Tt(this.innerModel.day);e!==i&&(this.monthDirection=i<e===(!0!==this.$q.lang.rtl)?"left":"right",t.year!==this.innerModel.year&&(this.yearDirection=this.monthDirection),this.$nextTick(()=>{this.startYear=t.year-t.year%Yn,Object.assign(this.innerModel,{year:t.year,month:t.month,day:t.day,dateHash:e})}))}}},render(t){const e=[t("div",{staticClass:"q-date__content col relative-position"},[t("transition",{props:{name:"q-transition--fade"}},[this[`__get${this.view}View`](t)])])],i=Lt(this,"default");return void 0!==i&&e.push(t("div",{staticClass:"q-date__actions"},i)),t("div",{staticClass:"q-date",class:this.classes,on:this.$listeners},[this.__getHeader(t),t("div",{staticClass:"q-date__main col column",attrs:{tabindex:-1},ref:"blurTarget"},e)])}}),Jn={methods:{__addHistory(){this.__historyEntry={condition:()=>{return!0===this.hideOnRouteChange},handler:this.hide},F.add(this.__historyEntry)},__removeHistory(){void 0!==this.__historyEntry&&(F.remove(this.__historyEntry),this.__historyEntry=void 0)}},beforeDestroy(){!0===this.showing&&this.__removeHistory()}};let Qn,Zn,to,eo,io,no=0;function oo(t){so(t)&&x(t)}function so(t){if(t.target===document.body||t.target.classList.contains("q-layout__backdrop"))return!0;const e=S(t),i=t.shiftKey&&!t.deltaX,n=!i&&Math.abs(t.deltaX)<=Math.abs(t.deltaY),o=i||n?t.deltaY:t.deltaX;for(let s=0;s<e.length;s++){const t=e[s];if(Ze(t,n))return n?o<0&&0===t.scrollTop||o>0&&t.scrollTop+t.clientHeight===t.scrollHeight:o<0&&0===t.scrollLeft||o>0&&t.scrollLeft+t.clientWidth===t.scrollWidth}return!0}function ro(t){t.target===document&&(document.scrollingElement.scrollTop=document.scrollingElement.scrollTop)}function ao(t,e){const i=document.body;if("add"===t){const t=window.getComputedStyle(i).overflowY;Qn=Ge(window),Zn=$e(window),to=i.style.left,eo=i.style.top,i.style.left=`-${Qn}px`,i.style.top=`-${Zn}px`,"hidden"!==t&&("scroll"===t||i.scrollHeight>window.innerHeight)&&i.classList.add("q-body--force-scrollbar"),i.classList.add("q-body--prevent-scroll"),!0===e.ios&&window.addEventListener("scroll",ro,b.passiveCapture)}!0===e.desktop&&!0===e.mac&&window[`${t}EventListener`]("wheel",oo,b.notPassive),"remove"===t&&(!0===e.ios&&window.removeEventListener("scroll",ro,b.passiveCapture),i.classList.remove("q-body--prevent-scroll"),i.classList.remove("q-body--force-scrollbar"),i.style.left=to,i.style.top=eo,window.scrollTo(Qn,Zn))}function lo(t,e){let i="add";if(!0===t){if(no++,void 0!==io)return clearTimeout(io),void(io=void 0);if(no>1)return}else{if(0===no)return;if(no--,no>0)return;if(i="remove",!0===e.ios&&!0===e.nativeMobile)return clearTimeout(io),void(io=setTimeout(()=>{ao(i,e),io=void 0},100))}ao(i,e)}var co={methods:{__preventScroll(t){t===this.preventedScroll||void 0===this.preventedScroll&&!0!==t||(this.preventedScroll=t,lo(t,this.$q.platform.is))}}};let uo=0;const ho={standard:"fixed-full flex-center",top:"fixed-top justify-center",bottom:"fixed-bottom justify-center",right:"fixed-right items-center",left:"fixed-left items-center"},po={standard:["scale","scale"],top:["slide-down","slide-up"],bottom:["slide-up","slide-down"],right:["slide-left","slide-right"],left:["slide-right","slide-left"]};var _o=a["a"].extend({name:"QDialog",mixins:[Jn,ke,Ie,co],props:{persistent:Boolean,autoClose:Boolean,noEscDismiss:Boolean,noBackdropDismiss:Boolean,noRouteDismiss:Boolean,noRefocus:Boolean,noFocus:Boolean,seamless:Boolean,maximized:Boolean,fullWidth:Boolean,fullHeight:Boolean,square:Boolean,position:{type:String,default:"standard",validator(t){return"standard"===t||["top","bottom","left","right"].includes(t)}},transitionShow:String,transitionHide:String},data(){return{transitionState:this.showing}},watch:{showing(t){this.transitionShowComputed!==this.transitionHideComputed&&this.$nextTick(()=>{this.transitionState=t})},maximized(t,e){!0===this.showing&&(this.__updateState(!1,e),this.__updateState(!0,t))},useBackdrop(t){this.__preventScroll(t),this.__preventFocusout(t)}},computed:{classes(){return`q-dialog__inner--${!0===this.maximized?"maximized":"minimized"} `+`q-dialog__inner--${this.position} ${ho[this.position]}`+(!0===this.fullWidth?" q-dialog__inner--fullwidth":"")+(!0===this.fullHeight?" q-dialog__inner--fullheight":"")+(!0===this.square?" q-dialog__inner--square":"")},transitionShowComputed(){return"q-transition--"+(void 0===this.transitionShow?po[this.position][0]:this.transitionShow)},transitionHideComputed(){return"q-transition--"+(void 0===this.transitionHide?po[this.position][1]:this.transitionHide)},transition(){return!0===this.transitionState?this.transitionHideComputed:this.transitionShowComputed},useBackdrop(){return!0===this.showing&&!0!==this.seamless},hideOnRouteChange(){return!0!==this.persistent&&!0!==this.noRouteDismiss&&!0!==this.seamless}},methods:{focus(){let t=this.__getInnerNode();void 0!==t&&!0!==t.contains(document.activeElement)&&(t=t.querySelector("[autofocus]")||t,t.focus())},shake(){this.focus();const t=this.__getInnerNode();void 0!==t&&(t.classList.remove("q-animate--scale"),t.classList.add("q-animate--scale"),clearTimeout(this.shakeTimeout),this.shakeTimeout=setTimeout(()=>{t.classList.remove("q-animate--scale")},170))},__getInnerNode(){return void 0!==this.__portal&&void 0!==this.__portal.$refs?this.__portal.$refs.inner:void 0},__show(t){this.__addHistory(),this.__refocusTarget=!1===this.noRefocus&&null!==document.activeElement?document.activeElement:void 0,this.$el.dispatchEvent(A("popup-show",{bubbles:!0})),this.__updateState(!0,this.maximized),ei.register(this,()=>{!0!==this.seamless&&(!0===this.persistent||!0===this.noEscDismiss?!0!==this.maximized&&this.shake():(this.$emit("escape-key"),this.hide()))}),this.__showPortal(),!0!==this.noFocus&&(null!==document.activeElement&&document.activeElement.blur(),this.__nextTick(this.focus)),this.__setTimeout(()=>{if(!0===this.$q.platform.is.ios&&document.activeElement){const{top:t}=document.activeElement.getBoundingClientRect();t<0&&(document.scrollingElement.scrollTop+=t-window.innerHeight/2),document.activeElement.scrollIntoView()}!0===this.$q.platform.is.ios&&this.__portal.$el.click(),this.$emit("show",t)},300)},__hide(t){this.__removeHistory(),this.__cleanup(!0),void 0!==this.__refocusTarget&&null!==this.__refocusTarget&&this.__refocusTarget.focus(),this.$el.dispatchEvent(A("popup-hide",{bubbles:!0})),this.__setTimeout(()=>{this.__hidePortal(),this.$emit("hide",t)},300)},__cleanup(t){clearTimeout(this.shakeTimeout),!0!==t&&!0!==this.showing||(ei.pop(this),this.__updateState(!1,this.maximized),!0===this.useBackdrop&&(this.__preventScroll(!1),this.__preventFocusout(!1)))},__updateState(t,e){!0===e&&(!0===t?uo<1&&document.body.classList.add("q-body--dialog"):uo<2&&document.body.classList.remove("q-body--dialog"),uo+=!0===t?1:-1)},__preventFocusout(t){if(!0===this.$q.platform.is.desktop){const e=`${!0===t?"add":"remove"}EventListener`;document.body[e]("focusin",this.__onFocusChange)}},__onAutoClose(t){this.hide(t),void 0!==this.$listeners.click&&this.$emit("click",t)},__onBackdropClick(t){!0!==this.persistent&&!0!==this.noBackdropDismiss?this.hide(t):this.shake()},__onFocusChange(t){!0===this.showing&&void 0!==this.__portal&&!0!==ie(this.__portal.$el,t.target)&&this.focus()},__renderPortal(t){const e={...this.$listeners,input:R,"popup-show":R,"popup-hide":R};return!0===this.autoClose&&(e.click=this.__onAutoClose),t("div",{staticClass:"q-dialog fullscreen no-pointer-events",class:this.contentClass,style:this.contentStyle,attrs:this.$attrs},[t("transition",{props:{name:"q-transition--fade"}},!0===this.useBackdrop?[t("div",{staticClass:"q-dialog__backdrop fixed-full",on:Ne(this,"bkdrop",{click:this.__onBackdropClick})})]:null),t("transition",{props:{name:this.transition}},[!0===this.showing?t("div",{ref:"inner",staticClass:"q-dialog__inner flex no-pointer-events",class:this.classes,attrs:{tabindex:-1},on:e},Lt(this,"default")):null])])}},mounted(){this.__processModelChange(this.value)},beforeDestroy(){this.__cleanup()}});const go=150,fo={name:"touch-pan",modifiers:{horizontal:!0,mouse:!0,mouseAllDir:!0}},mo=["mouseover","mouseout","mouseenter","mouseleave"];var vo=a["a"].extend({name:"QDrawer",inject:{layout:{default(){console.error("QDrawer needs to be child of QLayout")}}},mixins:[Ut,Jn,ke,co],directives:{TouchPan:Yi},props:{side:{type:String,default:"left",validator:t=>["left","right"].includes(t)},width:{type:Number,default:300},mini:Boolean,miniToOverlay:Boolean,miniWidth:{type:Number,default:57},breakpoint:{type:Number,default:1023},showIfAbove:Boolean,behavior:{type:String,validator:t=>["default","desktop","mobile"].includes(t),default:"default"},bordered:Boolean,elevated:Boolean,contentStyle:[String,Object,Array],contentClass:[String,Object,Array],overlay:Boolean,persistent:Boolean,noSwipeOpen:Boolean,noSwipeClose:Boolean,noSwipeBackdrop:Boolean},data(){const t="mobile"===this.behavior||"desktop"!==this.behavior&&this.layout.totalWidth<=this.breakpoint;return{belowBreakpoint:t,showing:!0===this.showIfAbove&&!1===t||!0===this.value}},watch:{belowBreakpoint(t){!0===t?(this.lastDesktopState=this.showing,!0===this.showing&&this.hide(!1)):!1===this.overlay&&"mobile"!==this.behavior&&!1!==this.lastDesktopState&&(!0===this.showing?(this.__applyPosition(0),this.__applyBackdrop(0),this.__cleanup()):this.show(!1))},"layout.totalWidth"(t){this.__updateLocal("belowBreakpoint","mobile"===this.behavior||"desktop"!==this.behavior&&t<=this.breakpoint)},side(t,e){this.layout[e].space=!1,this.layout[e].offset=0},behavior(t){this.__updateLocal("belowBreakpoint","mobile"===t||"desktop"!==t&&this.layout.totalWidth<=this.breakpoint)},breakpoint(t){this.__updateLocal("belowBreakpoint","mobile"===this.behavior||"desktop"!==this.behavior&&this.layout.totalWidth<=t)},"layout.container"(t){!0===this.showing&&this.__preventScroll(!0!==t)},"layout.scrollbarWidth"(){this.__applyPosition(!0===this.showing?0:void 0)},offset(t){this.__update("offset",t)},onLayout(t){this.$emit("on-layout",t),this.__update("space",t)},rightSide(){this.__applyPosition()},size(t){this.__applyPosition(),this.__updateSizeOnLayout(this.miniToOverlay,t)},miniToOverlay(t){this.__updateSizeOnLayout(t,this.size)},"$q.lang.rtl"(){this.__applyPosition()},mini(){!0===this.value&&(this.__animateMini(),this.layout.__animate())},isMini(t){this.$emit("mini-state",t)}},computed:{rightSide(){return"right"===this.side},offset(){return!0===this.showing&&!1===this.belowBreakpoint&&!1===this.overlay?!0===this.miniToOverlay?this.miniWidth:this.size:0},size(){return!0===this.isMini?this.miniWidth:this.width},fixed(){return!0===this.overlay||!0===this.miniToOverlay||this.layout.view.indexOf(this.rightSide?"R":"L")>-1||this.$q.platform.is.ios&&!0===this.layout.container},onLayout(){return!0===this.showing&&!1===this.belowBreakpoint&&!1===this.overlay},onScreenOverlay(){return!0===this.showing&&!1===this.belowBreakpoint&&!0===this.overlay},backdropClass(){return!1===this.showing?"no-pointer-events":null},headerSlot(){return!0===this.rightSide?"r"===this.layout.rows.top[2]:"l"===this.layout.rows.top[0]},footerSlot(){return!0===this.rightSide?"r"===this.layout.rows.bottom[2]:"l"===this.layout.rows.bottom[0]},aboveStyle(){const t={};return!0===this.layout.header.space&&!1===this.headerSlot&&(!0===this.fixed?t.top=`${this.layout.header.offset}px`:!0===this.layout.header.space&&(t.top=`${this.layout.header.size}px`)),!0===this.layout.footer.space&&!1===this.footerSlot&&(!0===this.fixed?t.bottom=`${this.layout.footer.offset}px`:!0===this.layout.footer.space&&(t.bottom=`${this.layout.footer.size}px`)),t},style(){const t={width:`${this.size}px`};return!0===this.belowBreakpoint?t:Object.assign(t,this.aboveStyle)},classes(){return`q-drawer--${this.side}`+(!0===this.bordered?" q-drawer--bordered":"")+(!0===this.isDark?" q-drawer--dark q-dark":"")+(!0===this.belowBreakpoint?" fixed q-drawer--on-top q-drawer--mobile q-drawer--top-padding":` q-drawer--${!0===this.isMini?"mini":"standard"}`+(!0===this.fixed||!0!==this.onLayout?" fixed":"")+(!0===this.overlay||!0===this.miniToOverlay?" q-drawer--on-top":"")+(!0===this.headerSlot?" q-drawer--top-padding":""))},stateDirection(){return(!0===this.$q.lang.rtl?-1:1)*(!0===this.rightSide?1:-1)},isMini(){return!0===this.mini&&!0!==this.belowBreakpoint},onNativeEvents(){if(!0!==this.belowBreakpoint){const t={"!click":t=>{this.$emit("click",t)}};return mo.forEach(e=>{t[e]=t=>{void 0!==this.$listeners[e]&&this.$emit(e,t)}}),t}},hideOnRouteChange(){return!0!==this.persistent&&(!0===this.belowBreakpoint||!0===this.onScreenOverlay)},openDirective(){if(!0===this.belowBreakpoint)return[{...fo,value:this.__openByTouch}]},closeDirective(){if(!0===this.belowBreakpoint)return[{...fo,value:this.__closeByTouch}]}},methods:{__applyPosition(t){void 0===t?this.$nextTick(()=>{t=!0===this.showing?0:this.size,this.__applyPosition(this.stateDirection*t)}):void 0!==this.$refs.content&&(!0!==this.layout.container||!0!==this.rightSide||!0!==this.belowBreakpoint&&Math.abs(t)!==this.size||(t+=this.stateDirection*this.layout.scrollbarWidth),this.__lastPosition!==t&&(this.$refs.content.style.transform=`translateX(${t}px)`,this.__lastPosition=t))},__applyBackdrop(t,e){void 0!==this.$refs.backdrop?this.$refs.backdrop.style.backgroundColor=this.lastBackdropBg=`rgba(0,0,0,${.4*t})`:!0!==e&&this.$nextTick(()=>{this.__applyBackdrop(t,!0)})},__setScrollable(t){const e=!0===t?"remove":!0!==this.layout.container?"add":"";""!==e&&document.body.classList[e]("q-body--drawer-toggle")},__animateMini(){void 0!==this.timerMini?clearTimeout(this.timerMini):void 0!==this.$el&&this.$el.classList.add("q-drawer--mini-animate"),this.timerMini=setTimeout(()=>{void 0!==this.$el&&this.$el.classList.remove("q-drawer--mini-animate"),this.timerMini=void 0},150)},__openByTouch(t){if(!1!==this.showing)return;const e=this.size,i=bt(t.distance.x,0,e);if(!0===t.isFinal){const t=this.$refs.content,n=i>=Math.min(75,e);return t.classList.remove("no-transition"),void(!0===n?this.show():(this.layout.__animate(),this.__applyBackdrop(0),this.__applyPosition(this.stateDirection*e),t.classList.remove("q-drawer--delimiter")))}if(this.__applyPosition((!0===this.$q.lang.rtl?!this.rightSide:this.rightSide)?Math.max(e-i,0):Math.min(0,i-e)),this.__applyBackdrop(bt(i/e,0,1)),!0===t.isFirst){const t=this.$refs.content;t.classList.add("no-transition"),t.classList.add("q-drawer--delimiter")}},__closeByTouch(t){if(!0!==this.showing)return;const e=this.size,i=t.direction===this.side,n=(!0===this.$q.lang.rtl?!i:i)?bt(t.distance.x,0,e):0;if(!0===t.isFinal){const t=Math.abs(n)<Math.min(75,e);return this.$refs.content.classList.remove("no-transition"),void(!0===t?(this.layout.__animate(),this.__applyBackdrop(1),this.__applyPosition(0)):this.hide())}this.__applyPosition(this.stateDirection*n),this.__applyBackdrop(bt(1-n/e,0,1)),!0===t.isFirst&&this.$refs.content.classList.add("no-transition")},__show(t,e){if(this.__addHistory(),!1!==t&&this.layout.__animate(),this.__applyPosition(0),!0===this.belowBreakpoint){const t=this.layout.instances[!0===this.rightSide?"left":"right"];void 0!==t&&!0===t.belowBreakpoint&&t.hide(!1),this.__applyBackdrop(1),!0!==this.layout.container&&this.__preventScroll(!0)}else this.__applyBackdrop(0),!1!==t&&this.__setScrollable(!1);this.__setTimeout(()=>{!1!==t&&this.__setScrollable(!0),!0!==e&&this.$emit("show",t)},go)},__hide(t,e){this.__removeHistory(),!1!==t&&this.layout.__animate(),this.__applyBackdrop(0),this.__applyPosition(this.stateDirection*this.size),this.__cleanup(),!0!==e&&this.__setTimeout(()=>{this.$emit("hide",t)},go)},__cleanup(){this.__preventScroll(!1),this.__setScrollable(!0)},__update(t,e){this.layout[this.side][t]!==e&&(this.layout[this.side][t]=e)},__updateLocal(t,e){this[t]!==e&&(this[t]=e)},__updateSizeOnLayout(t,e){this.__update("size",!0===t?this.miniWidth:e)}},created(){this.layout.instances[this.side]=this,this.__updateSizeOnLayout(this.miniToOverlay,this.size),this.__update("space",this.onLayout),this.__update("offset",this.offset),!0===this.showIfAbove&&!0!==this.value&&!0===this.showing&&void 0!==this.$listeners.input&&this.$emit("input",!0)},mounted(){this.$emit("on-layout",this.onLayout),this.$emit("mini-state",this.isMini);const t=()=>{const t=!0===this.showing?"show":"hide";this[`__${t}`](!1,!0)};0===this.layout.totalWidth?this.watcher=this.$watch("layout.totalWidth",()=>{this.watcher(),this.watcher=void 0,!1===this.showing&&!0===this.showIfAbove&&!1===this.belowBreakpoint?this.show(!1):t()}):t()},beforeDestroy(){void 0!==this.watcher&&this.watcher(),clearTimeout(this.timerMini),!0===this.showing&&this.__cleanup(),this.layout.instances[this.side]===this&&(this.layout.instances[this.side]=void 0,this.__update("size",0),this.__update("offset",0),this.__update("space",!1))},render(t){const e=[];!0!==this.noSwipeOpen&&!0===this.belowBreakpoint&&e.push(t("div",{staticClass:`q-drawer__opener fixed-${this.side}`,directives:this.openDirective})),!0===this.belowBreakpoint&&e.push(t("div",{ref:"backdrop",staticClass:"fullscreen q-drawer__backdrop",class:this.backdropClass,style:void 0!==this.lastBackdropBg?{backgroundColor:this.lastBackdropBg}:null,on:Ne(this,"bkdrop",{click:this.hide}),directives:!0!==this.noSwipeBackdrop?this.closeDirective:void 0}));const i=[t("div",{staticClass:"q-drawer__content fit "+(!0===this.layout.container?"overflow-auto":"scroll"),class:this.contentClass,style:this.contentStyle},!0===this.isMini&&void 0!==this.$scopedSlots.mini?this.$scopedSlots.mini():Lt(this,"default"))];return!0===this.elevated&&!0===this.showing&&i.push(t("div",{staticClass:"q-layout__shadow absolute-full overflow-hidden no-pointer-events"})),e.push(t("aside",{ref:"content",staticClass:"q-drawer",class:this.classes,style:this.style,on:this.onNativeEvents,directives:!0!==this.noSwipeClose?this.closeDirective:void 0},i)),t("div",{staticClass:"q-drawer-container"},e)}}),bo={props:{value:{},error:{type:Boolean,default:null},errorMessage:String,noErrorIcon:Boolean,rules:Array,lazyRules:Boolean},data(){return{isDirty:!1,innerError:!1,innerErrorMessage:void 0}},watch:{value(t){void 0!==this.rules&&(!0===this.lazyRules&&!1===this.isDirty||this.validate(t))},focused(t){!1===t&&this.__triggerValidation()}},computed:{hasError(){return!0===this.error||!0===this.innerError},computedErrorMessage(){return"string"===typeof this.errorMessage&&this.errorMessage.length>0?this.errorMessage:this.innerErrorMessage}},mounted(){this.validateIndex=0,void 0===this.focused&&this.$el.addEventListener("focusout",this.__triggerValidation)},beforeDestroy(){void 0===this.focused&&this.$el.removeEventListener("focusout",this.__triggerValidation)},methods:{resetValidation(){this.validateIndex++,this.innerLoading=!1,this.isDirty=!1,this.innerError=!1,this.innerErrorMessage=void 0},validate(t=this.value){if(!this.rules||0===this.rules.length)return!0;this.validateIndex++,!0!==this.innerLoading&&!0!==this.lazyRules&&(this.isDirty=!0);const e=(t,e)=>{this.innerError!==t&&(this.innerError=t);const i=e||void 0;this.innerErrorMessage!==i&&(this.innerErrorMessage=i),!1!==this.innerLoading&&(this.innerLoading=!1)},i=[];for(let o=0;o<this.rules.length;o++){const n=this.rules[o];let s;if("function"===typeof n?s=n(t):"string"===typeof n&&void 0!==Gi[n]&&(s=Gi[n](t)),!1===s||"string"===typeof s)return e(!0,s),!1;!0!==s&&void 0!==s&&i.push(s)}if(0===i.length)return e(!1),!0;!0!==this.innerLoading&&(this.innerLoading=!0);const n=this.validateIndex;return Promise.all(i).then(t=>{if(n!==this.validateIndex)return!0;if(void 0===t||!1===Array.isArray(t)||0===t.length)return e(!1),!0;const i=t.find(t=>!1===t||"string"===typeof t);return e(void 0!==i,i),void 0===i},t=>{return n!==this.validateIndex||(console.error(t),e(!0),!1)})},__triggerValidation(){!1===this.isDirty&&void 0!==this.rules&&(this.isDirty=!0,this.validate(this.value))}}},yo=a["a"].extend({name:"QField",mixins:[Ut,bo],inheritAttrs:!1,props:{label:String,stackLabel:Boolean,hint:String,hideHint:Boolean,prefix:String,suffix:String,color:String,bgColor:String,filled:Boolean,outlined:Boolean,borderless:Boolean,standout:[Boolean,String],square:Boolean,loading:Boolean,bottomSlots:Boolean,hideBottomSpace:Boolean,rounded:Boolean,dense:Boolean,itemAligned:Boolean,counter:Boolean,clearable:Boolean,clearIcon:String,disable:Boolean,readonly:Boolean,autofocus:Boolean,for:[String],maxlength:[Number,String],maxValues:[Number,String]},data(){return{focused:!1,innerLoading:!1,targetUid:void 0===this.for?"qf_"+un():this.for}},computed:{editable(){return!0!==this.disable&&!0!==this.readonly},hasValue(){const t=void 0===this.__getControl?this.value:this.innerValue;return void 0!==t&&null!==t&&(""+t).length>0},computedCounter(){if(!1!==this.counter){const t="string"===typeof this.value||"number"===typeof this.value?(""+this.value).length:!0===Array.isArray(this.value)?this.value.length:0,e=void 0!==this.maxlength?this.maxlength:this.maxValues;return t+(void 0!==e?" / "+e:"")}},floatingLabel(){return!0===this.hasError||!0===this.stackLabel||!0===this.focused||(void 0!==this.inputValue&&!0===this.hideSelected?this.inputValue.length>0:!0===this.hasValue)||void 0!==this.displayValue&&null!==this.displayValue&&(""+this.displayValue).length>0},shouldRenderBottom(){return!0===this.bottomSlots||void 0!==this.hint||void 0!==this.rules||!0===this.counter||null!==this.error},classes(){return{[this.fieldClass]:void 0!==this.fieldClass,[`q-field--${this.styleType}`]:!0,"q-field--rounded":this.rounded,"q-field--square":this.square,"q-field--focused":!0===this.focused||!0===this.hasError,"q-field--float":this.floatingLabel,"q-field--labeled":void 0!==this.label,"q-field--dense":this.dense,"q-field--item-aligned q-item-type":this.itemAligned,"q-field--dark":this.isDark,"q-field--auto-height":void 0===this.__getControl,"q-field--with-bottom":!0!==this.hideBottomSpace&&!0===this.shouldRenderBottom,"q-field--error":this.hasError,"q-field--readonly":!0===this.readonly&&!0!==this.disable,"q-field--disabled":this.disable}},styleType(){return!0===this.filled?"filled":!0===this.outlined?"outlined":!0===this.borderless?"borderless":this.standout?"standout":"standard"},contentClass(){const t=[];if(!0===this.hasError)t.push("text-negative");else{if("string"===typeof this.standout&&this.standout.length>0&&!0===this.focused)return this.standout;void 0!==this.color&&t.push("text-"+this.color)}return void 0!==this.bgColor&&t.push(`bg-${this.bgColor}`),t},controlSlotScope(){return{id:this.targetUid,field:this.$el,editable:this.editable,focused:this.focused,floatingLabel:this.floatingLabel,value:this.value,emitValue:this.__emitValue}}},methods:{focus(){void 0===this.showPopup||!0!==this.hasDialog?this.__focus():this.showPopup()},blur(){const t=document.activeElement;null!==t&&this.$el.contains(t)&&t.blur()},__focus(){const t=document.activeElement;let e=this.$refs.target;void 0===e||null!==t&&t.id===this.targetUid||(!0===e.hasAttribute("tabindex")||(e=e.querySelector("[tabindex]")),null!==e&&e!==t&&e.focus())},__getContent(t){const e=[];return void 0!==this.$scopedSlots.prepend&&e.push(t("div",{staticClass:"q-field__prepend q-field__marginal row no-wrap items-center",key:"prepend",on:this.slotsEvents},this.$scopedSlots.prepend())),e.push(t("div",{staticClass:"q-field__control-container col relative-position row no-wrap q-anchor--skip"},this.__getControlContainer(t))),void 0!==this.$scopedSlots.append&&e.push(t("div",{staticClass:"q-field__append q-field__marginal row no-wrap items-center",key:"append",on:this.slotsEvents},this.$scopedSlots.append())),!0===this.hasError&&!1===this.noErrorIcon&&e.push(this.__getInnerAppendNode(t,"error",[t(Ft,{props:{name:this.$q.iconSet.field.error,color:"negative"}})])),!0===this.loading||!0===this.innerLoading?e.push(this.__getInnerAppendNode(t,"inner-loading-append",void 0!==this.$scopedSlots.loading?this.$scopedSlots.loading():[t(Qt,{props:{color:this.color}})])):!0===this.clearable&&!0===this.hasValue&&!0===this.editable&&e.push(this.__getInnerAppendNode(t,"inner-clearable-append",[t(Ft,{staticClass:"cursor-pointer",props:{name:this.clearIcon||this.$q.iconSet.field.clear},on:this.clearableEvents})])),void 0!==this.__getInnerAppend&&e.push(this.__getInnerAppendNode(t,"inner-append",this.__getInnerAppend(t))),void 0!==this.__getPopup&&e.push(this.__getPopup(t)),e},__getControlContainer(t){const e=[];return void 0!==this.prefix&&null!==this.prefix&&e.push(t("div",{staticClass:"q-field__prefix no-pointer-events row items-center"},[this.prefix])),void 0!==this.__getControl?e.push(this.__getControl(t)):void 0!==this.$scopedSlots.rawControl?e.push(this.$scopedSlots.rawControl()):void 0!==this.$scopedSlots.control&&e.push(t("div",{ref:"target",staticClass:"q-field__native row",attrs:{...this.$attrs,autofocus:this.autofocus}},this.$scopedSlots.control(this.controlSlotScope))),void 0!==this.label&&e.push(t("div",{staticClass:"q-field__label no-pointer-events absolute ellipsis"},[this.label])),void 0!==this.suffix&&null!==this.suffix&&e.push(t("div",{staticClass:"q-field__suffix no-pointer-events row items-center"},[this.suffix])),e.concat(void 0!==this.__getDefaultSlot?this.__getDefaultSlot(t):Lt(this,"default"))},__getBottom(t){let e,i;!0===this.hasError?void 0!==this.computedErrorMessage?(e=[t("div",[this.computedErrorMessage])],i=this.computedErrorMessage):(e=Lt(this,"error"),i="q--slot-error"):!0===this.hideHint&&!0!==this.focused||(void 0!==this.hint?(e=[t("div",[this.hint])],i=this.hint):(e=Lt(this,"hint"),i="q--slot-hint"));const n=!0===this.counter||void 0!==this.$scopedSlots.counter;if(!0===this.hideBottomSpace&&!1===n&&void 0===e)return;const o=t("div",{key:i,staticClass:"q-field__messages col"},e);return t("div",{staticClass:"q-field__bottom row items-start q-field__bottom--"+(!0!==this.hideBottomSpace?"animated":"stale")},[!0===this.hideBottomSpace?o:t("transition",{props:{name:"q-transition--field-message"}},[o]),!0===n?t("div",{staticClass:"q-field__counter"},void 0!==this.$scopedSlots.counter?this.$scopedSlots.counter():[this.computedCounter]):null])},__getInnerAppendNode(t,e,i){return null===i?null:t("div",{staticClass:"q-field__append q-field__marginal row no-wrap items-center q-anchor--skip",key:e},i)},__onControlPopupShow(t){void 0!==t&&R(t),this.$emit("popup-show",t),this.hasPopupOpen=!0,this.__onControlFocusin(t)},__onControlPopupHide(t){void 0!==t&&R(t),this.$emit("popup-hide",t),this.hasPopupOpen=!1,this.__onControlFocusout(t)},__onControlFocusin(t){!0===this.editable&&!1===this.focused&&(this.focused=!0,this.$emit("focus",t))},__onControlFocusout(t,e){clearTimeout(this.focusoutTimer),this.focusoutTimer=setTimeout(()=>{(!0!==document.hasFocus()||!0!==this.hasPopupOpen&&void 0!==this.$refs&&void 0!==this.$refs.control&&!1===this.$refs.control.contains(document.activeElement))&&(!0===this.focused&&(this.focused=!1,this.$emit("blur",t)),void 0!==e&&e())})},__clearValue(t){R(t),"file"===this.type&&(I(t),this.$refs.input.value=null),this.$emit("input",null),this.$emit("clear",this.value)},__emitValue(t){this.$emit("input",t)}},render(t){return void 0!==this.__onPreRender&&this.__onPreRender(),void 0!==this.__onPostRender&&this.$nextTick(this.__onPostRender),t("label",{staticClass:"q-field row no-wrap items-start",class:this.classes,attrs:{for:this.targetUid}},[void 0!==this.$scopedSlots.before?t("div",{staticClass:"q-field__before q-field__marginal row no-wrap items-center",on:this.slotsEvents},this.$scopedSlots.before()):null,t("div",{staticClass:"q-field__inner relative-position col self-stretch column justify-center"},[t("div",{ref:"control",staticClass:"q-field__control relative-position row no-wrap",class:this.contentClass,attrs:{tabindex:-1},on:this.controlEvents},this.__getContent(t)),!0===this.shouldRenderBottom?this.__getBottom(t):null]),void 0!==this.$scopedSlots.after?t("div",{staticClass:"q-field__after q-field__marginal row no-wrap items-center",on:this.slotsEvents},this.$scopedSlots.after()):null])},created(){void 0!==this.__onPreRender&&this.__onPreRender(),this.slotsEvents={click:I},this.clearableEvents={click:this.__clearValue},this.controlEvents=void 0!==this.__getControlEvents?this.__getControlEvents():{focusin:this.__onControlFocusin,focusout:this.__onControlFocusout,"popup-show":this.__onControlPopupShow,"popup-hide":this.__onControlPopupHide}},mounted(){!0===this.autofocus&&this.focus()},beforeDestroy(){clearTimeout(this.focusoutTimer)}});const To={date:"####/##/##",datetime:"####/##/## ##:##",time:"##:##",fulltime:"##:##:##",phone:"(###) ### - ####",card:"#### #### #### ####"},Eo={"#":{pattern:"[\\d]",negate:"[^\\d]"},S:{pattern:"[a-zA-Z]",negate:"[^a-zA-Z]"},N:{pattern:"[0-9a-zA-Z]",negate:"[^0-9a-zA-Z]"},A:{pattern:"[a-zA-Z]",negate:"[^a-zA-Z]",transform:t=>t.toLocaleUpperCase()},a:{pattern:"[a-zA-Z]",negate:"[^a-zA-Z]",transform:t=>t.toLocaleLowerCase()},X:{pattern:"[0-9a-zA-Z]",negate:"[^0-9a-zA-Z]",transform:t=>t.toLocaleUpperCase()},x:{pattern:"[0-9a-zA-Z]",negate:"[^0-9a-zA-Z]",transform:t=>t.toLocaleLowerCase()}},So=Object.keys(Eo);So.forEach(t=>{Eo[t].regex=new RegExp(Eo[t].pattern)});const Co=new RegExp("\\\\([^.*+?^${}()|([\\]])|([.*+?^${}()|[\\]])|(["+So.join("")+"])|(.)","g"),ko=/[.*+?^${}()|[\]\\]/g,wo=String.fromCharCode(1);var Ro={props:{mask:String,reverseFillMask:Boolean,fillMask:[Boolean,String],unmaskedValue:Boolean},watch:{type(){this.__updateMaskInternals()},mask(t){if(void 0!==t)this.__updateMaskValue(this.innerValue,!0);else{const t=this.__unmask(this.innerValue);this.__updateMaskInternals(),this.value!==t&&this.$emit("input",t)}},fillMask(){!0===this.hasMask&&this.__updateMaskValue(this.innerValue,!0)},reverseFillMask(){!0===this.hasMask&&this.__updateMaskValue(this.innerValue,!0)},unmaskedValue(){!0===this.hasMask&&this.__updateMaskValue(this.innerValue)}},methods:{__getInitialMaskedValue(){if(this.__updateMaskInternals(),!0===this.hasMask){const t=this.__mask(this.__unmask(this.value));return!1!==this.fillMask?this.__fillWithMask(t):t}return this.value},__getPaddedMaskMarked(t){if(t<this.maskMarked.length)return this.maskMarked.slice(-t);let e=this.maskMarked,i=e.indexOf(wo),n="";if(i>-1){for(let i=t-e.length;i>0;i--)n+=wo;e=e.slice(0,i)+n+e.slice(i)}return e},__updateMaskInternals(){if(this.hasMask=void 0!==this.mask&&this.mask.length>0&&["text","search","url","tel","password"].includes(this.type),!1===this.hasMask)return this.computedUnmask=void 0,this.maskMarked="",void(this.maskReplaced="");const t=void 0===To[this.mask]?this.mask:To[this.mask],e="string"===typeof this.fillMask&&this.fillMask.length>0?this.fillMask.slice(0,1):"_",i=e.replace(ko,"\\$&"),n=[],o=[],s=[];let r=!0===this.reverseFillMask,a="",l="";t.replace(Co,(t,e,i,c,u)=>{if(void 0!==c){const t=Eo[c];s.push(t),l=t.negate,!0===r&&(o.push("(?:"+l+"+)?("+t.pattern+"+)?(?:"+l+"+)?("+t.pattern+"+)?"),r=!1),o.push("(?:"+l+"+)?("+t.pattern+")?")}else if(void 0!==i)a="\\"+("\\"===i?"":i),s.push(i),n.push("([^"+a+"]+)?"+a+"?");else{const t=void 0!==e?e:u;a="\\"===t?"\\\\\\\\":t.replace(ko,"\\\\$&"),s.push(t),n.push("([^"+a+"]+)?"+a+"?")}});const c=new RegExp("^"+n.join("")+"("+(""===a?".":"[^"+a+"]")+"+)?$"),u=o.length-1,h=o.map((t,e)=>{return 0===e&&!0===this.reverseFillMask?new RegExp("^"+i+"*"+t):e===u?new RegExp("^"+t+"("+(""===l?".":l)+"+)?"+(!0===this.reverseFillMask?"$":i+"*")):new RegExp("^"+t)});this.computedMask=s,this.computedUnmask=t=>{const e=c.exec(t);null!==e&&(t=e.slice(1).join(""));const i=[],n=h.length;for(let o=0,s=t;o<n;o++){const t=h[o].exec(s);if(null===t)break;s=s.slice(t.shift().length),i.push(...t)}return i.length>0?i.join(""):t},this.maskMarked=s.map(t=>"string"===typeof t?t:wo).join(""),this.maskReplaced=this.maskMarked.split(wo).join(e)},__updateMaskValue(t,e,i){const n=this.$refs.input,o=n.selectionEnd,s=n.value.length-o,r=this.__unmask(t);!0===e&&this.__updateMaskInternals();const a=this.__mask(r),l=!1!==this.fillMask?this.__fillWithMask(a):a,c=this.innerValue!==l;n.value!==l&&(n.value=l),!0===c&&(this.innerValue=l),this.$nextTick(()=>{if(l!==this.maskReplaced)if("insertFromPaste"!==i||!0===this.reverseFillMask)if(["deleteContentBackward","deleteContentForward"].indexOf(i)>-1){const t=!0===this.reverseFillMask?Math.max(0,l.length-(l===this.maskReplaced?0:Math.min(a.length,s)+1))+1:o;n.setSelectionRange(t,t,"forward")}else if(!0===this.reverseFillMask)if(!0===c){const t=Math.max(0,l.length-(l===this.maskReplaced?0:Math.min(a.length,s+1)));this.__moveCursorRightReverse(n,t,t)}else{const t=l.length-s;n.setSelectionRange(t,t,"backward")}else if(!0===c){const t=Math.max(0,this.maskMarked.indexOf(wo),Math.min(a.length,o)-1);this.__moveCursorRight(n,t,t)}else{const t=o-1;this.__moveCursorRight(n,t,t)}else{const t=o-1;this.__moveCursorRight(n,t,t)}else{const t=!0===this.reverseFillMask?this.maskReplaced.length:0;n.setSelectionRange(t,t,"forward")}});const u=!0===this.unmaskedValue?this.__unmask(l):l;this.value!==u&&this.__emitValue(u,!0)},__moveCursorForPaste(t,e,i){const n=this.__mask(this.__unmask(t.value));e=Math.max(0,this.maskMarked.indexOf(wo),Math.min(n.length,e)),t.setSelectionRange(e,i,"forward")},__moveCursorLeft(t,e,i,n){const o=-1===this.maskMarked.slice(e-1).indexOf(wo);let s=Math.max(0,e-1);for(;s>=0;s--)if(this.maskMarked[s]===wo){e=s,!0===o&&e++;break}if(s<0&&void 0!==this.maskMarked[e]&&this.maskMarked[e]!==wo)return this.__moveCursorRight(t,0,0);e>=0&&t.setSelectionRange(e,!0===n?i:e,"backward")},__moveCursorRight(t,e,i,n){const o=t.value.length;let s=Math.min(o,i+1);for(;s<=o;s++){if(this.maskMarked[s]===wo){i=s;break}this.maskMarked[s-1]===wo&&(i=s)}if(s>o&&void 0!==this.maskMarked[i-1]&&this.maskMarked[i-1]!==wo)return this.__moveCursorLeft(t,o,o);t.setSelectionRange(n?e:i,i,"forward")},__moveCursorLeftReverse(t,e,i,n){const o=this.__getPaddedMaskMarked(t.value.length);let s=Math.max(0,e-1);for(;s>=0;s--){if(o[s-1]===wo){e=s;break}if(o[s]===wo&&(e=s,0===s))break}if(s<0&&void 0!==o[e]&&o[e]!==wo)return this.__moveCursorRightReverse(t,0,0);e>=0&&t.setSelectionRange(e,!0===n?i:e,"backward")},__moveCursorRightReverse(t,e,i,n){const o=t.value.length,s=this.__getPaddedMaskMarked(o),r=-1===s.slice(0,i+1).indexOf(wo);let a=Math.min(o,i+1);for(;a<=o;a++)if(s[a-1]===wo){i=a,i>0&&!0===r&&i--;break}if(a>o&&void 0!==s[i-1]&&s[i-1]!==wo)return this.__moveCursorLeftReverse(t,o,o);t.setSelectionRange(!0===n?e:i,i,"forward")},__onMaskedKeydown(t){if(!0===tt(t))return;const e=this.$refs.input,i=e.selectionStart,n=e.selectionEnd;if(37===t.keyCode||39===t.keyCode){const o=this["__moveCursor"+(39===t.keyCode?"Right":"Left")+(!0===this.reverseFillMask?"Reverse":"")];t.preventDefault(),o(e,i,n,t.shiftKey)}else 8===t.keyCode&&!0!==this.reverseFillMask&&i===n?this.__moveCursorLeft(e,i,n,!0):46===t.keyCode&&!0===this.reverseFillMask&&i===n&&this.__moveCursorRightReverse(e,i,n,!0);this.$emit("keydown",t)},__mask(t){if(void 0===t||null===t||""===t)return"";if(!0===this.reverseFillMask)return this.__maskReverse(t);const e=this.computedMask;let i=0,n="";for(let o=0;o<e.length;o++){const s=t[i],r=e[o];if("string"===typeof r)n+=r,s===r&&i++;else{if(void 0===s||!r.regex.test(s))return n;n+=void 0!==r.transform?r.transform(s):s,i++}}return n},__maskReverse(t){const e=this.computedMask,i=this.maskMarked.indexOf(wo);let n=t.length-1,o="";for(let s=e.length-1;s>=0;s--){const r=e[s];let a=t[n];if("string"===typeof r)o=r+o,a===r&&n--;else{if(void 0===a||!r.regex.test(a))return o;do{o=(void 0!==r.transform?r.transform(a):a)+o,n--,a=t[n]}while(i===s&&void 0!==a&&r.regex.test(a))}}return o},__unmask(t){return"string"!==typeof t||void 0===this.computedUnmask?"number"===typeof t?this.computedUnmask(""+t):t:this.computedUnmask(t)},__fillWithMask(t){return this.maskReplaced.length-t.length<=0?t:!0===this.reverseFillMask&&t.length>0?this.maskReplaced.slice(0,-t.length)+t:t+this.maskReplaced.slice(t.length)}}};const Io=/[\u3000-\u303f\u3040-\u309f\u30a0-\u30ff\uff00-\uff9f\u4e00-\u9faf\u3400-\u4dbf]/,xo=/[\u4e00-\u9fff\u3400-\u4dbf\u{20000}-\u{2a6df}\u{2a700}-\u{2b73f}\u{2b740}-\u{2b81f}\u{2b820}-\u{2ceaf}\uf900-\ufaff\u3300-\u33ff\ufe30-\ufe4f\uf900-\ufaff\u{2f800}-\u{2fa1f}]/u;var Oo={methods:{__onComposition(t){if("compositionend"===t.type||"change"===t.type){if(!0!==t.target.composing)return;t.target.composing=!1,this.__onInput(t)}else"compositionupdate"===t.type?"string"===typeof t.data&&!1===Io.test(t.data)&&!1===xo.test(t.data)&&(t.target.composing=!1):t.target.composing=!0}}},Ao=a["a"].extend({name:"QInput",mixins:[yo,Ro,Oo],props:{value:{required:!1},type:{type:String,default:"text"},debounce:[String,Number],autogrow:Boolean,inputClass:[Array,String,Object],inputStyle:[Array,String,Object]},watch:{value(t){if(!0===this.hasMask){if(!0===this.stopValueWatcher)return void(this.stopValueWatcher=!1);this.__updateMaskValue(t)}else this.innerValue!==t&&(this.innerValue=t,"number"===this.type&&!0===this.hasOwnProperty("tempValue")&&(!0===this.typedNumber?this.typedNumber=!1:delete this.tempValue));!0===this.autogrow&&this.$nextTick(this.__adjustHeightDebounce)},autogrow(t){if(!0===t)this.$nextTick(this.__adjustHeightDebounce);else if(this.$attrs.rows>0&&void 0!==this.$refs.input){const t=this.$refs.input;t.style.height="auto"}},dense(){!0===this.autogrow&&this.$nextTick(this.__adjustHeight)}},data(){return{innerValue:this.__getInitialMaskedValue()}},computed:{isTextarea(){return"textarea"===this.type||!0===this.autogrow},fieldClass(){return`q-${!0===this.isTextarea?"textarea":"input"}`+(!0===this.autogrow?" q-textarea--autogrow":"")}},methods:{focus(){const t=document.activeElement;void 0===this.$refs.input||this.$refs.input===t||null!==t&&t.id===this.targetUid||this.$refs.input.focus()},select(){void 0!==this.$refs.input&&this.$refs.input.select()},__onPaste(t){if(!0===this.hasMask&&!0!==this.reverseFillMask){const e=t.target;this.__moveCursorForPaste(e,e.selectionStart,e.selectionEnd)}},__onInput(t){if(t&&t.target&&!0===t.target.composing)return;if("file"===this.type)return void this.$emit("input",t.target.files);const e=t.target.value;!0===this.hasMask?this.__updateMaskValue(e,!1,t.inputType):this.__emitValue(e),!0===this.autogrow&&this.__adjustHeight()},__emitValue(t,e){this.emitValueFn=()=>{"number"!==this.type&&!0===this.hasOwnProperty("tempValue")&&delete this.tempValue,this.value!==t&&(!0===e&&(this.stopValueWatcher=!0),this.$emit("input",t)),this.emitValueFn=void 0},"number"===this.type&&(this.typedNumber=!0,this.tempValue=t),void 0!==this.debounce?(clearTimeout(this.emitTimer),this.tempValue=t,this.emitTimer=setTimeout(this.emitValueFn,this.debounce)):this.emitValueFn()},__adjustHeight(){const t=this.$refs.input;if(void 0!==t){const e=t.parentNode.style;e.marginBottom=t.scrollHeight-1+"px",t.style.height="1px",t.style.height=t.scrollHeight+"px",e.marginBottom=""}},__onChange(t){this.__onComposition(t),clearTimeout(this.emitTimer),void 0!==this.emitValueFn&&this.emitValueFn(),this.$emit("change",t)},__onFinishEditing(t){void 0!==t&&R(t),clearTimeout(this.emitTimer),void 0!==this.emitValueFn&&this.emitValueFn(),this.typedNumber=!1,this.stopValueWatcher=!1,delete this.tempValue,"file"!==this.type&&this.$nextTick(()=>{void 0!==this.$refs.input&&(this.$refs.input.value=this.innerValue)})},__getControl(t){const e={...this.$listeners,input:this.__onInput,paste:this.__onPaste,change:this.__onChange,blur:this.__onFinishEditing,focus:R};e.compositionstart=e.compositionupdate=e.compositionend=this.__onComposition,!0===this.hasMask&&(e.keydown=this.__onMaskedKeydown);const i={tabindex:0,autofocus:this.autofocus,rows:"textarea"===this.type?6:void 0,"aria-label":this.label,...this.$attrs,id:this.targetUid,type:this.type,maxlength:this.maxlength,disabled:!0===this.disable,readonly:!0===this.readonly};return!0===this.autogrow&&(i.rows=1),t(!0===this.isTextarea?"textarea":"input",{ref:"input",staticClass:"q-field__native q-placeholder",style:this.inputStyle,class:this.inputClass,attrs:i,on:e,domProps:"file"!==this.type?{value:!0===this.hasOwnProperty("tempValue")?this.tempValue:this.innerValue}:null})}},created(){this.__adjustHeightDebounce=M(this.__adjustHeight,100)},mounted(){!0===this.autogrow&&this.__adjustHeight()},beforeDestroy(){this.__onFinishEditing()}}),Mo=a["a"].extend({name:"QTooltip",mixins:[Se,ke,Ie,xe],props:{maxHeight:{type:String,default:null},maxWidth:{type:String,default:null},transitionShow:{default:"jump-down"},transitionHide:{default:"jump-up"},anchor:{type:String,default:"bottom middle",validator:oi},self:{type:String,default:"top middle",validator:oi},offset:{type:Array,default:()=>[14,14],validator:si},delay:{type:Number,default:0}},computed:{anchorOrigin(){return ri(this.anchor)},selfOrigin(){return ri(this.self)},hideOnRouteChange(){return!0!==this.persistent}},methods:{__show(t){this.__showPortal(),this.__nextTick(()=>{this.updatePosition(),this.__configureScrollTarget()}),this.__setTimeout(()=>{this.$emit("show",t)},300)},__hide(t){this.__anchorCleanup(),this.__setTimeout(()=>{this.__hidePortal(),this.$emit("hide",t)},300)},__anchorCleanup(){this.__unconfigureScrollTarget(),_e(this,"tooltipTemp")},updatePosition(){if(void 0===this.anchorEl||void 0===this.__portal)return;const t=this.__portal.$el;8!==t.nodeType?ci({el:t,offset:this.offset,anchorEl:this.anchorEl,anchorOrigin:this.anchorOrigin,selfOrigin:this.selfOrigin,maxHeight:this.maxHeight,maxWidth:this.maxWidth}):setTimeout(this.updatePosition,25)},__delayShow(t){if(!0===this.$q.platform.is.mobile){Ee(),document.body.classList.add("non-selectable");const t=ge(this.anchorEl),e=["touchmove","touchcancel","touchend","click"].map(e=>[t,e,"__delayHide","passiveCapture"]);pe(this,"tooltipTemp",e)}this.__setTimeout(()=>{this.show(t)},this.delay)},__delayHide(t){this.__clearTimeout(),!0===this.$q.platform.is.mobile&&(_e(this,"tooltipTemp"),Ee(),setTimeout(()=>{document.body.classList.remove("non-selectable")},10)),this.hide(t)},__configureAnchorEl(){if(!0===this.noParentEvent||void 0===this.anchorEl)return;const t=!0===this.$q.platform.is.mobile?[[this.anchorEl,"touchstart","__delayShow","passive"]]:[[this.anchorEl,"mouseenter","__delayShow","passive"],[this.anchorEl,"mouseleave","__delayHide","passive"]];pe(this,"anchor",t)},__unconfigureScrollTarget(){void 0!==this.scrollTarget&&(this.__changeScrollEvent(this.scrollTarget),this.scrollTarget=void 0)},__configureScrollTarget(){if(void 0!==this.anchorEl){this.scrollTarget=Ue(this.anchorEl);const t=!0===this.noParentEvent?this.updatePosition:this.hide;this.__changeScrollEvent(this.scrollTarget,t)}},__renderPortal(t){return t("transition",{props:{name:this.transition}},[!0===this.showing?t("div",{staticClass:"q-tooltip no-pointer-events",class:this.contentClass,style:this.contentStyle,attrs:{role:"complementary"}},Lt(this,"default")):null])}},mounted(){this.__processModelChange(this.value)}}),No=a["a"].extend({name:"QList",mixins:[Ut],props:{bordered:Boolean,dense:Boolean,separator:Boolean,padding:Boolean},computed:{classes(){return"q-list"+(!0===this.bordered?" q-list--bordered":"")+(!0===this.dense?" q-list--dense":"")+(!0===this.separator?" q-list--separator":"")+(!0===this.isDark?" q-list--dark":"")+(!0===this.padding?" q-list--padding":"")}},render(t){return t("div",{class:this.classes,on:this.$listeners},Lt(this,"default"))}}),Lo=a["a"].extend({name:"QItem",mixins:[Ut,jt],props:{active:Boolean,clickable:Boolean,dense:Boolean,insetLevel:Number,tabindex:[String,Number],tag:{type:String,default:"div"},focused:Boolean,manualFocus:Boolean},computed:{isClickable(){return!0!==this.disable&&(!0===this.clickable||!0===this.hasRouterLink||"a"===this.tag||"label"===this.tag)},classes(){return{"q-item--clickable q-link cursor-pointer":this.isClickable,"q-focusable q-hoverable":!0===this.isClickable&&!1===this.manualFocus,"q-manual-focusable":!0===this.isClickable&&!0===this.manualFocus,"q-manual-focusable--focused":!0===this.isClickable&&!0===this.focused,"q-item--dense":this.dense,"q-item--dark":this.isDark,"q-item--active":this.active,[this.activeClass]:!0===this.active&&!0!==this.hasRouterLink&&void 0!==this.activeClass,disabled:this.disable}},style(){if(void 0!==this.insetLevel){const t=!0===this.$q.lang.rtl?"Right":"Left";return{["padding"+t]:16+56*this.insetLevel+"px"}}}},methods:{__getContent(t){const e=Dt(this,"default",[]);return!0===this.isClickable&&e.unshift(t("div",{staticClass:"q-focus-helper",attrs:{tabindex:-1},ref:"blurTarget"})),e},__onClick(t){!0===this.isClickable&&(void 0!==this.$refs.blurTarget&&(!0!==t.qKeyEvent&&document.activeElement===this.$el?this.$refs.blurTarget.focus():document.activeElement===this.$refs.blurTarget&&this.$el.focus()),this.$emit("click",t))},__onKeyup(t){if(!0===this.isClickable&&!0===et(t,13)){x(t),t.qKeyEvent=!0;const e=new MouseEvent("click",t);e.qKeyEvent=!0,this.$el.dispatchEvent(e)}this.$emit("keyup",t)}},render(t){const e={staticClass:"q-item q-item-type row no-wrap",class:this.classes,style:this.style},i=!0===this.hasRouterLink?"nativeOn":"on";return e[i]={...this.$listeners,click:this.__onClick,keyup:this.__onKeyup},!0===this.isClickable&&(e.attrs={tabindex:this.tabindex||"0"}),!0===this.hasRouterLink?(e.tag="a",e.props=this.routerLinkProps,t("router-link",e,this.__getContent(t))):t(this.tag,e,this.__getContent(t))}}),Do=a["a"].extend({name:"QItemSection",props:{avatar:Boolean,thumbnail:Boolean,side:Boolean,top:Boolean,noWrap:Boolean},computed:{classes(){const t=this.avatar||this.side||this.thumbnail;return{"q-item__section--top":this.top,"q-item__section--avatar":this.avatar,"q-item__section--thumbnail":this.thumbnail,"q-item__section--side":t,"q-item__section--nowrap":this.noWrap,"q-item__section--main":!t,[`justify-${this.top?"start":"center"}`]:!0}}},render(t){return t("div",{staticClass:"q-item__section column",class:this.classes,on:this.$listeners},Lt(this,"default"))}});function Bo(t,e,i){e.handler?e.handler(t,i,i.caret):i.runCmd(e.cmd,e.param)}function Po(t,e){return t("div",{staticClass:"q-editor__toolbar-group"},e)}function Fo(t,e,i,n,o=!1){const s=o||"toggle"===i.type&&(i.toggled?i.toggled(e):i.cmd&&e.caret.is(i.cmd,i.param)),r=[],a={click(t){n&&n(),Bo(t,i,e)}};if(i.tip&&e.$q.platform.is.desktop){const e=i.key?t("div",[t("small",`(CTRL + ${String.fromCharCode(i.key)})`)]):null;r.push(t(Mo,{props:{delay:1e3}},[t("div",{domProps:{innerHTML:i.tip}}),e]))}return t(ye,{props:{...e.buttonProps,icon:i.icon,color:s?i.toggleColor||e.toolbarToggleColor:i.color||e.toolbarColor,textColor:s&&!e.toolbarPush?null:i.textColor||e.toolbarTextColor,label:i.label,disable:!!i.disable&&("function"!==typeof i.disable||i.disable(e)),size:"sm"},on:a},r)}function Ho(t,e,i){let n,o,s=i.label,r=i.icon,a="only-icons"===i.list;function l(){u.componentInstance.hide()}if(a)o=i.options.map(i=>{const n=void 0===i.type&&e.caret.is(i.cmd,i.param);return n&&(s=i.tip,r=i.icon),Fo(t,e,i,l,n)}),n=e.toolbarBackgroundClass,o=[Po(t,o)];else{const a=void 0!==e.toolbarToggleColor?`text-${e.toolbarToggleColor}`:null,c=void 0!==e.toolbarTextColor?`text-${e.toolbarTextColor}`:null;o=i.options.map(i=>{const n=!!i.disable&&i.disable(e),o=void 0===i.type&&e.caret.is(i.cmd,i.param);o&&(s=i.tip,r=i.icon);const u=i.htmlTip;return t(Lo,{props:{active:o,activeClass:a,clickable:!0,disable:n,dense:!0},on:{click(t){l(),e.$refs.content&&e.$refs.content.focus(),e.caret.restore(),Bo(t,i,e)}}},["no-icons"===i.list?null:t(Do,{class:o?a:c,props:{side:!0}},[t(Ft,{props:{name:i.icon}})]),t(Do,[u?t("div",{domProps:{innerHTML:i.htmlTip}}):i.tip?t("div",[i.tip]):null])])}),n=[e.toolbarBackgroundClass,c],o=[t(No,[o])]}const c=i.highlight&&s!==i.label,u=t(di,{props:{...e.buttonProps,noCaps:!0,noWrap:!0,color:c?e.toolbarToggleColor:e.toolbarColor,textColor:c&&!e.toolbarPush?null:e.toolbarTextColor,label:i.fixedLabel?i.label:s,icon:i.fixedIcon?i.icon:r,contentClass:n}},o);return u}function Vo(t,e){if(e.caret)return e.buttons.filter(t=>{return!e.isViewingSource||t.find(t=>"viewsource"===t.cmd)}).map(i=>Po(t,i.map(i=>{return(!e.isViewingSource||"viewsource"===i.cmd)&&("slot"===i.type?Lt(e,i.slot):"dropdown"===i.type?Ho(t,e,i):Fo(t,e,i))})))}function Uo(t,e,i,n={}){const o=Object.keys(n);if(0===o.length)return{};const s={default_font:{cmd:"fontName",param:t,icon:i,tip:e}};return o.forEach(t=>{const e=n[t];s[t]={cmd:"fontName",param:e,icon:i,tip:e,htmlTip:`<font face="${e}">${e}</font>`}}),s}function Wo(t,e){if(e.caret){const i=e.toolbarColor||e.toolbarTextColor;let n=e.editLinkUrl;const o=()=>{e.caret.restore(),n!==e.editLinkUrl&&document.execCommand("createLink",!1,""===n?" ":n),e.editLinkUrl=null};return[t("div",{staticClass:"q-mx-xs",class:`text-${i}`},[`${e.$q.lang.editor.url}: `]),t(Ao,{key:"qedt_btm_input",staticClass:"q-ma-none q-pa-none col q-editor-input",props:{value:n,color:i,autofocus:!0,borderless:!0,dense:!0},on:{input:t=>{n=t},keydown:t=>{if(!0!==tt(t))switch(t.keyCode){case 13:return I(t),o();case 27:I(t),e.caret.restore(),e.editLinkUrl&&"https://"!==e.editLinkUrl||document.execCommand("unlink"),e.editLinkUrl=null;break}}}}),Po(t,[t(ye,{key:"qedt_btm_rem",attrs:{tabindex:-1},props:{...e.buttonProps,label:e.$q.lang.label.remove,noCaps:!0},on:{click:()=>{e.caret.restore(),document.execCommand("unlink"),e.editLinkUrl=null}}}),t(ye,{key:"qedt_btm_upd",props:{...e.buttonProps,label:e.$q.lang.label.update,noCaps:!0},on:{click:o}})])]}}function $o(t,e){if(e&&t===e)return null;const i=window.getComputedStyle?window.getComputedStyle(t):t.currentStyle,n=i.display;return"block"===n||"table"===n?t:$o(t.parentNode)}function Go(t,e){if(!t)return!1;while(t=t.parentNode){if(t===document.body)return!1;if(t===e)return!0}return!1}const qo=/^https?:\/\//;class zo{constructor(t,e){this.el=t,this.vm=e}get selection(){if(!this.el)return;const t=document.getSelection();return Go(t.anchorNode,this.el)&&Go(t.focusNode,this.el)?t:void 0}get hasSelection(){return this.selection?this.selection.toString().length>0:null}get range(){const t=this.selection;if(t)return t.rangeCount?t.getRangeAt(0):null}get parent(){const t=this.range;if(!t)return;const e=t.startContainer;return e.nodeType===document.ELEMENT_NODE?e:e.parentNode}get blockParent(){const t=this.parent;if(t)return $o(t,this.el)}save(t=this.range){this._range=t}restore(t=this._range){const e=document.createRange(),i=document.getSelection();t?(e.setStart(t.startContainer,t.startOffset),e.setEnd(t.endContainer,t.endOffset),i.removeAllRanges(),i.addRange(e)):(i.selectAllChildren(this.el),i.collapseToEnd())}hasParent(t,e){const i=e?this.parent:this.blockParent;return!!i&&i.nodeName.toLowerCase()===t.toLowerCase()}hasParents(t){const e=this.parent;return!!e&&t.includes(e.nodeName.toLowerCase())}is(t,e){switch(t){case"formatBlock":return"DIV"===e&&this.parent===this.el||this.hasParent(e,"PRE"===e);case"link":return this.hasParent("A",!0);case"fontSize":return document.queryCommandValue(t)===e;case"fontName":const i=document.queryCommandValue(t);return i===`"${e}"`||i===e;case"fullscreen":return this.vm.inFullscreen;case"viewsource":return this.vm.isViewingSource;case void 0:return!1;default:const n=document.queryCommandState(t);return e?n===e:n}}getParentAttribute(t){if(this.parent)return this.parent.getAttribute(t)}can(t){if("outdent"===t)return this.hasParents(["blockquote","li"]);if("indent"===t){const t=!!this.parent&&this.parent.nodeName.toLowerCase();if("blockquote"===t)return!1;if("li"===t){const t=this.parent.previousSibling;return t&&"li"===t.nodeName.toLowerCase()}return!1}return"link"===t?this.selection||this.is("link"):void 0}apply(t,e,i=(()=>{})){if("formatBlock"===t)["BLOCKQUOTE","H1","H2","H3","H4","H5","H6"].includes(e)&&this.is(t,e)&&(t="outdent",e=null),"PRE"===e&&this.is(t,"PRE")&&(e="P");else{if("print"===t){i();const t=window.open();return t.document.write(`\n        <!doctype html>\n        <html>\n          <head>\n            <title>Print - ${document.title}</title>\n          </head>\n          <body>\n            <div>${this.el.innerHTML}</div>\n          </body>\n        </html>\n      `),t.print(),void t.close()}if("link"===t){const t=this.getParentAttribute("href");if(t)this.vm.editLinkUrl=t;else{const t=this.selectWord(this.selection),e=t?t.toString():"";if(!e.length)return;this.vm.editLinkUrl=qo.test(e)?e:"https://",document.execCommand("createLink",!1,this.vm.editLinkUrl)}return void this.vm.$nextTick(()=>{this.range.selectNodeContents(this.parent),this.save()})}if("fullscreen"===t)return this.vm.toggleFullscreen(),void i();if("viewsource"===t)return this.vm.isViewingSource=!this.vm.isViewingSource,this.vm.__setContent(this.vm.value),void i()}if(!0===this.vm.$q.platform.is.ie||!0===this.vm.$q.platform.is.edge){const i=document.createElement("div");this.vm.$refs.content.appendChild(i),document.execCommand(t,!1,e),i.remove()}else document.execCommand(t,!1,e);i()}selectWord(t){if(!t||!t.isCollapsed)return t;const e=document.createRange();e.setStart(t.anchorNode,t.anchorOffset),e.setEnd(t.focusNode,t.focusOffset);const i=e.collapsed?["backward","forward"]:["forward","backward"];e.detach();const n=t.focusNode,o=t.focusOffset;return t.collapse(t.anchorNode,t.anchorOffset),t.modify("move",i[0],"character"),t.modify("move",i[1],"word"),t.extend(n,o),t.modify("extend",i[1],"character"),t.modify("extend",i[0],"word"),t}}let Xo=Object.prototype.toString,Yo=Object.prototype.hasOwnProperty,jo={};function Ko(t){return null===t?String(t):jo[Xo.call(t)]||"object"}function Jo(t){if(!t||"object"!==Ko(t))return!1;if(t.constructor&&!Yo.call(t,"constructor")&&!Yo.call(t.constructor.prototype,"isPrototypeOf"))return!1;let e;for(e in t);return void 0===e||Yo.call(t,e)}function Qo(){let t,e,i,n,o,s,r=arguments[0]||{},a=1,l=arguments.length,c=!1;for("boolean"===typeof r&&(c=r,r=arguments[1]||{},a=2),Object(r)!==r&&"function"!==Ko(r)&&(r={}),l===a&&(r=this,a--);a<l;a++)if(null!==(t=arguments[a]))for(e in t)i=r[e],n=t[e],r!==n&&(c&&n&&(Jo(n)||(o="array"===Ko(n)))?(o?(o=!1,s=i&&"array"===Ko(i)?i:[]):s=i&&Jo(i)?i:{},r[e]=Qo(c,s,n)):void 0!==n&&(r[e]=n));return r}"Boolean Number String Function Array Date RegExp Object".split(" ").forEach(t=>{jo["[object "+t+"]"]=t.toLowerCase()});var Zo=a["a"].extend({name:"QEditor",mixins:[Ei,Ut],props:{value:{type:String,required:!0},readonly:Boolean,disable:Boolean,minHeight:{type:String,default:"10rem"},maxHeight:String,height:String,definitions:Object,fonts:Object,toolbar:{type:Array,validator:t=>0===t.length||t.every(t=>t.length),default(){return[["left","center","right","justify"],["bold","italic","underline","strike"],["undo","redo"]]}},toolbarColor:String,toolbarBg:String,toolbarTextColor:String,toolbarToggleColor:{type:String,default:"primary"},toolbarOutline:Boolean,toolbarPush:Boolean,toolbarRounded:Boolean,contentStyle:Object,contentClass:[Object,Array,String],square:Boolean,flat:Boolean,dense:Boolean},computed:{editable(){return!this.readonly&&!this.disable},hasToolbar(){return this.toolbar&&this.toolbar.length>0},toolbarBackgroundClass(){if(this.toolbarBg)return`bg-${this.toolbarBg}`},buttonProps(){const t=!0!==this.toolbarOutline&&!0!==this.toolbarPush;return{type:"a",flat:t,noWrap:!0,outline:this.toolbarOutline,push:this.toolbarPush,rounded:this.toolbarRounded,dense:!0,color:this.toolbarColor,disable:!this.editable,size:"sm"}},buttonDef(){const t=this.$q.lang.editor,e=this.$q.iconSet.editor;return{bold:{cmd:"bold",icon:e.bold,tip:t.bold,key:66},italic:{cmd:"italic",icon:e.italic,tip:t.italic,key:73},strike:{cmd:"strikeThrough",icon:e.strikethrough,tip:t.strikethrough,key:83},underline:{cmd:"underline",icon:e.underline,tip:t.underline,key:85},unordered:{cmd:"insertUnorderedList",icon:e.unorderedList,tip:t.unorderedList},ordered:{cmd:"insertOrderedList",icon:e.orderedList,tip:t.orderedList},subscript:{cmd:"subscript",icon:e.subscript,tip:t.subscript,htmlTip:"x<subscript>2</subscript>"},superscript:{cmd:"superscript",icon:e.superscript,tip:t.superscript,htmlTip:"x<superscript>2</superscript>"},link:{cmd:"link",disable:t=>t.caret&&!t.caret.can("link"),icon:e.hyperlink,tip:t.hyperlink,key:76},fullscreen:{cmd:"fullscreen",icon:e.toggleFullscreen,tip:t.toggleFullscreen,key:70},viewsource:{cmd:"viewsource",icon:e.viewSource,tip:t.viewSource},quote:{cmd:"formatBlock",param:"BLOCKQUOTE",icon:e.quote,tip:t.quote,key:81},left:{cmd:"justifyLeft",icon:e.left,tip:t.left},center:{cmd:"justifyCenter",icon:e.center,tip:t.center},right:{cmd:"justifyRight",icon:e.right,tip:t.right},justify:{cmd:"justifyFull",icon:e.justify,tip:t.justify},print:{type:"no-state",cmd:"print",icon:e.print,tip:t.print,key:80},outdent:{type:"no-state",disable:t=>t.caret&&!t.caret.can("outdent"),cmd:"outdent",icon:e.outdent,tip:t.outdent},indent:{type:"no-state",disable:t=>t.caret&&!t.caret.can("indent"),cmd:"indent",icon:e.indent,tip:t.indent},removeFormat:{type:"no-state",cmd:"removeFormat",icon:e.removeFormat,tip:t.removeFormat},hr:{type:"no-state",cmd:"insertHorizontalRule",icon:e.hr,tip:t.hr},undo:{type:"no-state",cmd:"undo",icon:e.undo,tip:t.undo,key:90},redo:{type:"no-state",cmd:"redo",icon:e.redo,tip:t.redo,key:89},h1:{cmd:"formatBlock",param:"H1",icon:e.heading1||e.heading,tip:t.heading1,htmlTip:`<h1 class="q-ma-none">${t.heading1}</h1>`},h2:{cmd:"formatBlock",param:"H2",icon:e.heading2||e.heading,tip:t.heading2,htmlTip:`<h2 class="q-ma-none">${t.heading2}</h2>`},h3:{cmd:"formatBlock",param:"H3",icon:e.heading3||e.heading,tip:t.heading3,htmlTip:`<h3 class="q-ma-none">${t.heading3}</h3>`},h4:{cmd:"formatBlock",param:"H4",icon:e.heading4||e.heading,tip:t.heading4,htmlTip:`<h4 class="q-ma-none">${t.heading4}</h4>`},h5:{cmd:"formatBlock",param:"H5",icon:e.heading5||e.heading,tip:t.heading5,htmlTip:`<h5 class="q-ma-none">${t.heading5}</h5>`},h6:{cmd:"formatBlock",param:"H6",icon:e.heading6||e.heading,tip:t.heading6,htmlTip:`<h6 class="q-ma-none">${t.heading6}</h6>`},p:{cmd:"formatBlock",param:"DIV",icon:e.heading,tip:t.paragraph},code:{cmd:"formatBlock",param:"PRE",icon:e.code,htmlTip:`<code>${t.code}</code>`},"size-1":{cmd:"fontSize",param:"1",icon:e.size1||e.size,tip:t.size1,htmlTip:`<font size="1">${t.size1}</font>`},"size-2":{cmd:"fontSize",param:"2",icon:e.size2||e.size,tip:t.size2,htmlTip:`<font size="2">${t.size2}</font>`},"size-3":{cmd:"fontSize",param:"3",icon:e.size3||e.size,tip:t.size3,htmlTip:`<font size="3">${t.size3}</font>`},"size-4":{cmd:"fontSize",param:"4",icon:e.size4||e.size,tip:t.size4,htmlTip:`<font size="4">${t.size4}</font>`},"size-5":{cmd:"fontSize",param:"5",icon:e.size5||e.size,tip:t.size5,htmlTip:`<font size="5">${t.size5}</font>`},"size-6":{cmd:"fontSize",param:"6",icon:e.size6||e.size,tip:t.size6,htmlTip:`<font size="6">${t.size6}</font>`},"size-7":{cmd:"fontSize",param:"7",icon:e.size7||e.size,tip:t.size7,htmlTip:`<font size="7">${t.size7}</font>`}}},buttons(){const t=this.definitions||{},e=this.definitions||this.fonts?Qo(!0,{},this.buttonDef,t,Uo(this.defaultFont,this.$q.lang.editor.defaultFont,this.$q.iconSet.editor.font,this.fonts)):this.buttonDef;return this.toolbar.map(i=>i.map(i=>{if(i.options)return{type:"dropdown",icon:i.icon,label:i.label,size:"sm",dense:!0,fixedLabel:i.fixedLabel,fixedIcon:i.fixedIcon,highlight:i.highlight,list:i.list,options:i.options.map(t=>e[t])};const n=e[i];return n?"no-state"===n.type||t[i]&&(void 0===n.cmd||this.buttonDef[n.cmd]&&"no-state"===this.buttonDef[n.cmd].type)?n:Object.assign({type:"toggle"},n):{type:"slot",slot:i}}))},keys(){const t={},e=e=>{e.key&&(t[e.key]={cmd:e.cmd,param:e.param})};return this.buttons.forEach(t=>{t.forEach(t=>{t.options?t.options.forEach(e):e(t)})}),t},innerStyle(){return this.inFullscreen?this.contentStyle:[{minHeight:this.minHeight,height:this.height,maxHeight:this.maxHeight},this.contentStyle]},innerClass(){return[this.contentClass,{col:this.inFullscreen,"overflow-auto":this.inFullscreen||this.maxHeight}]}},data(){return{editWatcher:!0,editLinkUrl:null,isViewingSource:!1}},watch:{value(t){this.editWatcher?this.__setContent(t):this.editWatcher=!0}},methods:{__onInput(){if(this.editWatcher){const t=this.isViewingSource?this.$refs.content.innerText:this.$refs.content.innerHTML;t!==this.value&&(this.editWatcher=!1,this.$emit("input",t))}},__onKeydown(t){if(this.$emit("keydown",t),!0!==t.ctrlKey||!0===tt(t))return this.refreshToolbar(),void(this.$q.platform.is.ie&&this.$nextTick(this.__onInput));const e=t.keyCode,i=this.keys[e];if(void 0!==i){const{cmd:e,param:n}=i;x(t),this.runCmd(e,n,!1)}},__onClick(t){this.refreshToolbar(),this.$emit("click",t)},__onBlur(){this.caret.save(),this.$emit("blur")},runCmd(t,e,i=!0){this.focus(),this.caret.apply(t,e,()=>{this.focus(),!0!==this.$q.platform.is.ie&&!0!==this.$q.platform.is.edge||this.$nextTick(this.__onInput),i&&this.refreshToolbar()})},refreshToolbar(){setTimeout(()=>{this.editLinkUrl=null,this.$forceUpdate()},1)},focus(){this.$refs.content.focus()},getContentEl(){return this.$refs.content},__setContent(t){this.isViewingSource?this.$refs.content.innerText=t:this.$refs.content.innerHTML=t}},created(){!1===l&&(document.execCommand("defaultParagraphSeparator",!1,"div"),this.defaultFont=window.getComputedStyle(document.body).fontFamily)},mounted(){this.caret=new zo(this.$refs.content,this),this.__setContent(this.value),this.refreshToolbar()},render(t){let e;if(this.hasToolbar){const i=[];i.push(t("div",{key:"qedt_top",staticClass:"q-editor__toolbar row no-wrap scroll-x",class:this.toolbarBackgroundClass},Vo(t,this))),null!==this.editLinkUrl&&i.push(t("div",{key:"qedt_btm",staticClass:"q-editor__toolbar row no-wrap items-center scroll-x",class:this.toolbarBackgroundClass},Wo(t,this))),e=t("div",{key:"toolbar_ctainer",staticClass:"q-editor__toolbars-container"},i)}return t("div",{staticClass:"q-editor",style:{height:!0===this.inFullscreen?"100vh":null},class:{disabled:this.disable,"fullscreen column":this.inFullscreen,"q-editor--square no-border-radius":this.square,"q-editor--flat":this.flat,"q-editor--dense":this.dense,"q-editor--dark q-dark":this.isDark}},[e,t("div",{ref:"content",staticClass:"q-editor__content",style:this.innerStyle,class:this.innerClass,attrs:{contenteditable:this.editable},domProps:l?{innerHTML:this.value}:void 0,on:{...this.$listeners,input:this.__onInput,keydown:this.__onKeydown,click:this.__onClick,blur:this.__onBlur}})])}}),ts=a["a"].extend({name:"QItemLabel",props:{overline:Boolean,caption:Boolean,header:Boolean,lines:[Number,String]},computed:{classes(){return{"q-item__label--overline text-overline":this.overline,"q-item__label--caption text-caption":this.caption,"q-item__label--header":this.header,ellipsis:1===parseInt(this.lines,10)}},style(){if(void 0!==this.lines&&parseInt(this.lines,10)>1)return{overflow:"hidden",display:"-webkit-box","-webkit-box-orient":"vertical","-webkit-line-clamp":this.lines}}},render(t){return t("div",{staticClass:"q-item__label",style:this.style,class:this.classes,on:this.$listeners},Lt(this,"default"))}}),es=a["a"].extend({name:"QSlideTransition",props:{appear:Boolean,duration:{type:Number,default:300}},methods:{__begin(t,e,i){t.style.overflowY="hidden",void 0!==e&&(t.style.height=`${e}px`),t.style.transition=`height ${this.duration}ms cubic-bezier(.25, .8, .50, 1)`,this.animating=!0,this.done=i},__end(t,e){t.style.overflowY=null,t.style.height=null,t.style.transition=null,this.__cleanup(),e!==this.lastEvent&&this.$emit(e)},__cleanup(){this.done&&this.done(),this.done=null,this.animating=!1,clearTimeout(this.timer),clearTimeout(this.timerFallback),void 0!==this.el&&this.el.removeEventListener("transitionend",this.animListener),this.animListener=null}},beforeDestroy(){this.animating&&this.__cleanup()},render(t){return t("transition",{props:{css:!1,appear:this.appear},on:Ne(this,"tr",{enter:(t,e)=>{let i=0;this.el=t,!0===this.animating?(this.__cleanup(),i=t.offsetHeight===t.scrollHeight?0:void 0):this.lastEvent="hide",this.__begin(t,i,e),this.timer=setTimeout(()=>{t.style.height=`${t.scrollHeight}px`,this.animListener=e=>{Object(e)===e&&e.target!==t||this.__end(t,"show")},t.addEventListener("transitionend",this.animListener),this.timerFallback=setTimeout(this.animListener,1.1*this.duration)},100)},leave:(t,e)=>{let i;this.el=t,!0===this.animating?this.__cleanup():(this.lastEvent="show",i=t.scrollHeight),this.__begin(t,i,e),this.timer=setTimeout(()=>{t.style.height=0,this.animListener=e=>{Object(e)===e&&e.target!==t||this.__end(t,"hide")},t.addEventListener("transitionend",this.animListener),this.timerFallback=setTimeout(this.animListener,1.1*this.duration)},100)}})},Lt(this,"default"))}}),is=a["a"].extend({name:"QSeparator",mixins:[Ut],props:{spaced:Boolean,inset:[Boolean,String],vertical:Boolean,color:String},computed:{classes(){return{[`bg-${this.color}`]:this.color,"q-separator--dark":this.isDark,"q-separator--spaced":this.spaced,"q-separator--inset":!0===this.inset,"q-separator--item-inset":"item"===this.inset,"q-separator--item-thumbnail-inset":"item-thumbnail"===this.inset,[`q-separator--${this.vertical?"vertical self-stretch":"horizontal col-grow"}`]:!0}}},render(t){return t("hr",{staticClass:"q-separator",class:this.classes})}});const ns="q:expansion-item:close";var os=a["a"].extend({name:"QExpansionItem",mixins:[Ut,jt,ke],props:{icon:String,label:String,labelLines:[Number,String],caption:String,captionLines:[Number,String],dense:Boolean,expandIcon:String,expandedIcon:String,expandIconClass:[Array,String,Object],duration:Number,headerInsetLevel:Number,contentInsetLevel:Number,expandSeparator:Boolean,defaultOpened:Boolean,expandIconToggle:Boolean,switchToggleSide:Boolean,denseToggle:Boolean,group:String,popup:Boolean,headerStyle:[Array,String,Object],headerClass:[Array,String,Object]},data(){return{showing:void 0!==this.value?this.value:this.defaultOpened}},watch:{showing(t){!0===t&&void 0!==this.group&&this.$root.$emit(ns,this)},group(t,e){void 0!==t&&void 0===e?this.$root.$on(ns,this.__eventHandler):void 0===t&&void 0!==e&&this.$root.$off(ns,this.__eventHandler)}},computed:{classes(){return`q-expansion-item--${!0===this.showing?"expanded":"collapsed"}`+` q-expansion-item--${!0===this.popup?"popup":"standard"}`},contentStyle(){if(void 0!==this.contentInsetLevel){const t=!0===this.$q.lang.rtl?"Right":"Left";return{["padding"+t]:56*this.contentInsetLevel+"px"}}},isClickable(){return!0===this.hasRouterLink||!0!==this.expandIconToggle},expansionIcon(){return void 0!==this.expandedIcon&&!0===this.showing?this.expandedIcon:this.expandIcon||this.$q.iconSet.expansionItem[!0===this.denseToggle?"denseIcon":"icon"]},activeToggleIcon(){return!0!==this.disable&&(!0===this.hasRouterLink||!0===this.expandIconToggle)}},methods:{__onHeaderClick(t){!0!==this.hasRouterLink&&this.toggle(t),this.$emit("click",t)},__toggleIconKeyboard(t){13===t.keyCode&&this.__toggleIcon(t,!0)},__toggleIcon(t,e){!0!==e&&void 0!==this.$refs.blurTarget&&this.$refs.blurTarget.focus(),this.toggle(t),x(t)},__eventHandler(t){this!==t&&this.group===t.group&&this.hide()},__getToggleIcon(t){return t(Do,{staticClass:`cursor-pointer${!0===this.denseToggle&&!0===this.switchToggleSide?" items-end":""}`,class:this.expandIconClass,props:{side:!0!==this.switchToggleSide,avatar:this.switchToggleSide},on:!0===this.activeToggleIcon?Ne(this,"inpExt",{click:this.__toggleIcon,keyup:this.__toggleIconKeyboard}):void 0},[t(Ft,{staticClass:"q-expansion-item__toggle-icon q-focusable",class:{"rotate-180":void 0===this.expandedIcon&&this.showing,invisible:this.disable},props:{name:this.expansionIcon},attrs:!0===this.activeToggleIcon?{tabindex:0}:void 0},[t("div",{staticClass:"q-focus-helper q-focus-helper--round",attrs:{tabindex:-1},ref:"blurTarget"})])])},__getHeader(t){let e;void 0!==this.$scopedSlots.header?e=this.$scopedSlots.header().slice():(e=[t(Do,[t(ts,{props:{lines:this.labelLines}},[this.label||""]),this.caption?t(ts,{props:{lines:this.captionLines,caption:!0}},[this.caption]):null])],this.icon&&e[!0===this.switchToggleSide?"push":"unshift"](t(Do,{props:{side:!0===this.switchToggleSide,avatar:!0!==this.switchToggleSide}},[t(Ft,{props:{name:this.icon}})]))),e[!0===this.switchToggleSide?"unshift":"push"](this.__getToggleIcon(t));const i={ref:"item",style:this.headerStyle,class:this.headerClass,props:{dark:this.isDark,disable:this.disable,dense:this.dense,insetLevel:this.headerInsetLevel}};if(!0===this.isClickable){const t=!0===this.hasRouterLink?"nativeOn":"on";i.props.clickable=!0,i[t]={...this.$listeners,click:this.__onHeaderClick},!0===this.hasRouterLink&&Object.assign(i.props,this.routerLinkProps)}return t(Lo,i,e)},__getContent(t){const e=[this.__getHeader(t),t(es,{props:{duration:this.duration}},[t("div",{staticClass:"q-expansion-item__content relative-position",style:this.contentStyle,directives:[{name:"show",value:this.showing}]},Lt(this,"default"))])];return this.expandSeparator&&e.push(t(is,{staticClass:"q-expansion-item__border q-expansion-item__border--top absolute-top",props:{dark:this.isDark}}),t(is,{staticClass:"q-expansion-item__border q-expansion-item__border--bottom absolute-bottom",props:{dark:this.isDark}})),e}},render(t){return t("div",{staticClass:"q-expansion-item q-item-type",class:this.classes},[t("div",{staticClass:"q-expansion-item__container relative-position"},this.__getContent(t))])},created(){void 0!==this.group&&this.$root.$on(ns,this.__eventHandler)},beforeDestroy(){void 0!==this.group&&this.$root.$off(ns,this.__eventHandler)}}),ss={props:{type:{type:String,default:"a"},outline:Boolean,push:Boolean,flat:Boolean,color:String,textColor:String,glossy:Boolean,disable:Boolean}},rs=a["a"].extend({name:"QFab",mixins:[ss,ke],provide(){return{__qFabClose:t=>{this.hide(t),this.$refs.trigger&&this.$refs.trigger.$el&&this.$refs.trigger.$el.focus()}}},props:{icon:String,activeIcon:String,direction:{type:String,default:"right",validator:t=>["up","right","down","left"].includes(t)},persistent:Boolean},data(){return{showing:!0===this.value}},computed:{hideOnRouteChange(){return!0!==this.persistent}},render(t){return t("div",{staticClass:"q-fab z-fab row inline justify-center",class:!0===this.showing?"q-fab--opened":null,on:this.$listeners},[t(ye,{ref:"trigger",props:{...this.$props,icon:void 0,fab:!0},on:Ne(this,"tog",{click:this.toggle})},Lt(this,"tooltip",[]).concat([t(Ft,{staticClass:"q-fab__icon absolute-full",props:{name:this.icon||this.$q.iconSet.fab.icon}}),t(Ft,{staticClass:"q-fab__active-icon absolute-full",props:{name:this.activeIcon||this.$q.iconSet.fab.activeIcon}})])),t("div",{staticClass:"q-fab__actions flex no-wrap inline items-center",class:`q-fab__actions--${this.direction}`},Lt(this,"default"))])}}),as=a["a"].extend({name:"QFabAction",mixins:[ss],props:{icon:{type:String,required:!0},to:[String,Object],replace:Boolean},inject:{__qFabClose:{default(){console.error("QFabAction needs to be child of QFab")}}},methods:{click(t){this.__qFabClose(),this.$emit("click",t)}},render(t){return t(ye,{props:{...this.$props,fabMini:!0},on:{...this.$listeners,click:this.click}},Lt(this,"default"))}}),ls=a["a"].extend({name:"QFooter",inject:{layout:{default(){console.error("QFooter needs to be child of QLayout")}}},props:{value:{type:Boolean,default:!0},reveal:Boolean,bordered:Boolean,elevated:Boolean,heightHint:{type:[String,Number],default:50}},data(){return{size:parseInt(this.heightHint,10),revealed:!0,windowHeight:u||this.layout.container?0:window.innerHeight}},watch:{value(t){this.__update("space",t),this.__updateLocal("revealed",!0),this.layout.__animate()},offset(t){this.__update("offset",t)},reveal(t){!1===t&&this.__updateLocal("revealed",this.value)},revealed(t){this.layout.__animate(),this.$emit("reveal",t)},"layout.scroll"(){this.__updateRevealed()},"layout.height"(){this.__updateRevealed()},size(){this.__updateRevealed()},"$q.screen.height"(t){!0!==this.layout.container&&this.__updateLocal("windowHeight",t)}},computed:{fixed(){return!0===this.reveal||this.layout.view.indexOf("F")>-1||!0===this.layout.container},containerHeight(){return!0===this.layout.container?this.layout.containerHeight:this.windowHeight},offset(){if(!0!==this.value)return 0;if(!0===this.fixed)return!0===this.revealed?this.size:0;const t=this.layout.scroll.position+this.containerHeight+this.size-this.layout.height;return t>0?t:0},classes(){return(!0===this.fixed?"fixed":"absolute")+"-bottom"+(!0===this.value||!0===this.fixed?"":" hidden")+(!0===this.bordered?" q-footer--bordered":"")+(!0!==this.value||!0===this.fixed&&!0!==this.revealed?" q-footer--hidden":"")},style(){const t=this.layout.rows.bottom,e={};return"l"===t[0]&&!0===this.layout.left.space&&(e[!0===this.$q.lang.rtl?"right":"left"]=`${this.layout.left.size}px`),"r"===t[2]&&!0===this.layout.right.space&&(e[!0===this.$q.lang.rtl?"left":"right"]=`${this.layout.right.size}px`),e}},render(t){const e=[t(en,{props:{debounce:0},on:Ne(this,"resize",{resize:this.__onResize})})];return!0===this.elevated&&e.push(t("div",{staticClass:"q-layout__shadow absolute-full overflow-hidden no-pointer-events"})),t("footer",{staticClass:"q-footer q-layout__section--marginal",class:this.classes,style:this.style,on:{...this.$listeners,input:R}},Bt(e,this,"default"))},created(){this.layout.instances.footer=this,!0===this.value&&this.__update("size",this.size),this.__update("space",this.value),this.__update("offset",this.offset)},beforeDestroy(){this.layout.instances.footer===this&&(this.layout.instances.footer=void 0,this.__update("size",0),this.__update("offset",0),this.__update("space",!1))},methods:{__onResize({height:t}){this.__updateLocal("size",t),this.__update("size",t)},__update(t,e){this.layout.footer[t]!==e&&(this.layout.footer[t]=e)},__updateLocal(t,e){this[t]!==e&&(this[t]=e)},__updateRevealed(){if(!0!==this.reveal)return;const{direction:t,position:e,inflexionPosition:i}=this.layout.scroll;this.__updateLocal("revealed","up"===t||e-i<100||this.layout.height-this.containerHeight-e-this.size<300)}}}),cs=a["a"].extend({name:"QForm",props:{autofocus:Boolean,noErrorFocus:Boolean,noResetFocus:Boolean,greedy:Boolean},mounted(){this.validateIndex=0,!0===this.autofocus&&this.focus()},methods:{validate(t){const e=[],i="boolean"===typeof t?t:!0!==this.noErrorFocus;this.validateIndex++;const n=Oe(this),o=t=>{this.$emit("validation-"+(!0===t?"success":"error"))};for(let r=0;r<n.length;r++){const t=n[r];if("function"===typeof t.validate){const n=t.validate();if("function"===typeof n.then)e.push(n.then(e=>({valid:e,comp:t}),e=>({valid:!1,comp:t,error:e})));else if(!0!==n){if(!1===this.greedy)return o(!1),!0===i&&"function"===typeof t.focus&&t.focus(),Promise.resolve(!1);e.push({valid:!1,comp:t})}}}if(0===e.length)return o(!0),Promise.resolve(!0);const s=this.validateIndex;return Promise.all(e).then(t=>{if(s===this.validateIndex){const e=t.filter(t=>!0!==t.valid);if(0===e.length)return o(!0),!0;o(!1);const{valid:n,comp:s}=e[0];return!0===i&&!0!==n&&"function"===typeof s.focus&&s.focus(),!1}})},resetValidation(){this.validateIndex++,Oe(this).forEach(t=>{"function"===typeof t.resetValidation&&t.resetValidation()})},submit(t){void 0!==t&&x(t),this.validate().then(e=>{!0===e&&this.$emit("submit",t)})},reset(t){void 0!==t&&x(t),this.$emit("reset"),this.$nextTick(()=>{this.resetValidation(),!0===this.autofocus&&!0!==this.noResetFocus&&this.focus()})},focus(){const t=this.$el.querySelector("[autofocus]")||[].find.call(this.$el.querySelectorAll("[tabindex]"),t=>t.tabIndex>-1);null!==t&&void 0!==t&&t.focus()}},render(t){return t("form",{staticClass:"q-form",on:{...this.$listeners,submit:this.submit,reset:this.reset}},Lt(this,"default"))}}),us=a["a"].extend({name:"QHeader",inject:{layout:{default(){console.error("QHeader needs to be child of QLayout")}}},props:{value:{type:Boolean,default:!0},reveal:Boolean,revealOffset:{type:Number,default:250},bordered:Boolean,elevated:Boolean,heightHint:{type:[String,Number],default:50}},data(){return{size:parseInt(this.heightHint,10),revealed:!0}},watch:{value(t){this.__update("space",t),this.__updateLocal("revealed",!0),this.layout.__animate()},offset(t){this.__update("offset",t)},reveal(t){!1===t&&this.__updateLocal("revealed",this.value)},revealed(t){this.layout.__animate(),this.$emit("reveal",t)},"layout.scroll"(t){!0===this.reveal&&this.__updateLocal("revealed","up"===t.direction||t.position<=this.revealOffset||t.position-t.inflexionPosition<100)}},computed:{fixed(){return!0===this.reveal||this.layout.view.indexOf("H")>-1||!0===this.layout.container},offset(){if(!0!==this.value)return 0;if(!0===this.fixed)return!0===this.revealed?this.size:0;const t=this.size-this.layout.scroll.position;return t>0?t:0},classes(){return(!0===this.fixed?"fixed":"absolute")+"-top"+(!0===this.bordered?" q-header--bordered":"")+(!0!==this.value||!0===this.fixed&&!0!==this.revealed?" q-header--hidden":"")},style(){const t=this.layout.rows.top,e={};return"l"===t[0]&&!0===this.layout.left.space&&(e[!0===this.$q.lang.rtl?"right":"left"]=`${this.layout.left.size}px`),"r"===t[2]&&!0===this.layout.right.space&&(e[!0===this.$q.lang.rtl?"left":"right"]=`${this.layout.right.size}px`),e}},render(t){const e=Bt([t(en,{props:{debounce:0},on:Ne(this,"resize",{resize:this.__onResize})})],this,"default");return!0===this.elevated&&e.push(t("div",{staticClass:"q-layout__shadow absolute-full overflow-hidden no-pointer-events"})),t("header",{staticClass:"q-header q-layout__section--marginal",class:this.classes,style:this.style,on:{...this.$listeners,input:R}},e)},created(){this.layout.instances.header=this,!0===this.value&&this.__update("size",this.size),this.__update("space",this.value),this.__update("offset",this.offset)},beforeDestroy(){this.layout.instances.header===this&&(this.layout.instances.header=void 0,this.__update("size",0),this.__update("offset",0),this.__update("space",!1))},methods:{__onResize({height:t}){this.__updateLocal("size",t),this.__update("size",t)},__update(t,e){this.layout.header[t]!==e&&(this.layout.header[t]=e)},__updateLocal(t,e){this[t]!==e&&(this[t]=e)}}}),hs=a["a"].extend({name:"QImg",props:{src:String,srcset:String,sizes:String,alt:String,placeholderSrc:String,basic:Boolean,contain:Boolean,position:{type:String,default:"50% 50%"},ratio:[String,Number],transition:{type:String,default:"fade"},imgClass:[Array,String,Object],noDefaultSpinner:Boolean,spinnerColor:String,spinnerSize:String},data(){return{currentSrc:"",image:null,isLoading:!!this.src,hasError:!1,naturalRatio:void 0}},watch:{src(){this.__load()},srcset(t){this.__updateWatcher(t)}},computed:{aspectRatio(){return this.ratio||this.naturalRatio},padding(){return void 0!==this.aspectRatio?1/this.aspectRatio*100+"%":void 0},url(){return this.currentSrc||this.placeholderSrc||void 0},attrs(){const t={role:"img"};return void 0!==this.alt&&(t["aria-label"]=this.alt),t}},methods:{__onLoad(t){this.isLoading=!1,this.hasError=!1,this.__computeRatio(t),this.__updateSrc(),this.__updateWatcher(this.srcset),this.$emit("load",this.currentSrc)},__onError(t){clearTimeout(this.ratioTimer),this.isLoading=!1,this.hasError=!0,this.currentSrc="",this.$emit("error",t)},__updateSrc(){if(void 0!==this.image&&!1===this.isLoading){const t=this.image.currentSrc||this.image.src;this.currentSrc!==t&&(this.currentSrc=t)}},__updateWatcher(t){t?void 0===this.unwatch&&(this.unwatch=this.$watch("$q.screen.width",this.__updateSrc)):void 0!==this.unwatch&&(this.unwatch(),this.unwatch=void 0)},__load(){if(clearTimeout(this.ratioTimer),this.hasError=!1,!this.src)return this.isLoading=!1,this.image=void 0,void(this.currentSrc="");this.isLoading=!0;const t=new Image;this.image=t,t.onerror=e=>{this.image===t&&!0!==this.destroyed&&this.__onError(e)},t.onload=()=>{!0!==this.destroyed&&this.image===t&&(void 0!==t.decode?t.decode().catch(e=>{this.image===t&&!0!==this.destroyed&&this.__onError(e)}).then(()=>{this.image===t&&!0!==this.destroyed&&this.__onLoad(t)}):this.__onLoad(t))},t.src=this.src,this.srcset&&(t.srcset=this.srcset),this.sizes&&(t.sizes=this.sizes)},__computeRatio(t){const{naturalHeight:e,naturalWidth:i}=t;e||i?this.naturalRatio=0===e?1:i/e:this.ratioTimer=setTimeout(()=>{this.image===t&&!0!==this.destroyed&&this.__computeRatio(t)},100)},__getImage(t){const e=void 0!==this.url?t("div",{key:this.url,staticClass:"q-img__image absolute-full",class:this.imgClass,style:{backgroundImage:`url("${this.url}")`,backgroundSize:this.contain?"contain":"cover",backgroundPosition:this.position}}):null;return!0===this.basic?e:t("transition",{props:{name:"q-transition--"+this.transition}},[e])},__getContent(t){const e=Lt(this,!0===this.hasError?"error":"default");if(!0===this.basic)return t("div",{key:"content",staticClass:"q-img__content absolute-full"},e);const i=!0===this.isLoading?t("div",{key:"placeholder",staticClass:"q-img__loading absolute-full flex flex-center"},void 0!==this.$scopedSlots.loading?this.$scopedSlots.loading():!1===this.noDefaultSpinner?[t(Qt,{props:{color:this.spinnerColor,size:this.spinnerSize}})]:null):t("div",{key:"content",staticClass:"q-img__content absolute-full"},e);return t("transition",{props:{name:"q-transition--fade"}},[i])}},render(t){return t("div",{staticClass:"q-img overflow-hidden",attrs:this.attrs,on:this.$listeners},[t("div",{style:{paddingBottom:this.padding}}),this.__getImage(t),this.__getContent(t)])},beforeMount(){if(void 0!==this.placeholderSrc&&void 0===this.ratio){const t=new Image;t.src=this.placeholderSrc,this.__computeRatio(t)}!0===this.isLoading&&this.__load()},beforeDestroy(){this.destroyed=!0,clearTimeout(this.ratioTimer),void 0!==this.unwatch&&this.unwatch()}}),ds=a["a"].extend({name:"QInfiniteScroll",props:{offset:{type:Number,default:500},debounce:{type:[String,Number],default:100},scrollTarget:{},disable:Boolean,reverse:Boolean},data(){return{index:0,fetching:!1,working:!0}},watch:{disable(t){!0===t?this.stop():this.resume()},scrollTarget(){this.updateScrollTarget()},debounce(t){this.__setDebounce(t)}},methods:{poll(){if(!0===this.disable||!0===this.fetching||!1===this.working)return;const t=We(this.scrollContainer),e=$e(this.scrollContainer),i=te(this.scrollContainer);!1===this.reverse?e+i+this.offset>=t&&this.trigger():e<this.offset&&this.trigger()},trigger(){if(!0===this.disable||!0===this.fetching||!1===this.working)return;this.index++,this.fetching=!0;const t=We(this.scrollContainer);this.$emit("load",this.index,e=>{!0===this.working&&(this.fetching=!1,this.$nextTick(()=>{if(!0===this.reverse){const e=We(this.scrollContainer),i=$e(this.scrollContainer),n=e-t;this.scrollContainer.scrollTop=i+n}!0===e?this.stop():this.$el.closest("body")&&this.poll()}))})},reset(){this.index=0},resume(){!1===this.working&&(this.working=!0,this.scrollContainer.addEventListener("scroll",this.poll,b.passive)),this.immediatePoll()},stop(){!0===this.working&&(this.working=!1,this.fetching=!1,this.scrollContainer.removeEventListener("scroll",this.poll,b.passive))},updateScrollTarget(){if(this.scrollContainer&&!0===this.working&&this.scrollContainer.removeEventListener("scroll",this.poll,b.passive),"string"===typeof this.scrollTarget){if(this.scrollContainer=document.querySelector(this.scrollTarget),null===this.scrollContainer)return void console.error(`InfiniteScroll: scroll target container "${this.scrollTarget}" not found`,this)}else this.scrollContainer=this.scrollTarget===document.defaultView||this.scrollTarget instanceof Element?this.scrollTarget:Ue(this.$el);!0===this.working&&this.scrollContainer.addEventListener("scroll",this.poll,b.passive)},__setDebounce(t){t=parseInt(t,10),this.poll=t<=0?this.immediatePoll:M(this.immediatePoll,!0===isNaN(t)?100:t)}},mounted(){if(this.immediatePoll=this.poll,this.__setDebounce(this.debounce),this.updateScrollTarget(),this.immediatePoll(),!0===this.reverse){const t=We(this.scrollContainer),e=te(this.scrollContainer);this.scrollContainer.scrollTop=t-e}},beforeDestroy(){!0===this.working&&this.scrollContainer.removeEventListener("scroll",this.poll,b.passive)},render(t){const e=Dt(this,"default",[]);return!0!==this.disable&&e[!1===this.reverse?"push":"unshift"](t("div",{staticClass:"q-infinite-scroll__loading",class:!0===this.fetching?"":"invisible"},Lt(this,"loading"))),t("div",{staticClass:"q-infinite-scroll"},e)}}),ps=a["a"].extend({name:"QInnerLoading",mixins:[Ut,xe],props:{showing:Boolean,color:String,size:{type:[String,Number],default:42}},render(t){const e=!0===this.showing?[t("div",{staticClass:"q-inner-loading absolute-full column flex-center",class:!0===this.isDark?"q-inner-loading--dark":null,on:this.$listeners},void 0!==this.$scopedSlots.default?this.$scopedSlots.default():[t(Qt,{props:{size:this.size,color:this.color}})])]:void 0;return t("transition",{props:{name:this.transition}},e)}});const _s={threshold:0,root:null,rootMargin:"0px"};function gs(t,e,{modifiers:i,value:n}){let o,s,r;e.once=i.once,"function"===typeof n?(o=n,s=_s,r=void 0===e.cfg):(o=n.handler,s=Object.assign({},_s,n.cfg),r=void 0===e.cfg||!1===Si(e.cfg,s)),e.handler!==o&&(e.handler=o),!0===r&&(e.cfg=s,void 0!==e.observer&&e.observer.unobserve(t),e.observer=new IntersectionObserver(([i])=>{const n=e.handler(i,e.observer);(!1===n||!0===e.once&&!0===i.isIntersecting)&&fs(t)},s),e.observer.observe(t))}function fs(t){const e=t.__qvisible;void 0!==e&&(void 0!==e.observer&&e.observer.unobserve(t),delete t.__qvisible)}var ms={name:"intersection",inserted(t,e){const i={};gs(t,i,e),t.__qvisible=i},update(t,e){const i=t.__qvisible;void 0!==i&&gs(t,i,e)},unbind:fs},vs=a["a"].extend({name:"QIntersection",directives:{Intersection:ms},props:{once:Boolean,transition:String,margin:String,threshold:[Number,Array],disable:Boolean},data(){return{showing:!1}},computed:{value(){return void 0!==this.margin||void 0!==this.threshold?{handler:this.__trigger,cfg:{rootMargin:this.margin,threshold:this.threshold}}:this.__trigger}},methods:{__trigger(t){this.showing!==t.isIntersecting&&(this.showing=t.isIntersecting,void 0!==this.$listeners.visibility&&this.$emit("visibility",this.showing))}},render(t){const e=!0===this.showing?[t("div",{key:"content"},Lt(this,"default"))]:void 0;return t("div",{staticClass:"q-intersection",directives:!0===this.disable?null:[{name:"intersection",value:this.value,modifiers:{once:this.once}}]},this.transition?[t("transition",{props:{name:"q-transition--"+this.transition}},e)]:e)}});const bs=[34,37,40,33,39,38];var ys=a["a"].extend({name:"QKnob",mixins:[{props:Fi.options.props}],directives:{TouchPan:Yi},props:{step:{type:Number,default:1,validator:t=>t>=0},tabindex:{type:[Number,String],default:0},disable:Boolean,readonly:Boolean},data(){return{model:this.value,dragging:!1}},watch:{value(t){if(t<this.min)this.model=this.min;else{if(!(t>this.max))return void(t!==this.model&&(this.model=t));this.model=this.max}this.model!==this.value&&(this.$emit("input",this.model),this.$emit("change",this.model))}},computed:{classes(){return{disabled:this.disable,"q-knob--editable":this.editable}},editable(){return!this.disable&&!this.readonly},decimals(){return(String(this.step).trim("0").split(".")[1]||"").length},computedStep(){return 0===this.step?1:this.step}},methods:{__pan(t){if(t.isFinal)this.__updatePosition(t.evt,!0),this.dragging=!1;else if(t.isFirst){const{top:e,left:i,width:n,height:o}=this.$el.getBoundingClientRect();this.centerPosition={top:e+o/2,left:i+n/2},this.dragging=!0,this.__updatePosition(t.evt)}else this.__updatePosition(t.evt)},__click(t){const{top:e,left:i,width:n,height:o}=this.$el.getBoundingClientRect();this.centerPosition={top:e+o/2,left:i+n/2},this.__updatePosition(t,!0)},__keydown(t){if(!bs.includes(t.keyCode))return;x(t);const e=([34,33].includes(t.keyCode)?10:1)*this.computedStep,i=[34,37,40].includes(t.keyCode)?-e:e;this.model=bt(parseFloat((this.model+i).toFixed(this.decimals)),this.min,this.max),this.__updateValue()},__keyup(t){bs.includes(t.keyCode)&&this.__updateValue(!0)},__updatePosition(t,e){const i=this.centerPosition,n=E(t),o=Math.abs(n.top-i.top),s=Math.sqrt(o**2+Math.abs(n.left-i.left)**2);let r=Math.asin(o/s)*(180/Math.PI);r=n.top<i.top?i.left<n.left?90-r:270+r:i.left<n.left?r+90:270-r,this.angle&&(r=yt(r-this.angle,0,360)),!0===this.$q.lang.rtl&&(r=360-r);let a=this.min+r/360*(this.max-this.min);if(0!==this.step){const t=this.computedStep,e=a%t;a=a-e+(Math.abs(e)>=t/2?(e<0?-1:1)*t:0),a=parseFloat(a.toFixed(this.decimals))}a=bt(a,this.min,this.max),this.$emit("drag-value",a),this.model!==a&&(this.model=a),this.__updateValue(e)},__updateValue(t){this.value!==this.model&&this.$emit("input",this.model),!0===t&&this.$emit("change",this.model)}},render(t){const e={staticClass:"q-knob non-selectable",class:this.classes,props:{...this.$props,value:this.model,instantFeedback:this.dragging}};return!0===this.editable&&(e.attrs={tabindex:this.tabindex},e.on={click:this.__click,keydown:this.__keydown,keyup:this.__keyup},e.directives=[{name:"touch-pan",value:this.__pan,modifiers:{prevent:!0,stop:!0,mouse:!0}}]),t(Fi,e,Lt(this,"default"))}}),Ts=a["a"].extend({name:"QScrollObserver",props:{debounce:[String,Number],horizontal:Boolean},render(){},data(){return{pos:0,dir:!0===this.horizontal?"right":"down",dirChanged:!1,dirChangePos:0}},methods:{getPosition(){return{position:this.pos,direction:this.dir,directionChanged:this.dirChanged,inflexionPosition:this.dirChangePos}},trigger(t){!0===t||0===this.debounce||"0"===this.debounce?this.__emit():this.timer||(this.timer=this.debounce?setTimeout(this.__emit,this.debounce):requestAnimationFrame(this.__emit))},__emit(){const t=Math.max(0,!0===this.horizontal?Ge(this.target):$e(this.target)),e=t-this.pos,i=this.horizontal?e<0?"left":"right":e<0?"up":"down";this.dirChanged=this.dir!==i,this.dirChanged&&(this.dir=i,this.dirChangePos=this.pos),this.timer=null,this.pos=t,this.$emit("scroll",this.getPosition())}},mounted(){this.target=Ue(this.$el.parentNode),this.target.addEventListener("scroll",this.trigger,b.passive),this.trigger(!0)},beforeDestroy(){clearTimeout(this.timer),cancelAnimationFrame(this.timer),void 0!==this.target&&this.target.removeEventListener("scroll",this.trigger,b.passive)}}),Es=a["a"].extend({name:"QLayout",provide(){return{layout:this}},props:{container:Boolean,view:{type:String,default:"hhh lpr fff",validator:t=>/^(h|l)h(h|r) lpr (f|l)f(f|r)$/.test(t.toLowerCase())}},data(){return{height:this.$q.screen.height,width:!0===this.container?0:this.$q.screen.width,containerHeight:0,scrollbarWidth:!0===u?0:Qe(),header:{size:0,offset:0,space:!1},right:{size:300,offset:0,space:!1},footer:{size:0,offset:0,space:!1},left:{size:300,offset:0,space:!1},scroll:{position:0,direction:"down"}}},computed:{rows(){const t=this.view.toLowerCase().split(" ");return{top:t[0].split(""),middle:t[1].split(""),bottom:t[2].split("")}},style(){return!0===this.container?null:{minHeight:this.$q.screen.height+"px"}},targetStyle(){if(0!==this.scrollbarWidth)return{[!0===this.$q.lang.rtl?"left":"right"]:`${this.scrollbarWidth}px`}},targetChildStyle(){if(0!==this.scrollbarWidth)return{[!0===this.$q.lang.rtl?"right":"left"]:0,[!0===this.$q.lang.rtl?"left":"right"]:`-${this.scrollbarWidth}px`,width:`calc(100% + ${this.scrollbarWidth}px)`}},totalWidth(){return this.width+this.scrollbarWidth}},created(){this.instances={}},render(t){const e=t("div",{staticClass:"q-layout q-layout--"+(!0===this.container?"containerized":"standard"),style:this.style},Bt([t(Ts,{on:Ne(this,"scroll",{scroll:this.__onPageScroll})}),t(en,{on:Ne(this,"resizeOut",{resize:this.__onPageResize})})],this,"default"));return!0===this.container?t("div",{staticClass:"q-layout-container overflow-hidden"},[t(en,{on:Ne(this,"resizeIn",{resize:this.__onContainerResize})}),t("div",{staticClass:"absolute-full",style:this.targetStyle},[t("div",{staticClass:"scroll",style:this.targetChildStyle},[e])])]):e},methods:{__animate(){void 0!==this.timer?clearTimeout(this.timer):document.body.classList.add("q-body--layout-animate"),this.timer=setTimeout(()=>{document.body.classList.remove("q-body--layout-animate"),this.timer=void 0},150)},__onPageScroll(t){this.scroll=t,void 0!==this.$listeners.scroll&&this.$emit("scroll",t)},__onPageResize({height:t,width:e}){let i=!1;this.height!==t&&(i=!0,this.height=t,void 0!==this.$listeners["scroll-height"]&&this.$emit("scroll-height",t),this.__updateScrollbarWidth()),this.width!==e&&(i=!0,this.width=e),!0===i&&void 0!==this.$listeners.resize&&this.$emit("resize",{height:t,width:e})},__onContainerResize({height:t}){this.containerHeight!==t&&(this.containerHeight=t,this.__updateScrollbarWidth())},__updateScrollbarWidth(){if(!0===this.container){const t=this.height>this.containerHeight?Qe():0;this.scrollbarWidth!==t&&(this.scrollbarWidth=t)}}}}),Ss=a["a"].extend({name:"QMarkupTable",mixins:[Ut],props:{dense:Boolean,flat:Boolean,bordered:Boolean,square:Boolean,separator:{type:String,default:"horizontal",validator:t=>["horizontal","vertical","cell","none"].includes(t)},wrapCells:Boolean},computed:{classes(){return`q-table--${this.separator}-separator`+(!0===this.isDark?" q-table--dark q-table__card--dark q-dark":"")+(!0===this.dense?" q-table--dense":"")+(!0===this.flat?" q-table--flat":"")+(!0===this.bordered?" q-table--bordered":"")+(!0===this.square?" q-table--square":"")+(!1===this.wrapCells?" q-table--no-wrap":"")}},render(t){return t("div",{staticClass:"q-markup-table q-table__container q-table__card",class:this.classes,on:this.$listeners},[t("table",{staticClass:"q-table"},Lt(this,"default"))])}}),Cs=a["a"].extend({name:"QNoSsr",mixins:[tn],props:{tag:{type:String,default:"div"},placeholder:String},render(t){if(!0===this.canRender){const e=Lt(this,"default");return void 0===e?e:e.length>1?t(this.tag,e):e[0]}const e=Lt(this,"placeholder");return void 0!==e?e.length>1?t(this.tag,{staticClass:"q-no-ssr-placeholder"},e):e[0]:void 0!==this.placeholder?t(this.tag,{staticClass:"q-no-ssr-placeholder"},[this.placeholder]):void 0}}),ks=a["a"].extend({name:"QRadio",mixins:[Ut],props:{value:{required:!0},val:{required:!0},label:String,leftLabel:Boolean,color:String,keepColor:Boolean,dense:Boolean,disable:Boolean,tabindex:[String,Number]},computed:{isTrue(){return this.value===this.val},classes(){return{disabled:this.disable,"q-radio--dark":this.isDark,"q-radio--dense":this.dense,reverse:this.leftLabel}},innerClass(){return!0===this.isTrue?"q-radio__inner--active"+(void 0!==this.color?" text-"+this.color:""):!0===this.keepColor&&void 0!==this.color?"text-"+this.color:void 0},computedTabindex(){return!0===this.disable?-1:this.tabindex||0}},methods:{set(t){void 0!==t&&x(t),!0!==this.disable&&!0!==this.isTrue&&this.$emit("input",this.val)}},render(t){const e=[t("div",{staticClass:"q-radio__bg absolute"},[t("div",{staticClass:"q-radio__outer-circle absolute-full"}),t("div",{staticClass:"q-radio__inner-circle absolute-full"})])];!0!==this.disable&&e.unshift(t("input",{staticClass:"q-radio__native q-ma-none q-pa-none invisible",attrs:{type:"radio"}}));const i=[t("div",{staticClass:"q-radio__inner relative-position no-pointer-events",class:this.innerClass},e)],n=void 0!==this.label?Bt([this.label],this,"default"):Lt(this,"default");return void 0!==n&&i.push(t("div",{staticClass:"q-radio__label q-anchor--skip"},n)),t("div",{staticClass:"q-radio cursor-pointer no-outline row inline no-wrap items-center",class:this.classes,attrs:{tabindex:this.computedTabindex},on:Ne(this,"inpExt",{click:this.set,keydown:t=>{13!==t.keyCode&&32!==t.keyCode||x(t)},keyup:t=>{13!==t.keyCode&&32!==t.keyCode||this.set(t)}})},i)}}),ws=a["a"].extend({name:"QToggle",mixins:[Oi],props:{icon:String,checkedIcon:String,uncheckedIcon:String},computed:{classes(){return{disabled:this.disable,"q-toggle--dark":this.isDark,"q-toggle--dense":this.dense,reverse:this.leftLabel}},innerClass(){return!0===this.isTrue?"q-toggle__inner--active"+(void 0!==this.color?" text-"+this.color:""):!0===this.keepColor&&void 0!==this.color?"text-"+this.color:void 0},computedIcon(){return(!0===this.isTrue?this.checkedIcon:this.uncheckedIcon)||this.icon}},render(t){const e=[t("div",{staticClass:"q-toggle__track"}),t("div",{staticClass:"q-toggle__thumb-container absolute"},[t("div",{staticClass:"q-toggle__thumb row flex-center"},void 0!==this.computedIcon?[t(Ft,{props:{name:this.computedIcon}})]:void 0)])];!0!==this.disable&&e.unshift(t("input",{staticClass:"q-toggle__native absolute q-ma-none q-pa-none invisible",attrs:{type:"checkbox"}}));const i=[t("div",{staticClass:"q-toggle__inner relative-position no-pointer-events",class:this.innerClass},e)],n=void 0!==this.label?Bt([this.label],this,"default"):Lt(this,"default");return void 0!==n&&i.push(t("div",{staticClass:"q-toggle__label q-anchor--skip"},n)),t("div",{staticClass:"q-toggle cursor-pointer no-outline row inline no-wrap items-center",class:this.classes,attrs:{tabindex:this.computedTabindex},on:Ne(this,"inpExt",{click:this.toggle,keydown:this.__onKeydown,keyup:this.__onKeyup})},i)}});const Rs={radio:ks,checkbox:Ai,toggle:ws};var Is=a["a"].extend({name:"QOptionGroup",mixins:[Ut],props:{value:{required:!0},options:{type:Array,validator(t){return t.every(t=>"value"in t&&"label"in t)}},type:{default:"radio",validator:t=>["radio","checkbox","toggle"].includes(t)},color:String,keepColor:Boolean,dense:Boolean,leftLabel:Boolean,inline:Boolean,disable:Boolean},computed:{component(){return Rs[this.type]},model(){return Array.isArray(this.value)?this.value.slice():this.value}},methods:{__update(t){this.$emit("input",t)}},created(){const t=Array.isArray(this.value);"radio"===this.type?t&&console.error("q-option-group: model should not be array"):t||console.error("q-option-group: model should be array in your case")},render(t){return t("div",{staticClass:"q-option-group q-gutter-x-sm",class:this.inline?"q-option-group--inline":null},this.options.map(e=>t("div",[t(this.component,{props:{value:this.value,val:e.value,disable:this.disable||e.disable,label:e.label,leftLabel:this.leftLabel||e.leftLabel,color:e.color||this.color,checkedIcon:e.checkedIcon,uncheckedIcon:e.uncheckedIcon,dark:e.dark||this.isDark,dense:this.dense,keepColor:e.keepColor||this.keepColor},on:Ne(this,"inp",{input:this.__update})})])))}}),xs=a["a"].extend({name:"QPage",inject:{pageContainer:{default(){console.error("QPage needs to be child of QPageContainer")}},layout:{}},props:{padding:Boolean,styleFn:Function},computed:{style(){const t=(!0===this.layout.header.space?this.layout.header.size:0)+(!0===this.layout.footer.space?this.layout.footer.size:0);return"function"===typeof this.styleFn?this.styleFn(t):{minHeight:!0===this.layout.container?this.layout.containerHeight-t+"px":0===this.$q.screen.height?`calc(100vh - ${t}px)`:this.$q.screen.height-t+"px"}},classes(){if(!0===this.padding)return"q-layout-padding"}},render(t){return t("main",{staticClass:"q-page",style:this.style,class:this.classes,on:this.$listeners},Lt(this,"default"))}}),Os=a["a"].extend({name:"QPageContainer",inject:{layout:{default(){console.error("QPageContainer needs to be child of QLayout")}}},provide:{pageContainer:!0},computed:{style(){const t={};return!0===this.layout.header.space&&(t.paddingTop=`${this.layout.header.size}px`),!0===this.layout.right.space&&(t[`padding${!0===this.$q.lang.rtl?"Left":"Right"}`]=`${this.layout.right.size}px`),!0===this.layout.footer.space&&(t.paddingBottom=`${this.layout.footer.size}px`),!0===this.layout.left.space&&(t[`padding${!0===this.$q.lang.rtl?"Right":"Left"}`]=`${this.layout.left.size}px`),t}},render(t){return t("div",{staticClass:"q-page-container",style:this.style,on:this.$listeners},Lt(this,"default"))}}),As=a["a"].extend({name:"QPageSticky",inject:{layout:{default(){console.error("QPageSticky needs to be child of QLayout")}}},props:{position:{type:String,default:"bottom-right",validator:t=>["top-right","top-left","bottom-right","bottom-left","top","right","bottom","left"].includes(t)},offset:{type:Array,validator:t=>2===t.length},expand:Boolean},computed:{attach(){const t=this.position;return{top:t.indexOf("top")>-1,right:t.indexOf("right")>-1,bottom:t.indexOf("bottom")>-1,left:t.indexOf("left")>-1,vertical:"top"===t||"bottom"===t,horizontal:"left"===t||"right"===t}},top(){return this.layout.header.offset},right(){return this.layout.right.offset},bottom(){return this.layout.footer.offset},left(){return this.layout.left.offset},style(){let t=0,e=0;const i=this.attach,n=!0===this.$q.lang.rtl?-1:1;!0===i.top&&0!==this.top?e=`${this.top}px`:!0===i.bottom&&0!==this.bottom&&(e=`${-this.bottom}px`),!0===i.left&&0!==this.left?t=`${n*this.left}px`:!0===i.right&&0!==this.right&&(t=`${-n*this.right}px`);const o={transform:`translate(${t}, ${e})`};return this.offset&&(o.margin=`${this.offset[1]}px ${this.offset[0]}px`),!0===i.vertical?(0!==this.left&&(o[!0===this.$q.lang.rtl?"right":"left"]=`${this.left}px`),0!==this.right&&(o[!0===this.$q.lang.rtl?"left":"right"]=`${this.right}px`)):!0===i.horizontal&&(0!==this.top&&(o.top=`${this.top}px`),0!==this.bottom&&(o.bottom=`${this.bottom}px`)),o},classes(){return`fixed-${this.position} q-page-sticky--${!0===this.expand?"expand":"shrink"}`}},render(t){const e=Lt(this,"default");return t("div",{staticClass:"q-page-sticky row flex-center",class:this.classes,style:this.style},!0===this.expand?e:[t("div",e)])}}),Ms=a["a"].extend({name:"QPageScroller",mixins:[As],props:{scrollOffset:{type:Number,default:1e3},duration:{type:Number,default:300},offset:{default:()=>[18,18]}},inject:{layout:{default(){console.error("QPageScroller needs to be used within a QLayout")}}},data(){return{showing:this.__isVisible(this.layout.scroll.position)}},watch:{"layout.scroll.position"(t){const e=this.__isVisible(t);this.showing!==e&&(this.showing=e)}},methods:{__isVisible(t){return t>this.scrollOffset},__onClick(t){const e=!0===this.layout.container?Ue(this.$el):Ue(this.layout.$el);je(e,0,this.duration),void 0!==this.$listeners.click&&this.$emit("click",t)}},render(t){return t("transition",{props:{name:"q-transition--fade"}},!0===this.showing?[t("div",{staticClass:"q-page-scroller",on:{...this.$listeners,click:this.__onClick}},[As.options.render.call(this,t)])]:null)}}),Ns=a["a"].extend({name:"QPagination",mixins:[Ut],props:{value:{type:Number,required:!0},min:{type:Number,default:1},max:{type:Number,required:!0},color:{type:String,default:"primary"},textColor:String,inputStyle:[Array,String,Object],inputClass:[Array,String,Object],size:String,disable:Boolean,input:Boolean,toFn:Function,boundaryLinks:{type:Boolean,default:null},boundaryNumbers:{type:Boolean,default:null},directionLinks:{type:Boolean,default:null},ellipses:{type:Boolean,default:null},maxPages:{type:Number,default:0,validator:t=>t>=0}},data(){return{newPage:null}},watch:{min(t){this.model=this.value},max(t){this.model=this.value}},computed:{model:{get(){return this.value},set(t){if(t=parseInt(t,10),this.disable||isNaN(t)||0===t)return;const e=bt(t,this.min,this.max);this.$emit("input",e)}},inputPlaceholder(){return this.model+" / "+this.max},__boundaryLinks(){return this.__getBool(this.boundaryLinks,this.input)},__boundaryNumbers(){return this.__getBool(this.boundaryNumbers,!this.input)},__directionLinks(){return this.__getBool(this.directionLinks,this.input)},__ellipses(){return this.__getBool(this.ellipses,!this.input)},icons(){const t=[this.$q.iconSet.pagination.first,this.$q.iconSet.pagination.prev,this.$q.iconSet.pagination.next,this.$q.iconSet.pagination.last];return!0===this.$q.lang.rtl?t.reverse():t}},methods:{set(t){this.model=t},setByOffset(t){this.model=this.model+t},__update(){this.model=this.newPage,this.newPage=null},__getBool(t,e){return[!0,!1].includes(t)?t:e},__getBtn(t,e,i,n){return e.props={color:this.color,flat:!0,size:this.size,...i},void 0!==n&&(void 0!==this.toFn?e.props.to=this.toFn(n):e.on={click:()=>this.set(n)}),t(ye,e)}},render(t){const e=[],i=[],n=[];if(this.__boundaryLinks&&(e.push(this.__getBtn(t,{key:"bls"},{disable:this.disable||this.value<=this.min,icon:this.icons[0]},this.min)),i.unshift(this.__getBtn(t,{key:"ble"},{disable:this.disable||this.value>=this.max,icon:this.icons[3]},this.max))),this.__directionLinks&&(e.push(this.__getBtn(t,{key:"bdp"},{disable:this.disable||this.value<=this.min,icon:this.icons[1]},this.value-1)),i.unshift(this.__getBtn(t,{key:"bdn"},{disable:this.disable||this.value>=this.max,icon:this.icons[2]},this.value+1))),!0===this.input)n.push(t(Ao,{staticClass:"inline",style:{width:`${this.inputPlaceholder.length/1.5}em`},props:{type:"number",dense:!0,value:this.newPage,disable:this.disable,dark:this.isDark,borderless:!0,inputClass:this.inputClass,inputStyle:this.inputStyle},attrs:{placeholder:this.inputPlaceholder,min:this.min,max:this.max},on:Ne(this,"inp",{input:t=>{this.newPage=t},keyup:t=>{!0===et(t,13)&&this.__update()},blur:this.__update})}));else{let o=Math.max(this.maxPages,1+(this.__ellipses?2:0)+(this.__boundaryNumbers?2:0)),s=this.min,r=this.max,a=!1,l=!1,c=!1,u=!1;this.maxPages&&o<this.max-this.min+1&&(o=1+2*Math.floor(o/2),s=Math.max(this.min,Math.min(this.max-o+1,this.value-Math.floor(o/2))),r=Math.min(this.max,s+o-1),this.__boundaryNumbers&&(c=!0,s+=1),this.__ellipses&&s>this.min+(this.__boundaryNumbers?1:0)&&(a=!0,s+=1),this.__boundaryNumbers&&(u=!0,r-=1),this.__ellipses&&r<this.max-(this.__boundaryNumbers?1:0)&&(l=!0,r-=1));const h={minWidth:`${Math.max(2,String(this.max).length)}em`};if(c){const i=this.min===this.value;e.push(this.__getBtn(t,{key:"bns",style:h},{disable:this.disable,flat:!i,textColor:i?this.textColor:null,label:this.min,ripple:!1},this.min))}if(u){const e=this.max===this.value;i.unshift(this.__getBtn(t,{key:"bne",style:h},{disable:this.disable,flat:!e,textColor:e?this.textColor:null,label:this.max,ripple:!1},this.max))}a&&e.push(this.__getBtn(t,{key:"bes",style:h},{disable:this.disable,label:"…"},s-1)),l&&i.unshift(this.__getBtn(t,{key:"bee",style:h},{disable:this.disable,label:"…"},r+1));for(let e=s;e<=r;e++){const i=e===this.value;n.push(this.__getBtn(t,{key:`bpg${e}`,style:h},{disable:this.disable,flat:!i,textColor:i?this.textColor:null,label:e,ripple:!1},e))}}return t("div",{staticClass:"q-pagination row no-wrap items-center",class:{disabled:this.disable},on:this.$listeners},[e,t("div",{staticClass:"row justify-center",on:!0===this.input?Ne(this,"stop",{input:R}):null},[n]),i])}}),Ls=function(t){let e,i,n=!1;function o(){i=arguments,!0!==n&&(n=!0,e=requestAnimationFrame(()=>{t.apply(this,i),i=void 0,n=!1}))}return o.cancel=()=>{window.cancelAnimationFrame(e),n=!1},o},Ds=a["a"].extend({name:"QParallax",props:{src:String,height:{type:Number,default:500},speed:{type:Number,default:1,validator:t=>t>=0&&t<=1}},data(){return{scrolling:!1,percentScrolled:0}},watch:{height(){this.__updatePos()}},methods:{__update(t){this.percentScrolled=t,void 0!==this.$listeners.scroll&&this.$emit("scroll",t)},__onResize(){this.scrollTarget&&(this.mediaHeight=this.media.naturalHeight||this.media.videoHeight||te(this.media),this.__updatePos())},__updatePos(){let t,e,i,n,o;if(this.scrollTarget===window?(t=0,e=window.innerHeight,i=e):(t=Zt(this.scrollTarget).top,e=te(this.scrollTarget),i=t+e),n=Zt(this.$el).top,o=n+this.height,o>t&&n<i){const t=(i-n)/(this.height+e);this.__setPos((this.mediaHeight-this.height)*t*this.speed),this.__update(t)}},__setPos(t){this.media.style.transform=`translate3D(-50%,${Math.round(t)}px, 0)`}},render(t){return t("div",{staticClass:"q-parallax",style:{height:`${this.height}px`},on:this.$listeners},[t("div",{ref:"mediaParent",staticClass:"q-parallax__media absolute-full"},void 0!==this.$scopedSlots.media?this.$scopedSlots.media():[t("img",{ref:"media",attrs:{src:this.src}})]),t("div",{staticClass:"q-parallax__content absolute-full column flex-center"},void 0!==this.$scopedSlots.content?this.$scopedSlots.content({percentScrolled:this.percentScrolled}):Lt(this,"default"))])},beforeMount(){this.__setPos=Ls(this.__setPos)},mounted(){this.__update=Ls(this.__update),this.resizeHandler=Ls(this.__onResize),this.media=void 0!==this.$scopedSlots.media?this.$refs.mediaParent.children[0]:this.$refs.media,this.media.onload=this.media.onloadstart=this.media.loadedmetadata=this.__onResize,this.scrollTarget=Ue(this.$el),window.addEventListener("resize",this.resizeHandler,b.passive),this.scrollTarget.addEventListener("scroll",this.__updatePos,b.passive),this.__onResize()},beforeDestroy(){window.removeEventListener("resize",this.resizeHandler,b.passive),void 0!==this.scrollTarget&&this.scrollTarget.removeEventListener("scroll",this.__updatePos,b.passive),this.media.onload=this.media.onloadstart=this.media.loadedmetadata=null}}),Bs=function(t){const e=JSON.stringify(t);if(e)return JSON.parse(e)},Ps=a["a"].extend({name:"QPopupEdit",props:{value:{required:!0},title:String,buttons:Boolean,labelSet:String,labelCancel:String,color:{type:String,default:"primary"},validate:{type:Function,default:()=>!0},cover:{type:Boolean,default:!0},contentClass:String,disable:Boolean},data(){return{initialValue:""}},computed:{classes(){return"q-popup-edit"+(this.contentClass?" "+this.contentClass:"")},defaultSlotScope(){return{initialValue:this.initialValue,value:this.value,emitValue:this.__emitValue,validate:this.validate,set:this.set,cancel:this.cancel}}},methods:{set(){if(this.__hasChanged()){if(!1===this.validate(this.value))return;this.$emit("save",this.value,this.initialValue)}this.__close()},cancel(){this.__hasChanged()&&(this.$emit("cancel",this.value,this.initialValue),this.$emit("input",this.initialValue)),this.__close()},__hasChanged(){return!Si(this.value,this.initialValue)},__emitValue(t){!0!==this.disable&&this.$emit("input",t)},__close(){this.validated=!0,this.$refs.menu.hide()},__reposition(){this.$nextTick(()=>{this.$refs.menu.updatePosition()})},__getContent(t){const e=Lt(this,"title",this.title),i=void 0===this.$scopedSlots.default?[]:this.$scopedSlots.default(this.defaultSlotScope).slice();return e&&i.unshift(t("div",{staticClass:"q-dialog__title q-mt-sm q-mb-sm"},[e])),!0===this.buttons&&i.push(t("div",{staticClass:"q-popup-edit__buttons row justify-center no-wrap"},[t(ye,{props:{flat:!0,color:this.color,label:this.labelCancel||this.$q.lang.label.cancel},on:Ne(this,"cancel",{click:this.cancel})}),t(ye,{props:{flat:!0,color:this.color,label:this.labelSet||this.$q.lang.label.set},on:Ne(this,"ok",{click:this.set})})])),i}},render(t){if(!0!==this.disable)return t(hi,{ref:"menu",props:{...this.$attrs,cover:this.cover,contentClass:this.classes},on:Ne(this,"menu",{"before-show":()=>{this.validated=!1,this.initialValue=Bs(this.value),this.watcher=this.$watch("value",this.__reposition),this.$emit("before-show")},show:()=>{this.$emit("show")},"before-hide":()=>{this.watcher(),!1===this.validated&&this.__hasChanged()&&(this.$emit("cancel",this.value,this.initialValue),this.$emit("input",this.initialValue)),this.$emit("before-hide")},hide:()=>{this.$emit("hide")},keyup:t=>{!0===et(t,13)&&this.set()}})},this.__getContent(t))}}),Fs=a["a"].extend({name:"QPopupProxy",mixins:[Se],props:{breakpoint:{type:[String,Number],default:450}},data(){const t=parseInt(this.breakpoint,10);return{type:this.$q.screen.width<t||this.$q.screen.height<t?"dialog":"menu"}},computed:{parsedBreakpoint(){return parseInt(this.breakpoint,10)}},watch:{"$q.screen.width"(t){!0!==this.$refs.popup.showing&&this.__updateType(t,this.$q.screen.height,this.parsedBreakpoint)},"$q.screen.height"(t){!0!==this.$refs.popup.showing&&this.__updateType(this.$q.screen.width,t,this.parsedBreakpoint)},breakpoint(t){!0!==this.$refs.popup.showing&&this.__updateType(this.$q.screen.width,this.$q.screen.height,parseInt(t,10))}},methods:{toggle(t){this.$refs.popup.toggle(t)},show(t){this.$refs.popup.show(t)},hide(t){this.$refs.popup.hide(t)},__onHide(t){this.__updateType(this.$q.screen.width,this.$q.screen.height,this.parsedBreakpoint),this.$emit("hide",t)},__updateType(t,e,i){const n=t<i||e<i?"dialog":"menu";this.type!==n&&(this.type=n)}},render(t){const e=Lt(this,"default");let i="menu"===this.type&&void 0!==e&&void 0!==e[0]&&void 0!==e[0].componentOptions&&void 0!==e[0].componentOptions.Ctor&&void 0!==e[0].componentOptions.Ctor.sealedOptions&&["QDate","QTime","QCarousel","QColor"].includes(e[0].componentOptions.Ctor.sealedOptions.name)?{cover:!0,maxHeight:"99vh"}:{};const n={ref:"popup",props:Object.assign(i,this.$attrs),on:{...this.$listeners,hide:this.__onHide}};let o;return"dialog"===this.type?o=_o:(o=hi,n.props.contextMenu=this.contextMenu,n.props.noParentEvent=!0,n.props.separateClosePopup=!0),t(o,n,e)}});function Hs(t){return{transform:`scale3d(${t},1,1)`}}const Vs={xs:2,sm:4,md:6,lg:10,xl:14};var Us=a["a"].extend({name:"QLinearProgress",mixins:[Ut],props:{value:{type:Number,default:0},buffer:Number,size:String,color:String,trackColor:String,reverse:Boolean,stripe:Boolean,indeterminate:Boolean,query:Boolean,rounded:Boolean},computed:{sizeStyle(){if(void 0!==this.size)return{height:this.size in Vs?`${Vs[this.size]}px`:this.size}},motion(){return this.indeterminate||this.query},classes(){return{[`text-${this.color}`]:void 0!==this.color,"q-linear-progress--reverse":!0===this.reverse||!0===this.query,"rounded-borders":!0===this.rounded}},trackStyle(){return Hs(void 0!==this.buffer?this.buffer:1)},trackClass(){return"q-linear-progress__track--"+(!0===this.isDark?"dark":"light")+(void 0!==this.trackColor?` bg-${this.trackColor}`:"")},modelStyle(){return Hs(this.motion?1:this.value)},modelClasses(){return`q-linear-progress__model--${this.motion?"in":""}determinate`},stripeStyle(){return{width:100*this.value+"%"}}},render(t){const e=[t("div",{staticClass:"q-linear-progress__track absolute-full",style:this.trackStyle,class:this.trackClass}),t("div",{staticClass:"q-linear-progress__model absolute-full",style:this.modelStyle,class:this.modelClasses})];return!0===this.stripe&&!1===this.motion&&e.push(t("div",{staticClass:"q-linear-progress__stripe absolute-full",style:this.stripeStyle})),t("div",{staticClass:"q-linear-progress",style:this.sizeStyle,class:this.classes,on:this.$listeners},Bt(e,this,"default"))}});const Ws=40,$s=20;var Gs=a["a"].extend({name:"QPullToRefresh",directives:{TouchPan:Yi},props:{color:String,icon:String,noMouse:Boolean,disable:Boolean},data(){return{state:"pull",pullRatio:0,pulling:!1,pullPosition:-Ws,animating:!1,positionCSS:{}}},computed:{style(){return{opacity:this.pullRatio,transform:`translateY(${this.pullPosition}px) rotate(${360*this.pullRatio}deg)`}}},methods:{trigger(){this.$emit("refresh",()=>{this.__animateTo({pos:-Ws,ratio:0},()=>{this.state="pull"})})},updateScrollTarget(){this.scrollContainer=Ue(this.$el)},__pull(t){if(t.isFinal)return void(this.pulling&&(this.pulling=!1,"pulled"===this.state?(this.state="refreshing",this.__animateTo({pos:$s}),this.trigger()):"pull"===this.state&&this.__animateTo({pos:-Ws,ratio:0})));if(this.animating||"refreshing"===this.state)return!1;if(t.isFirst){if(0!==$e(this.scrollContainer))return this.pulling&&(this.pulling=!1,this.state="pull",this.__animateTo({pos:-Ws,ratio:0})),!1;this.pulling=!0;const{top:t,left:e}=this.$el.getBoundingClientRect();this.positionCSS={top:t+"px",left:e+"px",width:window.getComputedStyle(this.$el).getPropertyValue("width")}}I(t.evt);const e=Math.min(140,Math.max(0,t.distance.y));this.pullPosition=e-Ws,this.pullRatio=bt(e/($s+Ws),0,1);const i=this.pullPosition>$s?"pulled":"pull";this.state!==i&&(this.state=i)},__animateTo({pos:t,ratio:e},i){this.animating=!0,this.pullPosition=t,void 0!==e&&(this.pullRatio=e),clearTimeout(this.timer),this.timer=setTimeout(()=>{this.animating=!1,i&&i()},300)}},mounted(){this.updateScrollTarget()},beforeDestroy(){clearTimeout(this.timer)},render(t){return t("div",{staticClass:"q-pull-to-refresh overflow-hidden",directives:!0===this.disable?null:[{name:"touch-pan",modifiers:{down:!0,mightPrevent:!0,mouse:!this.noMouse},value:this.__pull}]},[t("div",{staticClass:"q-pull-to-refresh__content",class:this.pulling?"no-pointer-events":null},Lt(this,"default")),t("div",{staticClass:"q-pull-to-refresh__puller-container fixed row flex-center no-pointer-events z-top",style:this.positionCSS},[t("div",{staticClass:"q-pull-to-refresh__puller row flex-center",style:this.style,class:this.animating?"q-pull-to-refresh__puller--animating":null},["refreshing"!==this.state?t(Ft,{props:{name:this.icon||this.$q.iconSet.pullToRefresh.icon,color:this.color,size:"32px"}}):t(Qt,{props:{size:"24px",color:this.color}})])])])}});const qs={MIN:0,RANGE:1,MAX:2};var zs=a["a"].extend({name:"QRange",mixins:[Qi],props:{value:{type:Object,default:()=>({min:null,max:null}),validator(t){return"min"in t&&"max"in t}},dragRange:Boolean,dragOnlyRange:Boolean,leftLabelColor:String,leftLabelTextColor:String,rightLabelColor:String,rightLabelTextColor:String,leftLabelValue:[String,Number],rightLabelValue:[String,Number]},data(){return{model:{min:null===this.value.min?this.min:this.value.min,max:null===this.value.max?this.max:this.value.max},curMinRatio:0,curMaxRatio:0}},watch:{"value.min"(t){this.model.min=null===t?this.min:t},"value.max"(t){this.model.max=null===t?this.max:t},min(t){this.model.min<t&&(this.model.min=t),this.model.max<t&&(this.model.max=t)},max(t){this.model.min>t&&(this.model.min=t),this.model.max>t&&(this.model.max=t)}},computed:{ratioMin(){return!0===this.active?this.curMinRatio:this.modelMinRatio},ratioMax(){return!0===this.active?this.curMaxRatio:this.modelMaxRatio},modelMinRatio(){return(this.model.min-this.min)/(this.max-this.min)},modelMaxRatio(){return(this.model.max-this.min)/(this.max-this.min)},trackStyle(){return{[this.horizProp]:100*this.ratioMin+"%",width:100*(this.ratioMax-this.ratioMin)+"%"}},minThumbStyle(){return{[this.horizProp]:100*this.ratioMin+"%","z-index":"min"===this.__nextFocus?2:void 0}},maxThumbStyle(){return{[this.horizProp]:100*this.ratioMax+"%"}},minThumbClass(){if(!1===this.preventFocus&&"min"===this.focus)return"q-slider--focus"},maxThumbClass(){if(!1===this.preventFocus&&"max"===this.focus)return"q-slider--focus"},events(){if(!0===this.editable){if(!0===this.$q.platform.is.mobile)return{click:this.__mobileClick};const t={mousedown:this.__activate};return!0===this.dragOnlyRange&&Object.assign(t,{focus:()=>{this.__focus("both")},blur:this.__blur,keydown:this.__keydown,keyup:this.__keyup}),t}},minEvents(){if(!0===this.editable&&!0!==this.$q.platform.is.mobile&&!0!==this.dragOnlyRange)return{focus:()=>{this.__focus("min")},blur:this.__blur,keydown:this.__keydown,keyup:this.__keyup}},maxEvents(){if(!0===this.editable&&!0!==this.$q.platform.is.mobile&&!0!==this.dragOnlyRange)return{focus:()=>{this.__focus("max")},blur:this.__blur,keydown:this.__keydown,keyup:this.__keyup}},minPinClass(){const t=this.leftLabelColor||this.labelColor;if(t)return`text-${t}`},minPinTextClass(){const t=this.leftLabelTextColor||this.labelTextColor;if(t)return`text-${t}`},maxPinClass(){const t=this.rightLabelColor||this.labelColor;if(t)return`text-${t}`},maxPinTextClass(){const t=this.rightLabelTextColor||this.labelTextColor;if(t)return`text-${t}`},minLabel(){return void 0!==this.leftLabelValue?this.leftLabelValue:this.model.min},maxLabel(){return void 0!==this.rightLabelValue?this.rightLabelValue:this.model.max}},methods:{__updateValue(t){this.model.min===this.value.min&&this.model.max===this.value.max||this.$emit("input",this.model),!0===t&&this.$emit("change",this.model)},__getDragging(t){const{left:e,width:i}=this.$el.getBoundingClientRect(),n=this.dragOnlyRange?0:this.$refs.minThumb.offsetWidth/(2*i),o=this.max-this.min;let s,r={left:e,width:i,valueMin:this.model.min,valueMax:this.model.max,ratioMin:(this.model.min-this.min)/o,ratioMax:(this.model.max-this.min)/o},a=Ki(t,r,this.isReversed);return!0!==this.dragOnlyRange&&a<r.ratioMin+n?s=qs.MIN:!0===this.dragOnlyRange||a<r.ratioMax-n?this.dragRange||this.dragOnlyRange?(s=qs.RANGE,Object.assign(r,{offsetRatio:a,offsetModel:Ji(a,this.min,this.max,this.step,this.decimals),rangeValue:r.valueMax-r.valueMin,rangeRatio:r.ratioMax-r.ratioMin})):s=r.ratioMax-a<a-r.ratioMin?qs.MAX:qs.MIN:s=qs.MAX,r.type=s,this.__nextFocus=void 0,r},__updatePosition(t,e=this.dragging){let i,n=Ki(t,e,this.isReversed),o=Ji(n,this.min,this.max,this.step,this.decimals);switch(e.type){case qs.MIN:n<=e.ratioMax?(i={minR:n,maxR:e.ratioMax,min:o,max:e.valueMax},this.__nextFocus="min"):(i={minR:e.ratioMax,maxR:n,min:e.valueMax,max:o},this.__nextFocus="max");break;case qs.MAX:n>=e.ratioMin?(i={minR:e.ratioMin,maxR:n,min:e.valueMin,max:o},this.__nextFocus="max"):(i={minR:n,maxR:e.ratioMin,min:o,max:e.valueMin},this.__nextFocus="min");break;case qs.RANGE:let t=n-e.offsetRatio,s=bt(e.ratioMin+t,0,1-e.rangeRatio),r=o-e.offsetModel,a=bt(e.valueMin+r,this.min,this.max-e.rangeValue);i={minR:s,maxR:s+e.rangeRatio,min:parseFloat(a.toFixed(this.decimals)),max:parseFloat((a+e.rangeValue).toFixed(this.decimals))};break}if(this.model={min:i.min,max:i.max},null!==this.model.min&&null!==this.model.max||(this.model.min=i.min||this.min,this.model.max=i.max||this.max),!0!==this.snap||0===this.step)this.curMinRatio=i.minR,this.curMaxRatio=i.maxR;else{const t=this.max-this.min;this.curMinRatio=(this.model.min-this.min)/t,this.curMaxRatio=(this.model.max-this.min)/t}},__focus(t){this.focus=t},__keydown(t){if(!ji.includes(t.keyCode))return;x(t);const e=([34,33].includes(t.keyCode)?10:1)*this.computedStep,i=[34,37,40].includes(t.keyCode)?-e:e;if(this.dragOnlyRange){const t=this.dragOnlyRange?this.model.max-this.model.min:0,e=bt(parseFloat((this.model.min+i).toFixed(this.decimals)),this.min,this.max-t);this.model={min:e,max:parseFloat((e+t).toFixed(this.decimals))}}else{if(!1===this.focus)return;{const t=this.focus;this.model={...this.model,[t]:bt(parseFloat((this.model[t]+i).toFixed(this.decimals)),"min"===t?this.min:this.model.min,"max"===t?this.max:this.model.max)}}}this.__updateValue()},__getThumb(t,e){return t("div",{ref:e+"Thumb",staticClass:"q-slider__thumb-container absolute non-selectable",style:this[e+"ThumbStyle"],class:this[e+"ThumbClass"],on:this[e+"Events"],attrs:{tabindex:!0!==this.dragOnlyRange?this.computedTabindex:null}},[t("svg",{staticClass:"q-slider__thumb absolute",attrs:{focusable:"false",width:"21",height:"21"}},[t("circle",{attrs:{cx:"10.5",cy:"10.5",r:"7.875"}})]),!0===this.label||!0===this.labelAlways?t("div",{staticClass:"q-slider__pin absolute flex flex-center",class:this[e+"PinClass"]},[t("div",{staticClass:"q-slider__pin-value-marker"},[t("div",{staticClass:"q-slider__pin-value-marker-bg"}),t("div",{staticClass:"q-slider__pin-value-marker-text",class:this[e+"PinTextClass"]},[this[e+"Label"]])])]):null,t("div",{staticClass:"q-slider__focus-ring"})])}},render(t){return t("div",{staticClass:null===this.value.min||null===this.value.max?"q-slider--no-value":void 0,attrs:{role:"slider","aria-valuemin":this.min,"aria-valuemax":this.max,"data-step":this.step,"aria-disabled":this.disable,tabindex:this.dragOnlyRange&&!this.$q.platform.is.mobile?this.computedTabindex:null},class:this.classes,on:this.events,directives:!0===this.editable?Ne(this,"dir",[{name:"touch-pan",value:this.__pan,modifiers:{horizontal:!0,prevent:!0,stop:!0,mouse:!0,mouseAllDir:!0}}]):null},[t("div",{staticClass:"q-slider__track-container absolute overflow-hidden"},[t("div",{staticClass:"q-slider__track absolute",style:this.trackStyle}),!0===this.markers?t("div",{staticClass:"q-slider__track-markers absolute-full fit",style:this.markerStyle}):null]),this.__getThumb(t,"min"),this.__getThumb(t,"max")])}}),Xs=a["a"].extend({name:"QRating",mixins:[Nt],props:{value:{type:Number,required:!0},max:{type:[String,Number],default:5},icon:[String,Array],iconSelected:[String,Array],color:[String,Array],colorSelected:[String,Array],noReset:Boolean,readonly:Boolean,disable:Boolean},data(){return{mouseModel:0}},computed:{editable(){return!0!==this.readonly&&!0!==this.disable},classes(){return`q-rating--${!0===this.editable?"":"non-"}editable`+(!0===this.disable?" disabled":"")+(void 0!==this.color&&!1===Array.isArray(this.color)?` text-${this.color}`:"")},iconData(){const t=!0===Array.isArray(this.icon)?this.icon.length:0,e=!0===Array.isArray(this.iconSelected)?this.iconSelected.length:0,i=!0===Array.isArray(this.color)?this.color.length:0,n=!0===Array.isArray(this.colorSelected)?this.colorSelected.length:0;return{iconLen:t,icon:t>0?this.icon[t-1]:this.icon,selIconLen:e,selIcon:e>0?this.iconSelected[e-1]:this.iconSelected,colorLen:i,color:i>0?this.color[i-1]:this.color,selColorLen:n,selColor:n>0?this.colorSelected[n-1]:this.colorSelected}}},methods:{__set(t){if(!0===this.editable){const e=bt(parseInt(t,10),1,parseInt(this.max,10)),i=!0!==this.noReset&&this.value===e?0:e;i!==this.value&&this.$emit("input",i),this.mouseModel=0}},__setHoverValue(t){!0===this.editable&&(this.mouseModel=t)},__keyup(t,e){switch(t.keyCode){case 13:case 32:return this.__set(e),x(t);case 37:case 40:return this.$refs[`rt${e-1}`]&&this.$refs[`rt${e-1}`].focus(),x(t);case 39:case 38:return this.$refs[`rt${e+1}`]&&this.$refs[`rt${e+1}`].focus(),x(t)}}},render(t){const e=[],i=!0===this.editable?0:null,n=this.iconData;for(let o=1;o<=this.max;o++){const s=0===this.mouseModel&&this.value>=o||this.mouseModel>0&&this.mouseModel>=o,r=this.mouseModel>0&&this.value>=o&&this.mouseModel<o,a=void 0===n.selIcon||!0!==s&&!0!==r?o<=n.iconLen?this.icon[o-1]:n.icon:o<=n.selIconLen?this.iconSelected[o-1]:n.selIcon,l=void 0!==n.selColor&&!0===s?o<=n.selColorLen?this.colorSelected[o-1]:n.selColor:o<=n.colorLen?this.color[o-1]:n.color;e.push(t(Ft,{key:o,ref:`rt${o}`,staticClass:"q-rating__icon",class:{"q-rating__icon--active":s,"q-rating__icon--exselected":r,"q-rating__icon--hovered":this.mouseModel===o,[`text-${l}`]:void 0!==l},props:{name:a||this.$q.iconSet.rating.icon},attrs:{tabindex:i},on:Ne(this,"i#"+o,{click:()=>{this.__set(o)},mouseover:()=>{this.__setHoverValue(o)},mouseout:()=>{this.mouseModel=0},focus:()=>{this.__setHoverValue(o)},blur:()=>{this.mouseModel=0},keyup:t=>{this.__keyup(t,o)}})},Lt(this,`tip-${o}`)))}return t("div",{staticClass:"q-rating row inline items-center",class:this.classes,style:this.sizeStyle,on:this.$listeners},e)}}),Ys=a["a"].extend({name:"QScrollArea",directives:{TouchPan:Yi},props:{barStyle:[Array,String,Object],thumbStyle:Object,contentStyle:[Array,String,Object],contentActiveStyle:[Array,String,Object],delay:{type:[String,Number],default:1e3},visible:{type:Boolean,default:null},horizontal:Boolean},data(){return{active:!1,hover:!0===this.visible,containerWidth:0,containerHeight:0,scrollPosition:0,scrollSize:0}},watch:{visible(t){this.hover=!0===t}},computed:{thumbHidden(){return this.scrollSize<=this.containerSize||!1===this.active&&!1===this.hover},thumbSize(){return Math.round(bt(this.containerSize*this.containerSize/this.scrollSize,50,this.containerSize))},style(){const t=this.scrollPercentage*(this.containerSize-this.thumbSize);return Object.assign({},this.thumbStyle,!0===this.horizontal?{left:`${t}px`,width:`${this.thumbSize}px`}:{top:`${t}px`,height:`${this.thumbSize}px`})},mainStyle(){return!0===this.thumbHidden?this.contentStyle:this.contentActiveStyle},scrollPercentage(){const t=bt(this.scrollPosition/(this.scrollSize-this.containerSize),0,1);return Math.round(1e4*t)/1e4},direction(){return!0===this.horizontal?"right":"down"},containerSize(){return!0===this.horizontal?this.containerWidth:this.containerHeight},dirProps(){return!0===this.horizontal?{el:"scrollLeft",wheel:"x"}:{el:"scrollTop",wheel:"y"}},thumbClass(){return`q-scrollarea__thumb--${!0===this.horizontal?"h absolute-bottom":"v absolute-right"}`+(!0===this.thumbHidden?" q-scrollarea__thumb--invisible":"")},barClass(){return`q-scrollarea__bar--${!0===this.horizontal?"h absolute-bottom":"v absolute-right"}`+(!0===this.thumbHidden?" q-scrollarea__bar--invisible":"")}},methods:{getScrollTarget(){return this.$refs.target},getScrollPosition(){return!0===this.$q.platform.is.desktop?this.scrollPosition:this.$refs.target[this.dirProps.el]},setScrollPosition(t,e){const i=!0===this.horizontal?Ke:je;i(this.$refs.target,t,e)},__updateContainer({height:t,width:e}){this.containerWidth!==e&&(this.containerWidth=e,this.__setActive(!0,!0)),this.containerHeight!==t&&(this.containerHeight=t,this.__setActive(!0,!0))},__updateScroll({position:t}){this.scrollPosition!==t&&(this.scrollPosition=t,this.__setActive(!0,!0))},__updateScrollSize({height:t,width:e}){this.horizontal?this.scrollSize!==e&&(this.scrollSize=e,this.__setActive(!0,!0)):this.scrollSize!==t&&(this.scrollSize=t,this.__setActive(!0,!0))},__panThumb(t){!0===t.isFirst&&(this.refPos=this.scrollPosition,this.__setActive(!0,!0)),!0===t.isFinal&&this.__setActive(!1);const e=(this.scrollSize-this.containerSize)/(this.containerSize-this.thumbSize),i=this.horizontal?t.distance.x:t.distance.y,n=this.refPos+(t.direction===this.direction?1:-1)*i*e;this.__setScroll(n)},__panContainer(t){!0===t.isFirst&&(this.refPos=this.scrollPosition,this.__setActive(!0,!0)),!0===t.isFinal&&this.__setActive(!1);const e=t.distance[!0===this.horizontal?"x":"y"],i=this.refPos+(t.direction===this.direction?-1:1)*e;this.__setScroll(i),i>0&&i+this.containerSize<this.scrollSize&&I(t.evt)},__mouseWheel(t){const e=this.$refs.target;e[this.dirProps.el]+=w(t)[this.dirProps.wheel],e[this.dirProps.el]>0&&e[this.dirProps.el]+this.containerSize<this.scrollSize&&I(t)},__setActive(t,e){clearTimeout(this.timer),t!==this.active?t?(this.active=!0,e&&this.__startTimer()):this.active=!1:t&&this.timer&&this.__startTimer()},__startTimer(){this.timer=setTimeout(()=>{this.active=!1,this.timer=null},this.delay)},__setScroll(t){this.$refs.target[this.dirProps.el]=t}},render(t){return!0!==this.$q.platform.is.desktop?t("div",{staticClass:"q-scrollarea",style:this.contentStyle},[t("div",{ref:"target",staticClass:"scroll relative-position fit"},Lt(this,"default"))]):t("div",{staticClass:"q-scrollarea",on:null===this.visible?Ne(this,"desk",{mouseenter:()=>{this.hover=!0},mouseleave:()=>{this.hover=!1}}):null},[t("div",{ref:"target",staticClass:"scroll relative-position fit hide-scrollbar",on:Ne(this,"wheel",{wheel:this.__mouseWheel}),directives:Ne(this,"touch#"+this.horizontal,[{name:"touch-pan",modifiers:{vertical:!0!==this.horizontal,horizontal:this.horizontal,mightPrevent:!0},value:this.__panContainer}])},[t("div",{staticClass:"absolute",style:this.mainStyle,class:`full-${!0===this.horizontal?"height":"width"}`},Bt([t(en,{on:Ne(this,"resizeIn",{resize:this.__updateScrollSize})})],this,"default")),t(Ts,{props:{horizontal:this.horizontal},on:Ne(this,"scroll",{scroll:this.__updateScroll})})]),t(en,{on:Ne(this,"resizeOut",{resize:this.__updateContainer})}),t("div",{staticClass:"q-scrollarea__bar",style:this.barStyle,class:this.barClass,on:Ne(this,"bar",{click:t=>{const e=t[`offset${!0===this.horizontal?"X":"Y"}`]-this.thumbSize/2;this.__setScroll(e/this.containerSize*this.scrollSize)}})}),t("div",{staticClass:"q-scrollarea__thumb",style:this.style,class:this.thumbClass,directives:!0===this.thumbHidden?null:Ne(this,"thumb#"+this.horizontal,[{name:"touch-pan",modifiers:{vertical:!this.horizontal,horizontal:this.horizontal,prevent:!0,mouse:!0,mouseAllDir:!0},value:this.__panThumb}])})])}});const js=1e3;function Ks(t,e){return t+e}function Js(t,e,i,n,o,s,r){const a=t===window?document.scrollingElement||document.documentElement:t,l=!0===o?"offsetWidth":"offsetHeight",c={scrollStart:0,scrollViewSize:-s-r,scrollMaxSize:0,offsetStart:-s,offsetEnd:-r};if(!0===o?(t===window?(c.scrollStart=window.pageXOffset||window.scrollX||document.body.scrollLeft||0,c.scrollViewSize+=window.innerWidth):(c.scrollStart=a.scrollLeft,c.scrollViewSize+=a.clientWidth),c.scrollMaxSize=a.scrollWidth):(t===window?(c.scrollStart=window.pageYOffset||window.scrollY||document.body.scrollTop||0,c.scrollViewSize+=window.innerHeight):(c.scrollStart=a.scrollTop,c.scrollViewSize+=a.clientHeight),c.scrollMaxSize=a.scrollHeight),void 0!==i)for(let u=i.previousElementSibling;null!==u;u=u.previousElementSibling)c.offsetStart+=u[l];if(void 0!==n)for(let u=n.nextElementSibling;null!==u;u=u.nextElementSibling)c.offsetEnd+=u[l];if(e!==t){const i=a.getBoundingClientRect(),n=e.getBoundingClientRect();!0===o?(c.offsetStart+=n.left-i.left,c.offsetEnd-=n.width):(c.offsetStart+=n.top-i.top,c.offsetEnd-=n.height),t!==window&&(c.offsetStart+=c.scrollStart),c.offsetEnd+=c.scrollMaxSize-c.offsetStart}return c}function Qs(t,e,i){t===window?!0===i?window.scrollTo(e,window.pageYOffset||window.scrollY||document.body.scrollTop||0):window.scrollTo(window.pageXOffset||window.scrollX||document.body.scrollLeft||0,e):t[!0===i?"scrollLeft":"scrollTop"]=e}function Zs(t,e,i,n){if(i>=n)return 0;const o=e.length,s=Math.floor(i/js),r=Math.floor((n-1)/js)+1;let a=t.slice(s,r).reduce(Ks,0);return i%js!==0&&(a-=e.slice(s*js,i).reduce(Ks,0)),n%js!==0&&n!==o&&(a-=e.slice(n,r*js).reduce(Ks,0)),a}const tr={virtualScrollSliceSize:{type:Number,default:30},virtualScrollItemSize:{type:Number,default:24},virtualScrollStickySizeStart:{type:Number,default:0},virtualScrollStickySizeEnd:{type:Number,default:0}},er=Object.keys(tr);var ir={props:{virtualScrollHorizontal:Boolean,...tr},data(){return{virtualScrollSliceRange:{from:0,to:0}}},watch:{virtualScrollHorizontal(){this.__setVirtualScrollSize()},needsReset(){this.reset()}},computed:{needsReset(){return["virtualScrollItemSize","virtualScrollHorizontal"].map(t=>this[t]).join(";")}},methods:{reset(){this.__resetVirtualScroll(this.prevToIndex,!0)},scrollTo(t){const e=this.__getVirtualScrollTarget();void 0!==e&&null!==e&&8!==e.nodeType&&this.__setVirtualScrollSliceRange(e,Js(e,this.__getVirtualScrollEl(),this.$refs.before,this.$refs.after,this.virtualScrollHorizontal,this.virtualScrollStickySizeStart,this.virtualScrollStickySizeEnd),Math.min(this.virtualScrollLength-1,Math.max(0,parseInt(t,10)||0)),0,this.prevToIndex>-1&&t>this.prevToIndex?"end":"start")},__onVirtualScrollEvt(){const t=this.__getVirtualScrollTarget();if(void 0===t||null===t||8===t.nodeType)return;const e=Js(t,this.__getVirtualScrollEl(),this.$refs.before,this.$refs.after,this.virtualScrollHorizontal,this.virtualScrollStickySizeStart,this.virtualScrollStickySizeEnd),i=e.scrollMaxSize-Math.max(e.scrollViewSize,e.offsetEnd),n=this.virtualScrollLength-1;if(this.prevScrollStart===e.scrollStart)return;if(this.prevScrollStart=void 0,this.__updateVirtualScrollSizes(this.virtualScrollSliceRange.from),i>0&&e.scrollStart>=i)return void this.__setVirtualScrollSliceRange(t,e,this.virtualScrollLength-1,i-this.virtualScrollSizesAgg.reduce(Ks,0));let o=0,s=e.scrollStart-e.offsetStart,r=s;for(let a=0;s>=this.virtualScrollSizesAgg[a]&&o<n;a++)s-=this.virtualScrollSizesAgg[a],o+=js;while(s>0&&o<n)s-=this.virtualScrollSizes[o],s>-e.scrollViewSize?(o++,r=s):r=this.virtualScrollSizes[o]+s;this.__setVirtualScrollSliceRange(t,e,o,r)},__setVirtualScrollSliceRange(t,e,i,n,o){let s=Math.max(0,Math.ceil(i-(void 0===o?3:2)*this.virtualScrollSliceSizeComputed/6)),r=s+this.virtualScrollSliceSizeComputed;r>this.virtualScrollLength&&(r=this.virtualScrollLength,s=Math.max(0,r-this.virtualScrollSliceSizeComputed)),this.__emitScroll(i);const a=s!==this.virtualScrollSliceRange.from||r!==this.virtualScrollSliceRange.to;!1===a&&void 0===o||(!0===a&&(this.virtualScrollSliceRange={from:s,to:r},this.virtualScrollPaddingBefore=Zs(this.virtualScrollSizesAgg,this.virtualScrollSizes,0,s),this.virtualScrollPaddingAfter=Zs(this.virtualScrollSizesAgg,this.virtualScrollSizes,r,this.virtualScrollLength)),this.$nextTick(()=>{!0===a&&this.__updateVirtualScrollSizes(s);const r=this.virtualScrollSizes.slice(s,i).reduce(Ks,e.offsetStart+this.virtualScrollPaddingBefore),l=r+this.virtualScrollSizes[i];let c=r+n;void 0!==o&&(c=e.scrollStart<r&&l<e.scrollStart+e.scrollViewSize?e.scrollStart:"end"===o?l-e.scrollViewSize:r),this.prevScrollStart=c,this.__setScroll(t,c,this.virtualScrollHorizontal)}))},__updateVirtualScrollSizes(t){const e=this.$refs.content;if(void 0!==e){const i=e.children,n=!0===this.virtualScrollHorizontal?"offsetWidth":"offsetHeight";for(let e=i.length-1;e>=0;e--){const o=t+e,s=i[e][n]-this.virtualScrollSizes[o];0!==s&&(this.virtualScrollSizes[o]+=s,this.virtualScrollSizesAgg[Math.floor(o/js)]+=s)}}},__resetVirtualScroll(t,e){const i=this.virtualScrollItemSize;!0!==e&&!1!==Array.isArray(this.virtualScrollSizes)||(this.virtualScrollSizes=[]);const n=this.virtualScrollSizes.length;this.virtualScrollSizes.length=this.virtualScrollLength;for(let s=this.virtualScrollLength-1;s>=n;s--)this.virtualScrollSizes[s]=i;const o=Math.floor((this.virtualScrollLength-1)/js);this.virtualScrollSizesAgg=[];for(let s=0;s<=o;s++){let t=0;const e=Math.min((s+1)*js,this.virtualScrollLength);for(let i=s*js;i<e;i++)t+=this.virtualScrollSizes[i];this.virtualScrollSizesAgg.push(t)}this.prevToIndex=-1,this.prevScrollStart=void 0,t>=0?this.$nextTick(()=>{this.scrollTo(t)}):(this.virtualScrollPaddingBefore=Zs(this.virtualScrollSizesAgg,this.virtualScrollSizes,0,this.virtualScrollSliceRange.from),this.virtualScrollPaddingAfter=Zs(this.virtualScrollSizesAgg,this.virtualScrollSizes,this.virtualScrollSliceRange.to,this.virtualScrollLength),this.__onVirtualScrollEvt())},__setVirtualScrollSize(){!0===this.virtualScrollHorizontal?this.virtualScrollSliceSizeComputed="undefined"===typeof window?this.virtualScrollSliceSize:Math.max(this.virtualScrollSliceSize,Math.ceil(window.innerWidth/this.virtualScrollItemSize*2)):this.virtualScrollSliceSizeComputed="undefined"===typeof window?this.virtualScrollSliceSize:Math.max(this.virtualScrollSliceSize,Math.ceil(window.innerHeight/this.virtualScrollItemSize*2))},__padVirtualScroll(t,e,i){const n=!0===this.virtualScrollHorizontal?"width":"height";return["tbody"===e?t(e,{staticClass:"q-virtual-scroll__padding",key:"before",ref:"before"},[t("tr",[t("td",{style:{[n]:`${this.virtualScrollPaddingBefore}px`},attrs:{colspan:"100%"}})])]):t(e,{staticClass:"q-virtual-scroll__padding",key:"before",ref:"before",style:{[n]:`${this.virtualScrollPaddingBefore}px`}}),t(e,{staticClass:"q-virtual-scroll__content",key:"content",ref:"content"},i),"tbody"===e?t(e,{staticClass:"q-virtual-scroll__padding",key:"after",ref:"after"},[t("tr",[t("td",{style:{[n]:`${this.virtualScrollPaddingAfter}px`},attrs:{colspan:"100%"}})])]):t(e,{staticClass:"q-virtual-scroll__padding",key:"after",ref:"after",style:{[n]:`${this.virtualScrollPaddingAfter}px`}})]},__emitScroll(t){this.prevToIndex!==t&&(void 0!==this.$listeners["virtual-scroll"]&&this.$emit("virtual-scroll",{index:t,from:this.virtualScrollSliceRange.from,to:this.virtualScrollSliceRange.to-1,direction:t<this.prevToIndex?"decrease":"increase"}),this.prevToIndex=t)}},created(){this.__setVirtualScrollSize()},beforeMount(){this.__onVirtualScrollEvt=M(this.__onVirtualScrollEvt,70),this.__setScroll=Ls(Qs),this.__setVirtualScrollSize()}};const nr=t=>["add","add-unique","toggle"].includes(t);var or=a["a"].extend({name:"QSelect",mixins:[yo,ir,Oo],props:{value:{required:!0},multiple:Boolean,displayValue:[String,Number],displayValueSanitize:Boolean,dropdownIcon:String,options:{type:Array,default:()=>[]},optionValue:[Function,String],optionLabel:[Function,String],optionDisable:[Function,String],hideSelected:Boolean,hideDropdownIcon:Boolean,fillInput:Boolean,maxValues:[Number,String],optionsDense:Boolean,optionsDark:Boolean,optionsSelectedClass:String,optionsCover:Boolean,optionsSanitize:Boolean,popupContentClass:String,popupContentStyle:[String,Array,Object],useInput:Boolean,useChips:Boolean,newValueMode:{type:String,validator:nr},mapOptions:Boolean,emitValue:Boolean,inputDebounce:{type:[Number,String],default:500},inputClass:[Array,String,Object],inputStyle:[Array,String,Object],tabindex:{type:[String,Number],default:0},transitionShow:String,transitionHide:String,behavior:{type:String,validator:t=>["default","menu","dialog"].includes(t),default:"default"}},data(){return{menu:!1,dialog:!1,optionIndex:-1,inputValue:"",dialogFieldFocused:!1}},watch:{innerValue:{handler(){!0===this.useInput&&!0===this.fillInput&&!0!==this.multiple&&!0!==this.innerLoading&&(!0!==this.dialog&&!0!==this.menu||!0!==this.hasValue)&&(this.__resetInputValue(),!0!==this.dialog&&!0!==this.menu||this.filter(""))},immediate:!0},menu(t){this.__updateMenu(t)}},computed:{isOptionsDark(){return!0===this.isDark||!0===this.optionsDark},virtualScrollLength(){return Array.isArray(this.options)?this.options.length:0},fieldClass(){return`q-select q-field--auto-height q-select--with${!0!==this.useInput?"out":""}-input`},computedInputClass(){return!0===this.hideSelected||0===this.innerValue.length?this.inputClass:void 0===this.inputClass?"q-select__input--padding":[this.inputClass,"q-select__input--padding"]},menuContentClass(){return(!0===this.virtualScrollHorizontal?"q-virtual-scroll--horizontal":"")+(this.popupContentClass?" "+this.popupContentClass:"")},innerValue(){const t=!0===this.mapOptions&&!0!==this.multiple,e=void 0===this.value||null===this.value&&!0!==t?[]:!0===this.multiple&&Array.isArray(this.value)?this.value:[this.value];return!0===this.mapOptions&&!0===Array.isArray(this.options)?null===this.value&&!0===t?e.map(t=>this.__getOption(t)).filter(t=>null!==t):e.map(t=>this.__getOption(t)):e},noOptions(){return 0===this.virtualScrollLength},selectedString(){return this.innerValue.map(t=>this.__getOptionLabel(t)).join(", ")},displayAsText(){return!0===this.displayValueSanitize||void 0===this.displayValue&&(!0===this.optionsSanitize||this.innerValue.some(t=>null!==t&&!0===t.sanitize))},computedTabindex(){return!0===this.focused?this.tabindex:-1},selectedScope(){return this.innerValue.map((t,e)=>({index:e,opt:t,sanitize:!0===this.optionsSanitize||!0===t.sanitize,selected:!0,removeAtIndex:this.__removeAtIndexAndFocus,toggleOption:this.toggleOption,tabindex:this.computedTabindex}))},optionScope(){if(0===this.virtualScrollLength)return[];const{from:t,to:e}=this.virtualScrollSliceRange;return this.options.slice(t,e).map((e,i)=>{const n=this.__isDisabled(e),o=t+i,s={clickable:!0,active:!1,activeClass:this.computedOptionsSelectedClass,manualFocus:!0,focused:!1,disable:n,tabindex:-1,dense:this.optionsDense,dark:this.isOptionsDark};!0!==n&&(!0===this.__isSelected(e)&&(s.active=!0),this.optionIndex===o&&(s.focused=!0));const r={click:()=>{this.toggleOption(e)}};return!0===this.$q.platform.is.desktop&&(r.mousemove=()=>{this.setOptionIndex(o)}),{index:o,opt:e,sanitize:!0===this.optionsSanitize||!0===e.sanitize,selected:s.active,focused:s.focused,toggleOption:this.toggleOption,setOptionIndex:this.setOptionIndex,itemProps:s,itemEvents:r}})},dropdownArrowIcon(){return void 0!==this.dropdownIcon?this.dropdownIcon:this.$q.iconSet.arrow.dropdown},squaredMenu(){return!1===this.optionsCover&&!0!==this.outlined&&!0!==this.standout&&!0!==this.borderless&&!0!==this.rounded},computedOptionsSelectedClass(){return void 0!==this.optionsSelectedClass?this.optionsSelectedClass:void 0!==this.color?`text-${this.color}`:""}},methods:{removeAtIndex(t){if(t>-1&&t<this.innerValue.length)if(!0===this.multiple){const e=this.value.slice();this.$emit("remove",{index:t,value:e.splice(t,1)}),this.$emit("input",e)}else this.$emit("input",null)},__removeAtIndexAndFocus(t){this.removeAtIndex(t),this.__focus()},add(t,e){const i=!0===this.emitValue?this.__getOptionValue(t):t;if(!0!==this.multiple)return void this.$emit("input",i);if(0===this.innerValue.length)return this.$emit("add",{index:0,value:i}),void this.$emit("input",!0===this.multiple?[i]:i);if(!0===e&&!0===this.__isSelected(t))return;if(void 0!==this.maxValues&&this.value.length>=this.maxValues)return;const n=this.value.slice();this.$emit("add",{index:n.length,value:i}),n.push(i),this.$emit("input",n)},toggleOption(t){if(!0!==this.editable||void 0===t||!0===this.__isDisabled(t))return;const e=this.__getOptionValue(t);if(!0!==this.multiple)return this.updateInputValue(!0===this.fillInput?this.__getOptionLabel(t):"",!0,!0),void 0!==this.$refs.target&&this.$refs.target.focus(),this.hidePopup(),void(!0!==Si(this.__getOptionValue(this.value),e)&&this.$emit("input",!0===this.emitValue?e:t));if((!0!==this.hasDialog||!0===this.dialogFieldFocused)&&this.__focus(),0===this.innerValue.length){const i=!0===this.emitValue?e:t;return this.$emit("add",{index:0,value:i}),void this.$emit("input",!0===this.multiple?[i]:i)}const i=this.value.slice(),n=this.value.findIndex(t=>Si(this.__getOptionValue(t),e));if(n>-1)this.$emit("remove",{index:n,value:i.splice(n,1)});else{if(void 0!==this.maxValues&&i.length>=this.maxValues)return;const n=!0===this.emitValue?e:t;this.$emit("add",{index:i.length,value:n}),i.push(n)}this.$emit("input",i)},setOptionIndex(t){if(!0!==this.$q.platform.is.desktop)return;const e=t>-1&&t<this.virtualScrollLength?t:-1;this.optionIndex!==e&&(this.optionIndex=e)},__getOption(t){return this.options.find(e=>Si(this.__getOptionValue(e),t))||t},__getOptionValue(t){return"function"===typeof this.optionValue?this.optionValue(t):Object(t)===t?"string"===typeof this.optionValue?t[this.optionValue]:t.value:t},__getOptionLabel(t){return"function"===typeof this.optionLabel?this.optionLabel(t):Object(t)===t?"string"===typeof this.optionLabel?t[this.optionLabel]:t.label:t},__isDisabled(t){return"function"===typeof this.optionDisable?!0===this.optionDisable(t):Object(t)===t&&("string"===typeof this.optionDisable?!0===t[this.optionDisable]:!0===t.disable)},__isSelected(t){const e=this.__getOptionValue(t);return void 0!==this.innerValue.find(t=>Si(this.__getOptionValue(t),e))},__onTargetKeyup(t){!0===et(t,27)&&!0===this.menu&&(R(t),this.hidePopup()),this.$emit("keyup",t)},__onTargetKeypress(t){this.$emit("keypress",t)},__onTargetKeydown(t){if(this.$emit("keydown",t),!0===tt(t))return;const e=!0!==t.shiftKey&&!0!==this.multiple&&this.optionIndex>-1;if(27===t.keyCode)return;if(9===t.keyCode&&!1===e)return void this.__closeMenu();if(t.target!==this.$refs.target)return;if(40===t.keyCode&&!0!==this.innerLoading&&!1===this.menu)return x(t),void this.showPopup();if(8===t.keyCode&&!0===this.multiple&&0===this.inputValue.length&&Array.isArray(this.value))return void this.removeAtIndex(this.value.length-1);const i=this.virtualScrollLength;if((38===t.keyCode||40===t.keyCode)&&(x(t),!0===this.menu)){let e=this.optionIndex;do{e=yt(e+(38===t.keyCode?-1:1),-1,i-1)}while(-1!==e&&e!==this.optionIndex&&!0===this.__isDisabled(this.options[e]));if(this.optionIndex!==e&&(this.setOptionIndex(e),this.scrollTo(e),e>=0&&!0===this.useInput&&!0===this.fillInput)){const t=this.__getOptionLabel(this.options[e]);this.inputValue!==t&&(this.inputValue=t)}}if(i>0&&!0!==this.useInput&&t.keyCode>=48&&t.keyCode<=90){!0!==this.menu&&this.showPopup(t),(void 0===this.searchBuffer||this.searchBufferExp<Date.now())&&(this.searchBuffer="");const e=String.fromCharCode(t.keyCode).toLocaleLowerCase(),n=1===this.searchBuffer.length&&this.searchBuffer[0]===e;this.searchBufferExp=Date.now()+1500,!1===n&&(this.searchBuffer+=e);const o=new RegExp("^"+this.searchBuffer.split("").join(".*"),"i");let s=this.optionIndex;if(!0===n||!0!==o.test(this.__getOptionLabel(this.options[s])))do{s=yt(s+1,-1,i-1)}while(s!==this.optionIndex&&(!0===this.__isDisabled(this.options[s])||!0!==o.test(this.__getOptionLabel(this.options[s]))));this.optionIndex!==s&&this.$nextTick(()=>{if(this.setOptionIndex(s),this.scrollTo(s),s>=0&&!0===this.useInput&&!0===this.fillInput){const t=this.__getOptionLabel(this.options[s]);this.inputValue!==t&&(this.inputValue=t)}})}else if(t.target===this.$refs.target&&(13===t.keyCode||!0!==this.useInput&&32===t.keyCode||!1!==e&&9===t.keyCode))if(9!==t.keyCode&&x(t),this.optionIndex>-1&&this.optionIndex<i)this.toggleOption(this.options[this.optionIndex]);else{if(this.inputValue.length>0&&(void 0!==this.newValueMode||void 0!==this.$listeners["new-value"])){const t=(t,e)=>{if(e){if(!0!==nr(e))return void console.error("QSelect: invalid new value mode - "+e)}else e=this.newValueMode;void 0!==t&&null!==t&&this["toggle"===e?"toggleOption":"add"](t,"add-unique"===e),this.updateInputValue("",!0!==this.multiple,!0)};if(void 0!==this.$listeners["new-value"]){if(this.$emit("new-value",this.inputValue,t),!0!==this.multiple)return}else t(this.inputValue)}!0===this.menu?this.__closeMenu():!0!==this.innerLoading&&this.showPopup()}},__getVirtualScrollEl(){return!0===this.hasDialog?this.$refs.menuContent:void 0!==this.$refs.menu&&void 0!==this.$refs.menu.__portal?this.$refs.menu.__portal.$el:void 0},__getVirtualScrollTarget(){return this.__getVirtualScrollEl()},__getSelection(t,e){return!0===this.hideSelected?!0!==e&&!0===this.hasDialog?[t("span",{domProps:{textContent:this.inputValue}})]:[]:void 0!==this.$scopedSlots["selected-item"]?this.selectedScope.map(t=>this.$scopedSlots["selected-item"](t)).slice():void 0!==this.$scopedSlots.selected?this.$scopedSlots.selected().slice():!0===this.useChips?this.selectedScope.map((e,i)=>t(Ni,{key:"option-"+i,props:{removable:!0!==this.__isDisabled(e.opt),dense:!0,textColor:this.color,tabindex:this.computedTabindex},on:Ne(this,"rem#"+i,{remove(){e.removeAtIndex(i)}})},[t("span",{domProps:{[!0===e.sanitize?"textContent":"innerHTML"]:this.__getOptionLabel(e.opt)}})])):[t("span",{domProps:{[this.displayAsText?"textContent":"innerHTML"]:void 0!==this.displayValue?this.displayValue:this.selectedString}})]},__getControl(t,e){const i=this.__getSelection(t,e);if(!0!==this.useInput||!0!==e&&!1!==this.hasDialog){if(!0===this.editable){const n=!0===this.hasDialog&&!0!==e&&!0===this.menu;i.push(t("div",{ref:!0===n?void 0:"target",staticClass:"no-outline",attrs:{tabindex:this.tabindex,id:!0===n?void 0:this.targetUid},on:Ne(this,"ctrl",{keydown:this.__onTargetKeydown,keyup:this.__onTargetKeyup,keypress:this.__onTargetKeypress})}))}}else i.push(this.__getInput(t,e));return t("div",{staticClass:"q-field__native row items-center",attrs:this.$attrs},i)},__getOptions(t){if(!0!==this.menu)return;const e=void 0!==this.$scopedSlots.option?this.$scopedSlots.option:e=>t(Lo,{key:e.index,props:e.itemProps,on:e.itemEvents},[t(Do,[t(ts,{domProps:{[!0===e.sanitize?"textContent":"innerHTML"]:this.__getOptionLabel(e.opt)}})])]);let i=this.__padVirtualScroll(t,"div",this.optionScope.map(e));return void 0!==this.$scopedSlots["before-options"]&&(i=this.$scopedSlots["before-options"]().concat(i)),Bt(i,this,"after-options")},__getInnerAppend(t){return!0!==this.loading&&!0!==this.innerLoading&&!0!==this.hideDropdownIcon?[t(Ft,{staticClass:"q-select__dropdown-icon",props:{name:this.dropdownArrowIcon}})]:null},__getInput(t,e){const i={input:this.__onInput,change:this.__onChange,keydown:this.__onTargetKeydown,keyup:this.__onTargetKeyup,keypress:this.__onTargetKeypress};return i.compositionstart=i.compositionupdate=i.compositionend=this.__onComposition,!0===this.hasDialog&&(i.click=R),t("input",{ref:"target",staticClass:"q-select__input q-placeholder col",style:this.inputStyle,class:this.computedInputClass,domProps:{value:this.inputValue},attrs:{type:"search",...this.$attrs,tabindex:this.tabindex,autofocus:!0!==e&&this.autofocus,id:this.targetUid,disabled:!0===this.disable,readonly:!0===this.readonly},on:Ne(this,"inp#"+this.hasDialog,i)})},__onChange(t){this.__onComposition(t)},__onInput(t){clearTimeout(this.inputTimer),t&&t.target&&!0===t.target.composing||(this.inputValue=t.target.value||"",this.userInputValue=!0,void 0!==this.$listeners.filter&&(this.inputTimer=setTimeout(()=>{this.filter(this.inputValue)},this.inputDebounce)))},updateInputValue(t,e,i){this.userInputValue=!0!==i,!0===this.useInput&&(this.inputValue!==t&&(this.inputValue=t),!0!==e&&this.filter(t))},filter(t){if(void 0===this.$listeners.filter||!0!==this.focused)return;!0===this.innerLoading?this.$emit("filter-abort"):this.innerLoading=!0,""!==t&&!0!==this.multiple&&this.innerValue.length>0&&!0!==this.userInputValue&&t===this.__getOptionLabel(this.innerValue[0])&&(t="");const e=setTimeout(()=>{!0===this.menu&&(this.menu=!1)},10);clearTimeout(this.filterId),this.filterId=e,this.$emit("filter",t,t=>{!0===this.focused&&this.filterId===e&&(clearTimeout(this.filterId),"function"===typeof t&&t(),this.$nextTick(()=>{this.innerLoading=!1,!0===this.menu?this.__updateMenu(!0):this.menu=!0}))},()=>{!0===this.focused&&this.filterId===e&&(clearTimeout(this.filterId),this.innerLoading=!1),!0===this.menu&&(this.menu=!1)})},__getControlEvents(){const t=t=>{this.__onControlFocusout(t,()=>{this.__resetInputValue(),this.__closeMenu()})};return{focusin:this.__onControlFocusin,focusout:t,"popup-show":this.__onControlPopupShow,"popup-hide":e=>{void 0!==e&&R(e),this.$emit("popup-hide",e),this.hasPopupOpen=!1,t(e)},click:t=>{if(!0!==this.hasDialog){if(!0===this.useInput&&!0!==t.target.classList.contains("q-select__input")||!0!==this.useInput&&!0===t.target.classList.contains("no-outline"))return;if(!0===this.menu)return this.__closeMenu(),void(void 0!==this.$refs.target&&this.$refs.target.focus())}this.showPopup(t)}}},__getPopup(t){if(!1!==this.editable&&(!0===this.dialog||!0!==this.noOptions||void 0!==this.$scopedSlots["no-option"]))return this[`__get${!0===this.hasDialog?"Dialog":"Menu"}`](t)},__getMenu(t){const e=!0===this.noOptions?void 0!==this.$scopedSlots["no-option"]?this.$scopedSlots["no-option"]({inputValue:this.inputValue}):null:this.__getOptions(t);return t(hi,{ref:"menu",props:{value:this.menu,fit:!0,cover:!0===this.optionsCover&&!0!==this.noOptions&&!0!==this.useInput,contentClass:this.menuContentClass,contentStyle:this.popupContentStyle,dark:this.isOptionsDark,noParentEvent:!0,noRefocus:!0,noFocus:!0,square:this.squaredMenu,transitionShow:this.transitionShow,transitionHide:this.transitionHide,separateClosePopup:!0},on:Ne(this,"menu",{"&scroll":this.__onVirtualScrollEvt,"before-hide":this.__closeMenu})},e)},__onDialogFieldFocus(t){R(t),void 0!==this.$refs.target&&this.$refs.target.focus(),this.dialogFieldFocused=!0,window.scrollTo(window.pageXOffset||window.scrollX||document.body.scrollLeft||0,0)},__onDialogFieldBlur(t){R(t),this.$nextTick(()=>{this.dialogFieldFocused=!1})},__getDialog(t){const e=[t(yo,{staticClass:`col-auto ${this.fieldClass}`,attrs:{for:this.targetUid},props:{...this.$props,dark:this.isOptionsDark,square:!0,loading:this.innerLoading,filled:!0,stackLabel:this.inputValue.length>0},on:{...this.$listeners,focus:this.__onDialogFieldFocus,blur:this.__onDialogFieldBlur},scopedSlots:{...this.$scopedSlots,rawControl:()=>this.__getControl(t,!0),before:void 0,after:void 0}})];return!0===this.menu&&e.push(t("div",{ref:"menuContent",staticClass:"scroll",class:this.menuContentClass,style:this.popupContentStyle,on:Ne(this,"virtMenu",{click:I,"&scroll":this.__onVirtualScrollEvt})},!0===this.noOptions?void 0!==this.$scopedSlots["no-option"]?this.$scopedSlots["no-option"]({inputValue:this.inputValue}):null:this.__getOptions(t))),t(_o,{ref:"dialog",props:{value:this.dialog,dark:this.isOptionsDark,position:!0===this.useInput?"top":void 0,transitionShow:this.transitionShowComputed,transitionHide:this.transitionHide},on:Ne(this,"dialog",{"before-hide":this.__onDialogBeforeHide,hide:this.__onDialogHide,show:this.__onDialogShow})},[t("div",{staticClass:"q-select__dialog"+(!0===this.isOptionsDark?" q-select__dialog--dark q-dark":"")+(!0===this.dialogFieldFocused?" q-select__dialog--focused":"")},e)])},__onDialogBeforeHide(){this.$refs.dialog.__refocusTarget=this.$el.querySelector(".q-field__native > [tabindex]:last-child"),this.focused=!1},__onDialogHide(t){this.hidePopup(),this.$emit("blur",t),this.__resetInputValue()},__onDialogShow(){const t=document.activeElement;null!==t&&t.id===this.targetUid||this.$refs.target===t||void 0===this.$refs.target||this.$refs.target.focus()},__closeMenu(){!0!==this.dialog&&(!0===this.menu&&(this.menu=!1),!1===this.focused&&(clearTimeout(this.filterId),this.filterId=void 0,!0===this.innerLoading&&(this.$emit("filter-abort"),this.innerLoading=!1)))},showPopup(t){!0===this.hasDialog?(this.__onControlFocusin(t),this.dialog=!0):this.__focus(),void 0!==this.$listeners.filter?this.filter(this.inputValue):!0===this.noOptions&&void 0===this.$scopedSlots["no-option"]||(this.menu=!0)},hidePopup(){this.dialog=!1,this.__closeMenu()},__resetInputValue(){!0===this.useInput&&this.updateInputValue(!0!==this.multiple&&!0===this.fillInput&&this.innerValue.length>0&&this.__getOptionLabel(this.innerValue[0])||"",!0,!0)},__updateMenu(t){let e=-1;if(!0===t){if(this.innerValue.length>0){const t=this.__getOptionValue(this.innerValue[0]);e=this.options.findIndex(e=>Si(this.__getOptionValue(e),t))}this.__resetVirtualScroll(e)}this.setOptionIndex(e)},__onPreRender(){this.hasDialog=(!0===this.$q.platform.is.mobile||"dialog"===this.behavior)&&("menu"!==this.behavior&&(!0!==this.useInput||(void 0!==this.$scopedSlots["no-option"]||void 0!==this.$listeners.filter||!1===this.noOptions))),this.transitionShowComputed=!0===this.hasDialog&&!0===this.useInput&&!0===this.$q.platform.is.ios?"fade":this.transitionShow},__onPostRender(){!1===this.dialog&&void 0!==this.$refs.menu&&this.$refs.menu.updatePosition()},updateMenuPosition(){this.__onPostRender()}},beforeDestroy(){clearTimeout(this.inputTimer)}});const sr=[["left","center","start","width"],["right","center","end","width"],["top","start","center","height"],["bottom","end","center","height"]];var rr=a["a"].extend({name:"QSlideItem",mixins:[Ut],props:{leftColor:String,rightColor:String,topColor:String,bottomColor:String},directives:{TouchPan:Yi},methods:{reset(){this.$refs.content.style.transform="translate(0,0)"},__pan(t){const e=this.$refs.content;if(t.isFirst)this.__dir=null,this.__size={left:0,right:0,top:0,bottom:0},this.__scale=0,e.classList.add("no-transition"),sr.forEach(t=>{if(void 0!==this.$scopedSlots[t[0]]){const e=this.$refs[t[0]+"Content"];e.style.transform="scale(1)",this.__size[t[0]]=e.getBoundingClientRect()[t[3]]}}),this.__axis="up"===t.direction||"down"===t.direction?"Y":"X";else{if(t.isFinal)return e.classList.remove("no-transition"),void(1===this.__scale?(e.style.transform=`translate${this.__axis}(${100*this.__dir}%)`,this.timer=setTimeout(()=>{this.$emit(this.__showing,{reset:this.reset}),this.$emit("action",{side:this.__showing,reset:this.reset})},230)):e.style.transform="translate(0,0)");t.direction="X"===this.__axis?t.offset.x<0?"left":"right":t.offset.y<0?"up":"down"}if(void 0===this.$scopedSlots.left&&"right"===t.direction||void 0===this.$scopedSlots.right&&"left"===t.direction||void 0===this.$scopedSlots.top&&"down"===t.direction||void 0===this.$scopedSlots.bottom&&"up"===t.direction)return void(e.style.transform="translate(0,0)");let i,n,o;"X"===this.__axis?(n="left"===t.direction?-1:1,i=n*(!0===this.$q.lang.rtl?-1:1)===1?"left":"right",o=t.distance.x):(n="up"===t.direction?-2:2,i=2===n?"top":"bottom",o=t.distance.y),null!==this.__dir&&Math.abs(n)!==Math.abs(this.__dir)||(this.__dir!==n&&(["left","right","top","bottom"].forEach(t=>{void 0!==this.$refs[t]&&(this.$refs[t].style.visibility=i===t?"visible":"hidden")}),this.__showing=i,this.__dir=n),this.__scale=Math.max(0,Math.min(1,(o-40)/this.__size[i])),e.style.transform=`translate${this.__axis}(${o*n/Math.abs(n)}px)`,this.$refs[`${i}Content`].style.transform=`scale(${this.__scale})`)}},render(t){const e=[],i=void 0!==this.$scopedSlots.right,n=void 0!==this.$scopedSlots.left,o=void 0!==this.$scopedSlots.bottom,s=void 0!==this.$scopedSlots.top;return sr.forEach(i=>{const n=i[0];void 0!==this.$scopedSlots[n]&&e.push(t("div",{ref:n,class:`q-slide-item__${n} absolute-full row no-wrap items-${i[1]} justify-${i[2]}`+(void 0!==this[n+"Color"]?` bg-${this[n+"Color"]}`:"")},[t("div",{ref:n+"Content"},this.$scopedSlots[n]())]))}),e.push(t("div",{ref:"content",staticClass:"q-slide-item__content",directives:!0===i||!0===n||!0===o||!0===s?[{name:"touch-pan",value:this.__pan,modifiers:{left:i,right:n,up:o,down:s,prevent:!0,stop:!0,mouse:!0,mouseAllDir:!0}}]:null},Lt(this,"default"))),t("div",{staticClass:"q-slide-item q-item-type overflow-hidden",class:!0===this.isDark?"q-slide-item--dark q-dark":""},e)},beforeDestroy(){clearTimeout(this.timer)}}),ar=a["a"].extend({name:"QSpace",render(t){return t("div",{staticClass:"q-space"})}}),lr=a["a"].extend({name:"QSpinnerAudio",mixins:[Jt],render(t){return t("svg",{staticClass:"q-spinner",class:this.classes,on:this.$listeners,attrs:{focusable:"false",fill:"currentColor",width:this.cSize,height:this.cSize,viewBox:"0 0 55 80",xmlns:"http://www.w3.org/2000/svg"}},[t("g",{attrs:{transform:"matrix(1 0 0 -1 0 80)"}},[t("rect",{attrs:{width:"10",height:"20",rx:"3"}},[t("animate",{attrs:{attributeName:"height",begin:"0s",dur:"4.3s",values:"20;45;57;80;64;32;66;45;64;23;66;13;64;56;34;34;2;23;76;79;20",calcMode:"linear",repeatCount:"indefinite"}})]),t("rect",{attrs:{x:"15",width:"10",height:"80",rx:"3"}},[t("animate",{attrs:{attributeName:"height",begin:"0s",dur:"2s",values:"80;55;33;5;75;23;73;33;12;14;60;80",calcMode:"linear",repeatCount:"indefinite"}})]),t("rect",{attrs:{x:"30",width:"10",height:"50",rx:"3"}},[t("animate",{attrs:{attributeName:"height",begin:"0s",dur:"1.4s",values:"50;34;78;23;56;23;34;76;80;54;21;50",calcMode:"linear",repeatCount:"indefinite"}})]),t("rect",{attrs:{x:"45",width:"10",height:"30",rx:"3"}},[t("animate",{attrs:{attributeName:"height",begin:"0s",dur:"2s",values:"30;45;13;80;56;72;45;76;34;23;67;30",calcMode:"linear",repeatCount:"indefinite"}})])])])}}),cr=a["a"].extend({name:"QSpinnerBall",mixins:[Jt],render(t){return t("svg",{staticClass:"q-spinner",class:this.classes,on:this.$listeners,attrs:{focusable:"false",stroke:"currentColor",width:this.cSize,height:this.cSize,viewBox:"0 0 57 57",xmlns:"http://www.w3.org/2000/svg"}},[t("g",{attrs:{transform:"translate(1 1)","stroke-width":"2",fill:"none","fill-rule":"evenodd"}},[t("circle",{attrs:{cx:"5",cy:"50",r:"5"}},[t("animate",{attrs:{attributeName:"cy",begin:"0s",dur:"2.2s",values:"50;5;50;50",calcMode:"linear",repeatCount:"indefinite"}}),t("animate",{attrs:{attributeName:"cx",begin:"0s",dur:"2.2s",values:"5;27;49;5",calcMode:"linear",repeatCount:"indefinite"}})]),t("circle",{attrs:{cx:"27",cy:"5",r:"5"}},[t("animate",{attrs:{attributeName:"cy",begin:"0s",dur:"2.2s",from:"5",to:"5",values:"5;50;50;5",calcMode:"linear",repeatCount:"indefinite"}}),t("animate",{attrs:{attributeName:"cx",begin:"0s",dur:"2.2s",from:"27",to:"27",values:"27;49;5;27",calcMode:"linear",repeatCount:"indefinite"}})]),t("circle",{attrs:{cx:"49",cy:"50",r:"5"}},[t("animate",{attrs:{attributeName:"cy",begin:"0s",dur:"2.2s",values:"50;50;5;50",calcMode:"linear",repeatCount:"indefinite"}}),t("animate",{attrs:{attributeName:"cx",from:"49",to:"49",begin:"0s",dur:"2.2s",values:"49;5;27;49",calcMode:"linear",repeatCount:"indefinite"}})])])])}}),ur=a["a"].extend({name:"QSpinnerBars",mixins:[Jt],render(t){return t("svg",{staticClass:"q-spinner",class:this.classes,on:this.$listeners,attrs:{focusable:"false",fill:"currentColor",width:this.cSize,height:this.cSize,viewBox:"0 0 135 140",xmlns:"http://www.w3.org/2000/svg"}},[t("rect",{attrs:{y:"10",width:"15",height:"120",rx:"6"}},[t("animate",{attrs:{attributeName:"height",begin:"0.5s",dur:"1s",values:"120;110;100;90;80;70;60;50;40;140;120",calcMode:"linear",repeatCount:"indefinite"}}),t("animate",{attrs:{attributeName:"y",begin:"0.5s",dur:"1s",values:"10;15;20;25;30;35;40;45;50;0;10",calcMode:"linear",repeatCount:"indefinite"}})]),t("rect",{attrs:{x:"30",y:"10",width:"15",height:"120",rx:"6"}},[t("animate",{attrs:{attributeName:"height",begin:"0.25s",dur:"1s",values:"120;110;100;90;80;70;60;50;40;140;120",calcMode:"linear",repeatCount:"indefinite"}}),t("animate",{attrs:{attributeName:"y",begin:"0.25s",dur:"1s",values:"10;15;20;25;30;35;40;45;50;0;10",calcMode:"linear",repeatCount:"indefinite"}})]),t("rect",{attrs:{x:"60",width:"15",height:"140",rx:"6"}},[t("animate",{attrs:{attributeName:"height",begin:"0s",dur:"1s",values:"120;110;100;90;80;70;60;50;40;140;120",calcMode:"linear",repeatCount:"indefinite"}}),t("animate",{attrs:{attributeName:"y",begin:"0s",dur:"1s",values:"10;15;20;25;30;35;40;45;50;0;10",calcMode:"linear",repeatCount:"indefinite"}})]),t("rect",{attrs:{x:"90",y:"10",width:"15",height:"120",rx:"6"}},[t("animate",{attrs:{attributeName:"height",begin:"0.25s",dur:"1s",values:"120;110;100;90;80;70;60;50;40;140;120",calcMode:"linear",repeatCount:"indefinite"}}),t("animate",{attrs:{attributeName:"y",begin:"0.25s",dur:"1s",values:"10;15;20;25;30;35;40;45;50;0;10",calcMode:"linear",repeatCount:"indefinite"}})]),t("rect",{attrs:{x:"120",y:"10",width:"15",height:"120",rx:"6"}},[t("animate",{attrs:{attributeName:"height",begin:"0.5s",dur:"1s",values:"120;110;100;90;80;70;60;50;40;140;120",calcMode:"linear",repeatCount:"indefinite"}}),t("animate",{attrs:{attributeName:"y",begin:"0.5s",dur:"1s",values:"10;15;20;25;30;35;40;45;50;0;10",calcMode:"linear",repeatCount:"indefinite"}})])])}}),hr=a["a"].extend({name:"QSpinnerComment",mixins:[Jt],render(t){return t("svg",{staticClass:"q-spinner",class:this.classes,on:this.$listeners,attrs:{focusable:"false",width:this.cSize,height:this.cSize,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 100 100",preserveAspectRatio:"xMidYMid"}},[t("rect",{attrs:{x:"0",y:"0",width:"100",height:"100",fill:"none"}}),t("path",{attrs:{d:"M78,19H22c-6.6,0-12,5.4-12,12v31c0,6.6,5.4,12,12,12h37.2c0.4,3,1.8,5.6,3.7,7.6c2.4,2.5,5.1,4.1,9.1,4 c-1.4-2.1-2-7.2-2-10.3c0-0.4,0-0.8,0-1.3h8c6.6,0,12-5.4,12-12V31C90,24.4,84.6,19,78,19z",fill:"currentColor"}}),t("circle",{attrs:{cx:"30",cy:"47",r:"5",fill:"#fff"}},[t("animate",{attrs:{attributeName:"opacity",from:"0",to:"1",values:"0;1;1",keyTimes:"0;0.2;1",dur:"1s",repeatCount:"indefinite"}})]),t("circle",{attrs:{cx:"50",cy:"47",r:"5",fill:"#fff"}},[t("animate",{attrs:{attributeName:"opacity",from:"0",to:"1",values:"0;0;1;1",keyTimes:"0;0.2;0.4;1",dur:"1s",repeatCount:"indefinite"}})]),t("circle",{attrs:{cx:"70",cy:"47",r:"5",fill:"#fff"}},[t("animate",{attrs:{attributeName:"opacity",from:"0",to:"1",values:"0;0;1;1",keyTimes:"0;0.4;0.6;1",dur:"1s",repeatCount:"indefinite"}})])])}}),dr=a["a"].extend({name:"QSpinnerCube",mixins:[Jt],render(t){return t("svg",{staticClass:"q-spinner",class:this.classes,on:this.$listeners,attrs:{focusable:"false",width:this.cSize,height:this.cSize,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 100 100",preserveAspectRatio:"xMidYMid"}},[t("rect",{attrs:{x:"0",y:"0",width:"100",height:"100",fill:"none"}}),t("g",{attrs:{transform:"translate(25 25)"}},[t("rect",{attrs:{x:"-20",y:"-20",width:"40",height:"40",fill:"currentColor",opacity:"0.9"}},[t("animateTransform",{attrs:{attributeName:"transform",type:"scale",from:"1.5",to:"1",repeatCount:"indefinite",begin:"0s",dur:"1s",calcMode:"spline",keySplines:"0.2 0.8 0.2 0.8",keyTimes:"0;1"}})])]),t("g",{attrs:{transform:"translate(75 25)"}},[t("rect",{attrs:{x:"-20",y:"-20",width:"40",height:"40",fill:"currentColor",opacity:"0.8"}},[t("animateTransform",{attrs:{attributeName:"transform",type:"scale",from:"1.5",to:"1",repeatCount:"indefinite",begin:"0.1s",dur:"1s",calcMode:"spline",keySplines:"0.2 0.8 0.2 0.8",keyTimes:"0;1"}})])]),t("g",{attrs:{transform:"translate(25 75)"}},[t("rect",{staticClass:"cube",attrs:{x:"-20",y:"-20",width:"40",height:"40",fill:"currentColor",opacity:"0.7"}},[t("animateTransform",{attrs:{attributeName:"transform",type:"scale",from:"1.5",to:"1",repeatCount:"indefinite",begin:"0.3s",dur:"1s",calcMode:"spline",keySplines:"0.2 0.8 0.2 0.8",keyTimes:"0;1"}})])]),t("g",{attrs:{transform:"translate(75 75)"}},[t("rect",{staticClass:"cube",attrs:{x:"-20",y:"-20",width:"40",height:"40",fill:"currentColor",opacity:"0.6"}},[t("animateTransform",{attrs:{attributeName:"transform",type:"scale",from:"1.5",to:"1",repeatCount:"indefinite",begin:"0.2s",dur:"1s",calcMode:"spline",keySplines:"0.2 0.8 0.2 0.8",keyTimes:"0;1"}})])])])}}),pr=a["a"].extend({name:"QSpinnerDots",mixins:[Jt],render(t){return t("svg",{staticClass:"q-spinner",class:this.classes,on:this.$listeners,attrs:{focusable:"false",fill:"currentColor",width:this.cSize,height:this.cSize,viewBox:"0 0 120 30",xmlns:"http://www.w3.org/2000/svg"}},[t("circle",{attrs:{cx:"15",cy:"15",r:"15"}},[t("animate",{attrs:{attributeName:"r",from:"15",to:"15",begin:"0s",dur:"0.8s",values:"15;9;15",calcMode:"linear",repeatCount:"indefinite"}}),t("animate",{attrs:{attributeName:"fill-opacity",from:"1",to:"1",begin:"0s",dur:"0.8s",values:"1;.5;1",calcMode:"linear",repeatCount:"indefinite"}})]),t("circle",{attrs:{cx:"60",cy:"15",r:"9","fill-opacity":".3"}},[t("animate",{attrs:{attributeName:"r",from:"9",to:"9",begin:"0s",dur:"0.8s",values:"9;15;9",calcMode:"linear",repeatCount:"indefinite"}}),t("animate",{attrs:{attributeName:"fill-opacity",from:".5",to:".5",begin:"0s",dur:"0.8s",values:".5;1;.5",calcMode:"linear",repeatCount:"indefinite"}})]),t("circle",{attrs:{cx:"105",cy:"15",r:"15"}},[t("animate",{attrs:{attributeName:"r",from:"15",to:"15",begin:"0s",dur:"0.8s",values:"15;9;15",calcMode:"linear",repeatCount:"indefinite"}}),t("animate",{attrs:{attributeName:"fill-opacity",from:"1",to:"1",begin:"0s",dur:"0.8s",values:"1;.5;1",calcMode:"linear",repeatCount:"indefinite"}})])])}}),_r=a["a"].extend({name:"QSpinnerFacebook",mixins:[Jt],render(t){return t("svg",{staticClass:"q-spinner",class:this.classes,on:this.$listeners,attrs:{focusable:"false",width:this.cSize,height:this.cSize,viewBox:"0 0 100 100",xmlns:"http://www.w3.org/2000/svg",preserveAspectRatio:"xMidYMid"}},[t("g",{attrs:{transform:"translate(20 50)"}},[t("rect",{attrs:{x:"-10",y:"-30",width:"20",height:"60",fill:"currentColor",opacity:"0.6"}},[t("animateTransform",{attrs:{attributeName:"transform",type:"scale",from:"2",to:"1",begin:"0s",repeatCount:"indefinite",dur:"1s",calcMode:"spline",keySplines:"0.1 0.9 0.4 1",keyTimes:"0;1",values:"2;1"}})])]),t("g",{attrs:{transform:"translate(50 50)"}},[t("rect",{attrs:{x:"-10",y:"-30",width:"20",height:"60",fill:"currentColor",opacity:"0.8"}},[t("animateTransform",{attrs:{attributeName:"transform",type:"scale",from:"2",to:"1",begin:"0.1s",repeatCount:"indefinite",dur:"1s",calcMode:"spline",keySplines:"0.1 0.9 0.4 1",keyTimes:"0;1",values:"2;1"}})])]),t("g",{attrs:{transform:"translate(80 50)"}},[t("rect",{attrs:{x:"-10",y:"-30",width:"20",height:"60",fill:"currentColor",opacity:"0.9"}},[t("animateTransform",{attrs:{attributeName:"transform",type:"scale",from:"2",to:"1",begin:"0.2s",repeatCount:"indefinite",dur:"1s",calcMode:"spline",keySplines:"0.1 0.9 0.4 1",keyTimes:"0;1",values:"2;1"}})])])])}}),gr=a["a"].extend({name:"QSpinnerGears",mixins:[Jt],render(t){return t("svg",{staticClass:"q-spinner",class:this.classes,on:this.$listeners,attrs:{focusable:"false",width:this.cSize,height:this.cSize,viewBox:"0 0 100 100",preserveAspectRatio:"xMidYMid",xmlns:"http://www.w3.org/2000/svg"}},[t("g",{attrs:{transform:"translate(-20,-20)"}},[t("path",{attrs:{d:"M79.9,52.6C80,51.8,80,50.9,80,50s0-1.8-0.1-2.6l-5.1-0.4c-0.3-2.4-0.9-4.6-1.8-6.7l4.2-2.9c-0.7-1.6-1.6-3.1-2.6-4.5 L70,35c-1.4-1.9-3.1-3.5-4.9-4.9l2.2-4.6c-1.4-1-2.9-1.9-4.5-2.6L59.8,27c-2.1-0.9-4.4-1.5-6.7-1.8l-0.4-5.1C51.8,20,50.9,20,50,20 s-1.8,0-2.6,0.1l-0.4,5.1c-2.4,0.3-4.6,0.9-6.7,1.8l-2.9-4.1c-1.6,0.7-3.1,1.6-4.5,2.6l2.1,4.6c-1.9,1.4-3.5,3.1-5,4.9l-4.5-2.1 c-1,1.4-1.9,2.9-2.6,4.5l4.1,2.9c-0.9,2.1-1.5,4.4-1.8,6.8l-5,0.4C20,48.2,20,49.1,20,50s0,1.8,0.1,2.6l5,0.4 c0.3,2.4,0.9,4.7,1.8,6.8l-4.1,2.9c0.7,1.6,1.6,3.1,2.6,4.5l4.5-2.1c1.4,1.9,3.1,3.5,5,4.9l-2.1,4.6c1.4,1,2.9,1.9,4.5,2.6l2.9-4.1 c2.1,0.9,4.4,1.5,6.7,1.8l0.4,5.1C48.2,80,49.1,80,50,80s1.8,0,2.6-0.1l0.4-5.1c2.3-0.3,4.6-0.9,6.7-1.8l2.9,4.2 c1.6-0.7,3.1-1.6,4.5-2.6L65,69.9c1.9-1.4,3.5-3,4.9-4.9l4.6,2.2c1-1.4,1.9-2.9,2.6-4.5L73,59.8c0.9-2.1,1.5-4.4,1.8-6.7L79.9,52.6 z M50,65c-8.3,0-15-6.7-15-15c0-8.3,6.7-15,15-15s15,6.7,15,15C65,58.3,58.3,65,50,65z",fill:"currentColor"}},[t("animateTransform",{attrs:{attributeName:"transform",type:"rotate",from:"90 50 50",to:"0 50 50",dur:"1s",repeatCount:"indefinite"}})])]),t("g",{attrs:{transform:"translate(20,20) rotate(15 50 50)"}},[t("path",{attrs:{d:"M79.9,52.6C80,51.8,80,50.9,80,50s0-1.8-0.1-2.6l-5.1-0.4c-0.3-2.4-0.9-4.6-1.8-6.7l4.2-2.9c-0.7-1.6-1.6-3.1-2.6-4.5 L70,35c-1.4-1.9-3.1-3.5-4.9-4.9l2.2-4.6c-1.4-1-2.9-1.9-4.5-2.6L59.8,27c-2.1-0.9-4.4-1.5-6.7-1.8l-0.4-5.1C51.8,20,50.9,20,50,20 s-1.8,0-2.6,0.1l-0.4,5.1c-2.4,0.3-4.6,0.9-6.7,1.8l-2.9-4.1c-1.6,0.7-3.1,1.6-4.5,2.6l2.1,4.6c-1.9,1.4-3.5,3.1-5,4.9l-4.5-2.1 c-1,1.4-1.9,2.9-2.6,4.5l4.1,2.9c-0.9,2.1-1.5,4.4-1.8,6.8l-5,0.4C20,48.2,20,49.1,20,50s0,1.8,0.1,2.6l5,0.4 c0.3,2.4,0.9,4.7,1.8,6.8l-4.1,2.9c0.7,1.6,1.6,3.1,2.6,4.5l4.5-2.1c1.4,1.9,3.1,3.5,5,4.9l-2.1,4.6c1.4,1,2.9,1.9,4.5,2.6l2.9-4.1 c2.1,0.9,4.4,1.5,6.7,1.8l0.4,5.1C48.2,80,49.1,80,50,80s1.8,0,2.6-0.1l0.4-5.1c2.3-0.3,4.6-0.9,6.7-1.8l2.9,4.2 c1.6-0.7,3.1-1.6,4.5-2.6L65,69.9c1.9-1.4,3.5-3,4.9-4.9l4.6,2.2c1-1.4,1.9-2.9,2.6-4.5L73,59.8c0.9-2.1,1.5-4.4,1.8-6.7L79.9,52.6 z M50,65c-8.3,0-15-6.7-15-15c0-8.3,6.7-15,15-15s15,6.7,15,15C65,58.3,58.3,65,50,65z",fill:"currentColor"}},[t("animateTransform",{attrs:{attributeName:"transform",type:"rotate",from:"0 50 50",to:"90 50 50",dur:"1s",repeatCount:"indefinite"}})])])])}}),fr=a["a"].extend({name:"QSpinnerGrid",mixins:[Jt],render(t){return t("svg",{staticClass:"q-spinner",class:this.classes,on:this.$listeners,attrs:{focusable:"false",fill:"currentColor",width:this.cSize,height:this.cSize,viewBox:"0 0 105 105",xmlns:"http://www.w3.org/2000/svg"}},[t("circle",{attrs:{cx:"12.5",cy:"12.5",r:"12.5"}},[t("animate",{attrs:{attributeName:"fill-opacity",begin:"0s",dur:"1s",values:"1;.2;1",calcMode:"linear",repeatCount:"indefinite"}})]),t("circle",{attrs:{cx:"12.5",cy:"52.5",r:"12.5","fill-opacity":".5"}},[t("animate",{attrs:{attributeName:"fill-opacity",begin:"100ms",dur:"1s",values:"1;.2;1",calcMode:"linear",repeatCount:"indefinite"}})]),t("circle",{attrs:{cx:"52.5",cy:"12.5",r:"12.5"}},[t("animate",{attrs:{attributeName:"fill-opacity",begin:"300ms",dur:"1s",values:"1;.2;1",calcMode:"linear",repeatCount:"indefinite"}})]),t("circle",{attrs:{cx:"52.5",cy:"52.5",r:"12.5"}},[t("animate",{attrs:{attributeName:"fill-opacity",begin:"600ms",dur:"1s",values:"1;.2;1",calcMode:"linear",repeatCount:"indefinite"}})]),t("circle",{attrs:{cx:"92.5",cy:"12.5",r:"12.5"}},[t("animate",{attrs:{attributeName:"fill-opacity",begin:"800ms",dur:"1s",values:"1;.2;1",calcMode:"linear",repeatCount:"indefinite"}})]),t("circle",{attrs:{cx:"92.5",cy:"52.5",r:"12.5"}},[t("animate",{attrs:{attributeName:"fill-opacity",begin:"400ms",dur:"1s",values:"1;.2;1",calcMode:"linear",repeatCount:"indefinite"}})]),t("circle",{attrs:{cx:"12.5",cy:"92.5",r:"12.5"}},[t("animate",{attrs:{attributeName:"fill-opacity",begin:"700ms",dur:"1s",values:"1;.2;1",calcMode:"linear",repeatCount:"indefinite"}})]),t("circle",{attrs:{cx:"52.5",cy:"92.5",r:"12.5"}},[t("animate",{attrs:{attributeName:"fill-opacity",begin:"500ms",dur:"1s",values:"1;.2;1",calcMode:"linear",repeatCount:"indefinite"}})]),t("circle",{attrs:{cx:"92.5",cy:"92.5",r:"12.5"}},[t("animate",{attrs:{attributeName:"fill-opacity",begin:"200ms",dur:"1s",values:"1;.2;1",calcMode:"linear",repeatCount:"indefinite"}})])])}}),mr=a["a"].extend({name:"QSpinnerHearts",mixins:[Jt],render(t){return t("svg",{staticClass:"q-spinner",class:this.classes,on:this.$listeners,attrs:{focusable:"false",fill:"currentColor",width:this.cSize,height:this.cSize,viewBox:"0 0 140 64",xmlns:"http://www.w3.org/2000/svg"}},[t("path",{attrs:{d:"M30.262 57.02L7.195 40.723c-5.84-3.976-7.56-12.06-3.842-18.063 3.715-6 11.467-7.65 17.306-3.68l4.52 3.76 2.6-5.274c3.716-6.002 11.47-7.65 17.304-3.68 5.84 3.97 7.56 12.054 3.842 18.062L34.49 56.118c-.897 1.512-2.793 1.915-4.228.9z","fill-opacity":".5"}},[t("animate",{attrs:{attributeName:"fill-opacity",begin:"0s",dur:"1.4s",values:"0.5;1;0.5",calcMode:"linear",repeatCount:"indefinite"}})]),t("path",{attrs:{d:"M105.512 56.12l-14.44-24.272c-3.716-6.008-1.996-14.093 3.843-18.062 5.835-3.97 13.588-2.322 17.306 3.68l2.6 5.274 4.52-3.76c5.84-3.97 13.593-2.32 17.308 3.68 3.718 6.003 1.998 14.088-3.842 18.064L109.74 57.02c-1.434 1.014-3.33.61-4.228-.9z","fill-opacity":".5"}},[t("animate",{attrs:{attributeName:"fill-opacity",begin:"0.7s",dur:"1.4s",values:"0.5;1;0.5",calcMode:"linear",repeatCount:"indefinite"}})]),t("path",{attrs:{d:"M67.408 57.834l-23.01-24.98c-5.864-6.15-5.864-16.108 0-22.248 5.86-6.14 15.37-6.14 21.234 0L70 16.168l4.368-5.562c5.863-6.14 15.375-6.14 21.235 0 5.863 6.14 5.863 16.098 0 22.247l-23.007 24.98c-1.43 1.556-3.757 1.556-5.188 0z"}})])}}),vr=a["a"].extend({name:"QSpinnerHourglass",mixins:[Jt],render(t){return t("svg",{staticClass:"q-spinner",class:this.classes,on:this.$listeners,attrs:{focusable:"false",width:this.cSize,height:this.cSize,viewBox:"0 0 100 100",preserveAspectRatio:"xMidYMid",xmlns:"http://www.w3.org/2000/svg"}},[t("g",[t("path",{staticClass:"glass",attrs:{fill:"none",stroke:"currentColor","stroke-width":"5","stroke-miterlimit":"10",d:"M58.4,51.7c-0.9-0.9-1.4-2-1.4-2.3s0.5-0.4,1.4-1.4 C70.8,43.8,79.8,30.5,80,15.5H70H30H20c0.2,15,9.2,28.1,21.6,32.3c0.9,0.9,1.4,1.2,1.4,1.5s-0.5,1.6-1.4,2.5 C29.2,56.1,20.2,69.5,20,85.5h10h40h10C79.8,69.5,70.8,55.9,58.4,51.7z"}}),t("clipPath",{attrs:{id:"uil-hourglass-clip1"}},[t("rect",{staticClass:"clip",attrs:{x:"15",y:"20",width:"70",height:"25"}},[t("animate",{attrs:{attributeName:"height",from:"25",to:"0",dur:"1s",repeatCount:"indefinite",vlaues:"25;0;0",keyTimes:"0;0.5;1"}}),t("animate",{attrs:{attributeName:"y",from:"20",to:"45",dur:"1s",repeatCount:"indefinite",vlaues:"20;45;45",keyTimes:"0;0.5;1"}})])]),t("clipPath",{attrs:{id:"uil-hourglass-clip2"}},[t("rect",{staticClass:"clip",attrs:{x:"15",y:"55",width:"70",height:"25"}},[t("animate",{attrs:{attributeName:"height",from:"0",to:"25",dur:"1s",repeatCount:"indefinite",vlaues:"0;25;25",keyTimes:"0;0.5;1"}}),t("animate",{attrs:{attributeName:"y",from:"80",to:"55",dur:"1s",repeatCount:"indefinite",vlaues:"80;55;55",keyTimes:"0;0.5;1"}})])]),t("path",{staticClass:"sand",attrs:{d:"M29,23c3.1,11.4,11.3,19.5,21,19.5S67.9,34.4,71,23H29z","clip-path":"url(#uil-hourglass-clip1)",fill:"currentColor"}}),t("path",{staticClass:"sand",attrs:{d:"M71.6,78c-3-11.6-11.5-20-21.5-20s-18.5,8.4-21.5,20H71.6z","clip-path":"url(#uil-hourglass-clip2)",fill:"currentColor"}}),t("animateTransform",{attrs:{attributeName:"transform",type:"rotate",from:"0 50 50",to:"180 50 50",repeatCount:"indefinite",dur:"1s",values:"0 50 50;0 50 50;180 50 50",keyTimes:"0;0.7;1"}})])])}}),br=a["a"].extend({name:"QSpinnerInfinity",mixins:[Jt],render(t){return t("svg",{staticClass:"q-spinner",class:this.classes,on:this.$listeners,attrs:{focusable:"false",width:this.cSize,height:this.cSize,viewBox:"0 0 100 100",preserveAspectRatio:"xMidYMid"}},[t("path",{attrs:{d:"M24.3,30C11.4,30,5,43.3,5,50s6.4,20,19.3,20c19.3,0,32.1-40,51.4-40C88.6,30,95,43.3,95,50s-6.4,20-19.3,20C56.4,70,43.6,30,24.3,30z",fill:"none",stroke:"currentColor","stroke-width":"8","stroke-dasharray":"10.691205342610678 10.691205342610678","stroke-dashoffset":"0"}},[t("animate",{attrs:{attributeName:"stroke-dashoffset",from:"0",to:"21.382410685221355",begin:"0",dur:"2s",repeatCount:"indefinite",fill:"freeze"}})])])}}),yr=a["a"].extend({name:"QSpinnerIos",mixins:[Jt],render(t){return t("svg",{staticClass:"q-spinner",class:this.classes,on:this.$listeners,attrs:{focusable:"false",width:this.cSize,height:this.cSize,stroke:"currentColor",fill:"currentColor",viewBox:"0 0 64 64"}},[t("g",{attrs:{"stroke-width":"4","stroke-linecap":"round"}},[t("line",{attrs:{y1:"17",y2:"29",transform:"translate(32,32) rotate(180)"}},[t("animate",{attrs:{attributeName:"stroke-opacity",dur:"750ms",values:"1;.85;.7;.65;.55;.45;.35;.25;.15;.1;0;1",repeatCount:"indefinite"}})]),t("line",{attrs:{y1:"17",y2:"29",transform:"translate(32,32) rotate(210)"}},[t("animate",{attrs:{attributeName:"stroke-opacity",dur:"750ms",values:"0;1;.85;.7;.65;.55;.45;.35;.25;.15;.1;0",repeatCount:"indefinite"}})]),t("line",{attrs:{y1:"17",y2:"29",transform:"translate(32,32) rotate(240)"}},[t("animate",{attrs:{attributeName:"stroke-opacity",dur:"750ms",values:".1;0;1;.85;.7;.65;.55;.45;.35;.25;.15;.1",repeatCount:"indefinite"}})]),t("line",{attrs:{y1:"17",y2:"29",transform:"translate(32,32) rotate(270)"}},[t("animate",{attrs:{attributeName:"stroke-opacity",dur:"750ms",values:".15;.1;0;1;.85;.7;.65;.55;.45;.35;.25;.15",repeatCount:"indefinite"}})]),t("line",{attrs:{y1:"17",y2:"29",transform:"translate(32,32) rotate(300)"}},[t("animate",{attrs:{attributeName:"stroke-opacity",dur:"750ms",values:".25;.15;.1;0;1;.85;.7;.65;.55;.45;.35;.25",repeatCount:"indefinite"}})]),t("line",{attrs:{y1:"17",y2:"29",transform:"translate(32,32) rotate(330)"}},[t("animate",{attrs:{attributeName:"stroke-opacity",dur:"750ms",values:".35;.25;.15;.1;0;1;.85;.7;.65;.55;.45;.35",repeatCount:"indefinite"}})]),t("line",{attrs:{y1:"17",y2:"29",transform:"translate(32,32) rotate(0)"}},[t("animate",{attrs:{attributeName:"stroke-opacity",dur:"750ms",values:".45;.35;.25;.15;.1;0;1;.85;.7;.65;.55;.45",repeatCount:"indefinite"}})]),t("line",{attrs:{y1:"17",y2:"29",transform:"translate(32,32) rotate(30)"}},[t("animate",{attrs:{attributeName:"stroke-opacity",dur:"750ms",values:".55;.45;.35;.25;.15;.1;0;1;.85;.7;.65;.55",repeatCount:"indefinite"}})]),t("line",{attrs:{y1:"17",y2:"29",transform:"translate(32,32) rotate(60)"}},[t("animate",{attrs:{attributeName:"stroke-opacity",dur:"750ms",values:".65;.55;.45;.35;.25;.15;.1;0;1;.85;.7;.65",repeatCount:"indefinite"}})]),t("line",{attrs:{y1:"17",y2:"29",transform:"translate(32,32) rotate(90)"}},[t("animate",{attrs:{attributeName:"stroke-opacity",dur:"750ms",values:".7;.65;.55;.45;.35;.25;.15;.1;0;1;.85;.7",repeatCount:"indefinite"}})]),t("line",{attrs:{y1:"17",y2:"29",transform:"translate(32,32) rotate(120)"}},[t("animate",{attrs:{attributeName:"stroke-opacity",dur:"750ms",values:".85;.7;.65;.55;.45;.35;.25;.15;.1;0;1;.85",repeatCount:"indefinite"}})]),t("line",{attrs:{y1:"17",y2:"29",transform:"translate(32,32) rotate(150)"}},[t("animate",{attrs:{attributeName:"stroke-opacity",dur:"750ms",values:"1;.85;.7;.65;.55;.45;.35;.25;.15;.1;0;1",repeatCount:"indefinite"}})])])])}}),Tr=a["a"].extend({name:"QSpinnerOval",mixins:[Jt],render(t){return t("svg",{staticClass:"q-spinner",class:this.classes,on:this.$listeners,attrs:{focusable:"false",stroke:"currentColor",width:this.cSize,height:this.cSize,viewBox:"0 0 38 38",xmlns:"http://www.w3.org/2000/svg"}},[t("g",{attrs:{transform:"translate(1 1)","stroke-width":"2",fill:"none","fill-rule":"evenodd"}},[t("circle",{attrs:{"stroke-opacity":".5",cx:"18",cy:"18",r:"18"}}),t("path",{attrs:{d:"M36 18c0-9.94-8.06-18-18-18"}},[t("animateTransform",{attrs:{attributeName:"transform",type:"rotate",from:"0 18 18",to:"360 18 18",dur:"1s",repeatCount:"indefinite"}})])])])}}),Er=a["a"].extend({name:"QSpinnerPie",mixins:[Jt],render(t){return t("svg",{staticClass:"q-spinner",class:this.classes,on:this.$listeners,attrs:{focusable:"false",width:this.cSize,height:this.cSize,viewBox:"0 0 100 100",preserveAspectRatio:"xMidYMid",xmlns:"http://www.w3.org/2000/svg"}},[t("path",{attrs:{d:"M0 50A50 50 0 0 1 50 0L50 50L0 50",fill:"currentColor",opacity:"0.5"}},[t("animateTransform",{attrs:{attributeName:"transform",type:"rotate",from:"0 50 50",to:"360 50 50",dur:"0.8s",repeatCount:"indefinite"}})]),t("path",{attrs:{d:"M50 0A50 50 0 0 1 100 50L50 50L50 0",fill:"currentColor",opacity:"0.5"}},[t("animateTransform",{attrs:{attributeName:"transform",type:"rotate",from:"0 50 50",to:"360 50 50",dur:"1.6s",repeatCount:"indefinite"}})]),t("path",{attrs:{d:"M100 50A50 50 0 0 1 50 100L50 50L100 50",fill:"currentColor",opacity:"0.5"}},[t("animateTransform",{attrs:{attributeName:"transform",type:"rotate",from:"0 50 50",to:"360 50 50",dur:"2.4s",repeatCount:"indefinite"}})]),t("path",{attrs:{d:"M50 100A50 50 0 0 1 0 50L50 50L50 100",fill:"currentColor",opacity:"0.5"}},[t("animateTransform",{attrs:{attributeName:"transform",type:"rotate",from:"0 50 50",to:"360 50 50",dur:"3.2s",repeatCount:"indefinite"}})])])}}),Sr=a["a"].extend({name:"QSpinnerPuff",mixins:[Jt],render(t){return t("svg",{staticClass:"q-spinner",class:this.classes,on:this.$listeners,attrs:{focusable:"false",stroke:"currentColor",width:this.cSize,height:this.cSize,viewBox:"0 0 44 44",xmlns:"http://www.w3.org/2000/svg"}},[t("g",{attrs:{fill:"none","fill-rule":"evenodd","stroke-width":"2"}},[t("circle",{attrs:{cx:"22",cy:"22",r:"1"}},[t("animate",{attrs:{attributeName:"r",begin:"0s",dur:"1.8s",values:"1; 20",calcMode:"spline",keyTimes:"0; 1",keySplines:"0.165, 0.84, 0.44, 1",repeatCount:"indefinite"}}),t("animate",{attrs:{attributeName:"stroke-opacity",begin:"0s",dur:"1.8s",values:"1; 0",calcMode:"spline",keyTimes:"0; 1",keySplines:"0.3, 0.61, 0.355, 1",repeatCount:"indefinite"}})]),t("circle",{attrs:{cx:"22",cy:"22",r:"1"}},[t("animate",{attrs:{attributeName:"r",begin:"-0.9s",dur:"1.8s",values:"1; 20",calcMode:"spline",keyTimes:"0; 1",keySplines:"0.165, 0.84, 0.44, 1",repeatCount:"indefinite"}}),t("animate",{attrs:{attributeName:"stroke-opacity",begin:"-0.9s",dur:"1.8s",values:"1; 0",calcMode:"spline",keyTimes:"0; 1",keySplines:"0.3, 0.61, 0.355, 1",repeatCount:"indefinite"}})])])])}}),Cr=a["a"].extend({name:"QSpinnerRadio",mixins:[Jt],render(t){return t("svg",{staticClass:"q-spinner",class:this.classes,on:this.$listeners,attrs:{focusable:"false",width:this.cSize,height:this.cSize,viewBox:"0 0 100 100",preserveAspectRatio:"xMidYMid",xmlns:"http://www.w3.org/2000/svg"}},[t("g",{attrs:{transform:"scale(0.55)"}},[t("circle",{attrs:{cx:"30",cy:"150",r:"30",fill:"currentColor"}},[t("animate",{attrs:{attributeName:"opacity",from:"0",to:"1",dur:"1s",begin:"0",repeatCount:"indefinite",keyTimes:"0;0.5;1",values:"0;1;1"}})]),t("path",{attrs:{d:"M90,150h30c0-49.7-40.3-90-90-90v30C63.1,90,90,116.9,90,150z",fill:"currentColor"}},[t("animate",{attrs:{attributeName:"opacity",from:"0",to:"1",dur:"1s",begin:"0.1",repeatCount:"indefinite",keyTimes:"0;0.5;1",values:"0;1;1"}})]),t("path",{attrs:{d:"M150,150h30C180,67.2,112.8,0,30,0v30C96.3,30,150,83.7,150,150z",fill:"currentColor"}},[t("animate",{attrs:{attributeName:"opacity",from:"0",to:"1",dur:"1s",begin:"0.2",repeatCount:"indefinite",keyTimes:"0;0.5;1",values:"0;1;1"}})])])])}}),kr=a["a"].extend({name:"QSpinnerRings",mixins:[Jt],render(t){return t("svg",{staticClass:"q-spinner",class:this.classes,on:this.$listeners,attrs:{focusable:"false",stroke:"currentColor",width:this.cSize,height:this.cSize,viewBox:"0 0 45 45",xmlns:"http://www.w3.org/2000/svg"}},[t("g",{attrs:{fill:"none","fill-rule":"evenodd",transform:"translate(1 1)","stroke-width":"2"}},[t("circle",{attrs:{cx:"22",cy:"22",r:"6"}},[t("animate",{attrs:{attributeName:"r",begin:"1.5s",dur:"3s",values:"6;22",calcMode:"linear",repeatCount:"indefinite"}}),t("animate",{attrs:{attributeName:"stroke-opacity",begin:"1.5s",dur:"3s",values:"1;0",calcMode:"linear",repeatCount:"indefinite"}}),t("animate",{attrs:{attributeName:"stroke-width",begin:"1.5s",dur:"3s",values:"2;0",calcMode:"linear",repeatCount:"indefinite"}})]),t("circle",{attrs:{cx:"22",cy:"22",r:"6"}},[t("animate",{attrs:{attributeName:"r",begin:"3s",dur:"3s",values:"6;22",calcMode:"linear",repeatCount:"indefinite"}}),t("animate",{attrs:{attributeName:"stroke-opacity",begin:"3s",dur:"3s",values:"1;0",calcMode:"linear",repeatCount:"indefinite"}}),t("animate",{attrs:{attributeName:"stroke-width",begin:"3s",dur:"3s",values:"2;0",calcMode:"linear",repeatCount:"indefinite"}})]),t("circle",{attrs:{cx:"22",cy:"22",r:"8"}},[t("animate",{attrs:{attributeName:"r",begin:"0s",dur:"1.5s",values:"6;1;2;3;4;5;6",calcMode:"linear",repeatCount:"indefinite"}})])])])}}),wr=a["a"].extend({name:"QSpinnerTail",mixins:[Jt],render(t){return t("svg",{staticClass:"q-spinner",class:this.classes,on:this.$listeners,attrs:{focusable:"false",width:this.cSize,height:this.cSize,viewBox:"0 0 38 38",xmlns:"http://www.w3.org/2000/svg"}},[t("defs",[t("linearGradient",{attrs:{x1:"8.042%",y1:"0%",x2:"65.682%",y2:"23.865%",id:"a"}},[t("stop",{attrs:{"stop-color":"currentColor","stop-opacity":"0",offset:"0%"}}),t("stop",{attrs:{"stop-color":"currentColor","stop-opacity":".631",offset:"63.146%"}}),t("stop",{attrs:{"stop-color":"currentColor",offset:"100%"}})])]),t("g",{attrs:{transform:"translate(1 1)",fill:"none","fill-rule":"evenodd"}},[t("path",{attrs:{d:"M36 18c0-9.94-8.06-18-18-18",stroke:"url(#a)","stroke-width":"2"}},[t("animateTransform",{attrs:{attributeName:"transform",type:"rotate",from:"0 18 18",to:"360 18 18",dur:"0.9s",repeatCount:"indefinite"}})]),t("circle",{attrs:{fill:"currentColor",cx:"36",cy:"18",r:"1"}},[t("animateTransform",{attrs:{attributeName:"transform",type:"rotate",from:"0 18 18",to:"360 18 18",dur:"0.9s",repeatCount:"indefinite"}})])])])}}),Rr=a["a"].extend({name:"QSplitter",mixins:[Ut],directives:{TouchPan:Yi},props:{value:{type:Number,required:!0},reverse:Boolean,unit:{type:String,default:"%",validator:t=>["%","px"].includes(t)},limits:{type:Array,validator:t=>{return 2===t.length&&("number"===typeof t[0]&&"number"===typeof t[1]&&(t[0]>=0&&t[0]<=t[1]))}},emitImmediately:Boolean,horizontal:Boolean,disable:Boolean,beforeClass:[Array,String,Object],afterClass:[Array,String,Object],separatorClass:[Array,String,Object],separatorStyle:[Array,String,Object]},watch:{value:{immediate:!0,handler(t){this.__normalize(t,this.computedLimits)}},limits:{deep:!0,handler(){this.$nextTick(()=>{this.__normalize(this.value,this.computedLimits)})}}},computed:{classes(){return(!0===this.horizontal?"column":"row")+` q-splitter--${!0===this.horizontal?"horizontal":"vertical"}`+` q-splitter--${!0===this.disable?"disabled":"workable"}`+(!0===this.isDark?" q-splitter--dark":"")},prop(){return!0===this.horizontal?"height":"width"},side(){return!0!==this.reverse?"before":"after"},computedLimits(){return void 0!==this.limits?this.limits:"%"===this.unit?[10,90]:[50,1/0]},styles(){return{[this.side]:{[this.prop]:this.__getCSSValue(this.value)}}}},methods:{__pan(t){if(!0===t.isFirst){const t=this.$el.getBoundingClientRect()[this.prop];return this.__dir=!0===this.horizontal?"up":"left",this.__maxValue="%"===this.unit?100:t,this.__value=Math.min(this.__maxValue,this.computedLimits[1],Math.max(this.computedLimits[0],this.value)),this.__multiplier=(!0!==this.reverse?1:-1)*(!0===this.horizontal?1:!0===this.$q.lang.rtl?-1:1)*("%"===this.unit?0===t?0:100/t:1),void this.$el.classList.add("q-splitter--active")}if(!0===t.isFinal)return this.__normalized!==this.value&&this.$emit("input",this.__normalized),void this.$el.classList.remove("q-splitter--active");const e=this.__value+this.__multiplier*(t.direction===this.__dir?-1:1)*t.distance[!0===this.horizontal?"y":"x"];this.__normalized=Math.min(this.__maxValue,this.computedLimits[1],Math.max(this.computedLimits[0],e)),this.$refs[this.side].style[this.prop]=this.__getCSSValue(this.__normalized),!0===this.emitImmediately&&this.value!==this.__normalized&&this.$emit("input",this.__normalized)},__normalize(t,e){t<e[0]?this.$emit("input",e[0]):t>e[1]&&this.$emit("input",e[1])},__getCSSValue(t){return("%"===this.unit?t:Math.round(t))+this.unit}},render(t){let e=[t("div",{ref:"before",staticClass:"q-splitter__panel q-splitter__before"+(!0===this.reverse?" col":""),style:this.styles.before,class:this.beforeClass,on:Ne(this,"stop",{input:R})},Lt(this,"before")),t("div",{staticClass:"q-splitter__separator",style:this.separatorStyle,class:this.separatorClass},[t("div",{staticClass:"absolute-full q-splitter__separator-area",directives:!0===this.disable?void 0:Ne(this,"dir#"+this.horizontal,[{name:"touch-pan",value:this.__pan,modifiers:{horizontal:!0!==this.horizontal,vertical:this.horizontal,prevent:!0,stop:!0,mouse:!0,mouseAllDir:!0}}])},Lt(this,"separator"))]),t("div",{ref:"after",staticClass:"q-splitter__panel q-splitter__after"+(!0===this.reverse?"":" col"),style:this.styles.after,class:this.afterClass,on:Ne(this,"stop",{input:R})},Lt(this,"after"))];return t("div",{staticClass:"q-splitter no-wrap",class:this.classes,on:this.$listeners},Bt(e,this,"default"))}}),Ir=a["a"].extend({name:"StepHeader",directives:{Ripple:se},props:{stepper:{},step:{}},computed:{isActive(){return this.stepper.value===this.step.name},isDisable(){const t=this.step.disable;return!0===t||""===t},isError(){const t=this.step.error;return!0===t||""===t},isDone(){const t=this.step.done;return!this.isDisable&&(!0===t||""===t)},headerNav(){const t=this.step.headerNav,e=!0===t||""===t||void 0===t;return!this.isDisable&&this.stepper.headerNav&&(this.isActive||e)},hasPrefix(){return this.step.prefix&&!this.isActive&&!this.isError&&!this.isDone},icon(){return this.isActive?this.step.activeIcon||this.stepper.activeIcon||this.$q.iconSet.stepper.active:this.isError?this.step.errorIcon||this.stepper.errorIcon||this.$q.iconSet.stepper.error:!this.isDisable&&this.isDone?this.step.doneIcon||this.stepper.doneIcon||this.$q.iconSet.stepper.done:this.step.icon||this.stepper.inactiveIcon},color(){return this.isActive?this.step.activeColor||this.stepper.activeColor||this.step.color:this.isError?this.step.errorColor||this.stepper.errorColor:!this.disable&&this.isDone?this.step.doneColor||this.stepper.doneColor||this.step.color||this.stepper.inactiveColor:this.step.color||this.stepper.inactiveColor},classes(){return{[`text-${this.color}`]:this.color,"q-stepper__tab--error":this.isError,"q-stepper__tab--active":this.isActive,"q-stepper__tab--done":this.isDone,"q-stepper__tab--navigation q-focusable q-hoverable":this.headerNav,"q-stepper__tab--disabled":this.isDisable}}},methods:{activate(){void 0!==this.$refs.blurTarget&&this.$refs.blurTarget.focus(),!this.isActive&&this.stepper.goTo(this.step.name)},keyup(t){13===t.keyCode&&!this.isActive&&this.stepper.goTo(this.step.name)}},render(t){const e={staticClass:"q-stepper__tab col-grow flex items-center no-wrap relative-position",class:this.classes,directives:this.stepper.headerNav?[{name:"ripple",value:this.headerNav}]:null};return this.headerNav&&(e.on={click:this.activate,keyup:this.keyup},e.attrs={tabindex:!0===this.isDisable?-1:this.$attrs.tabindex||0}),t("div",e,[t("div",{staticClass:"q-focus-helper",attrs:{tabindex:-1},ref:"blurTarget"}),t("div",{staticClass:"q-stepper__dot row flex-center q-stepper__line relative-position"},[t("span",{staticClass:"row flex-center"},[!0===this.hasPrefix?this.step.prefix:t(Ft,{props:{name:this.icon}})])]),this.step.title?t("div",{staticClass:"q-stepper__label q-stepper__line relative-position"},[t("div",{staticClass:"q-stepper__title"},[this.step.title]),this.step.caption?t("div",{staticClass:"q-stepper__caption"},[this.step.caption]):null]):null])}});const xr=a["a"].extend({name:"QStepWrapper",render(t){return t("div",{staticClass:"q-stepper__step-content"},[t("div",{staticClass:"q-stepper__step-inner"},Lt(this,"default"))])}});var Or=a["a"].extend({name:"QStep",inject:{stepper:{default(){console.error("QStep needs to be child of QStepper")}}},mixins:[Ti],props:{icon:String,color:String,title:{type:String,required:!0},caption:String,prefix:[String,Number],doneIcon:String,doneColor:String,activeIcon:String,activeColor:String,errorIcon:String,errorColor:String,headerNav:{type:Boolean,default:!0},done:Boolean,error:Boolean},computed:{isActive(){return this.stepper.value===this.name}},watch:{isActive(t){!0===t&&!0===this.stepper.vertical&&this.$nextTick(()=>{void 0!==this.$el&&(this.$el.scrollTop=0)})}},render(t){const e=this.stepper.vertical,i=!0===e&&!0===this.stepper.keepAlive?t("keep-alive",!0===this.isActive?[t(xr,{key:this.name},Lt(this,"default"))]:void 0):!0!==e||!0===this.isActive?xr.options.render.call(this,t):void 0;return t("div",{staticClass:"q-stepper__step",on:this.$listeners},!0===e?[t(Ir,{props:{stepper:this.stepper,step:this}}),!0===this.stepper.animated?t(es,[i]):i]:[i])}}),Ar=a["a"].extend({name:"QStepper",provide(){return{stepper:this}},mixins:[Ut,yi],props:{flat:Boolean,bordered:Boolean,vertical:Boolean,alternativeLabels:Boolean,headerNav:Boolean,contracted:Boolean,inactiveColor:String,inactiveIcon:String,doneIcon:String,doneColor:String,activeIcon:String,activeColor:String,errorIcon:String,errorColor:String},computed:{classes(){return`q-stepper--${!0===this.vertical?"vertical":"horizontal"}`+(!0===this.flat||!0===this.isDark?" q-stepper--flat no-shadow":"")+(!0===this.bordered||!0===this.isDark&&!1===this.flat?" q-stepper--bordered":"")+(!0===this.contracted?" q-stepper--contracted":"")+(!0===this.isDark?" q-stepper--dark q-dark":"")}},methods:{__getContent(t){let e=Lt(this,"message",[]);return!0===this.vertical?(this.__isValidPanelName(this.value)&&this.__updatePanelIndex(),e.concat(t("div",{staticClass:"q-stepper__content",on:Ne(this,"stop",{input:R})},Lt(this,"default")))):[t("div",{staticClass:"q-stepper__header row items-stretch justify-between",class:{[`q-stepper__header--${this.alternativeLabels?"alternative":"standard"}-labels`]:!0,"q-stepper__header--border":!this.flat||this.bordered}},this.__getAllPanels().map(e=>{const i=e.componentOptions.propsData;return t(Ir,{key:i.name,props:{stepper:this,step:i}})}))].concat(e,t("div",{staticClass:"q-stepper__content q-panel-parent",directives:this.panelDirectives},this.__getPanelContent(t)))},__renderPanels(t){return t("div",{staticClass:"q-stepper",class:this.classes,on:this.$listeners},Bt(this.__getContent(t),this,"navigation"))}}}),Mr=a["a"].extend({name:"QStepperNavigation",render(t){return t("div",{staticClass:"q-stepper__nav",on:this.$listeners},Lt(this,"default"))}}),Nr={computed:{marginalsProps(){return{pagination:this.computedPagination,pagesNumber:this.pagesNumber,isFirstPage:this.isFirstPage,isLastPage:this.isLastPage,prevPage:this.prevPage,nextPage:this.nextPage,inFullscreen:this.inFullscreen,toggleFullscreen:this.toggleFullscreen}}},methods:{getTop(t){const e=this.$scopedSlots.top,i=this.$scopedSlots["top-left"],n=this.$scopedSlots["top-right"],o=this.$scopedSlots["top-selection"],s=!0===this.hasSelectionMode&&void 0!==o&&this.rowsSelectedNumber>0,r="q-table__top relative-position row items-center";if(void 0!==e)return t("div",{staticClass:r},[e(this.marginalsProps)]);let a;return!0===s?a=o(this.marginalsProps).slice():(a=[],void 0!==i?a.push(t("div",{staticClass:"q-table-control"},[i(this.marginalsProps)])):this.title&&a.push(t("div",{staticClass:"q-table__control"},[t("div",{staticClass:"q-table__title"},this.title)]))),void 0!==n&&(a.push(t("div",{staticClass:"q-table__separator col"})),a.push(t("div",{staticClass:"q-table__control"},[n(this.marginalsProps)]))),0!==a.length?t("div",{staticClass:r},a):void 0}}},Lr=a["a"].extend({name:"QTh",props:{props:Object,autoWidth:Boolean},render(t){const e=this.$listeners;if(void 0===this.props)return t("th",{on:e,class:!0===this.autoWidth?"q-table--col-auto-width":null},Lt(this,"default"));let i,n;const o=this.$vnode.key;if(o){if(i=this.props.colsMap[o],void 0===i)return}else i=this.props.col;if(!0===i.sortable){const e="right"===i.align?"unshift":"push";n=Dt(this,"default",[]),n[e](t(Ft,{props:{name:this.$q.iconSet.table.arrowUp},staticClass:i.__iconClass}))}else n=Lt(this,"default");const s=!0===i.sortable?{click:t=>{this.props.sort(i),this.$emit("click",t)}}:{};return t("th",{on:{...e,...s},style:i.__thStyle,class:i.__thClass+(!0===this.autoWidth?" q-table--col-auto-width":"")},n)}}),Dr={methods:{getTableHeader(t){const e=this.getTableHeaderRow(t);return!0===this.loading&&e.push(t("tr",{staticClass:"q-table__progress"},[t("th",{staticClass:"relative-position",attrs:{colspan:"100%"}},this.__getProgress(t))])),t("thead",e)},getTableHeaderRow(t){const e=this.$scopedSlots.header,i=this.$scopedSlots["header-cell"];if(void 0!==e)return e(this.addTableHeaderRowMeta({header:!0,cols:this.computedCols,sort:this.sort,colsMap:this.computedColsMap})).slice();let n;n=void 0!==i?t=>i({col:t,cols:this.computedCols,sort:this.sort,colsMap:this.computedColsMap}):e=>{const i={col:e,cols:this.computedCols,sort:this.sort,colsMap:this.computedColsMap},n=this.$scopedSlots[`header-cell-${e.name}`];return void 0!==n?n(i):t(Lr,{key:e.name,props:{props:i},style:e.headerStyle,class:e.headerClasses},e.label)};const o=this.computedCols.map(n);return!0===this.singleSelection&&!0!==this.grid?o.unshift(t("th",{staticClass:"q-table--col-auto-width"},[" "])):!0===this.multipleSelection&&o.unshift(t("th",{staticClass:"q-table--col-auto-width"},[t(Ai,{props:{color:this.color,value:!0===this.someRowsSelected?null:this.allRowsSelected,dark:this.isDark,dense:this.dense},on:Ne(this,"inp",{input:t=>{!0===this.someRowsSelected&&(t=!1),this.__updateSelection(this.computedRows.map(this.getRowKey),this.computedRows,t)}})})])),[t("tr",{style:this.tableHeaderStyle,class:this.tableHeaderClass},o)]},addTableHeaderRowMeta(t){return!0===this.multipleSelection&&(Object.defineProperty(t,"selected",{get:()=>!0===this.someRowsSelected?"some":this.allRowsSelected,set:t=>{!0===this.someRowsSelected&&(t=!1),this.__updateSelection(this.computedRows.map(this.getRowKey),this.computedRows,t)},configurable:!0,enumerable:!0}),t.partialSelected=this.someRowsSelected,t.multipleSelect=!0),t}}},Br={methods:{getTableRowBody(t,e){const i=this.getRowKey(t),n=this.isRowSelected(i);return e(this.addBodyRowMeta({key:i,row:t,cols:this.computedCols,colsMap:this.computedColsMap,__trClass:n?"selected":""}))},getTableRow(t,e){const i=this.$scopedSlots["body-cell"],n=this.getRowKey(e),o=this.isRowSelected(n),s=i?this.computedCols.map(t=>i(this.addBodyCellMetaData({row:e,col:t}))):this.computedCols.map(i=>{const n=this.$scopedSlots[`body-cell-${i.name}`];return void 0!==n?n(this.addBodyCellMetaData({row:e,col:i})):t("td",{class:i.__tdClass,style:i.__tdStyle},this.getCellValue(i,e))});!0===this.hasSelectionMode&&s.unshift(t("td",{staticClass:"q-table--col-auto-width"},[t(Ai,{props:{value:o,color:this.color,dark:this.isDark,dense:this.dense},on:{input:t=>{this.__updateSelection([n],[e],t)}}})]));const r={key:n,class:{selected:o}};return void 0!==this.$listeners["row-click"]&&(r.on={click:t=>{this.$emit("row-click",t,e)}}),t("tr",r,s)},getTableBody(t){const e=this.$scopedSlots.body,i=this.$scopedSlots["top-row"],n=this.$scopedSlots["bottom-row"],o=void 0!==e?t=>this.getTableRowBody(t,e):e=>this.getTableRow(t,e);let s=this.computedRows.map(o);return void 0!==i&&(s=i({cols:this.computedCols}).concat(s)),void 0!==n&&(s=s.concat(n({cols:this.computedCols}))),t("tbody",s)},getTableRowVirtual(t){const e=this.$scopedSlots.body;return void 0!==e?t=>this.getTableRowBody(t.item,e):e=>this.getTableRow(t,e.item)},addBodyRowMeta(t){return!0===this.hasSelectionMode&&Object.defineProperty(t,"selected",{get:()=>this.isRowSelected(t.key),set:e=>{this.__updateSelection([t.key],[t.row],e)},configurable:!0,enumerable:!0}),Object.defineProperty(t,"expand",{get:()=>!0===this.rowsExpanded[t.key],set:e=>{this.$set(this.rowsExpanded,t.key,e)},configurable:!0,enumerable:!0}),t.cols=t.cols.map(e=>{const i={...e};return Object.defineProperty(i,"value",{get:()=>this.getCellValue(e,t.row),configurable:!0,enumerable:!0}),i}),t},addBodyCellMetaData(t){return Object.defineProperty(t,"value",{get:()=>this.getCellValue(t.col,t.row),configurable:!0,enumerable:!0}),t},getCellValue(t,e){const i="function"===typeof t.field?t.field(e):e[t.field];return void 0!==t.format?t.format(i,e):i}}},Pr={computed:{navIcon(){const t=[this.$q.iconSet.table.prevPage,this.$q.iconSet.table.nextPage];return!0===this.$q.lang.rtl?t.reverse():t}},methods:{getBottom(t){if(!0===this.hideBottom)return;if(!0===this.nothingToDisplay){const e=this.filter?this.noResultsLabel||this.$q.lang.table.noResults:!0===this.loading?this.loadingLabel||this.$q.lang.table.loading:this.noDataLabel||this.$q.lang.table.noData,i=this.$scopedSlots["no-data"],n=void 0!==i?[i({message:e,icon:this.$q.iconSet.table.warning,filter:this.filter})]:[t(Ft,{staticClass:"q-table__bottom-nodata-icon",props:{name:this.$q.iconSet.table.warning}}),e];return t("div",{staticClass:"q-table__bottom row items-center q-table__bottom--nodata"},n)}const e=this.$scopedSlots.bottom;return t("div",{staticClass:"q-table__bottom row items-center",class:void 0!==e?null:"justify-end"},void 0!==e?[e(this.marginalsProps)]:this.getPaginationRow(t))},getPaginationRow(t){let e;const{rowsPerPage:i}=this.computedPagination,n=this.paginationLabel||this.$q.lang.table.pagination,o=this.$scopedSlots.pagination,s=this.rowsPerPageOptions.length>1,r=[t("div",{staticClass:"q-table__control"},[t("div",[!0===this.hasSelectionMode&&this.rowsSelectedNumber>0?(this.selectedRowsLabel||this.$q.lang.table.selectedRecords)(this.rowsSelectedNumber):""])]),t("div",{staticClass:"q-table__separator col"})];return!0===s&&r.push(t("div",{staticClass:"q-table__control"},[t("span",{staticClass:"q-table__bottom-item"},[this.rowsPerPageLabel||this.$q.lang.table.recordsPerPage]),t(or,{staticClass:"inline q-table__bottom-item",props:{color:this.color,value:i,options:this.computedRowsPerPageOptions,displayValue:0===i?this.$q.lang.table.allRows:i,dark:this.isDark,borderless:!0,dense:!0,optionsDense:!0,optionsCover:!0},on:Ne(this,"pgSize",{input:t=>{this.setPagination({page:1,rowsPerPage:t.value})}})})])),void 0!==o?e=o(this.marginalsProps):(e=[t("span",0!==i?{staticClass:"q-table__bottom-item"}:{},[i?n(this.firstRowIndex+1,Math.min(this.lastRowIndex,this.computedRowsNumber),this.computedRowsNumber):n(1,this.computedRowsNumber,this.computedRowsNumber)])],0!==i&&e.push(t(ye,{props:{color:this.color,round:!0,icon:this.navIcon[0],dense:!0,flat:!0,disable:this.isFirstPage},on:Ne(this,"pgPrev",{click:this.prevPage})}),t(ye,{props:{color:this.color,round:!0,icon:this.navIcon[1],dense:!0,flat:!0,disable:this.isLastPage},on:Ne(this,"pgNext",{click:this.nextPage})}))),r.push(t("div",{staticClass:"q-table__control"},e)),r}}},Fr={methods:{getGridBody(t){const e=void 0!==this.$scopedSlots.item?this.$scopedSlots.item:e=>{const i=e.cols.map(e=>t("div",{staticClass:"q-table__grid-item-row"},[t("div",{staticClass:"q-table__grid-item-title"},[e.label]),t("div",{staticClass:"q-table__grid-item-value"},[e.value])]));!0===this.hasSelectionMode&&i.unshift(t("div",{staticClass:"q-table__grid-item-row"},[t(Ai,{props:{value:e.selected,color:this.color,dark:this.isDark,dense:!0},on:{input:t=>{e.selected=t}}})]),t(is,{props:{dark:this.isDark}}));const n={staticClass:"q-table__grid-item-card"+this.cardDefaultClass,class:this.cardClass,style:this.cardStyle};return void 0!==this.$listeners["row-click"]&&(n.on={click:t=>{this.$emit("row-click",t,e.row)}}),t("div",{staticClass:"q-table__grid-item col-xs-12 col-sm-6 col-md-4 col-lg-3",class:!0===e.selected?"q-table__grid-item--selected":""},[t("div",n,i)])};return t("div",{staticClass:"row",class:this.cardContainerClass,style:this.cardContainerStyle},this.computedRows.map(t=>{const i=this.getRowKey(t),n=this.isRowSelected(i);return e(this.addBodyRowMeta({key:i,row:t,cols:this.computedCols,colsMap:this.computedColsMap,__trClass:n?"selected":""}))}))},getGridHeader(t){const e=!0===this.gridHeader?[t("table",{staticClass:"q-table"},[this.getTableHeader(t)])]:!0===this.loading?this.__getProgress(t):void 0;return t("div",{staticClass:"q-table__middle"},e)}}},Hr=function(t,e,i){return t("div",{...e,staticClass:"q-table__middle"+(void 0!==e.staticClass?" "+e.staticClass:"")},[t("table",{staticClass:"q-table"},i)])};const Vr={list:No,table:Ss};var Ur=a["a"].extend({name:"QVirtualScroll",mixins:[ir],props:{type:{type:String,default:"list",validator:t=>["list","table","__qtable"].includes(t)},items:{type:Array,default:()=>[]},itemsFn:Function,itemsSize:Number,scrollTarget:{default:void 0}},computed:{virtualScrollLength(){return this.itemsSize>=0&&void 0!==this.itemsFn?parseInt(this.itemsSize,10):Array.isArray(this.items)?this.items.length:0},virtualScrollScope(){if(0===this.virtualScrollLength)return[];const t=(t,e)=>({index:this.virtualScrollSliceRange.from+e,item:t});return void 0===this.itemsFn?this.items.slice(this.virtualScrollSliceRange.from,this.virtualScrollSliceRange.to).map(t):this.itemsFn(this.virtualScrollSliceRange.from,this.virtualScrollSliceRange.to-this.virtualScrollSliceRange.from).map(t)},classes(){return"q-virtual-scroll q-virtual-scroll"+(!0===this.virtualScrollHorizontal?"--horizontal":"--vertical")+(void 0!==this.scrollTarget?"":" scroll")},attrs(){return void 0!==this.scrollTarget?void 0:{tabindex:0}}},watch:{virtualScrollLength(){this.__resetVirtualScroll()},scrollTarget(){this.__unconfigureScrollTarget(),this.__configureScrollTarget()}},methods:{__getVirtualScrollEl(){return this.$el},__getVirtualScrollTarget(){return this.__scrollTarget},__configureScrollTarget(){let t="string"===typeof this.scrollTarget?document.querySelector(this.scrollTarget):this.scrollTarget;void 0===t?t=this.$el:t!==document&&t!==document.body&&t!==document.scrollingElement&&t!==document.documentElement||(t=window),this.__scrollTarget=t,t.addEventListener("scroll",this.__onVirtualScrollEvt,b.passive)},__unconfigureScrollTarget(){void 0!==this.__scrollTarget&&(this.__scrollTarget.removeEventListener("scroll",this.__onVirtualScrollEvt,b.passive),this.__scrollTarget=void 0)}},beforeMount(){this.__resetVirtualScroll()},mounted(){this.__configureScrollTarget()},beforeDestroy(){this.__unconfigureScrollTarget()},render(t){if(void 0===this.$scopedSlots.default)return void console.error("QVirtualScroll: default scoped slot is required for rendering",this);let e=this.__padVirtualScroll(t,"list"===this.type?"div":"tbody",this.virtualScrollScope.map(this.$scopedSlots.default));return void 0!==this.$scopedSlots.before&&(e=this.$scopedSlots.before().concat(e)),e=Bt(e,this,"after"),"__qtable"===this.type?Hr(t,{staticClass:this.classes},e):t(Vr[this.type],{class:this.classes,attrs:this.attrs,props:this.$attrs,on:this.$listeners},e)}});function Wr(t,e){return new Date(t)-new Date(e)}var $r={props:{sortMethod:{type:Function,default(t,e,i){const n=this.columns.find(t=>t.name===e);if(void 0===n||void 0===n.field)return t;const o=!0===i?-1:1,s="function"===typeof n.field?t=>n.field(t):t=>t[n.field];return t.sort((t,e)=>{let i=s(t),r=s(e);return null===i||void 0===i?-1*o:null===r||void 0===r?1*o:void 0!==n.sort?n.sort(i,r,t,e)*o:!0===ki(i)&&!0===ki(r)?(i-r)*o:!0===Ci(i)&&!0===Ci(r)?Wr(i,r)*o:"boolean"===typeof i&&"boolean"===typeof r?(i-r)*o:([i,r]=[i,r].map(t=>(t+"").toLocaleString().toLowerCase()),i<r?-1*o:i===r?0:o)})}}},computed:{columnToSort(){const{sortBy:t}=this.computedPagination;if(t)return this.columns.find(e=>e.name===t)||null}},methods:{sort(t){t===Object(t)&&(t=t.name);let{sortBy:e,descending:i}=this.computedPagination;e!==t?(e=t,i=!1):!0===this.binaryStateSort?i=!i:!0===i?e=null:i=!0,this.setPagination({sortBy:e,descending:i,page:1})}}},Gr={props:{filter:[String,Object],filterMethod:{type:Function,default(t,e,i=this.computedCols,n=this.getCellValue){const o=e?e.toLowerCase():"";return t.filter(t=>i.some(e=>-1!==(n(e,t)+"").toLowerCase().indexOf(o)))}}},watch:{filter:{handler(){this.$nextTick(()=>{this.setPagination({page:1},!0)})},deep:!0}}};function qr(t,e){for(let i in e)if(e[i]!==t[i])return!1;return!0}function zr(t){return t.page<1&&(t.page=1),void 0!==t.rowsPerPage&&t.rowsPerPage<1&&(t.rowsPerPage=0),t}var Xr={props:{pagination:Object,rowsPerPageOptions:{type:Array,default:()=>[3,5,7,10,15,20,25,50,0]}},computed:{computedPagination(){return zr({...this.innerPagination,...this.pagination})},firstRowIndex(){const{page:t,rowsPerPage:e}=this.computedPagination;return(t-1)*e},lastRowIndex(){const{page:t,rowsPerPage:e}=this.computedPagination;return t*e},isFirstPage(){return 1===this.computedPagination.page},pagesNumber(){return 0===this.computedPagination.rowsPerPage?1:Math.max(1,Math.ceil(this.computedRowsNumber/this.computedPagination.rowsPerPage))},isLastPage(){return 0===this.lastRowIndex||this.computedPagination.page>=this.pagesNumber},computedRowsPerPageOptions(){return this.rowsPerPageOptions.map(t=>({label:0===t?this.$q.lang.table.allRows:""+t,value:t}))}},watch:{pagesNumber(t,e){if(t===e)return;const i=this.computedPagination.page;t&&!i?this.setPagination({page:1}):t<i&&this.setPagination({page:t})}},methods:{__sendServerRequest(t){this.requestServerInteraction({pagination:t,filter:this.filter})},setPagination(t,e){const i=zr({...this.computedPagination,...t});qr(this.computedPagination,i)?this.isServerSide&&e&&this.__sendServerRequest(i):this.isServerSide?this.__sendServerRequest(i):this.pagination?this.$emit("update:pagination",i):this.innerPagination=i},prevPage(){const{page:t}=this.computedPagination;t>1&&this.setPagination({page:t-1})},nextPage(){const{page:t,rowsPerPage:e}=this.computedPagination;this.lastRowIndex>0&&t*e<this.computedRowsNumber&&this.setPagination({page:t+1})}},created(){this.$emit("update:pagination",{...this.computedPagination})}},Yr={props:{selection:{type:String,default:"none",validator:t=>["single","multiple","none"].includes(t)},selected:{type:Array,default:()=>[]}},computed:{selectedKeys(){const t={};return this.selected.map(this.getRowKey).forEach(e=>{t[e]=!0}),t},hasSelectionMode(){return"none"!==this.selection},singleSelection(){return"single"===this.selection},multipleSelection(){return"multiple"===this.selection},allRowsSelected(){return this.computedRows.every(t=>!0===this.selectedKeys[this.getRowKey(t)])},someRowsSelected(){return!0!==this.allRowsSelected&&this.computedRows.some(t=>!0===this.selectedKeys[this.getRowKey(t)])},rowsSelectedNumber(){return this.selected.length}},methods:{isRowSelected(t){return!0===this.selectedKeys[t]},clearSelection(){this.$emit("update:selected",[])},__updateSelection(t,e,i){this.$emit("selection",{rows:e,added:i,keys:t});const n=!0===this.singleSelection?!0===i?e:[]:!0===i?this.selected.concat(e):this.selected.filter(e=>!1===t.includes(this.getRowKey(e)));this.$emit("update:selected",n)}}},jr={props:{visibleColumns:Array},computed:{computedCols(){let{sortBy:t,descending:e}=this.computedPagination;const i=void 0!==this.visibleColumns?this.columns.filter(t=>!0===t.required||!0===this.visibleColumns.includes(t.name)):this.columns;return i.map(i=>{return i.align=i.align||"right",i.__iconClass=`q-table__sort-icon q-table__sort-icon--${i.align}`,i.__thClass=`text-${i.align}${void 0!==i.headerClasses?" "+i.headerClasses:""}${!0===i.sortable?" sortable":""}${i.name===t?` sorted ${!0===e?"sort-desc":""}`:""}`,i.__tdClass=`text-${i.align}${void 0!==i.classes?" "+i.classes:""}`,i.__thStyle=void 0!==i.headerStyle?i.headerStyle:null,i.__tdStyle=void 0!==i.style?i.style:null,i})},computedColsMap(){const t={};return this.computedCols.forEach(e=>{t[e.name]=e}),t}}};const Kr={};er.forEach(t=>{Kr[t]={}});var Jr=a["a"].extend({name:"QTable",mixins:[Ut,Ei,Nr,Dr,Br,Pr,Fr,$r,Gr,Xr,Yr,jr],props:{data:{type:Array,default:()=>[]},rowKey:{type:[String,Function],default:"id"},columns:Array,loading:Boolean,binaryStateSort:Boolean,title:String,hideHeader:Boolean,hideBottom:Boolean,grid:Boolean,gridHeader:Boolean,dense:Boolean,flat:Boolean,bordered:Boolean,square:Boolean,separator:{type:String,default:"horizontal",validator:t=>["horizontal","vertical","cell","none"].includes(t)},wrapCells:Boolean,virtualScroll:Boolean,...Kr,noDataLabel:String,noResultsLabel:String,loadingLabel:String,selectedRowsLabel:Function,rowsPerPageLabel:String,paginationLabel:Function,color:{type:String,default:"grey-8"},tableStyle:[String,Array,Object],tableClass:[String,Array,Object],tableHeaderStyle:[String,Array,Object],tableHeaderClass:[String,Array,Object],cardContainerClass:[String,Array,Object],cardContainerStyle:[String,Array,Object],cardStyle:[String,Array,Object],cardClass:[String,Array,Object]},data(){return{rowsExpanded:{},innerPagination:{sortBy:null,descending:!1,page:1,rowsPerPage:5}}},watch:{needsReset(){!0===this.hasVirtScroll&&this.$refs.virtScroll.reset()}},computed:{getRowKey(){return"function"===typeof this.rowKey?this.rowKey:t=>t[this.rowKey]},hasVirtScroll(){return!0!==this.grid&&!0===this.virtualScroll},needsReset(){return["tableStyle","tableClass","tableHeaderStyle","tableHeaderClass","containerClass"].map(t=>this[t]).join(";")},computedData(){let t=this.data;if(0===t.length)return{rowsNumber:0,rows:t};if(!0===this.isServerSide)return{rows:t};const{sortBy:e,descending:i,rowsPerPage:n}=this.computedPagination;this.filter&&(t=this.filterMethod(t,this.filter,this.computedCols,this.getCellValue)),void 0!==this.columnToSort&&(t=this.sortMethod(this.data===t?t.slice():t,e,i));const o=t.length;return 0!==n&&(0===this.firstRowIndex&&this.data!==t?t.length=this.lastRowIndex:t=t.slice(this.firstRowIndex,this.lastRowIndex)),{rowsNumber:o,rows:t}},computedRows(){return this.computedData.rows},computedRowsNumber(){return!0===this.isServerSide?this.computedPagination.rowsNumber||0:this.computedData.rowsNumber},nothingToDisplay(){return 0===this.computedRows.length},isServerSide(){return void 0!==this.computedPagination.rowsNumber},cardDefaultClass(){return" q-table__card"+(!0===this.isDark?" q-table__card--dark q-dark":"")+(!0===this.square?" q-table--square":"")+(!0===this.flat?" q-table--flat":"")+(!0===this.bordered?" q-table--bordered":"")},containerClass(){return`q-table__container q-table--${this.separator}-separator`+(!0===this.loading?" q-table--loading":"")+(!0===this.grid?" q-table--grid":this.cardDefaultClass)+(!0===this.isDark?" q-table--dark":"")+(!0===this.dense?" q-table--dense":"")+(!1===this.wrapCells?" q-table--no-wrap":"")+(!0===this.inFullscreen?" fullscreen scroll":"")},virtProps(){const t={};return er.forEach(e=>{t[e]=this[e]}),void 0===t.virtualScrollItemSize&&(t.virtualScrollItemSize=!0===this.dense?28:48),t}},render(t){const e={staticClass:this.containerClass};return!1===this.grid&&(e.class=this.cardClass,e.style=this.cardStyle),t("div",e,[this.getTop(t),!0===this.grid?this.getGridHeader(t):null,this.getBody(t),this.getBottom(t)])},methods:{requestServerInteraction(t={}){this.$nextTick(()=>{this.$emit("request",{pagination:t.pagination||this.computedPagination,filter:t.filter||this.filter,getCellValue:this.getCellValue})})},resetVirtualScroll(){!0===this.hasVirtScroll&&this.$refs.virtScroll.reset()},getBody(t){if(!0===this.grid)return this.getGridBody(t);const e=!0!==this.hideHeader?this.getTableHeader(t):null;return!0===this.hasVirtScroll?t(Ur,{ref:"virtScroll",props:{...this.virtProps,items:this.computedRows,type:"__qtable"},on:Ne(this,"vs",{"virtual-scroll":this.__onVScroll}),class:this.tableClass,style:this.tableStyle,scopedSlots:{before:null===e?void 0:()=>e,default:this.getTableRowVirtual(t)}}):Hr(t,{staticClass:"scroll",class:this.tableClass,style:this.tableStyle},[e,this.getTableBody(t)])},__onVScroll(t){this.$emit("virtual-scroll",t)},__getProgress(t){return[t(Us,{staticClass:"q-table__linear-progress",props:{color:this.color,dark:this.isDark,indeterminate:!0,trackColor:"transparent"}})]}}}),Qr=a["a"].extend({name:"QTr",props:{props:Object},render(t){const e=this.$listeners;return t("tr",void 0===this.props||!0===this.props.header?e:{on:e,class:this.props.__trClass},Lt(this,"default"))}}),Zr=a["a"].extend({name:"QTd",props:{props:Object,autoWidth:Boolean},render(t){const e=this.$listeners;if(void 0===this.props)return t("td",{on:e,class:{"q-table--col-auto-width":this.autoWidth}},Lt(this,"default"));const i=this.$vnode.key,n=void 0!==this.props.colsMap&&i?this.props.colsMap[i]:this.props.col;return void 0!==n?t("td",{on:e,style:n.__tdStyle,class:n.__tdClass+(!0===this.autoWidth?" q-table--col-auto-width":"")},Lt(this,"default")):void 0}});const ta=/\/?$/;function ea(t,e){for(const i in e)if(!(i in t))return!1;return!0}function ia(t,e){return!!e&&(t.path&&e.path?t.path.replace(ta,"")===e.path.replace(ta,"")&&t.hash===e.hash&&Si(t.query,e.query):!(!t.name||!e.name)&&(t.name===e.name&&t.hash===e.hash&&Si(t.query,e.query)&&Si(t.params,e.params)))}function na(t,e){return 0===t.path.replace(ta,"/").indexOf(e.path.replace(ta,"/"))&&(!e.hash||t.hash===e.hash)&&ea(t.query,e.query)}var oa=a["a"].extend({name:"QRouteTab",mixins:[hn,jt],props:{to:{required:!0}},inject:{__activateRoute:{},__recalculateScroll:{}},watch:{$route(){this.__checkActivation()}},methods:{__activate(t,e){!0!==this.disable&&this.__checkActivation(!0),!0===e?this.$el.focus(t):void 0!==this.$refs.blurTarget&&this.$refs.blurTarget.focus(t)},__checkActivation(t=!1){const e=this.$route,{href:i,location:n,route:o}=this.$router.resolve(this.to,e,this.append),s=void 0!==o.redirectedFrom,r=!0===this.exact?ia:na,a={name:this.name,selected:t,exact:this.exact,priorityMatched:o.matched.length,priorityHref:i.length};r(e,o)&&this.__activateRoute({...a,redirected:s}),!0===s&&r(e,{path:o.redirectedFrom,...n})&&this.__activateRoute(a),this.isActive&&this.__activateRoute()}},mounted(){this.__recalculateScroll(),void 0!==this.$router&&this.__checkActivation()},beforeDestroy(){this.__recalculateScroll(),this.__activateRoute({remove:!0,name:this.name})},render(t){return this.__renderTab(t,"router-link",this.routerLinkProps)}}),sa=a["a"].extend({name:"QTime",mixins:[xn],directives:{TouchPan:Yi},props:{mask:{default:null},format24h:{type:Boolean,default:null},options:Function,hourOptions:Array,minuteOptions:Array,secondOptions:Array,withSeconds:Boolean,nowBtn:Boolean},data(){const t=Fn(this.value,this.__getComputedMask(),this.__getComputedLocale(),this.calendar);let e="Hour";return null!==t.hour&&(null===t.minute?e="Minute":!0===this.withSeconds&&null===t.second&&(e="Second")),{view:e,isAM:null===t.hour||t.hour<12,innerModel:t}},watch:{value(t){const e=Fn(t,this.computedMask,this.computedLocale,this.calendar);e.dateHash===this.innerModel.dateHash&&e.timeHash===this.innerModel.timeHash||(this.innerModel=e,null===e.hour?this.view="Hour":this.isAM=e.hour<12)}},computed:{classes(){return`q-time--${!0===this.landscape?"landscape":"portrait"}`+(!0===this.isDark?" q-time--dark q-dark":"")+(!0===this.readonly&&!0!==this.disable?" q-time--readonly":"")+(!0===this.disable?" disable":"")+(!0===this.bordered?" q-time--bordered":"")+(!0===this.square?" q-time--square no-border-radius":"")+(!0===this.flat?" q-time--flat no-shadow":"")},computedMask(){return this.__getComputedMask()},stringModel(){const t=this.innerModel;return{hour:null===t.hour?"--":!0===this.computedFormat24h?Tt(t.hour):String(!0===this.isAM?0===t.hour?12:t.hour:t.hour>12?t.hour-12:t.hour),minute:null===t.minute?"--":Tt(t.minute),second:null===t.second?"--":Tt(t.second)}},computedFormat24h(){return null!==this.format24h?this.format24h:this.$q.lang.date.format24h},pointerStyle(){const t="Hour"===this.view,e=!0===t?12:60,i=this.innerModel[this.view.toLowerCase()],n=Math.round(i*(360/e))-180;let o=`rotate3d(0,0,1,${n}deg) translate3d(-50%,0,0)`;return!0===t&&!0===this.computedFormat24h&&this.innerModel.hour>=12&&(o+=" scale3d(.7,.7,.7)"),{transform:o}},minLink(){return null!==this.innerModel.hour},secLink(){return!0===this.minLink&&null!==this.innerModel.minute},hourInSelection(){return void 0!==this.hourOptions?t=>this.hourOptions.includes(t):void 0!==this.options?t=>this.options(t,null,null):void 0},minuteInSelection(){return void 0!==this.minuteOptions?t=>this.minuteOptions.includes(t):void 0!==this.options?t=>this.options(this.innerModel.hour,t,null):void 0},secondInSelection(){return void 0!==this.secondOptions?t=>this.secondOptions.includes(t):void 0!==this.options?t=>this.options(this.innerModel.hour,this.innerModel.minute,t):void 0},positions(){let t,e,i,n=0,o=1;"Hour"===this.view?(i=this.hourInSelection,!0===this.computedFormat24h?(t=0,e=23):(t=0,e=11,!1===this.isAM&&(n=12))):(t=0,e=55,o=5,i="Minute"===this.view?this.minuteInSelection:this.secondInSelection);const s=[];for(let r=t,a=t;r<=e;r+=o,a++){const t=r+n,e=void 0!==i&&!1===i(t),o="Hour"===this.view&&0===r?!0===this.format24h?"00":"12":r;s.push({val:t,index:a,disable:e,label:o})}return s}},methods:{setNow(){this.__updateValue({...this.__getCurrentDate(),...this.__getCurrentTime()}),this.view="Hour"},__click(t){this.__drag({isFirst:!0,evt:t}),this.__drag({isFinal:!0,evt:t})},__drag(t){if(!0!==this._isBeingDestroyed&&!0!==this._isDestroyed){if(t.isFirst){const e=this.$refs.clock,{top:i,left:n,width:o}=e.getBoundingClientRect(),s=o/2;return this.dragging={top:i+s,left:n+s,dist:.7*s},this.dragCache=null,void this.__updateClock(t.evt)}this.__updateClock(t.evt),t.isFinal&&(this.dragging=!1,"Hour"===this.view?this.view="Minute":this.withSeconds&&"Minute"===this.view&&(this.view="Second"))}},__updateClock(t){let e,i=E(t),n=Math.abs(i.top-this.dragging.top),o=Math.sqrt(Math.pow(Math.abs(i.top-this.dragging.top),2)+Math.pow(Math.abs(i.left-this.dragging.left),2)),s=Math.asin(n/o)*(180/Math.PI);if(s=i.top<this.dragging.top?this.dragging.left<i.left?90-s:270+s:this.dragging.left<i.left?s+90:270-s,"Hour"===this.view?(e=Math.round(s/30),!0===this.computedFormat24h?(o<this.dragging.dist?e<12&&(e+=12):12===e&&(e=0),this.isAM=e<12):!0===this.isAM&&12===e?e=0:!1===this.isAM&&12!==e&&(e+=12)):(e=Math.round(s/6),60===e&&(e=0)),this.dragCache===e)return;const r=this[`${this.view.toLowerCase()}InSelection`];void 0!==r&&!0!==r(e)||(this.dragCache=e,this[`__set${this.view}`](e))},__onKeyupHour(t){if(13===t.keyCode)this.view="Hour";else{const e=!0===this.computedFormat24h?24:12,i=!0!==this.computedFormat24h&&!1===this.isAM?12:0;37===t.keyCode?this.__setHour(i+(24+this.innerModel.hour-1)%e):39===t.keyCode&&this.__setHour(i+(24+this.innerModel.hour+1)%e)}},__onKeyupMinute(t){13===t.keyCode?this.view="Minute":37===t.keyCode?this.__setMinute((60+this.innerModel.minute-1)%60):39===t.keyCode&&this.__setMinute((60+this.innerModel.minute+1)%60)},__onKeyupSecond(t){13===t.keyCode?this.view="Second":37===t.keyCode?this.__setSecond((60+this.innerModel.second-1)%60):39===t.keyCode&&this.__setSecond((60+this.innerModel.second+1)%60)},__getHeader(t){const e=[t("div",{staticClass:"q-time__link",class:"Hour"===this.view?"q-time__link--active":"cursor-pointer",attrs:{tabindex:this.computedTabindex},on:Ne(this,"vH",{click:()=>{this.view="Hour"},keyup:this.__onKeyupHour})},[this.stringModel.hour]),t("div",[":"]),t("div",!0===this.minLink?{staticClass:"q-time__link",class:"Minute"===this.view?"q-time__link--active":"cursor-pointer",attrs:{tabindex:this.computedTabindex},on:Ne(this,"vM",{click:()=>{this.view="Minute"},keyup:this.__onKeyupMinute})}:{staticClass:"q-time__link"},[this.stringModel.minute])];return!0===this.withSeconds&&e.push(t("div",[":"]),t("div",!0===this.secLink?{staticClass:"q-time__link",class:"Second"===this.view?"q-time__link--active":"cursor-pointer",attrs:{tabindex:this.computedTabindex},on:Ne(this,"vS",{click:()=>{this.view="Second"},keyup:this.__onKeyupSecond})}:{staticClass:"q-time__link"},[this.stringModel.second])),t("div",{staticClass:"q-time__header flex flex-center no-wrap",class:this.headerClass},[t("div",{staticClass:"q-time__header-label row items-center no-wrap",attrs:{dir:"ltr"}},e),!1===this.computedFormat24h?t("div",{staticClass:"q-time__header-ampm column items-between no-wrap"},[t("div",{staticClass:"q-time__link",class:!0===this.isAM?"q-time__link--active":"cursor-pointer",attrs:{tabindex:this.computedTabindex},on:Ne(this,"AM",{click:this.__setAm,keyup:t=>{13===t.keyCode&&this.__setAm()}})},["AM"]),t("div",{staticClass:"q-time__link",class:!0!==this.isAM?"q-time__link--active":"cursor-pointer",attrs:{tabindex:this.computedTabindex},on:Ne(this,"PM",{click:this.__setPm,keyup:t=>{13===t.keyCode&&this.__setPm()}})},["PM"])]):null])},__getClock(t){const e=this.view.toLowerCase(),i=this.innerModel[e];return t("div",{staticClass:"q-time__content col relative-position"},[t("transition",{props:{name:"q-transition--scale"}},[t("div",{key:"clock"+this.view,staticClass:"q-time__container-parent absolute-full"},[t("div",{ref:"clock",staticClass:"q-time__container-child fit overflow-hidden"},[t("div",{staticClass:"q-time__clock cursor-pointer non-selectable",on:Ne(this,"click",{click:this.__click}),directives:Ne(this,"touch",[{name:"touch-pan",value:this.__drag,modifiers:{stop:!0,prevent:!0,mouse:!0}}])},[t("div",{staticClass:"q-time__clock-circle fit"},[null!==this.innerModel[e]?t("div",{staticClass:"q-time__clock-pointer",style:this.pointerStyle,class:void 0!==this.color?`text-${this.color}`:null}):null,this.positions.map(e=>t("div",{staticClass:`q-time__clock-position row flex-center q-time__clock-pos-${e.index}`,class:e.val===i?this.headerClass.concat(" q-time__clock-position--active"):!0===e.disable?"q-time__clock-position--disable":null},[t("span",[e.label])]))])])])])]),!0===this.nowBtn?t(ye,{staticClass:"q-time__now-button absolute",props:{icon:this.$q.iconSet.datetime.now,unelevated:!0,size:"sm",round:!0,color:this.color,textColor:this.textColor,tabindex:this.computedTabindex},on:Ne(this,"now",{click:this.setNow})}):null])},__setHour(t){this.innerModel.hour!==t&&(this.innerModel.hour=t,this.innerModel.minute=null,this.innerModel.second=null)},__setMinute(t){this.innerModel.minute!==t&&(this.innerModel.minute=t,this.innerModel.second=null,!0!==this.withSeconds&&this.__updateValue({minute:t}))},__setSecond(t){this.innerModel.second!==t&&this.__updateValue({second:t})},__setAm(){this.isAM||(this.isAM=!0,null!==this.innerModel.hour&&(this.innerModel.hour-=12,this.__verifyAndUpdate()))},__setPm(){this.isAM&&(this.isAM=!1,null!==this.innerModel.hour&&(this.innerModel.hour+=12,this.__verifyAndUpdate()))},__verifyAndUpdate(){return void 0!==this.hourInSelection&&!0!==this.hourInSelection(this.innerModel.hour)?(this.innerModel=Fn(),this.isAM=!0,void(this.view="Hour")):void 0!==this.minuteInSelection&&!0!==this.minuteInSelection(this.innerModel.minute)?(this.innerModel.minute=null,this.innerModel.second=null,void(this.view="Minute")):!0===this.withSeconds&&void 0!==this.secondInSelection&&!0!==this.secondInSelection(this.innerModel.second)?(this.innerModel.second=null,void(this.view="Second")):void(null===this.innerModel.hour||null===this.innerModel.minute||!0===this.withSeconds&&null===this.innerModel.second||this.__updateValue({}))},__getComputedMask(){return"persian"!==this.calendar&&null!==this.mask?this.mask:`HH:mm${!0===this.withSeconds?":ss":""}`},__updateValue(t){const e={...this.innerModel,...t},i="persian"===this.calendar?Tt(e.hour)+":"+Tt(e.minute)+(!0===this.withSeconds?":"+Tt(e.second):""):Xn(new Date(e.year,null===e.month?null:e.month-1,e.day,e.hour,e.minute,e.second,e.millisecond),this.computedMask,this.computedLocale,e.year);e.changed=i!==this.value,this.$emit("input",i,e)}},render(t){const e=[this.__getClock(t)],i=Lt(this,"default");return void 0!==i&&e.push(t("div",{staticClass:"q-time__actions"},i)),t("div",{staticClass:"q-time",class:this.classes,on:this.$listeners,attrs:{tabindex:-1}},[this.__getHeader(t),t("div",{staticClass:"q-time__main col overflow-auto"},e)])}}),ra=a["a"].extend({name:"QTimeline",mixins:[Ut],provide(){return{__timeline:this}},props:{color:{type:String,default:"primary"},side:{type:String,default:"right",validator:t=>["left","right"].includes(t)},layout:{type:String,default:"dense",validator:t=>["dense","comfortable","loose"].includes(t)}},computed:{classes(){return`q-timeline--${this.layout} q-timeline--${this.layout}--${this.side}`+(!0===this.isDark?" q-timeline--dark":"")}},render(t){return t("ul",{staticClass:"q-timeline",class:this.classes,on:this.$listeners},Lt(this,"default"))}}),aa=a["a"].extend({name:"QTimelineEntry",inject:{__timeline:{default(){console.error("QTimelineEntry needs to be child of QTimeline")}}},props:{heading:Boolean,tag:{type:String,default:"h3"},side:{type:String,default:"right",validator:t=>["left","right"].includes(t)},icon:String,avatar:String,color:String,title:String,subtitle:String,body:String},computed:{colorClass(){return`text-${this.color||this.__timeline.color}`},classes(){return`q-timeline__entry--${this.side}`+(void 0!==this.icon||void 0!==this.avatar?" q-timeline__entry--icon":"")},reverse(){return"comfortable"===this.__timeline.layout&&"left"===this.__timeline.side}},render(t){const e=Dt(this,"default",[]);if(void 0!==this.body&&e.unshift(this.body),!0===this.heading){const i=[t("div"),t("div"),t(this.tag,{staticClass:"q-timeline__heading-title"},e)];return t("div",{staticClass:"q-timeline__heading",on:this.$listeners},!0===this.reverse?i.reverse():i)}let i;void 0!==this.icon?i=[t(Ft,{staticClass:"row items-center justify-center",props:{name:this.icon}})]:void 0!==this.avatar&&(i=[t("img",{staticClass:"q-timeline__dot-img",domProps:{src:this.avatar}})]);const n=[t("div",{staticClass:"q-timeline__subtitle"},[t("span",Lt(this,"subtitle",[this.subtitle]))]),t("div",{staticClass:"q-timeline__dot",class:this.colorClass},i),t("div",{staticClass:"q-timeline__content"},[t("h6",{staticClass:"q-timeline__title"},Lt(this,"title",[this.title]))].concat(e))];return t("li",{staticClass:"q-timeline__entry",class:this.classes,on:this.$listeners},!0===this.reverse?n.reverse():n)}}),la=a["a"].extend({name:"QToolbar",props:{inset:Boolean},render(t){return t("div",{staticClass:"q-toolbar row no-wrap items-center",class:this.inset?"q-toolbar--inset":null,on:this.$listeners},Lt(this,"default"))}}),ca=a["a"].extend({name:"QToolbarTitle",props:{shrink:Boolean},render(t){return t("div",{staticClass:"q-toolbar__title ellipsis",class:!0===this.shrink?"col-shrink":null,on:this.$listeners},Lt(this,"default"))}}),ua=a["a"].extend({name:"QTree",mixins:[Ut],props:{nodes:{type:Array,required:!0},nodeKey:{type:String,required:!0},labelKey:{type:String,default:"label"},color:String,controlColor:String,textColor:String,selectedColor:String,icon:String,tickStrategy:{type:String,default:"none",validator:t=>["none","strict","leaf","leaf-filtered"].includes(t)},ticked:Array,expanded:Array,selected:{},defaultExpandAll:Boolean,accordion:Boolean,filter:String,filterMethod:{type:Function,default(t,e){const i=e.toLowerCase();return t[this.labelKey]&&t[this.labelKey].toLowerCase().indexOf(i)>-1}},duration:Number,noNodesLabel:String,noResultsLabel:String},computed:{classes(){return{[`text-${this.color}`]:this.color,"q-tree--dark":this.isDark}},hasSelection(){return void 0!==this.selected},computedIcon(){return this.icon||this.$q.iconSet.tree.icon},computedControlColor(){return this.controlColor||this.color},textColorClass(){if(void 0!==this.textColor)return`text-${this.textColor}`},selectedColorClass(){const t=this.selectedColor||this.color;if(t)return`text-${t}`},meta(){const t={},e=(i,n)=>{const o=i.tickStrategy||(n?n.tickStrategy:this.tickStrategy),s=i[this.nodeKey],r=i.children&&i.children.length>0,a=!0!==r,l=!0!==i.disabled&&!0===this.hasSelection&&!1!==i.selectable,c=!0!==i.disabled&&!1!==i.expandable,u="none"!==o,h="strict"===o,d="leaf-filtered"===o,p="leaf"===o||"leaf-filtered"===o;let _=!0!==i.disabled&&!1!==i.tickable;!0===p&&!0===_&&n&&!0!==n.tickable&&(_=!1);let g=i.lazy;g&&this.lazy[s]&&(g=this.lazy[s]);const f={key:s,parent:n,isParent:r,isLeaf:a,lazy:g,disabled:i.disabled,link:!0!==i.disabled&&(!0===l||!0===c&&(!0===r||!0===g)),children:[],matchesFilter:!this.filter||this.filterMethod(i,this.filter),selected:s===this.selected&&!0===l,selectable:l,expanded:!0===r&&this.innerExpanded.includes(s),expandable:c,noTick:!0===i.noTick||!0!==h&&g&&"loaded"!==g,tickable:_,tickStrategy:o,hasTicking:u,strictTicking:h,leafFilteredTicking:d,leafTicking:p,ticked:!0===h?this.innerTicked.includes(s):!0===a&&this.innerTicked.includes(s)};if(t[s]=f,!0===r&&(f.children=i.children.map(t=>e(t,f)),this.filter&&(!0!==f.matchesFilter?f.matchesFilter=f.children.some(t=>t.matchesFilter):!0!==f.noTick&&!0!==f.disabled&&!0===f.tickable&&!0===d&&!0===f.children.every(t=>!0!==t.matchesFilter||!0===t.noTick||!0!==t.tickable)&&(f.tickable=!1)),!0===f.matchesFilter&&(!0!==f.noTick&&!0!==h&&!0===f.children.every(t=>t.noTick)&&(f.noTick=!0),p))){if(f.ticked=!1,f.indeterminate=f.children.some(t=>!0===t.indeterminate),f.tickable=!0===f.tickable&&f.children.some(t=>t.tickable),!0!==f.indeterminate){const t=f.children.reduce((t,e)=>!0===e.ticked?t+1:t,0);t===f.children.length?f.ticked=!0:t>0&&(f.indeterminate=!0)}!0===f.indeterminate&&(f.indeterminateNextState=f.children.every(t=>!0!==t.tickable||!0!==t.ticked))}return f};return this.nodes.forEach(t=>e(t,null)),t}},data(){return{lazy:{},innerTicked:this.ticked||[],innerExpanded:this.expanded||[]}},watch:{ticked(t){this.innerTicked=t},expanded(t){this.innerExpanded=t}},methods:{getNodeByKey(t){const e=[].reduce,i=(n,o)=>{return n||!o?n:!0===Array.isArray(o)?e.call(Object(o),i,n):o[this.nodeKey]===t?o:o.children?i(null,o.children):void 0};return i(null,this.nodes)},getTickedNodes(){return this.innerTicked.map(t=>this.getNodeByKey(t))},getExpandedNodes(){return this.innerExpanded.map(t=>this.getNodeByKey(t))},isExpanded(t){return!(!t||!this.meta[t])&&this.meta[t].expanded},collapseAll(){void 0!==this.expanded?this.$emit("update:expanded",[]):this.innerExpanded=[]},expandAll(){const t=this.innerExpanded,e=i=>{i.children&&i.children.length>0&&!1!==i.expandable&&!0!==i.disabled&&(t.push(i[this.nodeKey]),i.children.forEach(e))};this.nodes.forEach(e),void 0!==this.expanded?this.$emit("update:expanded",t):this.innerExpanded=t},setExpanded(t,e,i=this.getNodeByKey(t),n=this.meta[t]){if(n.lazy&&"loaded"!==n.lazy){if("loading"===n.lazy)return;this.$set(this.lazy,t,"loading"),this.$emit("lazy-load",{node:i,key:t,done:e=>{this.lazy[t]="loaded",e&&this.$set(i,"children",e),this.$nextTick(()=>{const e=this.meta[t];e&&!0===e.isParent&&this.__setExpanded(t,!0)})},fail:()=>{this.$delete(this.lazy,t)}})}else!0===n.isParent&&!0===n.expandable&&this.__setExpanded(t,e)},__setExpanded(t,e){let i=this.innerExpanded;const n=void 0!==this.expanded;if(!0===n&&(i=i.slice()),e){if(this.accordion&&this.meta[t]){const e=[];this.meta[t].parent?this.meta[t].parent.children.forEach(i=>{i.key!==t&&!0===i.expandable&&e.push(i.key)}):this.nodes.forEach(i=>{const n=i[this.nodeKey];n!==t&&e.push(n)}),e.length>0&&(i=i.filter(t=>!1===e.includes(t)))}i=i.concat([t]).filter((t,e,i)=>i.indexOf(t)===e)}else i=i.filter(e=>e!==t);!0===n?this.$emit("update:expanded",i):this.innerExpanded=i},isTicked(t){return!(!t||!this.meta[t])&&this.meta[t].ticked},setTicked(t,e){let i=this.innerTicked;const n=void 0!==this.ticked;!0===n&&(i=i.slice()),i=e?i.concat(t).filter((t,e,i)=>i.indexOf(t)===e):i.filter(e=>!1===t.includes(e)),!0===n&&this.$emit("update:ticked",i)},__getSlotScope(t,e,i){const n={tree:this,node:t,key:i,color:this.color,dark:this.isDark};return Object.defineProperty(n,"expanded",{get:()=>{return e.expanded},set:t=>{t!==e.expanded&&this.setExpanded(i,t)},configurable:!0,enumerable:!0}),Object.defineProperty(n,"ticked",{get:()=>{return e.ticked},set:t=>{t!==e.ticked&&this.setTicked([i],t)},configurable:!0,enumerable:!0}),n},__getChildren(t,e){return(this.filter?e.filter(t=>this.meta[t[this.nodeKey]].matchesFilter):e).map(e=>this.__getNode(t,e))},__getNodeMedia(t,e){if(void 0!==e.icon)return t(Ft,{staticClass:"q-tree__icon q-mr-sm",props:{name:e.icon,color:e.iconColor}});const i=e.img||e.avatar;return i?t("img",{staticClass:`q-tree__${e.img?"img":"avatar"} q-mr-sm`,attrs:{src:i}}):void 0},__getNode(t,e){const i=e[this.nodeKey],n=this.meta[i],o=e.header&&this.$scopedSlots[`header-${e.header}`]||this.$scopedSlots["default-header"],s=!0===n.isParent?this.__getChildren(t,e.children):[],r=s.length>0||n.lazy&&"loaded"!==n.lazy;let a=e.body&&this.$scopedSlots[`body-${e.body}`]||this.$scopedSlots["default-body"],l=void 0!==o||void 0!==a?this.__getSlotScope(e,n,i):null;return void 0!==a&&(a=t("div",{staticClass:"q-tree__node-body relative-position"},[t("div",{class:this.textColorClass},[a(l)])])),t("div",{key:i,staticClass:"q-tree__node relative-position",class:{"q-tree__node--parent":r,"q-tree__node--child":!r}},[t("div",{staticClass:"q-tree__node-header relative-position row no-wrap items-center",class:{"q-tree__node--link q-hoverable q-focusable":n.link,"q-tree__node--selected":n.selected,disabled:n.disabled},attrs:{tabindex:n.link?0:-1},on:{click:t=>{this.__onClick(e,n,t)},keypress:t=>{!0!==tt(t)&&(13===t.keyCode?this.__onClick(e,n,t,!0):32===t.keyCode&&this.__onExpandClick(e,n,t,!0))}}},[t("div",{staticClass:"q-focus-helper",attrs:{tabindex:-1},ref:`blurTarget_${n.key}`}),"loading"===n.lazy?t(Qt,{staticClass:"q-tree__spinner q-mr-xs",props:{color:this.computedControlColor}}):!0===r?t(Ft,{staticClass:"q-tree__arrow q-mr-xs",class:{"q-tree__arrow--rotate":n.expanded},props:{name:this.computedIcon},nativeOn:{click:t=>{this.__onExpandClick(e,n,t)}}}):null,!0===n.hasTicking&&!0!==n.noTick?t(Ai,{staticClass:"q-mr-xs",props:{value:!0===n.indeterminate?null:n.ticked,color:this.computedControlColor,dark:this.isDark,dense:!0,keepColor:!0,disable:!0!==n.tickable},on:{keydown:x,input:t=>{this.__onTickedClick(n,t)}}}):null,t("div",{staticClass:"q-tree__node-header-content col row no-wrap items-center",class:n.selected?this.selectedColorClass:this.textColorClass},[o?o(l):[this.__getNodeMedia(t,e),t("div",e[this.labelKey])]])]),!0===r?t(es,{props:{duration:this.duration}},[t("div",{staticClass:"q-tree__node-collapsible",class:this.textColorClass,directives:[{name:"show",value:n.expanded}]},[a,t("div",{staticClass:"q-tree__children",class:{disabled:n.disabled}},s)])]):a])},__blur(t){const e=this.$refs[`blurTarget_${t}`];void 0!==e&&e.focus()},__onClick(t,e,i,n){!0!==n&&this.__blur(e.key),this.hasSelection?e.selectable&&this.$emit("update:selected",e.key!==this.selected?e.key:null):this.__onExpandClick(t,e,i,n),"function"===typeof t.handler&&t.handler(t)},__onExpandClick(t,e,i,n){void 0!==i&&x(i),!0!==n&&this.__blur(e.key),this.setExpanded(e.key,!e.expanded,t,e)},__onTickedClick(t,e){if(!0===t.indeterminate&&(e=t.indeterminateNextState),t.strictTicking)this.setTicked([t.key],e);else if(t.leafTicking){const i=[],n=t=>{t.isParent?(!0!==e&&!0!==t.noTick&&!0===t.tickable&&i.push(t.key),!0===t.leafTicking&&t.children.forEach(n)):!0===t.noTick||!0!==t.tickable||!0===t.leafFilteredTicking&&!0!==t.matchesFilter||i.push(t.key)};n(t),this.setTicked(i,e)}}},render(t){const e=this.__getChildren(t,this.nodes);return t("div",{staticClass:"q-tree",class:this.classes},0===e.length?this.filter?this.noResultsLabel||this.$q.lang.tree.noResults:this.noNodesLabel||this.$q.lang.tree.noNodes:e)},created(){!0===this.defaultExpandAll&&this.expandAll()}}),ha={mixins:[Ut],props:{label:String,color:String,textColor:String,square:Boolean,flat:Boolean,bordered:Boolean,multiple:Boolean,accept:String,maxFileSize:Number,maxTotalSize:Number,filter:Function,noThumbnails:Boolean,autoUpload:Boolean,hideUploadBtn:Boolean,disable:Boolean,readonly:Boolean},provide(){return{__qUploaderGetInput:this.__getInputControl}},data(){return{files:[],queuedFiles:[],uploadedFiles:[],dnd:!1,expanded:!1,uploadSize:0,uploadedSize:0}},watch:{isUploading(t,e){!1===e&&!0===t?this.$emit("start"):!0===e&&!1===t&&this.$emit("finish")}},computed:{canUpload(){return!0===this.editable&&!0!==this.isBusy&&!0!==this.isUploading&&this.queuedFiles.length>0},canAddFiles(){return this.editable&&!0!==this.isUploading&&(!0===this.multiple||0===this.queuedFiles.length)},extensions(){if(void 0!==this.accept)return this.accept.split(",").map(t=>{return t=t.trim(),t.endsWith("/*")&&(t=t.slice(0,t.length-1)),t})},uploadProgress(){return 0===this.uploadSize?0:this.uploadedSize/this.uploadSize},uploadProgressLabel(){return this.__getProgressLabel(this.uploadProgress)},uploadedSizeLabel(){return vt(this.uploadedSize)},uploadSizeLabel(){return vt(this.uploadSize)},colorClass(){const t=[];return void 0!==this.color&&t.push(`bg-${this.color}`),void 0!==this.textColor&&t.push(`text-${this.textColor}`),t.join(" ")},editable(){return!0!==this.disable&&!0!==this.readonly}},methods:{pickFiles(t){if(this.editable){const e=this.__getFileInput();e&&e.click(t)}},addFiles(t){this.editable&&t&&this.__addFiles(null,t)},reset(){this.disable||(this.abort(),this.uploadedSize=0,this.uploadSize=0,this.files=[],this.queuedFiles=[],this.uploadedFiles=[])},removeUploadedFiles(){this.disable||(this.files=this.files.filter(t=>"uploaded"!==t.__status),this.uploadedFiles=[])},removeQueuedFiles(){if(!this.disable){const t=[];this.files.forEach(e=>{"idle"!==e.__status&&"failed"!==e.__status||(this.uploadSize-=e.size,t.push(e))}),t.length>0&&(this.files=this.files.filter(t=>"idle"!==t.__status&&"failed"!==t.__status),this.queuedFiles=[],this.$emit("removed",t))}},removeFile(t){this.disable||("uploaded"===t.__status?this.uploadedFiles=this.uploadedFiles.filter(e=>e.name!==t.name):"uploading"===t.__status?t.__abort():this.uploadSize-=t.size,this.files=this.files.filter(e=>e.name!==t.name),this.queuedFiles=this.queuedFiles.filter(e=>e.name!==t.name),this.$emit("removed",[t]))},__getFileInput(){return this.$refs.input||this.$el.getElementsByClassName("q-uploader__input")[0]},__getProgressLabel(t){return(100*t).toFixed(2)+"%"},__updateFile(t,e,i){if(t.__status=e,"idle"===e)return t.__uploaded=0,t.__progress=0,t.__sizeLabel=vt(t.size),void(t.__progressLabel="0.00%");"failed"!==e?(t.__uploaded="uploaded"===e?t.size:i,t.__progress="uploaded"===e?1:Math.min(.9999,t.__uploaded/t.size),t.__progressLabel=this.__getProgressLabel(t.__progress),this.$forceUpdate()):this.$forceUpdate()},__addFiles(t,e){if(e=Array.prototype.slice.call(e||t.target.files),this.__getFileInput().value="",e=e.filter(t=>!this.files.some(e=>t.name===e.name)),0===e.length)return;if(void 0!==this.accept&&(e=Array.prototype.filter.call(e,t=>{return this.extensions.some(e=>t.type.toUpperCase().startsWith(e.toUpperCase())||t.name.toUpperCase().endsWith(e.toUpperCase()))}),0===e.length))return;if(void 0!==this.maxFileSize&&(e=Array.prototype.filter.call(e,t=>t.size<=this.maxFileSize),0===e.length))return;if(!0!==this.multiple&&(e=[e[0]]),void 0!==this.maxTotalSize){let t=0;for(let i=0;i<e.length;i++)if(t+=e[i].size,t>this.maxTotalSize){if(i>0){e=e.slice(0,i-1);break}return}if(0===e.length)return}if("function"===typeof this.filter&&(e=this.filter(e)),0===e.length)return;let i=[];e.forEach(t=>{if(this.__updateFile(t,"idle"),this.uploadSize+=t.size,!0!==this.noThumbnails&&t.type.toUpperCase().startsWith("IMAGE")){const e=new FileReader;let n=new Promise((i,n)=>{e.onload=e=>{let n=new Image;n.src=e.target.result,t.__img=n,i(!0)},e.onerror=t=>{n(t)}});e.readAsDataURL(t),i.push(n)}}),Promise.all(i).then(()=>{this.files=this.files.concat(e),this.queuedFiles=this.queuedFiles.concat(e),this.$emit("added",e),!0===this.autoUpload&&this.upload()})},__onDragOver(t){x(t),this.dnd=!0},__onDragLeave(t){x(t),this.dnd=!1},__onDrop(t){x(t);let e=t.dataTransfer.files;e.length>0&&this.__addFiles(null,e),this.dnd=!1},__getBtn(t,e,i,n){if(!0===e)return t(ye,{props:{type:"a",icon:this.$q.iconSet.uploader[i],flat:!0,dense:!0},on:"add"===i?null:{click:n}},"add"===i?this.__getInputControl(t):null)},__getInputControl(t){return[t("input",{ref:"input",staticClass:"q-uploader__input overflow-hidden absolute-full",attrs:{tabindex:-1,type:"file",title:"",accept:this.accept,...!0===this.multiple?{multiple:!0}:{}},on:Ne(this,"input",{mousedown:R,change:this.__addFiles})})]},__getHeader(t){return void 0!==this.$scopedSlots.header?this.$scopedSlots.header(this):[t("div",{staticClass:"q-uploader__header-content flex flex-center no-wrap q-gutter-xs"},[this.__getBtn(t,this.queuedFiles.length>0,"removeQueue",this.removeQueuedFiles),this.__getBtn(t,this.uploadedFiles.length>0,"removeUploaded",this.removeUploadedFiles),!0===this.isUploading?t(Qt,{staticClass:"q-uploader__spinner"}):null,t("div",{staticClass:"col column justify-center"},[void 0!==this.label?t("div",{staticClass:"q-uploader__title"},[this.label]):null,t("div",{staticClass:"q-uploader__subtitle"},[this.uploadSizeLabel+" / "+this.uploadProgressLabel])]),this.__getBtn(t,this.canAddFiles,"add",this.pickFiles),this.__getBtn(t,!1===this.hideUploadBtn&&!0===this.canUpload,"upload",this.upload),this.__getBtn(t,this.isUploading,"clear",this.abort)])]},__getList(t){return void 0!==this.$scopedSlots.list?this.$scopedSlots.list(this):this.files.map(e=>t("div",{key:e.name,staticClass:"q-uploader__file relative-position",class:{"q-uploader__file--img":void 0!==e.__img,"q-uploader__file--failed":"failed"===e.__status,"q-uploader__file--uploaded":"uploaded"===e.__status},style:void 0!==e.__img?{backgroundImage:"url("+e.__img.src+")"}:null},[t("div",{staticClass:"q-uploader__file-header row flex-center no-wrap"},["failed"===e.__status?t(Ft,{staticClass:"q-uploader__file-status",props:{name:this.$q.iconSet.type.negative,color:"negative"}}):null,t("div",{staticClass:"q-uploader__file-header-content col"},[t("div",{staticClass:"q-uploader__title"},[e.name]),t("div",{staticClass:"q-uploader__subtitle row items-center no-wrap"},[e.__sizeLabel+" / "+e.__progressLabel])]),"uploading"===e.__status?t(Fi,{props:{value:e.__progress,min:0,max:1,indeterminate:0===e.__progress}}):t(ye,{props:{round:!0,dense:!0,flat:!0,icon:this.$q.iconSet.uploader["uploaded"===e.__status?"done":"clear"]},on:{click:()=>{this.removeFile(e)}}})])]))}},beforeDestroy(){!0===this.isUploading&&this.abort()},render(t){return t("div",{staticClass:"q-uploader column no-wrap",class:{"q-uploader--dark q-dark":this.isDark,"q-uploader--bordered":this.bordered,"q-uploader--square no-border-radius":this.square,"q-uploader--flat no-shadow":this.flat,"disabled q-uploader--disable":this.disable},on:!0===this.canAddFiles?Ne(this,"drag",{dragover:this.__onDragOver}):null},[t("div",{staticClass:"q-uploader__header",class:this.colorClass},this.__getHeader(t)),t("div",{staticClass:"q-uploader__list scroll"},this.__getList(t)),!0===this.dnd?t("div",{staticClass:"q-uploader__dnd absolute-full",on:Ne(this,"dnd",{dragenter:x,dragover:x,dragleave:this.__onDragLeave,drop:this.__onDrop})}):null,!0===this.isBusy?t("div",{staticClass:"q-uploader__overlay absolute-full flex flex-center"},[t(Qt)]):null])}};function da(t){return"function"===typeof t?t:()=>t}var pa={props:{url:[Function,String],method:{type:[Function,String],default:"POST"},fieldName:{type:[Function,String],default:t=>t.name},headers:[Function,Array],formFields:[Function,Array],withCredentials:[Function,Boolean],sendRaw:[Function,Boolean],batch:[Function,Boolean],factory:Function},data(){return{xhrs:[],promises:[],workingThreads:0}},computed:{xhrProps(){return{url:da(this.url),method:da(this.method),headers:da(this.headers),formFields:da(this.formFields),fieldName:da(this.fieldName),withCredentials:da(this.withCredentials),sendRaw:da(this.sendRaw),batch:da(this.batch)}},isUploading(){return this.workingThreads>0},isBusy(){return this.promises.length>0}},methods:{abort(){this.xhrs.forEach(t=>{t.abort()}),this.promises.length>0&&(this.abortPromises=!0)},upload(){if(!1===this.canUpload)return;const t=this.queuedFiles.slice(0);this.queuedFiles=[],this.xhrProps.batch(t)?this.__runFactory(t):t.forEach(t=>{this.__runFactory([t])})},__runFactory(t){if(this.workingThreads++,"function"!==typeof this.factory)return void this.__uploadFiles(t,{});const e=this.factory(t);if(e)if("function"===typeof e.catch&&"function"===typeof e.then){this.promises.push(e);const i=i=>{!0!==this._isBeingDestroyed&&!0!==this._isDestroyed&&(this.promises=this.promises.filter(t=>t!==e),0===this.promises.length&&(this.abortPromises=!1),this.queuedFiles=this.queuedFiles.concat(t),t.forEach(t=>{this.__updateFile(t,"failed")}),this.$emit("factory-failed",i,t),this.workingThreads--)};e.then(n=>{!0===this.abortPromises?i(new Error("Aborted")):!0!==this._isBeingDestroyed&&!0!==this._isDestroyed&&(this.promises=this.promises.filter(t=>t!==e),this.__uploadFiles(t,n))}).catch(i)}else this.__uploadFiles(t,e||{});else this.$emit("factory-failed",new Error("QUploader: factory() does not return properly"),t),this.workingThreads--},__uploadFiles(t,e){const i=new FormData,n=new XMLHttpRequest,o=(t,i)=>{return void 0!==e[t]?da(e[t])(i):this.xhrProps[t](i)},s=o("url",t);if(!s)return console.error("q-uploader: invalid or no URL specified"),void this.workingThreads--;const r=o("formFields",t);void 0!==r&&r.forEach(t=>{i.append(t.name,t.value)});let a,l=0,c=0,u=0,h=0;n.upload.addEventListener("progress",e=>{if(!0===a)return;const i=Math.min(h,e.loaded);this.uploadedSize+=i-u,u=i;let n=u-c;for(let o=l;n>0&&o<t.length;o++){const e=t[o],i=n>e.size;if(!i)return void this.__updateFile(e,"uploading",n);n-=e.size,l++,c+=e.size,this.__updateFile(e,"uploading",e.size)}},!1),n.onreadystatechange=()=>{n.readyState<4||(n.status&&n.status<400?(this.uploadedFiles=this.uploadedFiles.concat(t),t.forEach(t=>{this.__updateFile(t,"uploaded")}),this.$emit("uploaded",{files:t,xhr:n})):(a=!0,this.uploadedSize-=u,this.queuedFiles=this.queuedFiles.concat(t),t.forEach(t=>{this.__updateFile(t,"failed")}),this.$emit("failed",{files:t,xhr:n})),this.workingThreads--,this.xhrs=this.xhrs.filter(t=>t!==n))},n.open(o("method",t),s),!0===o("withCredentials",t)&&(n.withCredentials=!0);const d=o("headers",t);void 0!==d&&d.forEach(t=>{n.setRequestHeader(t.name,t.value)});const p=o("sendRaw",t);t.forEach(t=>{this.__updateFile(t,"uploading",0),!0!==p&&i.append(o("fieldName",t),t),t.xhr=n,t.__abort=n.abort,h+=t.size}),this.$emit("uploading",{files:t,xhr:n}),this.xhrs.push(n),!0===p?n.send(new Blob(t)):n.send(i)}}},_a=a["a"].extend({name:"QUploader",mixins:[ha,pa]}),ga=a["a"].extend({name:"QUploaderAddTrigger",inject:{__qUploaderGetInput:{default(){console.error("QUploaderAddTrigger needs to be child of QUploader")}}},render(t){return this.__qUploaderGetInput(t)}}),fa=a["a"].extend({name:"QVideo",props:{src:{type:String,required:!0}},computed:{iframeData(){return{attrs:{src:this.src,frameborder:"0",allowfullscreen:!0}}}},render(t){return t("div",{staticClass:"q-video",on:this.$listeners},[t("iframe",this.iframeData)])}});function ma(t){if(!1===t)return 0;if(!0===t||void 0===t)return 1;const e=parseInt(t,10);return isNaN(e)?0:e}var va={name:"close-popup",bind(t,{value:e},i){const n={depth:ma(e),handler(t){0!==n.depth&&setTimeout(()=>{Re(i.componentInstance||i.context,t,n.depth)})},handlerKey(t){!0===et(t,13)&&n.handler(t)}};void 0!==t.__qclosepopup&&(t.__qclosepopup_old=t.__qclosepopup),t.__qclosepopup=n,t.addEventListener("click",n.handler),t.addEventListener("keyup",n.handlerKey)},update(t,{value:e,oldValue:i}){e!==i&&(t.__qclosepopup.depth=ma(e))},unbind(t){const e=t.__qclosepopup_old||t.__qclosepopup;void 0!==e&&(t.removeEventListener("click",e.handler),t.removeEventListener("keyup",e.handlerKey),delete t[t.__qclosepopup_old?"__qclosepopup_old":"__qclosepopup"])}},ba={name:"go-back",bind(t,{value:e,modifiers:i},n){const o={value:e,position:window.history.length-1,single:i.single,goBack(){const t=n.context.$router;o.single?t.go(-1):!0===f.is.nativeMobile?t.go(o.position-window.history.length):t.replace(o.value)},goBackKey(t){!0===et(t,13)&&o.goBack()}};t.__qgoback&&(t.__qgoback_old=t.__qgoback),t.__qgoback=o,t.addEventListener("click",o.goBack),t.addEventListener("keyup",o.goBackKey)},update(t,{value:e,oldValue:i}){e!==i&&(t.__qgoback.value=e)},unbind(t){const e=t.__qgoback_old||t.__qgoback;void 0!==e&&(t.removeEventListener("click",e.goBack),t.removeEventListener("keyup",e.goBackKey),delete t[t.__qgoback_old?"__qgoback_old":"__qgoback"])}};const ya={childList:!0,subtree:!0,attributes:!0,characterData:!0,attributeOldValue:!0,characterDataOldValue:!0};function Ta(t,e,{modifiers:{once:i,...n},value:o}){let s;e.once=i,e.handler!==o&&(s=!0,e.handler=o),void 0!==e.opts&&!1!==Si(n,e.mod)||(s=!0,e.mod=n,e.opts=0===Object.keys(n).length?ya:n),!0===s&&(void 0!==e.observer&&e.observer.disconnect(),e.observer=new MutationObserver(i=>{const n=e.handler(i);!1!==n&&!0!==e.once||Ea(t)}),e.observer.observe(t,e.opts))}function Ea(t){const e=t.__qmutation;void 0!==e&&(void 0!==e.observer&&e.observer.disconnect(),delete t.__qmutation)}var Sa={name:"mutation",inserted(t,e){const i={};Ta(t,i,e),t.__qmutation=i},update(t,e){const i=t.__qmutation;void 0!==i&&Ta(t,i,e)},unbind:Ea};function Ca(t,{value:e,oldValue:i}){const n=t.__qscrollfire;if("function"!==typeof e)return n.scrollTarget.removeEventListener("scroll",n.scroll),void console.error("v-scroll-fire requires a function as parameter",t);n.handler=e,"function"!==typeof i&&(n.scrollTarget.addEventListener("scroll",n.scroll,b.passive),n.scroll())}var ka={name:"scroll-fire",bind(t){let e={scroll:M(()=>{let i,n;e.scrollTarget===window?(n=t.getBoundingClientRect().bottom,i=window.innerHeight):(n=Zt(t).top+te(t),i=Zt(e.scrollTarget).top+te(e.scrollTarget)),n>0&&n<i&&(e.scrollTarget.removeEventListener("scroll",e.scroll,b.passive),e.handler(t))},25)};t.__qscrollfire&&(t.__qscrollfire_old=t.__qscrollfire),t.__qscrollfire=e},inserted(t,e){let i=t.__qscrollfire;i.scrollTarget=Ue(t),Ca(t,e)},update(t,e){e.value!==e.oldValue&&Ca(t,e)},unbind(t){let e=t.__qscrollfire_old||t.__qscrollfire;void 0!==e&&(e.scrollTarget.removeEventListener("scroll",e.scroll,b.passive),delete t[t.__qscrollfire_old?"__qscrollfire_old":"__qscrollfire"])}};function wa(t,{value:e,oldValue:i}){const n=t.__qscroll;if("function"!==typeof e)return n.scrollTarget.removeEventListener("scroll",n.scroll,b.passive),void console.error("v-scroll requires a function as parameter",t);n.handler=e,"function"!==typeof i&&n.scrollTarget.addEventListener("scroll",n.scroll,b.passive)}var Ra={name:"scroll",bind(t){let e={scroll(){e.handler($e(e.scrollTarget),Ge(e.scrollTarget))}};t.__qscroll&&(t.__qscroll_old=t.__qscroll),t.__qscroll=e},inserted(t,e){let i=t.__qscroll;i.scrollTarget=Ue(t),wa(t,e)},update(t,e){e.oldValue!==e.value&&wa(t,e)},unbind(t){let e=t.__qscroll_old||t.__qscroll;void 0!==e&&(e.scrollTarget.removeEventListener("scroll",e.scroll,b.passive),delete t[t.__qscroll_old?"__qscroll_old":"__qscroll"])}};function Ia(t,e){const i=t.__qtouchhold;if(void 0!==i){e.oldValue!==e.value&&(i.handler=e.value);const t=[600,5,7];"string"===typeof e.arg&&e.arg.length&&e.arg.split(":").forEach((e,i)=>{const n=parseInt(e,10);n&&(t[i]=n)}),[i.duration,i.touchSensitivity,i.mouseSensitivity]=t}}var xa={name:"touch-hold",bind(t,e){const{modifiers:i}=e;if(!0!==i.mouse&&!0!==f.has.touch)return;const n={mouseStart(t){!0===T(t)&&(pe(n,"temp",[[document,"mousemove","mouseMove","notPassiveCapture"],[document,"click","end","notPassiveCapture"]]),n.start(t,!0))},mouseMove(t){const{top:e,left:i}=E(t);(Math.abs(i-n.origin.left)>=n.mouseSensitivity||Math.abs(e-n.origin.top)>=n.mouseSensitivity)&&n.end(t)},start(t,e){n.origin=E(t);const i=Date.now();!0===f.is.mobile&&(document.body.classList.add("non-selectable"),Ee()),n.triggered=!1,n.timer=setTimeout(()=>{Ee(),n.triggered=!0,n.handler({evt:t,touch:!0!==e,mouse:!0===e,position:n.origin,duration:Date.now()-i})},n.duration)},end(t){_e(n,"temp"),!0===n.triggered?(!0===f.is.mobile&&(Ee(),setTimeout(()=>{document.body.classList.remove("non-selectable")},10)),x(t)):(!0===f.is.mobile&&document.body.classList.remove("non-selectable"),clearTimeout(n.timer))},touchStart(t){if(void 0!==t.target){const e=ge(t.target);pe(n,"temp",[[e,"touchmove","touchMove","notPassiveCapture"],[e,"touchcancel","end","notPassiveCapture"],[e,"touchend","end","notPassiveCapture"]]),n.start(t)}},touchMove(t){const{top:e,left:i}=E(t);(Math.abs(i-n.origin.left)>=n.touchSensitivity||Math.abs(e-n.origin.top)>=n.touchSensitivity)&&n.end(t)}};t.__qtouchhold&&(t.__qtouchhold_old=t.__qtouchhold),t.__qtouchhold=n,Ia(t,e),!0===i.mouse&&pe(n,"main",[[t,"mousedown","mouseStart",`passive${!0===i.mouseCapture?"Capture":""}`]]),!0===f.has.touch&&pe(n,"main",[[t,"touchstart","touchStart",`passive${!0===i.capture?"Capture":""}`]])},update:Ia,unbind(t){const e=t.__qtouchhold_old||t.__qtouchhold;void 0!==e&&(_e(e,"main"),_e(e,"temp"),clearTimeout(e.timer),!0===f.is.mobile&&document.body.classList.remove("non-selectable"),delete t[t.__qtouchhold_old?"__qtouchhold_old":"__qtouchhold"])}};const Oa={esc:27,tab:9,enter:13,space:32,up:38,left:37,right:39,down:40,delete:[8,46]},Aa=new RegExp(`^([\\d+]+|${Object.keys(Oa).join("|")})$`,"i");function Ma(t,e){const{top:i,left:n}=E(t);return Math.abs(n-e.left)>=7||Math.abs(i-e.top)>=7}var Na={name:"touch-repeat",bind(t,{modifiers:e,value:i,arg:n}){const o=Object.keys(e).reduce((t,e)=>{if(!0===Aa.test(e)){const i=isNaN(parseInt(e,10))?Oa[e.toLowerCase()]:parseInt(e,10);i>=0&&t.push(i)}return t},[]);if(!0!==e.mouse&&!0!==f.has.touch&&0===o.length)return;const s="string"===typeof n&&n.length>0?n.split(":").map(t=>parseInt(t,10)):[0,600,300],r=s.length-1,a={keyboard:o,handler:i,stopAndPrevent:x,mouseStart(t){!0===a.skipMouse?a.skipMouse=!1:void 0===a.event&&!0===T(t)&&(pe(a,"temp",[[document,"mousemove","move","passiveCapture"],[document,"mouseup","end","passiveCapture"]]),a.start(t,!0))},keyboardStart(e){if(!0===et(e,o)){if((0===s[0]||void 0!==a.event)&&(x(e),t.focus(),void 0!==a.event))return;pe(a,"temp",[[document,"keyup","end","passiveCapture"]]),a.start(e,!1,!0)}},touchStart(t){if(void 0!==t.target){const e=ge(t.target);pe(a,"temp",[[e,"touchmove","move","passiveCapture"],[e,"touchcancel","touchEnd","passiveCapture"],[e,"touchend","touchEnd","passiveCapture"],[document,"contextmenu","stopAndPrevent","notPassiveCapture"]]),a.start(t)}},touchEnd(t){void 0!==a.event&&(a.skipMouse=!0,a.end(t))},start(t,e,i){!0!==i&&(a.origin=E(t)),!0===f.is.mobile&&(document.body.classList.add("non-selectable"),Ee()),a.event={touch:!0!==e&&!0!==i,mouse:!0===e,keyboard:!0===i,startTime:Date.now(),repeatCount:0};const n=()=>{if(void 0===a.event)return;0===a.event.repeatCount&&(a.event.evt=t,!0===i?a.event.keyCode=t.keyCode:a.event.position=E(t),!0!==f.is.mobile&&(document.documentElement.style.cursor="pointer",document.body.classList.add("non-selectable"),Ee())),a.event.duration=Date.now()-a.event.startTime,a.event.repeatCount+=1,a.handler(a.event);const e=r<a.event.repeatCount?r:a.event.repeatCount;a.timer=setTimeout(n,s[e])};0===s[0]?n():a.timer=setTimeout(n,s[0])},move(t){void 0!==a.event&&!0===Ma(t,a.origin)&&(!0===a.event.touch?a.touchEnd(t):a.end(t))},end(){if(void 0===a.event)return;const t=a.event.repeatCount>0;!0!==f.is.mobile&&!0!==t||(document.documentElement.style.cursor="",Ee(),setTimeout(()=>{document.body.classList.remove("non-selectable")},10)),_e(a,"temp"),clearTimeout(a.timer),a.timer=void 0,a.event=void 0}};t.__qtouchrepeat&&(t.__qtouchrepeat_old=t.__qtouchrepeat),t.__qtouchrepeat=a,!0===e.mouse&&pe(a,"main",[[t,"mousedown","mouseStart",`passive${!0===e.mouseCapture?"Capture":""}`]]),!0===f.has.touch&&pe(a,"main",[[t,"touchstart","touchStart",`passive${!0===e.capture?"Capture":""}`]]),o.length>0&&pe(a,"main",[[t,"keydown","keyboardStart",`notPassive${!0===e.keyCapture?"Capture":""}`]])},update(t,e){const i=t.__qtouchrepeat;void 0!==i&&e.oldValue!==e.value&&(i.handler=e.value)},unbind(t){const e=t.__qtouchrepeat_old||t.__qtouchrepeat;void 0!==e&&(clearTimeout(e.timer),_e(e,"main"),_e(e,"temp"),(!0===f.is.mobile||void 0!==e.event&&e.event.repeatCount>0)&&(document.documentElement.style.cursor="",document.body.classList.remove("non-selectable")),delete t[t.__qtouchrepeat_old?"__qtouchrepeat_old":"__qtouchrepeat"])}};let La;function Da(){return v.is.winphone?"msapplication-navbutton-color":v.is.safari?"apple-mobile-web-app-status-bar-style":"theme-color"}function Ba(t){const e=document.getElementsByTagName("META");for(let i in e)if(e[i].name===t)return e[i]}function Pa(t){void 0===La&&(La=Da());let e=Ba(La);const i=void 0===e;i&&(e=document.createElement("meta"),e.setAttribute("name",La)),e.setAttribute("content",t),i&&document.head.appendChild(e)}var Fa={install({$q:t,cfg:e}){this.set=!1!==l||!0!==v.is.mobile||!0!==v.is.nativeMobile&&!0!==v.is.winphone&&!0!==v.is.safari&&!0!==v.is.webkit&&!0!==v.is.vivaldi?()=>{}:t=>{const e=t||J("primary");!0===v.is.nativeMobile&&window.StatusBar?window.StatusBar.backgroundColorByHexString(e):Pa(e)},t.addressbarColor=this,e.addressbarColor&&this.set(e.addressbarColor)}};const Ha={};function Va(t,e){try{const i=t[e]();return void 0===i?Promise.resolve():i}catch(i){return Promise.reject(i)}}var Ua={isCapable:!1,isActive:!1,request(t){return this.isCapable&&!this.isActive?Va(t||document.documentElement,Ha.request):this.__getErr()},exit(){return this.isCapable&&this.isActive?Va(document,Ha.exit):this.__getErr()},toggle(t){return this.isActive?this.exit():this.request(t)},install({$q:t}){t.fullscreen=this,!0!==l&&(Ha.request=["requestFullscreen","msRequestFullscreen","mozRequestFullScreen","webkitRequestFullscreen"].find(t=>document.documentElement[t]),this.isCapable=void 0!==Ha.request,!1!==this.isCapable?(this.__getErr=()=>Promise.resolve(),Ha.exit=["exitFullscreen","msExitFullscreen","mozCancelFullScreen","webkitExitFullscreen"].find(t=>document[t]),this.isActive=!!(document.fullscreenElement||document.mozFullScreenElement||document.webkitFullscreenElement||document.msFullscreenElement),["onfullscreenchange","onmsfullscreenchange","onwebkitfullscreenchange"].forEach(t=>{document[t]=()=>{this.isActive=!this.isActive}}),a["a"].util.defineReactive(this,"isActive",this.isActive)):this.__getErr=()=>Promise.reject("Not capable"))}},Wa={appVisible:!1,install({$q:t}){if(!0===l)return void(this.appVisible=t.appVisible=!0);let e,i;"undefined"!==typeof document.hidden?(e="hidden",i="visibilitychange"):"undefined"!==typeof document.msHidden?(e="msHidden",i="msvisibilitychange"):"undefined"!==typeof document.webkitHidden&&(e="webkitHidden",i="webkitvisibilitychange");const n=()=>{this.appVisible=t.appVisible=!document[e]};n(),i&&"undefined"!==typeof document[e]&&(a["a"].util.defineReactive(t,"appVisible",this.appVisible),document.addEventListener(i,n,!1))}},$a=a["a"].extend({name:"BottomSheetPlugin",mixins:[Ut],inheritAttrs:!1,props:{title:String,message:String,actions:Array,grid:Boolean,cardClass:[String,Array,Object],cardStyle:[String,Array,Object]},methods:{show(){this.$refs.dialog.show()},hide(){this.$refs.dialog.hide()},onOk(t){this.$emit("ok",t),this.hide()},__getGrid(t){return this.actions.map(e=>{const i=e.avatar||e.img;return void 0===e.label?t(is,{staticClass:"col-all",props:{dark:this.isDark}}):t("div",{staticClass:"q-bottom-sheet__item q-hoverable q-focusable cursor-pointer relative-position",class:e.classes,attrs:{tabindex:0},on:{click:()=>this.onOk(e),keyup:t=>{13===t.keyCode&&this.onOk(e)}}},[t("div",{staticClass:"q-focus-helper"}),e.icon?t(Ft,{props:{name:e.icon,color:e.color}}):i?t("img",{attrs:{src:i},staticClass:e.avatar?"q-bottom-sheet__avatar":null}):t("div",{staticClass:"q-bottom-sheet__empty-icon"}),t("div",[e.label])])})},__getList(t){return this.actions.map(e=>{const i=e.avatar||e.img;return void 0===e.label?t(is,{props:{spaced:!0,dark:this.isDark}}):t(Lo,{staticClass:"q-bottom-sheet__item",class:e.classes,props:{tabindex:0,clickable:!0,dark:this.isDark},on:{click:()=>this.onOk(e),keyup:t=>{13===t.keyCode&&this.onOk(e)}}},[t(Do,{props:{avatar:!0}},[e.icon?t(Ft,{props:{name:e.icon,color:e.color}}):i?t("img",{attrs:{src:i},staticClass:e.avatar?"q-bottom-sheet__avatar":null}):null]),t(Do,[e.label])])})}},render(t){let e=[];return this.title&&e.push(t(gi,{staticClass:"q-dialog__title"},[this.title])),this.message&&e.push(t(gi,{staticClass:"q-dialog__message scroll"},[this.message])),e.push(!0===this.grid?t("div",{staticClass:"scroll row items-stretch justify-start"},this.__getGrid(t)):t("div",{staticClass:"scroll"},this.__getList(t))),t(_o,{ref:"dialog",props:{...this.$attrs,position:"bottom"},on:Ne(this,"hide",{hide:()=>{this.$emit("hide")}})},[t(_i,{staticClass:`q-bottom-sheet q-bottom-sheet--${!0===this.grid?"grid":"list"}`+(!0===this.isDark?" q-bottom-sheet--dark q-dark":""),style:this.cardStyle,class:this.cardClass},e)])}});const Ga={onOk:()=>Ga,okCancel:()=>Ga,hide:()=>Ga};var qa=function(t){return({className:e,class:i,style:n,component:o,root:s,parent:r,...c})=>{if(!0===l)return Ga;void 0!==i&&(c.cardClass=i),void 0!==n&&(c.cardStyle=n);const u=[],h=[],d={onOk(t){return u.push(t),d},onCancel(t){return h.push(t),d},onDismiss(t){return u.push(t),h.push(t),d},hide(){return v.$refs.dialog.hide(),d}},p=document.createElement("div");document.body.appendChild(p);let _=!1;const g={ok:t=>{_=!0,u.forEach(e=>{e(t)})},hide:()=>{v.$destroy(),v.$el.remove(),v=null,!0!==_&&h.forEach(t=>{t()})}};a["a"].observable(c);const f=void 0!==o?o:t,m=void 0===o?c:void 0;let v=new a["a"]({name:"QGlobalDialog",el:p,parent:void 0===r?s:r,render(t){return t(f,{ref:"dialog",props:c,attrs:m,on:g})},mounted(){this.$refs.dialog.show()}});return d}},za={install({$q:t}){this.create=t.bottomSheet=qa($a)}};function Xa(t){return encodeURIComponent(t)}function Ya(t){return decodeURIComponent(t)}function ja(t){return Xa(t===Object(t)?JSON.stringify(t):""+t)}function Ka(t){if(""===t)return t;0===t.indexOf('"')&&(t=t.slice(1,-1).replace(/\\"/g,'"').replace(/\\\\/g,"\\")),t=Ya(t.replace(/\+/g," "));try{t=JSON.parse(t)}catch(Ul){}return t}function Ja(t,e,i={},n){let o,s;void 0!==i.expires&&(s=parseFloat(i.expires),isNaN(s)?o=i.expires:(o=new Date,o.setMilliseconds(o.getMilliseconds()+864e5*s),o=o.toUTCString()));const r=`${Xa(t)}=${ja(e)}`,a=[r,void 0!==o?"; Expires="+o:"",i.path?"; Path="+i.path:"",i.domain?"; Domain="+i.domain:"",i.sameSite?"; SameSite="+i.sameSite:"",i.httpOnly?"; HttpOnly":"",i.secure?"; Secure":"",i.other?"; "+i.other:""].join("");if(n){n.req.qCookies?n.req.qCookies.push(a):n.req.qCookies=[a],n.res.setHeader("Set-Cookie",n.req.qCookies);let e=n.req.headers.cookie||"";if(void 0!==o&&s<0){const i=Qa(t,n);void 0!==i&&(e=e.replace(`${t}=${i}; `,"").replace(`; ${t}=${i}`,"").replace(`${t}=${i}`,""))}else e=e?`${r}; ${e}`:a;n.req.headers.cookie=e}else document.cookie=a}function Qa(t,e){let i,n,o,s=t?void 0:{},r=e?e.req.headers:document,a=r.cookie?r.cookie.split("; "):[],l=0,c=a.length;for(;l<c;l++)if(i=a[l].split("="),n=Ya(i.shift()),o=i.join("="),t){if(t===n){s=Ka(o);break}}else s[n]=o;return s}function Za(t,e,i){Ja(t,"",{expires:-1,...e},i)}function tl(t,e){return void 0!==Qa(t,e)}function el(t={}){const e=t.ssr;return{get:t=>Qa(t,e),set:(t,i,n)=>Ja(t,i,n,e),has:t=>tl(t,e),remove:(t,i)=>Za(t,i,e),getAll:()=>Qa(null,e)}}var il={parseSSR(t){return t?el({ssr:t}):this},install({$q:t,queues:e}){!0===l?e.server.push((t,e)=>{t.cookies=el(e)}):(Object.assign(this,el()),t.cookies=this)}},nl=a["a"].extend({name:"DialogPlugin",mixins:[Ut],inheritAttrs:!1,props:{title:String,message:String,prompt:Object,options:Object,html:Boolean,ok:{type:[String,Object,Boolean],default:!0},cancel:[String,Object,Boolean],focus:{type:String,default:"ok",validator:t=>["ok","cancel","none"].includes(t)},stackButtons:Boolean,color:String,cardClass:[String,Array,Object],cardStyle:[String,Array,Object]},computed:{hasForm(){return this.prompt||this.options},okLabel(){return!0===this.ok?this.$q.lang.label.ok:this.ok},cancelLabel(){return!0===this.cancel?this.$q.lang.label.cancel:this.cancel},vmColor(){return this.color||(!0===this.isDark?"amber":"primary")},okProps(){return Object(this.ok)===this.ok?{color:this.vmColor,label:this.$q.lang.label.ok,ripple:!1,...this.ok}:{color:this.vmColor,flat:!0,label:this.okLabel,ripple:!1}},cancelProps(){return Object(this.cancel)===this.cancel?{color:this.vmColor,label:this.$q.lang.label.cancel,ripple:!1,...this.cancel}:{color:this.vmColor,flat:!0,label:this.cancelLabel,ripple:!1}}},methods:{show(){this.$refs.dialog.show()},hide(){this.$refs.dialog.hide()},getPrompt(t){return[t(Ao,{props:{value:this.prompt.model,type:this.prompt.type||"text",color:this.vmColor,dense:!0,autofocus:!0,dark:this.isDark},on:Ne(this,"prompt",{input:t=>{this.prompt.model=t},keyup:t=>{"textarea"!==this.prompt.type&&!0===et(t,13)&&this.onOk()}})})]},getOptions(t){return[t(Is,{props:{value:this.options.model,type:this.options.type,color:this.vmColor,inline:this.options.inline,options:this.options.items,dark:this.isDark},on:Ne(this,"opts",{input:t=>{this.options.model=t}})})]},getButtons(t){const e=[];if(this.cancel&&e.push(t(ye,{props:this.cancelProps,attrs:{autofocus:"cancel"===this.focus&&!this.hasForm},on:Ne(this,"cancel",{click:this.onCancel})})),this.ok&&e.push(t(ye,{props:this.okProps,attrs:{autofocus:"ok"===this.focus&&!this.hasForm},on:Ne(this,"ok",{click:this.onOk})})),e.length>0)return t(fi,{staticClass:!0===this.stackButtons?"items-end":null,props:{vertical:this.stackButtons,align:"right"}},e)},onOk(){this.$emit("ok",Bs(this.getData())),this.hide()},onCancel(){this.hide()},getData(){return this.prompt?this.prompt.model:this.options?this.options.model:void 0},getSection(t,e,i){return!0===this.html?t(gi,{staticClass:e,domProps:{innerHTML:i}}):t(gi,{staticClass:e},[i])}},render(t){const e=[];return this.title&&e.push(this.getSection(t,"q-dialog__title",this.title)),this.message&&e.push(this.getSection(t,"q-dialog__message scroll",this.message)),this.hasForm&&e.push(t(gi,{staticClass:"scroll"},this.prompt?this.getPrompt(t):this.getOptions(t))),(this.ok||this.cancel)&&e.push(this.getButtons(t)),t(_o,{ref:"dialog",props:{...this.$attrs,value:this.value},on:Ne(this,"hide",{hide:()=>{this.$emit("hide")}})},[t(_i,{staticClass:"q-dialog-plugin"+(!0===this.isDark?" q-dialog-plugin--dark q-dark":""),style:this.cardStyle,class:this.cardClass,props:{dark:this.isDark}},e)])}}),ol={install({$q:t}){this.create=t.dialog=qa(nl)}},sl={isActive:!1,start(){},stop(){},increment(){},setDefaults(){},install({$q:t,cfg:e}){if(!0===l)return void(t.loadingBar=this);let i=void 0!==e.loadingBar?{...e.loadingBar}:{};const n=t.loadingBar=new a["a"]({name:"LoadingBar",render:t=>t(At,{ref:"bar",props:i})}).$mount().$refs.bar;Object.assign(this,{start:t=>{n.start(t),this.isActive=n.isActive=n.calls>0},stop:()=>{n.stop(),this.isActive=n.isActive=n.calls>0},increment:n.increment,setDefaults:t=>{t===Object(t)&&Object.assign(i,t),n.$parent.$forceUpdate()}}),a["a"].util.defineReactive(this,"isActive",this.isActive),a["a"].util.defineReactive(n,"isActive",this.isActive),n.setDefaults=this.setDefaults,document.body.appendChild(n.$parent.$el)}};let rl,al,ll={},cl={delay:0,message:!1,spinnerSize:80,spinnerColor:"white",messageColor:"white",backgroundColor:"black",spinner:Qt,customClass:""},ul={...cl};const hl={isActive:!1,show(t){!0!==l&&(ll=t===Object(t)&&!0===t.ignoreDefaults?{...cl,...t}:{...ul,...t},ll.customClass+=` text-${ll.backgroundColor}`,this.isActive=!0,void 0===rl?(clearTimeout(al),al=setTimeout(()=>{al=void 0;const t=document.createElement("div");document.body.appendChild(t),rl=new a["a"]({name:"QLoading",el:t,mounted(){lo(!0,f)},render:t=>{return t("transition",{props:{name:"q-transition--fade",appear:!0},on:Ne(this,"tr",{"after-leave":()=>{!0!==this.isActive&&void 0!==rl&&(lo(!1,f),rl.$destroy(),rl.$el.remove(),rl=void 0)}})},[!0===this.isActive?t("div",{staticClass:"q-loading fullscreen column flex-center z-max",key:un(),class:ll.customClass.trim()},[t(ll.spinner,{props:{color:ll.spinnerColor,size:ll.spinnerSize}}),ll.message&&t("div",{class:`text-${ll.messageColor}`,domProps:{[!0===ll.sanitize?"textContent":"innerHTML"]:ll.message}})||void 0]):null])}})},ll.delay)):rl.$forceUpdate())},hide(){!0===this.isActive&&(void 0!==al&&(clearTimeout(al),al=void 0),this.isActive=!1)},setDefaults(t){t===Object(t)&&Object.assign(ul,t)},install({$q:t,cfg:{loading:e}}){this.setDefaults(e),t.loading=this}};a["a"].util.defineReactive(hl,"isActive",hl.isActive);var dl=hl;let pl,_l;function gl(t){t.title&&(t.title=t.titleTemplate?t.titleTemplate(t.title):t.title,delete t.titleTemplate),[["meta","content"],["link","href"]].forEach(e=>{const i=t[e[0]],n=e[1];for(let t in i){const e=i[t];e.template&&(1===Object.keys(e).length?delete i[t]:(e[n]=e.template(e[n]||""),delete e.template))}})}function fl(t,e){if(Object.keys(t).length!==Object.keys(e).length)return!0;for(let i in t)if(t[i]!==e[i])return!0}function ml(t){return!1===["class","style"].includes(t)}function vl(t){return!1===["lang","dir"].includes(t)}function bl(t,e){let i={},n={};return void 0===t?{add:e,remove:n}:(t.title!==e.title&&(i.title=e.title),["meta","link","script","htmlAttr","bodyAttr"].forEach(o=>{const s=t[o],r=e[o];if(n[o]=[],void 0!==s&&null!==s){i[o]={};for(let t in s)!1===r.hasOwnProperty(t)&&n[o].push(t);for(let t in r)!1===s.hasOwnProperty(t)?i[o][t]=r[t]:!0===fl(s[t],r[t])&&(n[o].push(t),i[o][t]=r[t])}else i[o]=r}),{add:i,remove:n})}function yl({add:t,remove:e}){t.title&&(document.title=t.title),Object.keys(e).length>0&&(["meta","link","script"].forEach(t=>{e[t].forEach(e=>{document.head.querySelector(`${t}[data-qmeta="${e}"]`).remove()})}),e.htmlAttr.filter(vl).forEach(t=>{document.documentElement.removeAttribute(t)}),e.bodyAttr.filter(ml).forEach(t=>{document.body.removeAttribute(t)})),["meta","link","script"].forEach(e=>{const i=t[e];for(let t in i){const n=document.createElement(e);for(let e in i[t])"innerHTML"!==e&&n.setAttribute(e,i[t][e]);n.setAttribute("data-qmeta",t),"script"===e&&(n.innerHTML=i[t].innerHTML||""),document.head.appendChild(n)}}),Object.keys(t.htmlAttr).filter(vl).forEach(e=>{document.documentElement.setAttribute(e,t.htmlAttr[e]||"")}),Object.keys(t.bodyAttr).filter(ml).forEach(e=>{document.body.setAttribute(e,t.bodyAttr[e]||"")})}function Tl(t,e){!0!==t._inactive&&(void 0!==t.__qMeta&&(Qo(!0,e,t.__qMeta),!0===t.$options.meta.stopPropagation)||t.$children.forEach(t=>{Tl(t,e)}))}function El(){if(!0===_l)return _l=!1,this.$root.__currentMeta=window.__Q_META__,void document.body.querySelector("script[data-qmeta-init]").remove();const t={title:"",titleTemplate:null,meta:{},link:{},script:{},htmlAttr:{},bodyAttr:{}};Tl(this.$root,t),gl(t),yl(bl(this.$root.__currentMeta,t)),this.$root.__currentMeta=t}function Sl(t){return e=>{const i=t[e];return e+(void 0!==i?`="${i}"`:"")}}function Cl(t){let e="";return t.title&&(e+=`<title>${t.title}</title>`),["meta","link","script"].forEach(i=>{const n=t[i];for(let t in n){const o=Object.keys(n[t]).filter(t=>"innerHTML"!==t).map(Sl(n[t]));e+=`<${i} ${o.join(" ")} data-qmeta="${t}">`,"script"===i&&(e+=(n[t].innerHTML||"")+"<\/script>")}}),e}function kl(t,e){const i={title:"",titleTemplate:null,meta:{},link:{},htmlAttr:{},bodyAttr:{},noscript:{}};Tl(t,i),gl(i);const n={"%%Q_HTML_ATTRS%%":Object.keys(i.htmlAttr).filter(vl).map(Sl(i.htmlAttr)).join(" "),"%%Q_HEAD_TAGS%%":Cl(i),"%%Q_BODY_ATTRS%%":Object.keys(i.bodyAttr).filter(ml).map(Sl(i.bodyAttr)).join(" "),"%%Q_BODY_TAGS%%":Object.keys(i.noscript).map(t=>`<noscript data-qmeta="${t}">${i.noscript[t]}</noscript>`).join("")+`<script data-qmeta-init>window.__Q_META__=${delete i.noscript&&JSON.stringify(i)}<\/script>`};return Object.keys(n).forEach(t=>{e=e.replace(t,n[t])}),e}function wl(){"function"===typeof this.$options.meta?(void 0===this.$options.computed&&(this.$options.computed={}),this.$options.computed.__qMeta=this.$options.meta):!0===Rl(this)&&(this.__qMeta=this.$options.meta)}function Rl(t){return void 0!==t.$options.meta&&null!==t.$options.meta}function Il(){!0===Rl(this)&&this.__qMetaUpdate()}var xl={install({queues:t}){!0===l?(a["a"].prototype.$getMetaHTML=t=>e=>kl(t,e),a["a"].mixin({beforeCreate:wl}),t.server.push((t,e)=>{e.ssr.Q_HTML_ATTRS+=" %%Q_HTML_ATTRS%%",Object.assign(e.ssr,{Q_HEAD_TAGS:"%%Q_HEAD_TAGS%%",Q_BODY_ATTRS:"%%Q_BODY_ATTRS%%",Q_BODY_TAGS:"%%Q_BODY_TAGS%%"})})):(_l=c,a["a"].mixin({beforeCreate:wl,created(){!0===Rl(this)&&(this.__qMetaUnwatch=this.$watch("__qMeta",this.__qMetaUpdate))},activated:Il,deactivated:Il,beforeMount:Il,destroyed(){!0===Rl(this)&&(this.__qMetaUnwatch(),this.__qMetaUpdate())},methods:{__qMetaUpdate(){clearTimeout(pl),pl=setTimeout(El.bind(this),50)}}}))}};let Ol={};const Al=["top-left","top-right","bottom-left","bottom-right","top","bottom","left","right","center"],Ml={name:"QNotifications",data:{notifs:{center:[],left:[],right:[],top:[],"top-left":[],"top-right":[],bottom:[],"bottom-left":[],"bottom-right":[]}},methods:{add(t){if(!t)return console.error("Notify: parameter required"),!1;const e={textColor:"white"};if("string"!==typeof t&&!0===t.ignoreDefaults||Object.assign(e,Ol),Object.assign(e,"string"===typeof t?{message:t}:Bs(t)),e.position){if(!Al.includes(e.position))return console.error(`Notify: wrong position: ${e.position}`),!1}else e.position="bottom";if(e.__uid=un(),void 0===e.timeout)e.timeout=5e3;else{const t=parseInt(e.timeout,10);if(isNaN(t)||t<0)return console.error(`Notify: wrong timeout: ${e.timeout}`),!1;e.timeout=t}const i=()=>{this.remove(e)},n=(t.actions||[]).concat(Ol.actions||[]);if(n.length>0&&(e.actions=n.map(t=>{const e=t.handler,n=Bs(t);return n.handler="function"===typeof e?()=>{e(),!t.noDismiss&&i()}:()=>i(),n})),"function"===typeof t.onDismiss&&(e.onDismiss=t.onDismiss),e.closeBtn){const t=[{closeBtn:!0,label:e.closeBtn,handler:i}];e.actions=e.actions?e.actions.concat(t):t}e.timeout>0&&(e.__timeout=setTimeout(()=>{i()},e.timeout+1e3)),void 0===e.multiLine&&e.actions&&(e.multiLine=e.actions.length>1),e.staticClass=["q-notification row items-center",e.color&&`bg-${e.color}`,e.textColor&&`text-${e.textColor}`,`q-notification--${e.multiLine?"multi-line":"standard"}`,e.classes].filter(t=>t).join(" ");const o=e.position.indexOf("top")>-1?"unshift":"push";return this.notifs[e.position][o](e),i},remove(t){t.__timeout&&clearTimeout(t.__timeout);const e=this.notifs[t.position].indexOf(t);if(-1!==e){const i=this.$refs[`notif_${t.__uid}`];if(i){const{width:t,height:e}=getComputedStyle(i);i.style.left=`${i.offsetLeft}px`,i.style.width=t,i.style.height=e}this.notifs[t.position].splice(e,1),"function"===typeof t.onDismiss&&t.onDismiss()}}},render(t){return t("div",{staticClass:"q-notifications"},Al.map(e=>{const i=["left","center","right"].includes(e)?"center":e.indexOf("top")>-1?"top":"bottom",n=e.indexOf("left")>-1?"start":e.indexOf("right")>-1?"end":"center",o=["left","right"].includes(e)?`items-${"left"===e?"start":"end"} justify-center`:"center"===e?"flex-center":`items-${n}`;return t("transition-group",{key:e,staticClass:`q-notifications__list q-notifications__list--${i} fixed column ${o}`,tag:"div",props:{name:`q-notification--${e}`,mode:"out-in"}},this.notifs[e].map(e=>{const i=!0===e.html?t("div",{staticClass:"q-notification__message col",domProps:{innerHTML:e.message}}):t("div",{staticClass:"q-notification__message col"},[e.message]);return t("div",{ref:`notif_${e.__uid}`,key:e.__uid,staticClass:e.staticClass},[t("div",{staticClass:"row items-center "+(e.multiLine?"col-all":"col")},[e.icon?t(Ft,{staticClass:"q-notification__icon col-auto",props:{name:e.icon}}):null,e.avatar?t(Ht,{staticClass:"q-notification__avatar col-auto"},[t("img",{attrs:{src:e.avatar}})]):null,i]),e.actions?t("div",{staticClass:"q-notification__actions row items-center "+(e.multiLine?"col-all justify-end":"col-auto")},e.actions.map(e=>t(ye,{props:{flat:!0,...e},on:{click:e.handler}}))):null])}))}))}};function Nl(){const t=document.createElement("div");document.body.appendChild(t),this.__vm=new a["a"](Ml),this.__vm.$mount(t)}var Ll={create(t){return!0===l?()=>{}:this.__vm.add(t)},setDefaults(t){t===Object(t)&&Object.assign(Ol,t)},install(t){if(!0===l)return t.$q.notify=()=>{},void(t.$q.notify.setDefaults=()=>{});Nl.call(this,t),this.setDefaults(t.cfg.notify),t.$q.notify=this.create.bind(this),t.$q.notify.setDefaults=this.setDefaults}};function Dl(t){return"[object Date]"===Object.prototype.toString.call(t)?"__q_date|"+t.toUTCString():"[object RegExp]"===Object.prototype.toString.call(t)?"__q_expr|"+t.source:"number"===typeof t?"__q_numb|"+t:"boolean"===typeof t?"__q_bool|"+(t?"1":"0"):"string"===typeof t?"__q_strn|"+t:"function"===typeof t?"__q_strn|"+t.toString():t===Object(t)?"__q_objt|"+JSON.stringify(t):t}function Bl(t){let e,i,n;if(i=t.length,i<9)return t;switch(e=t.substr(0,8),n=t.substring(9),e){case"__q_date":return new Date(n);case"__q_expr":return new RegExp(n);case"__q_numb":return Number(n);case"__q_bool":return Boolean("1"===n);case"__q_strn":return""+n;case"__q_objt":return JSON.parse(n);default:return t}}function Pl(){const t=()=>{};return{has:t,getLength:t,getItem:t,getIndex:t,getAll:t,set:t,remove:t,clear:t,isEmpty:t}}function Fl(t){const e=window[t+"Storage"],i=t=>{const i=e.getItem(t);return i?Bl(i):null};return{has:t=>null!==e.getItem(t),getLength:()=>e.length,getItem:i,getIndex:t=>{if(t<e.length)return i(e.key(t))},getAll:()=>{let t,n={},o=e.length;for(let s=0;s<o;s++)t=e.key(s),n[t]=i(t);return n},set:(t,i)=>{e.setItem(t,Dl(i))},remove:t=>{e.removeItem(t)},clear:()=>{e.clear()},isEmpty:()=>0===e.length}}var Hl={install({$q:t}){const e=!0===l||!1===f.has.webStorage?Pl():Fl("local");t.localStorage=e,Object.assign(this,e)}},Vl={install({$q:t}){const e=!0===l||!1===f.has.webStorage?Pl():Fl("session");t.sessionStorage=e,Object.assign(this,e)}};i.d(e,"b",(function(){return Ht})),i.d(e,"c",(function(){return ye})),i.d(e,"d",(function(){return _i})),i.d(e,"e",(function(){return gi})),i.d(e,"f",(function(){return yo})),i.d(e,"g",(function(){return Ft})),i.d(e,"h",(function(){return Ao})),i.d(e,"m",(function(){return No})),i.d(e,"i",(function(){return Lo})),i.d(e,"k",(function(){return Do})),i.d(e,"j",(function(){return ts})),i.d(e,"l",(function(){return Es})),i.d(e,"n",(function(){return Os})),i.d(e,"o",(function(){return Fs})),i.d(e,"p",(function(){return or})),i.d(e,"q",(function(){return es})),i.d(e,"r",(function(){return ws})),i.d(e,"s",(function(){return Mo})),i.d(e,"a",(function(){return ol}));e["t"]={...ft,install(t,e){ft.install(t,{components:n,directives:o,plugins:s,...e})}}}}]);
//# sourceMappingURL=chunk-vendors.js.map